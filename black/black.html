<!doctypehtml><html data-init=no-js><meta charset=UTF-8><title>Blacked and Whited</title><meta content="width=device-width,initial-scale=1"name=viewport><script id=script-libraries>if(document.head&&document.addEventListener&&document.querySelector&&Object.create&&Object.freeze&&JSON){document.documentElement.setAttribute("data-init","loading"),"document"in self&&("classList"in document.createElement("_")?function(){var e=document.createElement("_");if(e.classList.add("c1","c2"),!e.classList.contains("c2")){var t=function(e){var r=DOMTokenList.prototype[e];DOMTokenList.prototype[e]=function(e){var t,n=arguments.length;for(t=0;t<n;t++)e=arguments[t],r.call(this,e)}};t("add"),t("remove")}if(e.classList.toggle("c3",!1),e.classList.contains("c3")){var n=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(e,t){return 1 in arguments&&!this.contains(e)==!t?t:n.call(this,e)}}e=null}():function(e){"use strict";if("Element"in e){var t="classList",n="prototype",r=e.Element[n],o=Object,i=String[n].trim||function(){return this.replace(/^\s+|\s+$/g,"")},a=Array[n].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1},s=function(e,t){this.name=e,this.code=DOMException[e],this.message=t},u=function(e,t){if(""===t)throw new s("SYNTAX_ERR","An invalid or illegal string was specified");if(/\s/.test(t))throw new s("INVALID_CHARACTER_ERR","String contains an invalid character");return a.call(e,t)},c=function(e){for(var t=i.call(e.getAttribute("class")||""),n=t?t.split(/\s+/):[],r=0,o=n.length;r<o;r++)this.push(n[r]);this._updateClassName=function(){e.setAttribute("class",this.toString())}},l=c[n]=[],f=function(){return new c(this)};if(s[n]=Error[n],l.item=function(e){return this[e]||null},l.contains=function(e){return-1!==u(this,e+="")},l.add=function(){for(var e,t=arguments,n=0,r=t.length,o=!1;e=t[n]+"",-1===u(this,e)&&(this.push(e),o=!0),++n<r;);o&&this._updateClassName()},l.remove=function(){var e,t,n=arguments,r=0,o=n.length,i=!1;do{for(e=n[r]+"",t=u(this,e);-1!==t;)this.splice(t,1),i=!0,t=u(this,e)}while(++r<o);i&&this._updateClassName()},l.toggle=function(e,t){e+="";var n=this.contains(e),r=n?!0!==t&&"remove":!1!==t&&"add";return r&&this[r](e),!0===t||!1===t?t:!n},l.toString=function(){return this.join(" ")},o.defineProperty){var p={get:f,enumerable:!0,configurable:!0};try{o.defineProperty(r,t,p)}catch(e){-2146823252===e.number&&(p.enumerable=!1,o.defineProperty(r,t,p))}}else o[n].__defineGetter__&&r.__defineGetter__(t,f)}}(self)),function(e,t){"use strict";"function"==typeof define&&define.amd?define(t):"object"==typeof exports?module.exports=t():e.returnExports=t()}(this,function(){var p,h,s=Array,e=s.prototype,u=Object,t=u.prototype,c=Function,n=c.prototype,v=String,r=v.prototype,m=Number,o=m.prototype,l=e.slice,i=e.splice,d=e.push,a=e.unshift,f=e.concat,y=e.join,g=n.call,b=n.apply,w=Math.max,x=Math.min,T=t.toString,S="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag,j=Function.prototype.toString,O=/^\s*class /,E=function(e){try{var t=j.call(e).replace(/\/\/.*\n/g,"").replace(/\/\*[.\s\S]*\*\//g,"").replace(/\n/gm," ").replace(/ {2}/g," ");return O.test(t)}catch(e){return!1}},C=function(e){if(!e)return!1;if("function"!=typeof e&&"object"!=typeof e)return!1;if(S)return function(e){try{return!E(e)&&(j.call(e),!0)}catch(e){return!1}}(e);if(E(e))return!1;var t=T.call(e);return"[object Function]"===t||"[object GeneratorFunction]"===t},A=RegExp.prototype.exec;p=function(e){return"object"==typeof e&&(S?function(e){try{return A.call(e),!0}catch(e){return!1}}(e):"[object RegExp]"===T.call(e))};var k=String.prototype.valueOf;h=function(e){return"string"==typeof e||"object"==typeof e&&(S?function(e){try{return k.call(e),!0}catch(e){return!1}}(e):"[object String]"===T.call(e))};var N,I,D=u.defineProperty&&function(){try{var e={};for(var t in u.defineProperty(e,"x",{enumerable:!1,value:e}),e)return!1;return e.x===e}catch(e){return!1}}(),M=(N=t.hasOwnProperty,I=D?function(e,t,n,r){!r&&t in e||u.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:!0,value:n})}:function(e,t,n,r){!r&&t in e||(e[t]=n)},function(e,t,n){for(var r in t)N.call(t,r)&&I(e,r,t[r],n)}),P=function(e){var t=typeof e;return null===e||"object"!=t&&"function"!=t},L=m.isNaN||function(e){return e!=e},R=function(e){var t=+e;return L(t)?t=0:0!==t&&t!==1/0&&t!==-1/0&&(t=(0<t||-1)*Math.floor(Math.abs(t))),t},_=function(e){var t,n,r;if(P(e))return e;if(n=e.valueOf,C(n)&&(t=n.call(e),P(t)))return t;if(r=e.toString,C(r)&&(t=r.call(e),P(t)))return t;throw new TypeError},q=function(e){if(null==e)throw new TypeError("can't convert "+e+" to object");return u(e)},F=function(e){return e>>>0},H=function(){};M(n,{bind:function(t){var n=this;if(!C(n))throw new TypeError("Function.prototype.bind called on incompatible "+n);for(var r,o=l.call(arguments,1),e=w(0,n.length-o.length),i=[],a=0;a<e;a++)d.call(i,"$"+a);return r=c("binder","return function ("+y.call(i,",")+"){ return binder.apply(this, arguments); }")(function(){if(this instanceof r){var e=b.call(n,this,f.call(o,l.call(arguments)));return u(e)===e?e:this}return b.call(n,t,f.call(o,l.call(arguments)))}),n.prototype&&(H.prototype=n.prototype,r.prototype=new H,H.prototype=null),r}});var $=g.bind(t.hasOwnProperty),W=g.bind(t.toString),B=g.bind(l),z=b.bind(l);if("object"==typeof document&&document&&document.documentElement)try{B(document.documentElement.childNodes)}catch(e){var U=B,G=z;B=function(e){for(var t=[],n=e.length;0<n--;)t[n]=e[n];return G(t,U(arguments,1))},z=function(e,t){return G(B(e),t)}}var V=g.bind(r.slice),X=g.bind(r.split),Z=g.bind(r.indexOf),J=g.bind(d),Y=g.bind(t.propertyIsEnumerable),Q=g.bind(e.sort),K=s.isArray||function(e){return"[object Array]"===W(e)},ee=1!==[].unshift(0);M(e,{unshift:function(){return a.apply(this,arguments),this.length}},ee),M(s,{isArray:K});var te=u("a"),ne="a"!==te[0]||!(0 in te),re=function(e){var r=!0,t=!0,n=!1;if(e)try{e.call("foo",function(e,t,n){"object"!=typeof n&&(r=!1)}),e.call([1],function(){"use strict";t="string"==typeof this},"x")}catch(e){n=!0}return!!e&&!n&&r&&t};M(e,{forEach:function(e){var t,n=q(this),r=ne&&h(this)?X(this,""):n,o=-1,i=F(r.length);if(1<arguments.length&&(t=arguments[1]),!C(e))throw new TypeError("Array.prototype.forEach callback must be a function");for(;++o<i;)o in r&&(void 0===t?e(r[o],o,n):e.call(t,r[o],o,n))}},!re(e.forEach)),M(e,{map:function(e){var t,n=q(this),r=ne&&h(this)?X(this,""):n,o=F(r.length),i=s(o);if(1<arguments.length&&(t=arguments[1]),!C(e))throw new TypeError("Array.prototype.map callback must be a function");for(var a=0;a<o;a++)a in r&&(i[a]=void 0===t?e(r[a],a,n):e.call(t,r[a],a,n));return i}},!re(e.map)),M(e,{filter:function(e){var t,n,r=q(this),o=ne&&h(this)?X(this,""):r,i=F(o.length),a=[];if(1<arguments.length&&(n=arguments[1]),!C(e))throw new TypeError("Array.prototype.filter callback must be a function");for(var s=0;s<i;s++)s in o&&(t=o[s],(void 0===n?e(t,s,r):e.call(n,t,s,r))&&J(a,t));return a}},!re(e.filter)),M(e,{every:function(e){var t,n=q(this),r=ne&&h(this)?X(this,""):n,o=F(r.length);if(1<arguments.length&&(t=arguments[1]),!C(e))throw new TypeError("Array.prototype.every callback must be a function");for(var i=0;i<o;i++)if(i in r&&!(void 0===t?e(r[i],i,n):e.call(t,r[i],i,n)))return!1;return!0}},!re(e.every)),M(e,{some:function(e){var t,n=q(this),r=ne&&h(this)?X(this,""):n,o=F(r.length);if(1<arguments.length&&(t=arguments[1]),!C(e))throw new TypeError("Array.prototype.some callback must be a function");for(var i=0;i<o;i++)if(i in r&&(void 0===t?e(r[i],i,n):e.call(t,r[i],i,n)))return!0;return!1}},!re(e.some));var oe=!1;e.reduce&&(oe="object"==typeof e.reduce.call("es5",function(e,t,n,r){return r})),M(e,{reduce:function(e){var t=q(this),n=ne&&h(this)?X(this,""):t,r=F(n.length);if(!C(e))throw new TypeError("Array.prototype.reduce callback must be a function");if(0===r&&1===arguments.length)throw new TypeError("reduce of empty array with no initial value");var o,i=0;if(2<=arguments.length)o=arguments[1];else for(;;){if(i in n){o=n[i++];break}if(++i>=r)throw new TypeError("reduce of empty array with no initial value")}for(;i<r;i++)i in n&&(o=e(o,n[i],i,t));return o}},!oe);var ie=!1;e.reduceRight&&(ie="object"==typeof e.reduceRight.call("es5",function(e,t,n,r){return r})),M(e,{reduceRight:function(e){var t,n=q(this),r=ne&&h(this)?X(this,""):n,o=F(r.length);if(!C(e))throw new TypeError("Array.prototype.reduceRight callback must be a function");if(0===o&&1===arguments.length)throw new TypeError("reduceRight of empty array with no initial value");var i=o-1;if(2<=arguments.length)t=arguments[1];else for(;;){if(i in r){t=r[i--];break}if(--i<0)throw new TypeError("reduceRight of empty array with no initial value")}if(i<0)return t;for(;i in r&&(t=e(t,r[i],i,n)),i--;);return t}},!ie);var ae=e.indexOf&&-1!==[0,1].indexOf(1,2);M(e,{indexOf:function(e){var t=ne&&h(this)?X(this,""):q(this),n=F(t.length);if(0===n)return-1;var r=0;for(1<arguments.length&&(r=R(arguments[1])),r=0<=r?r:w(0,n+r);r<n;r++)if(r in t&&t[r]===e)return r;return-1}},ae);var se=e.lastIndexOf&&-1!==[0,1].lastIndexOf(0,-3);M(e,{lastIndexOf:function(e){var t=ne&&h(this)?X(this,""):q(this),n=F(t.length);if(0===n)return-1;var r=n-1;for(1<arguments.length&&(r=x(r,R(arguments[1]))),r=0<=r?r:n-Math.abs(r);0<=r;r--)if(r in t&&e===t[r])return r;return-1}},se);var ue,ce,le=(ce=(ue=[1,2]).splice(),2===ue.length&&K(ce)&&0===ce.length);M(e,{splice:function(e,t){return 0===arguments.length?[]:i.apply(this,arguments)}},!le);var fe,pe=(fe={},e.splice.call(fe,0,0,1),1===fe.length);M(e,{splice:function(e,t){if(0===arguments.length)return[];var n=arguments;return this.length=w(R(this.length),0),0<arguments.length&&"number"!=typeof t&&((n=B(arguments)).length<2?J(n,this.length-e):n[1]=R(t)),i.apply(this,n)}},!pe);var he,de,ye=((he=new s(1e5))[8]="x",he.splice(1,1),7===he.indexOf("x")),ge=((de=[])[256]="a",de.splice(257,0,"b"),"a"===de[256]);M(e,{splice:function(e,t){for(var n,r=q(this),o=[],i=F(r.length),a=R(e),s=a<0?w(i+a,0):x(a,i),u=x(w(R(t),0),i-s),c=0;c<u;)n=v(s+c),$(r,n)&&(o[c]=r[n]),c+=1;var l,f=B(arguments,2),p=f.length;if(p<u){c=s;for(var h=i-u;c<h;)n=v(c+u),l=v(c+p),$(r,n)?r[l]=r[n]:delete r[l],c+=1;for(var d=(c=i)-u+p;d<c;)delete r[c-1],c-=1}else if(u<p)for(c=i-u;s<c;)n=v(c+u-1),l=v(c+p-1),$(r,n)?r[l]=r[n]:delete r[l],c-=1;c=s;for(var y=0;y<f.length;++y)r[c]=f[y],c+=1;return r.length=i-u+p,o}},!ye||!ge);var ve,me=e.join;try{ve="1,2,3"!==Array.prototype.join.call("123",",")}catch(e){ve=!0}ve&&M(e,{join:function(e){var t=void 0===e?",":e;return me.call(h(this)?X(this,""):this,t)}},ve);var be="1,2"!==[1,2].join(void 0);be&&M(e,{join:function(e){var t=void 0===e?",":e;return me.call(this,t)}},be);var we,xe=function(e){for(var t=q(this),n=F(t.length),r=0;r<arguments.length;)t[n+r]=arguments[r],r+=1;return t.length=n+r,n+r},Te=(we={},1!==Array.prototype.push.call(we,void 0)||1!==we.length||void 0!==we[0]||!$(we,0));M(e,{push:function(e){return K(this)?d.apply(this,arguments):xe.apply(this,arguments)}},Te);var Se,je=1!==(Se=[]).push(void 0)||1!==Se.length||void 0!==Se[0]||!$(Se,0);M(e,{push:xe},je),M(e,{slice:function(e,t){var n=h(this)?X(this,""):this;return z(n,arguments)}},ne);var Oe=function(){try{[1,2].sort(null)}catch(e){try{[1,2].sort({})}catch(e){return!1}}return!0}(),Ee=function(){try{return[1,2].sort(/a/),!1}catch(e){}return!0}(),Ce=function(){try{return[1,2].sort(void 0),!0}catch(e){}return!1}();M(e,{sort:function(e){if(void 0===e)return Q(this);if(!C(e))throw new TypeError("Array.prototype.sort callback must be a function");return Q(this,e)}},Oe||!Ce||!Ee);var Ae=!Y({toString:null},"toString"),ke=Y(function(){},"prototype"),Ne=!$("x","0"),Ie=function(e){var t=e.constructor;return t&&t.prototype===e},De={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0,$width:!0,$height:!0,$top:!0,$localStorage:!0},Me=function(){if("undefined"==typeof window)return!1;for(var e in window)try{!De["$"+e]&&$(window,e)&&null!==window[e]&&"object"==typeof window[e]&&Ie(window[e])}catch(e){return!0}return!1}(),Pe=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],Le=Pe.length,Re=function(e){return"[object Arguments]"===W(e)},_e=Re(arguments)?Re:function(e){return null!==e&&"object"==typeof e&&"number"==typeof e.length&&0<=e.length&&!K(e)&&C(e.callee)};M(u,{keys:function(e){var t=C(e),n=_e(e),r=null!==e&&"object"==typeof e,o=r&&h(e);if(!r&&!t&&!n)throw new TypeError("Object.keys called on a non-object");var i=[],a=ke&&t;if(o&&Ne||n)for(var s=0;s<e.length;++s)J(i,v(s));if(!n)for(var u in e)a&&"prototype"===u||!$(e,u)||J(i,v(u));if(Ae)for(var c=function(e){if("undefined"==typeof window||!Me)return Ie(e);try{return Ie(e)}catch(e){return!1}}(e),l=0;l<Le;l++){var f=Pe[l];c&&"constructor"===f||!$(e,f)||J(i,f)}return i}});var qe=u.keys&&function(){return 2===u.keys(arguments).length}(1,2),Fe=u.keys&&function(){var e=u.keys(arguments);return 1!==arguments.length||1!==e.length||1!==e[0]}(1),He=u.keys;M(u,{keys:function(e){return _e(e)?He(B(e)):He(e)}},!qe||Fe);var $e,We,Be=0!==new Date(-0xc782b5b342b24).getUTCMonth(),ze=new Date(-0x55d318d56a724),Ue=new Date(14496624e5),Ge="Mon, 01 Jan -45875 11:59:59 GMT"!==ze.toUTCString();We=ze.getTimezoneOffset()<-720?($e="Tue Jan 02 -45875"!==ze.toDateString(),!/^Thu Dec 10 2015 \d\d:\d\d:\d\d GMT[-+]\d\d\d\d(?: |$)/.test(String(Ue))):($e="Mon Jan 01 -45875"!==ze.toDateString(),!/^Wed Dec 09 2015 \d\d:\d\d:\d\d GMT[-+]\d\d\d\d(?: |$)/.test(String(Ue)));var Ve=g.bind(Date.prototype.getFullYear),Xe=g.bind(Date.prototype.getMonth),Ze=g.bind(Date.prototype.getDate),Je=g.bind(Date.prototype.getUTCFullYear),Ye=g.bind(Date.prototype.getUTCMonth),Qe=g.bind(Date.prototype.getUTCDate),Ke=g.bind(Date.prototype.getUTCDay),et=g.bind(Date.prototype.getUTCHours),tt=g.bind(Date.prototype.getUTCMinutes),nt=g.bind(Date.prototype.getUTCSeconds),rt=g.bind(Date.prototype.getUTCMilliseconds),ot=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],it=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],at=function(e,t){return Ze(new Date(t,e,0))};M(Date.prototype,{getFullYear:function(){if(!(this&&this instanceof Date))throw new TypeError("this is not a Date object.");var e=Ve(this);return e<0&&11<Xe(this)?e+1:e},getMonth:function(){if(!(this&&this instanceof Date))throw new TypeError("this is not a Date object.");var e=Ve(this),t=Xe(this);return e<0&&11<t?0:t},getDate:function(){if(!(this&&this instanceof Date))throw new TypeError("this is not a Date object.");var e=Ve(this),t=Xe(this),n=Ze(this);return e<0&&11<t?12===t?n:at(0,e+1)-n+1:n},getUTCFullYear:function(){if(!(this&&this instanceof Date))throw new TypeError("this is not a Date object.");var e=Je(this);return e<0&&11<Ye(this)?e+1:e},getUTCMonth:function(){if(!(this&&this instanceof Date))throw new TypeError("this is not a Date object.");var e=Je(this),t=Ye(this);return e<0&&11<t?0:t},getUTCDate:function(){if(!(this&&this instanceof Date))throw new TypeError("this is not a Date object.");var e=Je(this),t=Ye(this),n=Qe(this);return e<0&&11<t?12===t?n:at(0,e+1)-n+1:n}},Be),M(Date.prototype,{toUTCString:function(){if(!(this&&this instanceof Date))throw new TypeError("this is not a Date object.");var e=Ke(this),t=Qe(this),n=Ye(this),r=Je(this),o=et(this),i=tt(this),a=nt(this);return ot[e]+", "+(t<10?"0"+t:t)+" "+it[n]+" "+r+" "+(o<10?"0"+o:o)+":"+(i<10?"0"+i:i)+":"+(a<10?"0"+a:a)+" GMT"}},Be||Ge),M(Date.prototype,{toDateString:function(){if(!(this&&this instanceof Date))throw new TypeError("this is not a Date object.");var e=this.getDay(),t=this.getDate(),n=this.getMonth(),r=this.getFullYear();return ot[e]+" "+it[n]+" "+(t<10?"0"+t:t)+" "+r}},Be||$e),(Be||We)&&(Date.prototype.toString=function(){if(!(this&&this instanceof Date))throw new TypeError("this is not a Date object.");var e=this.getDay(),t=this.getDate(),n=this.getMonth(),r=this.getFullYear(),o=this.getHours(),i=this.getMinutes(),a=this.getSeconds(),s=this.getTimezoneOffset(),u=Math.floor(Math.abs(s)/60),c=Math.floor(Math.abs(s)%60);return ot[e]+" "+it[n]+" "+(t<10?"0"+t:t)+" "+r+" "+(o<10?"0"+o:o)+":"+(i<10?"0"+i:i)+":"+(a<10?"0"+a:a)+" GMT"+(0<s?"-":"+")+(u<10?"0"+u:u)+(c<10?"0"+c:c)},D&&u.defineProperty(Date.prototype,"toString",{configurable:!0,enumerable:!1,writable:!0}));var st=-621987552e5,ut="-000001",ct=Date.prototype.toISOString&&-1===new Date(st).toISOString().indexOf(ut),lt=Date.prototype.toISOString&&"1969-12-31T23:59:59.999Z"!==new Date(-1).toISOString(),ft=g.bind(Date.prototype.getTime);M(Date.prototype,{toISOString:function(){if(!isFinite(this)||!isFinite(ft(this)))throw new RangeError("Date.prototype.toISOString called on non-finite value.");var e=Je(this),t=Ye(this);e+=Math.floor(t/12);var n=[(t=(t%12+12)%12)+1,Qe(this),et(this),tt(this),nt(this)];e=(e<0?"-":9999<e?"+":"")+V("00000"+Math.abs(e),0<=e&&e<=9999?-4:-6);for(var r=0;r<n.length;++r)n[r]=V("00"+n[r],-2);return e+"-"+B(n,0,2).join("-")+"T"+B(n,2).join(":")+"."+V("000"+rt(this),-3)+"Z"}},ct||lt),function(){try{return Date.prototype.toJSON&&null===new Date(NaN).toJSON()&&-1!==new Date(st).toJSON().indexOf(ut)&&Date.prototype.toJSON.call({toISOString:function(){return!0}})}catch(e){return!1}}()||(Date.prototype.toJSON=function(e){var t=u(this),n=_(t);if("number"==typeof n&&!isFinite(n))return null;var r=t.toISOString;if(!C(r))throw new TypeError("toISOString property is not callable");return r.call(t)});var pt=1e15===Date.parse("+033658-09-27T01:46:40.000Z"),ht=!isNaN(Date.parse("2012-04-04T24:00:00.500Z"))||!isNaN(Date.parse("2012-11-31T23:59:59.000Z"))||!isNaN(Date.parse("2012-12-31T23:59:60.000Z"));if(isNaN(Date.parse("2000-01-01T00:00:00.000Z"))||ht||!pt){var dt=Math.pow(2,31)-1,yt=L(new Date(1970,0,1,0,0,0,1+dt).getTime());Date=function(d){var h=function(e,t,n,r,o,i,a){var s,u=arguments.length;if(this instanceof d){var c=i,l=a;if(yt&&7<=u&&dt<a){var f=Math.floor(a/dt)*dt,p=Math.floor(f/1e3);c+=p,l-=1e3*p}s=1===u&&v(e)===e?new d(h.parse(e)):7<=u?new d(e,t,n,r,o,c,l):6<=u?new d(e,t,n,r,o,c):5<=u?new d(e,t,n,r,o):4<=u?new d(e,t,n,r):3<=u?new d(e,t,n):2<=u?new d(e,t):1<=u?new d(e instanceof d?+e:e):new d}else s=d.apply(this,arguments);return P(s)||M(s,{constructor:h},!0),s},y=new RegExp("^(\\d{4}|[+-]\\d{6})(?:-(\\d{2})(?:-(\\d{2})(?:T(\\d{2}):(\\d{2})(?::(\\d{2})(?:(\\.\\d{1,}))?)?(Z|(?:([-+])(\\d{2}):(\\d{2})))?)?)?)?$"),r=[0,31,59,90,120,151,181,212,243,273,304,334,365],g=function(e,t){var n=1<t?1:0;return r[t]+Math.floor((e-1969+n)/4)-Math.floor((e-1901+n)/100)+Math.floor((e-1601+n)/400)+365*(e-1970)};for(var e in d)$(d,e)&&(h[e]=d[e]);M(h,{now:d.now,UTC:d.UTC},!0),h.prototype=d.prototype,M(h.prototype,{constructor:h},!0);return M(h,{parse:function(e){var t=y.exec(e);if(t){var n,r=m(t[1]),o=m(t[2]||1)-1,i=m(t[3]||1)-1,a=m(t[4]||0),s=m(t[5]||0),u=m(t[6]||0),c=Math.floor(1e3*m(t[7]||0)),l=Boolean(t[4]&&!t[8]),f="-"===t[9]?1:-1,p=m(t[10]||0),h=m(t[11]||0);return a<(0<s||0<u||0<c?24:25)&&s<60&&u<60&&c<1e3&&-1<o&&o<12&&p<24&&h<60&&-1<i&&i<g(r,1+o)-g(r,o)&&(n=1e3*(60*((n=60*(24*(g(r,o)+i)+a+p*f))+s+h*f)+u)+c,l&&(n=function(e){var t=0,n=e;if(yt&&dt<n){var r=Math.floor(n/dt)*dt,o=Math.floor(r/1e3);t+=o,n-=1e3*o}return m(new d(1970,0,1,0,0,t,n))}(n)),-864e13<=n&&n<=864e13)?n:NaN}return d.parse.apply(this,arguments)}}),h}(Date)}Date.now||(Date.now=function(){return(new Date).getTime()});var gt=o.toFixed&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0)),vt={base:1e7,size:6,data:[0,0,0,0,0,0],multiply:function(e,t){for(var n=-1,r=t;++n<vt.size;)r+=e*vt.data[n],vt.data[n]=r%vt.base,r=Math.floor(r/vt.base)},divide:function(e){for(var t=vt.size,n=0;0<=--t;)n+=vt.data[t],vt.data[t]=Math.floor(n/e),n=n%e*vt.base},numToString:function(){for(var e=vt.size,t="";0<=--e;)if(""!==t||0===e||0!==vt.data[e]){var n=v(vt.data[e]);""===t?t=n:t+=V("0000000",0,7-n.length)+n}return t},pow:function e(t,n,r){return 0===n?r:n%2==1?e(t,n-1,r*t):e(t*t,n/2,r)},log:function(e){for(var t=0,n=e;4096<=n;)t+=12,n/=4096;for(;2<=n;)t+=1,n/=2;return t}};M(o,{toFixed:function(e){var t,n,r,o,i,a,s,u;if(t=m(e),(t=L(t)?0:Math.floor(t))<0||20<t)throw new RangeError("Number.toFixed called with invalid number of decimals");if(n=m(this),L(n))return"NaN";if(n<=-1e21||1e21<=n)return v(n);if(r="",n<0&&(r="-",n=-n),o="0",1e-21<n)if(a=(i=vt.log(n*vt.pow(2,69,1))-69)<0?n*vt.pow(2,-i,1):n/vt.pow(2,i,1),a*=4503599627370496,0<(i=52-i)){for(vt.multiply(0,a),s=t;7<=s;)vt.multiply(1e7,0),s-=7;for(vt.multiply(vt.pow(10,s,1),0),s=i-1;23<=s;)vt.divide(1<<23),s-=23;vt.divide(1<<s),vt.multiply(1,1),vt.divide(2),o=vt.numToString()}else vt.multiply(0,a),vt.multiply(1<<-i,0),o=vt.numToString()+V("0.00000000000000000000",2,2+t);return o=0<t?(u=o.length)<=t?r+V("0.0000000000000000000",0,t-u+2)+o:r+V(o,0,u-t)+"."+V(o,u-t):r+o}},gt);var mt,bt,wt=function(){try{return"1"===1..toPrecision(void 0)}catch(e){return!0}}(),xt=o.toPrecision;M(o,{toPrecision:function(e){return void 0===e?xt.call(this):xt.call(this,e)}},wt),2!=="ab".split(/(?:ab)*/).length||4!==".".split(/(.?)(.?)/).length||"t"==="tesst".split(/(s)*/)[1]||4!=="test".split(/(?:)/,-1).length||"".split(/.?/).length||1<".".split(/()()/).length?(mt=void 0===/()??/.exec("")[1],bt=Math.pow(2,32)-1,r.split=function(e,t){var n=String(this);if(void 0===e&&0===t)return[];if(!p(e))return X(this,e,t);var r,o,i,a,s=[],u=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),c=0,l=new RegExp(e.source,u+"g");mt||(r=new RegExp("^"+l.source+"$(?!\\s)",u));var f=void 0===t?bt:F(t);for(o=l.exec(n);o&&!(c<(i=o.index+o[0].length)&&(J(s,V(n,c,o.index)),!mt&&1<o.length&&o[0].replace(r,function(){for(var e=1;e<arguments.length-2;e++)void 0===arguments[e]&&(o[e]=void 0)}),1<o.length&&o.index<n.length&&d.apply(s,B(o,1)),a=o[0].length,c=i,f<=s.length));)l.lastIndex===o.index&&l.lastIndex++,o=l.exec(n);return c===n.length?!a&&l.test("")||J(s,""):J(s,V(n,c)),f<s.length?B(s,0,f):s}):"0".split(void 0,0).length&&(r.split=function(e,t){return void 0===e&&0===t?[]:X(this,e,t)});var Tt,St=r.replace;(Tt=[],"x".replace(/x(.)?/g,function(e,t){J(Tt,t)}),1===Tt.length&&void 0===Tt[0])||(r.replace=function(o,i){var e=C(i),t=p(o)&&/\)[*?]/.test(o.source);if(e&&t){return St.call(this,o,function(e){var t=arguments.length,n=o.lastIndex;o.lastIndex=0;var r=o.exec(e)||[];return o.lastIndex=n,J(r,arguments[t-2],arguments[t-1]),i.apply(this,r)})}return St.call(this,o,i)});var jt=r.substr,Ot="".substr&&"b"!=="0b".substr(-1);M(r,{substr:function(e,t){var n=e;return e<0&&(n=w(this.length+e,0)),jt.call(this,n,t)}},Ot);var Et="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff",Ct="["+Et+"]",At=new RegExp("^"+Ct+Ct+"*"),kt=new RegExp(Ct+Ct+"*$"),Nt=r.trim&&(Et.trim()||!"​".trim());M(r,{trim:function(){if(null==this)throw new TypeError("can't convert "+this+" to object");return v(this).replace(At,"").replace(kt,"")}},Nt);var It=g.bind(String.prototype.trim),Dt=r.lastIndexOf&&-1!=="abcあい".lastIndexOf("あい",2);M(r,{lastIndexOf:function(e){if(null==this)throw new TypeError("can't convert "+this+" to object");for(var t=v(this),n=v(e),r=1<arguments.length?m(arguments[1]):NaN,o=L(r)?1/0:R(r),i=x(w(o,0),t.length),a=n.length,s=i+a;0<s;){s=w(0,s-a);var u=Z(V(t,s,i+a),n);if(-1!==u)return s+u}return-1}},Dt);var Mt,Pt,Lt,Rt=r.lastIndexOf;if(M(r,{lastIndexOf:function(e){return Rt.apply(this,arguments)}},1!==r.lastIndexOf.length),8===parseInt(Et+"08")&&22===parseInt(Et+"0x16")||(parseInt=(Mt=parseInt,Pt=/^[-+]?0[xX]/,function(e,t){var n=It(String(e)),r=m(t)||(Pt.test(n)?16:10);return Mt(n,r)})),1/parseFloat("-0")!=-1/0&&(parseFloat=(Lt=parseFloat,function(e){var t=It(String(e)),n=Lt(t);return 0===n&&"-"===V(t,0,1)?-0:n})),"RangeError: test"!==String(new RangeError("test"))){Error.prototype.toString=function(){if(null==this)throw new TypeError("can't convert "+this+" to object");var e=this.name;void 0===e?e="Error":"string"!=typeof e&&(e=v(e));var t=this.message;return void 0===t?t="":"string"!=typeof t&&(t=v(t)),e?t?e+": "+t:e:t}}if(D){var _t=function(e,t){if(Y(e,t)){var n=Object.getOwnPropertyDescriptor(e,t);n.configurable&&(n.enumerable=!1,Object.defineProperty(e,t,n))}};_t(Error.prototype,"message"),""!==Error.prototype.message&&(Error.prototype.message=""),_t(Error.prototype,"name")}if("/a/gim"!==String(/a/gim)){RegExp.prototype.toString=function(){var e="/"+this.source+"/";return this.global&&(e+="g"),this.ignoreCase&&(e+="i"),this.multiline&&(e+="m"),e}}}),function(e,t){"function"==typeof define&&define.amd?define(t):"object"==typeof exports?module.exports=t():e.returnExports=t()}(this,function(){"use strict";var e,i,r=Function.call.bind(Function.apply),x=Function.call.bind(Function.call),s=Array.isArray,u=Object.keys,t=function(e){try{return e(),!1}catch(e){return!0}},o=function(e){try{return e()}catch(e){return!1}},n=(e=t,function(){return!r(e,this,arguments)}),a=!!Object.defineProperty&&!t(function(){return Object.defineProperty({},"x",{get:function(){}})}),c="foo"===function(){}.name,l=Function.call.bind(Array.prototype.forEach),f=Function.call.bind(Array.prototype.reduce),p=Function.call.bind(Array.prototype.filter),h=Function.call.bind(Array.prototype.some),d=function(e,t,n,r){!r&&t in e||(a?Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:!0,value:n}):e[t]=n)},T=function(n,r,o){l(u(r),function(e){var t=r[e];d(n,e,t,!!o)})},y=Function.call.bind(Object.prototype.toString),g="function"==typeof/abc/?function(e){return"function"==typeof e&&"[object Function]"===y(e)}:function(e){return"function"==typeof e},v=function(e,t,n){if(!a)throw new TypeError("getters require true ES5 support");Object.defineProperty(e,t,{configurable:!0,enumerable:!1,get:n})},m=function(t,n,e){if(!a)throw new TypeError("getters require true ES5 support");var r=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(e,n,{configurable:r.configurable,enumerable:r.enumerable,get:function(){return t[n]},set:function(e){t[n]=e}})},b=function(e,t,n){if(a){var r=Object.getOwnPropertyDescriptor(e,t);r.value=n,Object.defineProperty(e,t,r)}else e[t]=n},w=function(e,t,n){a?Object.defineProperty(e,t,n):"value"in n&&(e[t]=n.value)},S=function(e,t){t&&g(t.toString)&&d(e,"toString",t.toString.bind(t),!0)},j=Object.create||function(e,t){var n=function(){};n.prototype=e;var r=new n;return void 0!==t&&u(t).forEach(function(e){w(r,e,t[e])}),r},O=function(r,t){return!!Object.setPrototypeOf&&o(function(){var e=function e(t){var n=new r(t);return Object.setPrototypeOf(n,e.prototype),n};return Object.setPrototypeOf(e,r),e.prototype=j(r.prototype,{constructor:{value:e}}),t(e)})},E=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("unable to locate global object")}(),C=E.isFinite,A=Function.call.bind(String.prototype.indexOf),k=Function.apply.bind(Array.prototype.indexOf),N=Function.call.bind(Array.prototype.concat),I=Function.call.bind(String.prototype.slice),D=Function.call.bind(Array.prototype.push),M=Function.apply.bind(Array.prototype.push),P=Function.call.bind(Array.prototype.shift),L=Math.max,R=Math.min,_=Math.floor,q=Math.abs,F=Math.exp,H=Math.log,$=Math.sqrt,W=Function.call.bind(Object.prototype.hasOwnProperty),B=function(){},z=E.Map,U=z&&z.prototype.delete,G=z&&z.prototype.get,V=z&&z.prototype.has,X=z&&z.prototype.set,Z=E.Symbol||{},J=Z.species||"@@species",Y=Number.isNaN||function(e){return e!=e},Q=Number.isFinite||function(e){return"number"==typeof e&&C(e)},K=g(Math.sign)?Math.sign:function(e){var t=Number(e);return 0===t?t:Y(t)?t:t<0?-1:1},ee=function(e){var t=Number(e);return t<-1||Y(t)?NaN:0===t||t===1/0?t:-1===t?-1/0:1+t-1==0?t:t*(H(1+t)/(1+t-1))},te=function(e){return"[object Arguments]"===y(e)},ne=te(arguments)?te:function(e){return null!==e&&"object"==typeof e&&"number"==typeof e.length&&0<=e.length&&"[object Array]"!==y(e)&&"[object Function]"===y(e.callee)},re=function(e){return null===e||"function"!=typeof e&&"object"!=typeof e},oe=function(e){return"[object String]"===y(e)},ie=function(e){return"[object RegExp]"===y(e)},ae=function(e){return"function"==typeof E.Symbol&&"symbol"==typeof e},se=function(e,t,n){var r=e[t];d(e,t,n,!0),S(e[t],r)},ue="function"==typeof Z&&"function"==typeof Z.for&&ae(Z()),ce=ae(Z.iterator)?Z.iterator:"_es6-shim iterator_";E.Set&&"function"==typeof(new E.Set)["@@iterator"]&&(ce="@@iterator"),E.Reflect||d(E,"Reflect",{},!0);var le,fe=E.Reflect,pe=String,he="undefined"!=typeof document&&document?document.all:null,de=null==he?function(e){return null==e}:function(e){return null==e&&e!==he},ye={Call:function(e,t){var n=2<arguments.length?arguments[2]:[];if(!ye.IsCallable(e))throw new TypeError(e+" is not a function");return r(e,t,n)},RequireObjectCoercible:function(e,t){if(de(e))throw new TypeError(t||"Cannot call method on "+e);return e},TypeIsObject:function(e){return null!=e&&!0!==e&&!1!==e&&("function"==typeof e||"object"==typeof e||e===he)},ToObject:function(e,t){return Object(ye.RequireObjectCoercible(e,t))},IsCallable:g,IsConstructor:function(e){return ye.IsCallable(e)},ToInt32:function(e){return ye.ToNumber(e)>>0},ToUint32:function(e){return ye.ToNumber(e)>>>0},ToNumber:function(e){if("[object Symbol]"===y(e))throw new TypeError("Cannot convert a Symbol value to a number");return+e},ToInteger:function(e){var t=ye.ToNumber(e);return Y(t)?0:0!==t&&Q(t)?(0<t?1:-1)*_(q(t)):t},ToLength:function(e){var t=ye.ToInteger(e);return t<=0?0:t>Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:t},SameValue:function(e,t){return e===t?0!==e||1/e==1/t:Y(e)&&Y(t)},SameValueZero:function(e,t){return e===t||Y(e)&&Y(t)},IsIterable:function(e){return ye.TypeIsObject(e)&&(void 0!==e[ce]||ne(e))},GetIterator:function(e){if(ne(e))return new i(e,"value");var t=ye.GetMethod(e,ce);if(!ye.IsCallable(t))throw new TypeError("value is not an iterable");var n=ye.Call(t,e);if(!ye.TypeIsObject(n))throw new TypeError("bad iterator");return n},GetMethod:function(e,t){var n=ye.ToObject(e)[t];if(!de(n)){if(!ye.IsCallable(n))throw new TypeError("Method not callable: "+t);return n}},IteratorComplete:function(e){return!!e.done},IteratorClose:function(e,t){var n=ye.GetMethod(e,"return");if(void 0!==n){var r,o;try{r=ye.Call(n,e)}catch(e){o=e}if(!t){if(o)throw o;if(!ye.TypeIsObject(r))throw new TypeError("Iterator's return method returned a non-object.")}}},IteratorNext:function(e){var t=1<arguments.length?e.next(arguments[1]):e.next();if(!ye.TypeIsObject(t))throw new TypeError("bad iterator");return t},IteratorStep:function(e){var t=ye.IteratorNext(e);return!ye.IteratorComplete(t)&&t},Construct:function(e,t,n,r){var o=void 0===n?e:n;if(!r&&fe.construct)return fe.construct(e,t,o);var i=o.prototype;ye.TypeIsObject(i)||(i=Object.prototype);var a=j(i),s=ye.Call(e,a,t);return ye.TypeIsObject(s)?s:a},SpeciesConstructor:function(e,t){var n=e.constructor;if(void 0===n)return t;if(!ye.TypeIsObject(n))throw new TypeError("Bad constructor");var r=n[J];if(de(r))return t;if(!ye.IsConstructor(r))throw new TypeError("Bad @@species");return r},CreateHTML:function(e,t,n,r){var o=ye.ToString(e),i="<"+t;""!==n&&(i+=" "+n+'="'+ye.ToString(r).replace(/"/g,"&quot;")+'"');return i+">"+o+"</"+t+">"},IsRegExp:function(e){if(!ye.TypeIsObject(e))return!1;var t=e[Z.match];return void 0!==t?!!t:ie(e)},ToString:function(e){return pe(e)}};if(a&&ue){var ge=function(e){if(ae(Z[e]))return Z[e];var t=Z.for("Symbol."+e);return Object.defineProperty(Z,e,{configurable:!1,enumerable:!1,writable:!1,value:t}),t};if(!ae(Z.search)){var ve=ge("search"),me=String.prototype.search;d(RegExp.prototype,ve,function(e){return ye.Call(me,e,[this])});se(String.prototype,"search",function(e){var t=ye.RequireObjectCoercible(this);if(!de(e)){var n=ye.GetMethod(e,ve);if(void 0!==n)return ye.Call(n,e,[t])}return ye.Call(me,t,[ye.ToString(e)])})}if(!ae(Z.replace)){var be=ge("replace"),we=String.prototype.replace;d(RegExp.prototype,be,function(e,t){return ye.Call(we,e,[this,t])});se(String.prototype,"replace",function(e,t){var n=ye.RequireObjectCoercible(this);if(!de(e)){var r=ye.GetMethod(e,be);if(void 0!==r)return ye.Call(r,e,[n,t])}return ye.Call(we,n,[ye.ToString(e),t])})}if(!ae(Z.split)){var xe=ge("split"),Te=String.prototype.split;d(RegExp.prototype,xe,function(e,t){return ye.Call(Te,e,[this,t])});se(String.prototype,"split",function(e,t){var n=ye.RequireObjectCoercible(this);if(!de(e)){var r=ye.GetMethod(e,xe);if(void 0!==r)return ye.Call(r,e,[n,t])}return ye.Call(Te,n,[ye.ToString(e),t])})}var Se=ae(Z.match),je=Se&&((le={})[Z.match]=function(){return 42},42!=="a".match(le));if(!Se||je){var Oe=ge("match"),Ee=String.prototype.match;d(RegExp.prototype,Oe,function(e){return ye.Call(Ee,e,[this])});se(String.prototype,"match",function(e){var t=ye.RequireObjectCoercible(this);if(!de(e)){var n=ye.GetMethod(e,Oe);if(void 0!==n)return ye.Call(n,e,[t])}return ye.Call(Ee,t,[ye.ToString(e)])})}}var Ce=function(t,n,r){S(n,t),Object.setPrototypeOf&&Object.setPrototypeOf(t,n),a?l(Object.getOwnPropertyNames(t),function(e){e in B||r[e]||m(t,e,n)}):l(Object.keys(t),function(e){e in B||r[e]||(n[e]=t[e])}),n.prototype=t.prototype,b(t.prototype,"constructor",n)},Ae=function(){return this},ke=function(e){a&&!W(e,J)&&v(e,J,Ae)},Ne=function(e,t){var n=t||function(){return this};d(e,ce,n),!e[ce]&&ae(ce)&&(e[ce]=n)},Ie=function(e,t,n){if(function(e,t,n){a?Object.defineProperty(e,t,{configurable:!0,enumerable:!0,writable:!0,value:n}):e[t]=n}(e,t,n),!ye.SameValue(e[t],n))throw new TypeError("property is nonconfigurable")},De=function(e,t,n,r){if(!ye.TypeIsObject(e))throw new TypeError("Constructor requires `new`: "+t.name);var o=t.prototype;ye.TypeIsObject(o)||(o=n);var i=j(o);for(var a in r)if(W(r,a)){var s=r[a];d(i,a,s,!0)}return i};if(String.fromCodePoint&&1!==String.fromCodePoint.length){var Me=String.fromCodePoint;se(String,"fromCodePoint",function(e){return ye.Call(Me,this,arguments)})}var Pe={fromCodePoint:function(e){for(var t,n=[],r=0,o=arguments.length;r<o;r++){if(t=Number(arguments[r]),!ye.SameValue(t,ye.ToInteger(t))||t<0||1114111<t)throw new RangeError("Invalid code point "+t);t<65536?D(n,String.fromCharCode(t)):(t-=65536,D(n,String.fromCharCode(55296+(t>>10))),D(n,String.fromCharCode(t%1024+56320)))}return n.join("")},raw:function(e){var t=ye.ToObject(e,"bad callSite"),n=ye.ToObject(t.raw,"bad raw value"),r=n.length,o=ye.ToLength(r);if(o<=0)return"";for(var i,a,s,u,c=[],l=0;l<o&&(i=ye.ToString(l),s=ye.ToString(n[i]),D(c,s),!(o<=l+1));)a=l+1<arguments.length?arguments[l+1]:"",u=ye.ToString(a),D(c,u),l+=1;return c.join("")}};String.raw&&"xy"!==String.raw({raw:{0:"x",1:"y",length:2}})&&se(String,"raw",Pe.raw),T(String,Pe);var Le={repeat:function(e){var t=ye.ToString(ye.RequireObjectCoercible(this)),n=ye.ToInteger(e);if(n<0||1/0<=n)throw new RangeError("repeat count must be less than infinity and not overflow maximum string size");return function e(t,n){if(n<1)return"";if(n%2)return e(t,n-1)+t;var r=e(t,n/2);return r+r}(t,n)},startsWith:function(e){var t=ye.ToString(ye.RequireObjectCoercible(this));if(ye.IsRegExp(e))throw new TypeError('Cannot call method "startsWith" with a regex');var n,r=ye.ToString(e);1<arguments.length&&(n=arguments[1]);var o=L(ye.ToInteger(n),0);return I(t,o,o+r.length)===r},endsWith:function(e){var t=ye.ToString(ye.RequireObjectCoercible(this));if(ye.IsRegExp(e))throw new TypeError('Cannot call method "endsWith" with a regex');var n,r=ye.ToString(e),o=t.length;1<arguments.length&&(n=arguments[1]);var i=void 0===n?o:ye.ToInteger(n),a=R(L(i,0),o);return I(t,a-r.length,a)===r},includes:function(e){if(ye.IsRegExp(e))throw new TypeError('"includes" does not accept a RegExp');var t,n=ye.ToString(e);return 1<arguments.length&&(t=arguments[1]),-1!==A(this,n,t)},codePointAt:function(e){var t=ye.ToString(ye.RequireObjectCoercible(this)),n=ye.ToInteger(e),r=t.length;if(0<=n&&n<r){var o=t.charCodeAt(n);if(o<55296||56319<o||n+1===r)return o;var i=t.charCodeAt(n+1);return i<56320||57343<i?o:1024*(o-55296)+(i-56320)+65536}}};if(String.prototype.includes&&!1!=="a".includes("a",1/0)&&se(String.prototype,"includes",Le.includes),String.prototype.startsWith&&String.prototype.endsWith){var Re=t(function(){return"/a/".startsWith(/a/)}),_e=o(function(){return!1==="abc".startsWith("a",1/0)});Re&&_e||(se(String.prototype,"startsWith",Le.startsWith),se(String.prototype,"endsWith",Le.endsWith))}ue&&(o(function(){var e=/a/;return e[Z.match]=!1,"/a/".startsWith(e)})||se(String.prototype,"startsWith",Le.startsWith),o(function(){var e=/a/;return e[Z.match]=!1,"/a/".endsWith(e)})||se(String.prototype,"endsWith",Le.endsWith),o(function(){var e=/a/;return e[Z.match]=!1,"/a/".includes(e)})||se(String.prototype,"includes",Le.includes));T(String.prototype,Le);var qe=["\t\n\v\f\r   ᠎    ","         　\u2028","\u2029\ufeff"].join(""),Fe=new RegExp("(^["+qe+"]+)|(["+qe+"]+$)","g"),He=function(){return ye.ToString(ye.RequireObjectCoercible(this)).replace(Fe,"")},$e=["","​","￾"].join(""),We=new RegExp("["+$e+"]","g"),Be=/^[-+]0x[0-9a-f]+$/i,ze=$e.trim().length!==$e.length;d(String.prototype,"trim",He,ze);var Ue=function(e){return{value:e,done:0===arguments.length}},Ge=function(e){ye.RequireObjectCoercible(e),this._s=ye.ToString(e),this._i=0};Ge.prototype.next=function(){var e=this._s,t=this._i;if(void 0===e||t>=e.length)return this._s=void 0,Ue();var n,r,o=e.charCodeAt(t);return r=o<55296||56319<o||t+1===e.length?1:(n=e.charCodeAt(t+1))<56320||57343<n?1:2,this._i=t+r,Ue(e.substr(t,r))},Ne(Ge.prototype),Ne(String.prototype,function(){return new Ge(this)});var Ve={from:function(e){var t,n,r,o,i,a;if(1<arguments.length&&(t=arguments[1]),void 0===t)n=!1;else{if(!ye.IsCallable(t))throw new TypeError("Array.from: when provided, the second argument must be a function");2<arguments.length&&(r=arguments[2]),n=!0}if(void 0!==(ne(e)||ye.GetMethod(e,ce))){i=ye.IsConstructor(this)?Object(new this):[];var s,u,c=ye.GetIterator(e);for(a=0;!1!==(s=ye.IteratorStep(c));){u=s.value;try{n&&(u=void 0===r?t(u,a):x(t,r,u,a)),i[a]=u}catch(e){throw ye.IteratorClose(c,!0),e}a+=1}o=a}else{var l,f=ye.ToObject(e);for(o=ye.ToLength(f.length),i=ye.IsConstructor(this)?Object(new this(o)):new Array(o),a=0;a<o;++a)l=f[a],n&&(l=void 0===r?t(l,a):x(t,r,l,a)),Ie(i,a,l)}return i.length=o,i},of:function(){for(var e=arguments.length,t=s(this)||!ye.IsCallable(this)?new Array(e):ye.Construct(this,[e]),n=0;n<e;++n)Ie(t,n,arguments[n]);return t.length=e,t}};T(Array,Ve),ke(Array),T((i=function(e,t){this.i=0,this.array=e,this.kind=t}).prototype,{next:function(){var e=this.i,t=this.array;if(!(this instanceof i))throw new TypeError("Not an ArrayIterator");if(void 0!==t)for(var n=ye.ToLength(t.length);e<n;e++){var r,o=this.kind;return"key"===o?r=e:"value"===o?r=t[e]:"entry"===o&&(r=[e,t[e]]),this.i=e+1,Ue(r)}return this.array=void 0,Ue()}}),Ne(i.prototype),Array.of===Ve.of||function(){var e=function(e){this.length=e};e.prototype=[];var t=Array.of.apply(e,[1,2]);return t instanceof e&&2===t.length}()||se(Array,"of",Ve.of);var Xe={copyWithin:function(e,t){var n,r=ye.ToObject(this),o=ye.ToLength(r.length),i=ye.ToInteger(e),a=ye.ToInteger(t),s=i<0?L(o+i,0):R(i,o),u=a<0?L(o+a,0):R(a,o);2<arguments.length&&(n=arguments[2]);var c=void 0===n?o:ye.ToInteger(n),l=c<0?L(o+c,0):R(c,o),f=R(l-u,o-s),p=1;for(u<s&&s<u+f&&(p=-1,u+=f-1,s+=f-1);0<f;)u in r?r[s]=r[u]:delete r[s],u+=p,s+=p,f-=1;return r},fill:function(e){var t,n;1<arguments.length&&(t=arguments[1]),2<arguments.length&&(n=arguments[2]);var r=ye.ToObject(this),o=ye.ToLength(r.length);t=ye.ToInteger(void 0===t?0:t);for(var i=(n=ye.ToInteger(void 0===n?o:n))<0?o+n:n,a=t<0?L(o+t,0):R(t,o);a<o&&a<i;++a)r[a]=e;return r},find:function(e){var t=ye.ToObject(this),n=ye.ToLength(t.length);if(!ye.IsCallable(e))throw new TypeError("Array#find: predicate must be a function");for(var r,o=1<arguments.length?arguments[1]:null,i=0;i<n;i++)if(r=t[i],o){if(x(e,o,r,i,t))return r}else if(e(r,i,t))return r},findIndex:function(e){var t=ye.ToObject(this),n=ye.ToLength(t.length);if(!ye.IsCallable(e))throw new TypeError("Array#findIndex: predicate must be a function");for(var r=1<arguments.length?arguments[1]:null,o=0;o<n;o++)if(r){if(x(e,r,t[o],o,t))return o}else if(e(t[o],o,t))return o;return-1},keys:function(){return new i(this,"key")},values:function(){return new i(this,"value")},entries:function(){return new i(this,"entry")}};if(Array.prototype.keys&&!ye.IsCallable([1].keys().next)&&delete Array.prototype.keys,Array.prototype.entries&&!ye.IsCallable([1].entries().next)&&delete Array.prototype.entries,Array.prototype.keys&&Array.prototype.entries&&!Array.prototype.values&&Array.prototype[ce]&&(T(Array.prototype,{values:Array.prototype[ce]}),ae(Z.unscopables)&&(Array.prototype[Z.unscopables].values=!0)),c&&Array.prototype.values&&"values"!==Array.prototype.values.name){var Ze=Array.prototype.values;se(Array.prototype,"values",function(){return ye.Call(Ze,this,arguments)}),d(Array.prototype,ce,Array.prototype.values,!0)}T(Array.prototype,Xe),1/[!0].indexOf(!0,-0)<0&&d(Array.prototype,"indexOf",function(e){var t=k(this,arguments);return 0===t&&1/t<0?0:t},!0),Ne(Array.prototype,function(){return this.values()}),Object.getPrototypeOf&&Ne(Object.getPrototypeOf([].values()));var Je,Ye=o(function(){return 0===Array.from({length:-1}).length}),Qe=1===(Je=Array.from([0].entries())).length&&s(Je[0])&&0===Je[0][0]&&0===Je[0][1];if(Ye&&Qe||se(Array,"from",Ve.from),!o(function(){return Array.from([0],void 0)})){var Ke=Array.from;se(Array,"from",function(e){return 1<arguments.length&&void 0!==arguments[1]?ye.Call(Ke,this,arguments):x(Ke,this,e)})}var et=-(Math.pow(2,32)-1),tt=function(e,t){var n={length:et};return n[t?(n.length>>>0)-1:0]=!0,o(function(){return x(e,n,function(){throw new RangeError("should not reach here")},[]),!0})};if(!tt(Array.prototype.forEach)){var nt=Array.prototype.forEach;se(Array.prototype,"forEach",function(e){return ye.Call(nt,0<=this.length?this:[],arguments)})}if(!tt(Array.prototype.map)){var rt=Array.prototype.map;se(Array.prototype,"map",function(e){return ye.Call(rt,0<=this.length?this:[],arguments)})}if(!tt(Array.prototype.filter)){var ot=Array.prototype.filter;se(Array.prototype,"filter",function(e){return ye.Call(ot,0<=this.length?this:[],arguments)})}if(!tt(Array.prototype.some)){var it=Array.prototype.some;se(Array.prototype,"some",function(e){return ye.Call(it,0<=this.length?this:[],arguments)})}if(!tt(Array.prototype.every)){var at=Array.prototype.every;se(Array.prototype,"every",function(e){return ye.Call(at,0<=this.length?this:[],arguments)})}if(!tt(Array.prototype.reduce)){var st=Array.prototype.reduce;se(Array.prototype,"reduce",function(e){return ye.Call(st,0<=this.length?this:[],arguments)})}if(!tt(Array.prototype.reduceRight,!0)){var ut=Array.prototype.reduceRight;se(Array.prototype,"reduceRight",function(e){return ye.Call(ut,0<=this.length?this:[],arguments)})}var ct,lt=8!==Number("0o10"),ft=2!==Number("0b10"),pt=h($e,function(e){return 0===Number(e+0+e)});if(lt||ft||pt){var ht=Number,dt=/^0b[01]+$/i,yt=/^0o[0-7]+$/i,gt=dt.test.bind(dt),vt=yt.test.bind(yt),mt=We.test.bind(We),bt=Be.test.bind(Be),wt=ct=function(e){var t;"string"==typeof(t=0<arguments.length?re(e)?e:function(e){var t;if("function"==typeof e.valueOf&&(t=e.valueOf(),re(t)))return t;if("function"==typeof e.toString&&(t=e.toString(),re(t)))return t;throw new TypeError("No default value")}(e):0)&&(t=ye.Call(He,t),gt(t)?t=parseInt(I(t,2),2):vt(t)?t=parseInt(I(t,2),8):(mt(t)||bt(t))&&(t=NaN));var n=this,r=o(function(){return ht.prototype.valueOf.call(n),!0});return n instanceof ct&&!r?new ht(t):ht(t)};Ce(ht,wt,{}),T(wt,{NaN:ht.NaN,MAX_VALUE:ht.MAX_VALUE,MIN_VALUE:ht.MIN_VALUE,NEGATIVE_INFINITY:ht.NEGATIVE_INFINITY,POSITIVE_INFINITY:ht.POSITIVE_INFINITY}),Number=wt,b(E,"Number",wt)}var xt=Math.pow(2,53)-1;T(Number,{MAX_SAFE_INTEGER:xt,MIN_SAFE_INTEGER:-xt,EPSILON:2220446049250313e-31,parseInt:E.parseInt,parseFloat:E.parseFloat,isFinite:Q,isInteger:function(e){return Q(e)&&ye.ToInteger(e)===e},isSafeInteger:function(e){return Number.isInteger(e)&&q(e)<=Number.MAX_SAFE_INTEGER},isNaN:Y}),d(Number,"parseInt",E.parseInt,Number.parseInt!==E.parseInt),1===[,1].find(function(){return!0})&&se(Array.prototype,"find",Xe.find),0!==[,1].findIndex(function(){return!0})&&se(Array.prototype,"findIndex",Xe.findIndex);var Tt,St,jt,Ot=Function.bind.call(Function.bind,Object.prototype.propertyIsEnumerable),Et=function(e,t){a&&Ot(e,t)&&Object.defineProperty(e,t,{enumerable:!1})},Ct=function(){for(var e=Number(this),t=arguments.length,n=t-e,r=new Array(n<0?0:n),o=e;o<t;++o)r[o-e]=arguments[o];return r},At=function(n){return function(e,t){return e[t]=n[t],e}},kt=function(e,t){var n,r=u(Object(t));return ye.IsCallable(Object.getOwnPropertySymbols)&&(n=p(Object.getOwnPropertySymbols(Object(t)),Ot(t))),f(N(r,n||[]),At(t),e)},Nt={assign:function(e,t){var n=ye.ToObject(e,"Cannot convert undefined or null to object");return f(ye.Call(Ct,1,arguments),kt,n)},is:function(e,t){return ye.SameValue(e,t)}};if(Object.assign&&Object.preventExtensions&&function(){var t=Object.preventExtensions({1:2});try{Object.assign(t,"xy")}catch(e){return"y"===t[1]}}()&&se(Object,"assign",Nt.assign),T(Object,Nt),a){var It={setPrototypeOf:function(t,n){var r,o=function(e,t){return function(e,t){if(!ye.TypeIsObject(e))throw new TypeError("cannot set prototype on a non-object");if(null!==t&&!ye.TypeIsObject(t))throw new TypeError("can only set prototype to an object or null"+t)}(e,t),x(r,e,t),e};try{r=t.getOwnPropertyDescriptor(t.prototype,n).set,x(r,{},null)}catch(e){if(t.prototype!=={}[n])return;r=function(e){this[n]=e},o.polyfill=o(o({},null),t.prototype)instanceof t}return o}(Object,"__proto__")};T(Object,It)}if(Object.setPrototypeOf&&Object.getPrototypeOf&&null!==Object.getPrototypeOf(Object.setPrototypeOf({},null))&&null===Object.getPrototypeOf(Object.create(null))&&(Tt=Object.create(null),St=Object.getPrototypeOf,jt=Object.setPrototypeOf,Object.getPrototypeOf=function(e){var t=St(e);return t===Tt?null:t},Object.setPrototypeOf=function(e,t){return jt(e,null===t?Tt:t)},Object.setPrototypeOf.polyfill=!1),!!t(function(){return Object.keys("foo")})){var Dt=Object.keys;se(Object,"keys",function(e){return Dt(ye.ToObject(e))}),u=Object.keys}if(t(function(){return Object.keys(/a/g)})){var Mt=Object.keys;se(Object,"keys",function(e){if(ie(e)){var t=[];for(var n in e)W(e,n)&&D(t,n);return t}return Mt(e)}),u=Object.keys}if(Object.getOwnPropertyNames&&!!t(function(){return Object.getOwnPropertyNames("foo")})){var Pt="object"==typeof window?Object.getOwnPropertyNames(window):[],Lt=Object.getOwnPropertyNames;se(Object,"getOwnPropertyNames",function(e){var t=ye.ToObject(e);if("[object Window]"===y(t))try{return Lt(t)}catch(e){return N([],Pt)}return Lt(t)})}if(Object.getOwnPropertyDescriptor&&!!t(function(){return Object.getOwnPropertyDescriptor("foo","bar")})){var Rt=Object.getOwnPropertyDescriptor;se(Object,"getOwnPropertyDescriptor",function(e,t){return Rt(ye.ToObject(e),t)})}if(Object.seal&&!!t(function(){return Object.seal("foo")})){var _t=Object.seal;se(Object,"seal",function(e){return ye.TypeIsObject(e)?_t(e):e})}if(Object.isSealed&&!!t(function(){return Object.isSealed("foo")})){var qt=Object.isSealed;se(Object,"isSealed",function(e){return!ye.TypeIsObject(e)||qt(e)})}if(Object.freeze&&!!t(function(){return Object.freeze("foo")})){var Ft=Object.freeze;se(Object,"freeze",function(e){return ye.TypeIsObject(e)?Ft(e):e})}if(Object.isFrozen&&!!t(function(){return Object.isFrozen("foo")})){var Ht=Object.isFrozen;se(Object,"isFrozen",function(e){return!ye.TypeIsObject(e)||Ht(e)})}if(Object.preventExtensions&&!!t(function(){return Object.preventExtensions("foo")})){var $t=Object.preventExtensions;se(Object,"preventExtensions",function(e){return ye.TypeIsObject(e)?$t(e):e})}if(Object.isExtensible&&!!t(function(){return Object.isExtensible("foo")})){var Wt=Object.isExtensible;se(Object,"isExtensible",function(e){return!!ye.TypeIsObject(e)&&Wt(e)})}if(Object.getPrototypeOf&&!!t(function(){return Object.getPrototypeOf("foo")})){var Bt=Object.getPrototypeOf;se(Object,"getPrototypeOf",function(e){return Bt(ye.ToObject(e))})}var zt,Ut=a&&((zt=Object.getOwnPropertyDescriptor(RegExp.prototype,"flags"))&&ye.IsCallable(zt.get));if(a&&!Ut){v(RegExp.prototype,"flags",function(){if(!ye.TypeIsObject(this))throw new TypeError("Method called on incompatible type: must be an object.");var e="";return this.global&&(e+="g"),this.ignoreCase&&(e+="i"),this.multiline&&(e+="m"),this.unicode&&(e+="u"),this.sticky&&(e+="y"),e})}var Gt,Vt=a&&o(function(){return"/a/i"===String(new RegExp(/a/g,"i"))}),Xt=ue&&a&&((Gt=/./)[Z.match]=!1,RegExp(Gt)===Gt),Zt=o(function(){return"/abc/"===RegExp.prototype.toString.call({source:"abc"})}),Jt=Zt&&o(function(){return"/a/b"===RegExp.prototype.toString.call({source:"a",flags:"b"})});if(!Zt||!Jt){var Yt=RegExp.prototype.toString;d(RegExp.prototype,"toString",function(){var e=ye.RequireObjectCoercible(this);return ie(e)?x(Yt,e):"/"+pe(e.source)+"/"+pe(e.flags)},!0),S(RegExp.prototype.toString,Yt)}if(a&&(!Vt||Xt)){var Qt=Object.getOwnPropertyDescriptor(RegExp.prototype,"flags").get,Kt=Object.getOwnPropertyDescriptor(RegExp.prototype,"source")||{},en=ye.IsCallable(Kt.get)?Kt.get:function(){return this.source},tn=RegExp,nn=function e(t,n){var r=ye.IsRegExp(t);return this instanceof e||!r||void 0!==n||t.constructor!==e?ie(t)?new e(ye.Call(en,t),void 0===n?ye.Call(Qt,t):n):(r&&(t.source,void 0===n&&t.flags),new tn(t,n)):t};Ce(tn,nn,{$input:!0}),RegExp=nn,b(E,"RegExp",nn)}if(a){var rn={input:"$_",lastMatch:"$&",lastParen:"$+",leftContext:"$`",rightContext:"$'"};l(u(rn),function(e){e in RegExp&&!(rn[e]in RegExp)&&v(RegExp,rn[e],function(){return RegExp[e]})})}ke(RegExp);var on=1/Number.EPSILON,an=Math.pow(2,-23),sn=Math.pow(2,127)*(2-an),un=Math.pow(2,-126),cn=Math.E,ln=Math.LOG2E,fn=Math.LOG10E,pn=Number.prototype.clz;delete Number.prototype.clz;var hn={acosh:function(e){var t=Number(e);if(Y(t)||e<1)return NaN;if(1===t)return 0;if(t===1/0)return t;var n=1/(t*t);if(t<2)return ee(t-1+$(1-n)*t);var r=t/2;return ee(r+$(1-n)*r-1)+1/ln},asinh:function(e){var t=Number(e);if(0===t||!C(t))return t;var n=q(t),r=n*n,o=K(t);return n<1?o*ee(n+r/($(1+r)+1)):o*(ee(n/2+$(1+1/r)*n/2-1)+1/ln)},atanh:function(e){var t=Number(e);if(0===t)return t;if(-1===t)return-1/0;if(1===t)return 1/0;if(Y(t)||t<-1||1<t)return NaN;var n=q(t);return K(t)*ee(2*n/(1-n))/2},cbrt:function(e){var t=Number(e);if(0===t)return t;var n,r=t<0;return r&&(t=-t),n=t===1/0?1/0:(t/((n=F(H(t)/3))*n)+2*n)/3,r?-n:n},clz32:function(e){var t=Number(e),n=ye.ToUint32(t);return 0===n?32:pn?ye.Call(pn,n):31-_(H(n+.5)*ln)},cosh:function(e){var t=Number(e);if(0===t)return 1;if(Y(t))return NaN;if(!C(t))return 1/0;var n=F(q(t)-1);return(n+1/(n*cn*cn))*(cn/2)},expm1:function(e){var t=Number(e);if(t===-1/0)return-1;if(!C(t)||0===t)return t;if(.5<q(t))return F(t)-1;for(var n=t,r=0,o=1;r+n!==r;)r+=n,n*=t/(o+=1);return r},hypot:function(e,t){for(var n=0,r=0,o=0;o<arguments.length;++o){var i=q(Number(arguments[o]));r<i?(n*=r/i*(r/i),n+=1,r=i):n+=0<i?i/r*(i/r):i}return r===1/0?1/0:r*$(n)},log2:function(e){return H(e)*ln},log10:function(e){return H(e)*fn},log1p:ee,sign:K,sinh:function(e){var t=Number(e);if(!C(t)||0===t)return t;var n=q(t);if(n<1){var r=Math.expm1(n);return K(t)*r*(1+1/(r+1))/2}var o=F(n-1);return K(t)*(o-1/(o*cn*cn))*(cn/2)},tanh:function(e){var t=Number(e);return Y(t)||0===t?t:20<=t?1:t<=-20?-1:(Math.expm1(t)-Math.expm1(-t))/(F(t)+F(-t))},trunc:function(e){var t=Number(e);return t<0?-_(-t):_(t)},imul:function(e,t){var n=ye.ToUint32(e),r=ye.ToUint32(t),o=65535&n,i=65535&r;return o*i+((n>>>16&65535)*i+o*(r>>>16&65535)<<16>>>0)|0},fround:function(e){var t=Number(e);if(0===t||t===1/0||t===-1/0||Y(t))return t;var n=K(t),r=q(t);if(r<un)return n*function(e){return e+on-on}(r/un/an)*un*an;var o=(1+an/Number.EPSILON)*r,i=o-(o-r);return sn<i||Y(i)?n*(1/0):n*i}},dn=function(e,t,n){return q(1-e/t)/Number.EPSILON<(n||8)};T(Math,hn),d(Math,"sinh",hn.sinh,Math.sinh(710)===1/0),d(Math,"cosh",hn.cosh,Math.cosh(710)===1/0),d(Math,"log1p",hn.log1p,-1e-17!==Math.log1p(-1e-17)),d(Math,"asinh",hn.asinh,Math.asinh(-1e7)!==-Math.asinh(1e7)),d(Math,"asinh",hn.asinh,Math.asinh(1e300)===1/0),d(Math,"atanh",hn.atanh,0===Math.atanh(1e-300)),d(Math,"tanh",hn.tanh,-2e-17!==Math.tanh(-2e-17)),d(Math,"acosh",hn.acosh,Math.acosh(Number.MAX_VALUE)===1/0),d(Math,"acosh",hn.acosh,!dn(Math.acosh(1+Number.EPSILON),Math.sqrt(2*Number.EPSILON))),d(Math,"cbrt",hn.cbrt,!dn(Math.cbrt(1e-300),1e-100)),d(Math,"sinh",hn.sinh,-2e-17!==Math.sinh(-2e-17));var yn=Math.expm1(10);d(Math,"expm1",hn.expm1,22025.465794806718<yn||yn<22025.465794806718);var gn=Math.round,vn=0===Math.round(.5-Number.EPSILON/4)&&1===Math.round(Number.EPSILON/3.99-.5),mn=[1+on,2*on-1].every(function(e){return Math.round(e)===e});d(Math,"round",function(e){var t=_(e);return e-t<.5?t:-1===t?-0:t+1},!vn||!mn),S(Math.round,gn);var bn=Math.imul;-5!==Math.imul(4294967295,5)&&(Math.imul=hn.imul,S(Math.imul,bn)),2!==Math.imul.length&&se(Math,"imul",function(e,t){return ye.Call(bn,Math,arguments)});var wn,xn,Tn=function(){var t=E.setTimeout;if("function"==typeof t||"object"==typeof t){ye.IsPromise=function(e){return!!ye.TypeIsObject(e)&&void 0!==e._promise};var e,c=function(e){if(!ye.IsConstructor(e))throw new TypeError("Bad promise constructor");var n=this;if(n.resolve=void 0,n.reject=void 0,n.promise=new e(function(e,t){if(void 0!==n.resolve||void 0!==n.reject)throw new TypeError("Bad Promise implementation!");n.resolve=e,n.reject=t}),!ye.IsCallable(n.resolve)||!ye.IsCallable(n.reject))throw new TypeError("Bad promise constructor")};"undefined"!=typeof window&&ye.IsCallable(window.postMessage)&&(e=function(){var t=[],n="zero-timeout-message";return window.addEventListener("message",function(e){if(e.source===window&&e.data===n){if(e.stopPropagation(),0===t.length)return;P(t)()}},!0),function(e){D(t,e),window.postMessage(n,"*")}});var n,r,o,i,a,s=ye.IsCallable(E.setImmediate)?E.setImmediate:"object"==typeof process&&process.nextTick?process.nextTick:(n=E.Promise,(r=n&&n.resolve&&n.resolve())&&function(e){return r.then(e)}||(ye.IsCallable(e)?e():function(e){t(e,0)})),l=function(e){return e},f=function(e){throw e},p={},h=function(e,t,n){s(function(){u(e,t,n)})},u=function(e,t,n){var r,o;if(t===p)return e(n);try{r=e(n),o=t.resolve}catch(e){r=e,o=t.reject}o(r)},d=function(e,t){var n=e._promise,r=n.reactionLength;if(0<r&&(h(n.fulfillReactionHandler0,n.reactionCapability0,t),n.fulfillReactionHandler0=void 0,n.rejectReactions0=void 0,n.reactionCapability0=void 0,1<r))for(var o=1,i=0;o<r;o++,i+=3)h(n[i+0],n[i+2],t),e[i+0]=void 0,e[i+1]=void 0,e[i+2]=void 0;n.result=t,n.state=1,n.reactionLength=0},y=function(e,t){var n=e._promise,r=n.reactionLength;if(0<r&&(h(n.rejectReactionHandler0,n.reactionCapability0,t),n.fulfillReactionHandler0=void 0,n.rejectReactions0=void 0,n.reactionCapability0=void 0,1<r))for(var o=1,i=0;o<r;o++,i+=3)h(n[i+1],n[i+2],t),e[i+0]=void 0,e[i+1]=void 0,e[i+2]=void 0;n.result=t,n.state=2,n.reactionLength=0},g=function(n){var r=!1;return{resolve:function(e){var t;if(!r){if(r=!0,e===n)return y(n,new TypeError("Self resolution"));if(!ye.TypeIsObject(e))return d(n,e);try{t=e.then}catch(e){return y(n,e)}if(!ye.IsCallable(t))return d(n,e);s(function(){m(n,e,t)})}},reject:function(e){if(!r)return r=!0,y(n,e)}}},v=function(e,t,n,r){e===i?x(e,t,n,r,p):x(e,t,n,r)},m=function(e,t,n){var r=g(e),o=r.resolve,i=r.reject;try{v(n,t,o,i)}catch(e){i(e)}},b=a=function(e){if(!(this instanceof a))throw new TypeError('Constructor Promise requires "new"');if(this&&this._promise)throw new TypeError("Bad construction");if(!ye.IsCallable(e))throw new TypeError("not a valid resolver");var t=De(this,a,o,{_promise:{result:void 0,state:0,reactionLength:0,fulfillReactionHandler0:void 0,rejectReactionHandler0:void 0,reactionCapability0:void 0}}),n=g(t),r=n.reject;try{e(n.resolve,r)}catch(e){r(e)}return t};o=b.prototype;var w=function(t,n,r,o){var i=!1;return function(e){i||(i=!0,n[t]=e,0==--o.count&&(0,r.resolve)(n))}};return T(b,{all:function(e){if(!ye.TypeIsObject(this))throw new TypeError("Promise is not object");var t,n,r=new c(this);try{return function(t,e,n){for(var r,o,i=t.iterator,a=[],s={count:1},u=0;;){try{if(!1===(r=ye.IteratorStep(i))){t.done=!0;break}o=r.value}catch(e){throw t.done=!0,e}a[u]=void 0;var c=e.resolve(o),l=w(u,a,n,s);s.count+=1,v(c.then,c,l,n.reject),u+=1}0==--s.count&&(0,n.resolve)(a);return n.promise}(n={iterator:t=ye.GetIterator(e),done:!1},this,r)}catch(e){var o=e;if(n&&!n.done)try{ye.IteratorClose(t,!0)}catch(e){o=e}return(0,r.reject)(o),r.promise}},race:function(e){if(!ye.TypeIsObject(this))throw new TypeError("Promise is not object");var t,n,r=new c(this);try{return function(t,e,n){for(var r,o,i,a=t.iterator;;){try{if(!1===(r=ye.IteratorStep(a))){t.done=!0;break}o=r.value}catch(e){throw t.done=!0,e}i=e.resolve(o),v(i.then,i,n.resolve,n.reject)}return n.promise}(n={iterator:t=ye.GetIterator(e),done:!1},this,r)}catch(e){var o=e;if(n&&!n.done)try{ye.IteratorClose(t,!0)}catch(e){o=e}return(0,r.reject)(o),r.promise}},reject:function(e){if(!ye.TypeIsObject(this))throw new TypeError("Bad promise constructor");var t=new c(this);return(0,t.reject)(e),t.promise},resolve:function(e){if(!ye.TypeIsObject(this))throw new TypeError("Bad promise constructor");if(ye.IsPromise(e)&&e.constructor===this)return e;var t=new c(this);return(0,t.resolve)(e),t.promise}}),T(o,{catch:function(e){return this.then(null,e)},then:function(e,t){if(!ye.IsPromise(this))throw new TypeError("not a promise");var n,r=ye.SpeciesConstructor(this,b);n=2<arguments.length&&arguments[2]===p&&r===b?p:new c(r);var o,i=ye.IsCallable(e)?e:l,a=ye.IsCallable(t)?t:f,s=this._promise;if(0===s.state){if(0===s.reactionLength)s.fulfillReactionHandler0=i,s.rejectReactionHandler0=a,s.reactionCapability0=n;else{var u=3*(s.reactionLength-1);s[0+u]=i,s[1+u]=a,s[2+u]=n}s.reactionLength+=1}else if(1===s.state)o=s.result,h(i,n,o);else{if(2!==s.state)throw new TypeError("unexpected Promise state");o=s.result,h(a,n,o)}return n.promise}}),p=new c(b),i=o.then,b}}();if(E.Promise&&(delete E.Promise.accept,delete E.Promise.defer,delete E.Promise.prototype.chain),"function"==typeof Tn){T(E,{Promise:Tn});var Sn=O(E.Promise,function(e){return e.resolve(42).then(function(){})instanceof e}),jn=!t(function(){return E.Promise.reject(42).then(null,5).then(null,B)}),On=t(function(){return E.Promise.call(3,B)}),En=function(e){var t=e.resolve(5);t.constructor={};var n=e.resolve(t);try{n.then(null,B).then(null,B)}catch(e){return!0}return t===n}(E.Promise),Cn=a&&(wn=0,xn=Object.defineProperty({},"then",{get:function(){wn+=1}}),Promise.resolve(xn),1===wn),An=function e(t){var n=new Promise(t);t(3,function(){}),this.then=n.then,this.constructor=e};An.prototype=Promise.prototype,An.all=Promise.all;var kn=o(function(){return!!An.all([1,2])});if(Sn&&jn&&On&&!En&&Cn&&!kn||(Promise=Tn,se(E,"Promise",Tn)),1!==Promise.all.length){var Nn=Promise.all;se(Promise,"all",function(e){return ye.Call(Nn,this,arguments)})}if(1!==Promise.race.length){var In=Promise.race;se(Promise,"race",function(e){return ye.Call(In,this,arguments)})}if(1!==Promise.resolve.length){var Dn=Promise.resolve;se(Promise,"resolve",function(e){return ye.Call(Dn,this,arguments)})}if(1!==Promise.reject.length){var Mn=Promise.reject;se(Promise,"reject",function(e){return ye.Call(Mn,this,arguments)})}Et(Promise,"all"),Et(Promise,"race"),Et(Promise,"resolve"),Et(Promise,"reject"),ke(Promise)}var Pn,Ln,Rn=function(e){var t=u(f(e,function(e,t){return e[t]=!0,e},{}));return e.join(":")===t.join(":")},_n=Rn(["z","a","bb"]),qn=Rn(["z",1,"a","3",2]);if(a){var Fn=function(e,t){return t||_n?de(e)?"^"+ye.ToString(e):"string"==typeof e?"$"+e:"number"==typeof e?qn?e:"n"+e:"boolean"==typeof e?"b"+e:null:null},Hn=function(){return Object.create?Object.create(null):{}},$n=function(e,n,t){if(s(t)||oe(t))l(t,function(e){if(!ye.TypeIsObject(e))throw new TypeError("Iterator value "+e+" is not an entry object");n.set(e[0],e[1])});else if(t instanceof e)x(e.prototype.forEach,t,function(e,t){n.set(t,e)});else{var r,o;if(!de(t)){if(o=n.set,!ye.IsCallable(o))throw new TypeError("bad map");r=ye.GetIterator(t)}if(void 0!==r)for(;;){var i=ye.IteratorStep(r);if(!1===i)break;var a=i.value;try{if(!ye.TypeIsObject(a))throw new TypeError("Iterator value "+a+" is not an entry object");x(o,n,a[0],a[1])}catch(e){throw ye.IteratorClose(r,!0),e}}}},Wn=function(e,t,n){if(s(n)||oe(n))l(n,function(e){t.add(e)});else if(n instanceof e)x(e.prototype.forEach,n,function(e){t.add(e)});else{var r,o;if(!de(n)){if(o=t.add,!ye.IsCallable(o))throw new TypeError("bad set");r=ye.GetIterator(n)}if(void 0!==r)for(;;){var i=ye.IteratorStep(r);if(!1===i)break;var a=i.value;try{x(o,t,a)}catch(e){throw ye.IteratorClose(r,!0),e}}}},Bn={Map:function(){var o={},a=function(e,t){this.key=e,this.value=t,this.next=null,this.prev=null};a.prototype.isRemoved=function(){return this.key===o};var r,s=function(e,t){if(!ye.TypeIsObject(e)||!function(e){return!!e._es6map}(e))throw new TypeError("Method Map.prototype."+t+" called on incompatible receiver "+ye.ToString(e))},e=function(e,t){s(e,"[[MapIterator]]"),this.head=e._head,this.i=this.head,this.kind=t};Ne(e.prototype={isMapIterator:!0,next:function(){if(!this.isMapIterator)throw new TypeError("Not a MapIterator");var e,t=this.i,n=this.kind,r=this.head;if(void 0===this.i)return Ue();for(;t.isRemoved()&&t!==r;)t=t.prev;for(;t.next!==r;)if(!(t=t.next).isRemoved())return e="key"===n?t.key:"value"===n?t.value:[t.key,t.value],this.i=t,Ue(e);return this.i=void 0,Ue()}});var t=function e(){if(!(this instanceof e))throw new TypeError('Constructor Map requires "new"');if(this&&this._es6map)throw new TypeError("Bad construction");var t=De(this,e,r,{_es6map:!0,_head:null,_map:z?new z:null,_size:0,_storage:Hn()}),n=new a(null,null);return n.next=n.prev=n,t._head=n,0<arguments.length&&$n(e,t,arguments[0]),t};return v(r=t.prototype,"size",function(){if(void 0===this._size)throw new TypeError("size method called on incompatible Map");return this._size}),T(r,{get:function(e){var t;s(this,"get");var n=Fn(e,!0);if(null!==n)return(t=this._storage[n])?t.value:void 0;if(this._map)return(t=G.call(this._map,e))?t.value:void 0;for(var r=this._head,o=r;(o=o.next)!==r;)if(ye.SameValueZero(o.key,e))return o.value},has:function(e){s(this,"has");var t=Fn(e,!0);if(null!==t)return void 0!==this._storage[t];if(this._map)return V.call(this._map,e);for(var n=this._head,r=n;(r=r.next)!==n;)if(ye.SameValueZero(r.key,e))return!0;return!1},set:function(e,t){s(this,"set");var n,r=this._head,o=r,i=Fn(e,!0);if(null!==i){if(void 0!==this._storage[i])return this._storage[i].value=t,this;n=this._storage[i]=new a(e,t),o=r.prev}else this._map&&(V.call(this._map,e)?G.call(this._map,e).value=t:(n=new a(e,t),X.call(this._map,e,n),o=r.prev));for(;(o=o.next)!==r;)if(ye.SameValueZero(o.key,e))return o.value=t,this;return n=n||new a(e,t),ye.SameValue(-0,e)&&(n.key=0),n.next=this._head,n.prev=this._head.prev,(n.prev.next=n).next.prev=n,this._size+=1,this},delete:function(e){s(this,"delete");var t=this._head,n=t,r=Fn(e,!0);if(null!==r){if(void 0===this._storage[r])return!1;n=this._storage[r].prev,delete this._storage[r]}else if(this._map){if(!V.call(this._map,e))return!1;n=G.call(this._map,e).prev,U.call(this._map,e)}for(;(n=n.next)!==t;)if(ye.SameValueZero(n.key,e))return n.key=o,n.value=o,n.prev.next=n.next,n.next.prev=n.prev,this._size-=1,!0;return!1},clear:function(){s(this,"clear"),this._map=z?new z:null,this._size=0,this._storage=Hn();for(var e=this._head,t=e,n=t.next;(t=n)!==e;)t.key=o,t.value=o,n=t.next,t.next=t.prev=e;e.next=e.prev=e},keys:function(){return s(this,"keys"),new e(this,"key")},values:function(){return s(this,"values"),new e(this,"value")},entries:function(){return s(this,"entries"),new e(this,"key+value")},forEach:function(e){s(this,"forEach");for(var t=1<arguments.length?arguments[1]:null,n=this.entries(),r=n.next();!r.done;r=n.next())t?x(e,t,r.value[1],r.value[0],this):e(r.value[1],r.value[0],this)}}),Ne(r,r.entries),t}(),Set:function(){var n,i=function(e,t){if(!ye.TypeIsObject(e)||!function(e){return e._es6set&&void 0!==e._storage}(e))throw new TypeError("Set.prototype."+t+" called on incompatible receiver "+ye.ToString(e))},e=function e(){if(!(this instanceof e))throw new TypeError('Constructor Set requires "new"');if(this&&this._es6set)throw new TypeError("Bad construction");var t=De(this,e,n,{_es6set:!0,"[[SetData]]":null,_storage:Hn()});if(!t._es6set)throw new TypeError("bad set");return 0<arguments.length&&Wn(e,t,arguments[0]),t},a=function(e){if(!e["[[SetData]]"]){var n=new Bn.Map;e["[[SetData]]"]=n,l(u(e._storage),function(e){var t=function(e){var t=e;if("^null"===t)return null;if("^undefined"!==t){var n=t.charAt(0);return"$"===n?I(t,1):"n"===n?+I(t,1):"b"===n?"btrue"===t:+t}}(e);n.set(t,t)}),e["[[SetData]]"]=n}e._storage=null};v(n=e.prototype,"size",function(){return i(this,"size"),this._storage?u(this._storage).length:(a(this),this["[[SetData]]"].size)}),T(e.prototype,{has:function(e){var t;return i(this,"has"),this._storage&&null!==(t=Fn(e))?!!this._storage[t]:(a(this),this["[[SetData]]"].has(e))},add:function(e){var t;return i(this,"add"),this._storage&&null!==(t=Fn(e))?this._storage[t]=!0:(a(this),this["[[SetData]]"].set(e,e)),this},delete:function(e){var t;if(i(this,"delete"),this._storage&&null!==(t=Fn(e))){var n=W(this._storage,t);return delete this._storage[t]&&n}return a(this),this["[[SetData]]"].delete(e)},clear:function(){i(this,"clear"),this._storage&&(this._storage=Hn()),this["[[SetData]]"]&&this["[[SetData]]"].clear()},values:function(){return i(this,"values"),a(this),new t(this["[[SetData]]"].values())},entries:function(){return i(this,"entries"),a(this),new t(this["[[SetData]]"].entries())},forEach:function(n){i(this,"forEach");var r=1<arguments.length?arguments[1]:null,o=this;a(o),this["[[SetData]]"].forEach(function(e,t){r?x(n,r,t,t,o):n(t,t,o)})}}),d(e.prototype,"keys",e.prototype.values,!0),Ne(e.prototype,e.prototype.values);var t=function(e){this.it=e};return t.prototype={isSetIterator:!0,next:function(){if(!this.isSetIterator)throw new TypeError("Not a SetIterator");return this.it.next()}},Ne(t.prototype),e}()};if(E.Set&&!Set.prototype.delete&&Set.prototype.remove&&Set.prototype.items&&Set.prototype.map&&Array.isArray((new Set).keys)&&(E.Set=Bn.Set),E.Map||E.Set){o(function(){return 2===new Map([[1,2]]).get(1)})||(E.Map=function e(){if(!(this instanceof e))throw new TypeError('Constructor Map requires "new"');var t=new z;return 0<arguments.length&&$n(e,t,arguments[0]),delete t.constructor,Object.setPrototypeOf(t,E.Map.prototype),t},E.Map.prototype=j(z.prototype),d(E.Map.prototype,"constructor",E.Map,!0),S(E.Map,z));var zn=new Map,Un=((Ln=new Map([[1,0],[2,0],[3,0],[4,0]])).set(-0,Ln),Ln.get(0)===Ln&&Ln.get(-0)===Ln&&Ln.has(0)&&Ln.has(-0)),Gn=zn.set(1,2)===zn;Un&&Gn||se(Map.prototype,"set",function(e,t){return x(X,this,0===e?0:e,t),this}),Un||(T(Map.prototype,{get:function(e){return x(G,this,0===e?0:e)},has:function(e){return x(V,this,0===e?0:e)}},!0),S(Map.prototype.get,G),S(Map.prototype.has,V));var Vn=new Set,Xn=Set.prototype.delete&&Set.prototype.add&&Set.prototype.has&&((Pn=Vn).delete(0),Pn.add(-0),!Pn.has(0)),Zn=Vn.add(1)===Vn;if(!Xn||!Zn){var Jn=Set.prototype.add;Set.prototype.add=function(e){return x(Jn,this,0===e?0:e),this},S(Set.prototype.add,Jn)}if(!Xn){var Yn=Set.prototype.has;Set.prototype.has=function(e){return x(Yn,this,0===e?0:e)},S(Set.prototype.has,Yn);var Qn=Set.prototype.delete;Set.prototype.delete=function(e){return x(Qn,this,0===e?0:e)},S(Set.prototype.delete,Qn)}var Kn=O(E.Map,function(e){var t=new e([]);return t.set(42,42),t instanceof e}),er=Object.setPrototypeOf&&!Kn,tr=function(){try{return!(E.Map()instanceof E.Map)}catch(e){return e instanceof TypeError}}();0===E.Map.length&&!er&&tr||(E.Map=function e(){if(!(this instanceof e))throw new TypeError('Constructor Map requires "new"');var t=new z;return 0<arguments.length&&$n(e,t,arguments[0]),delete t.constructor,Object.setPrototypeOf(t,e.prototype),t},E.Map.prototype=z.prototype,d(E.Map.prototype,"constructor",E.Map,!0),S(E.Map,z));var nr=O(E.Set,function(e){var t=new e([]);return t.add(42,42),t instanceof e}),rr=Object.setPrototypeOf&&!nr,or=function(){try{return!(E.Set()instanceof E.Set)}catch(e){return e instanceof TypeError}}();if(0!==E.Set.length||rr||!or){var ir=E.Set;E.Set=function e(){if(!(this instanceof e))throw new TypeError('Constructor Set requires "new"');var t=new ir;return 0<arguments.length&&Wn(e,t,arguments[0]),delete t.constructor,Object.setPrototypeOf(t,e.prototype),t},E.Set.prototype=ir.prototype,d(E.Set.prototype,"constructor",E.Set,!0),S(E.Set,ir)}var ar=new E.Map,sr=!o(function(){return ar.keys().next().done});if(("function"!=typeof E.Map.prototype.clear||0!==(new E.Set).size||0!==ar.size||"function"!=typeof E.Map.prototype.keys||"function"!=typeof E.Set.prototype.keys||"function"!=typeof E.Map.prototype.forEach||"function"!=typeof E.Set.prototype.forEach||n(E.Map)||n(E.Set)||"function"!=typeof ar.keys().next||sr||!Kn)&&T(E,{Map:Bn.Map,Set:Bn.Set},!0),E.Set.prototype.keys!==E.Set.prototype.values&&d(E.Set.prototype,"keys",E.Set.prototype.values,!0),Ne(Object.getPrototypeOf((new E.Map).keys())),Ne(Object.getPrototypeOf((new E.Set).keys())),c&&"has"!==E.Set.prototype.has.name){var ur=E.Set.prototype.has;se(E.Set.prototype,"has",function(e){return x(ur,this,e)})}}T(E,Bn),ke(E.Map),ke(E.Set)}var cr=function(e){if(!ye.TypeIsObject(e))throw new TypeError("target must be an object")},lr={apply:function(){return ye.Call(ye.Call,null,arguments)},construct:function(e,t){if(!ye.IsConstructor(e))throw new TypeError("First argument must be a constructor.");var n=2<arguments.length?arguments[2]:e;if(!ye.IsConstructor(n))throw new TypeError("new.target must be a constructor.");return ye.Construct(e,t,n,"internal")},deleteProperty:function(e,t){if(cr(e),a){var n=Object.getOwnPropertyDescriptor(e,t);if(n&&!n.configurable)return!1}return delete e[t]},has:function(e,t){return cr(e),t in e}};Object.getOwnPropertyNames&&Object.assign(lr,{ownKeys:function(e){cr(e);var t=Object.getOwnPropertyNames(e);return ye.IsCallable(Object.getOwnPropertySymbols)&&M(t,Object.getOwnPropertySymbols(e)),t}});var fr=function(e){return!t(e)};if(Object.preventExtensions&&Object.assign(lr,{isExtensible:function(e){return cr(e),Object.isExtensible(e)},preventExtensions:function(e){return cr(e),fr(function(){return Object.preventExtensions(e)})}}),a){var pr=function(e,t,n){var r=Object.getOwnPropertyDescriptor(e,t);if(r)return"value"in r?r.value:r.get?ye.Call(r.get,n):void 0;var o=Object.getPrototypeOf(e);return null!==o?pr(o,t,n):void 0},hr=function(e,t,n,r){var o=Object.getOwnPropertyDescriptor(e,t);if(!o){var i=Object.getPrototypeOf(e);if(null!==i)return hr(i,t,n,r);o={value:void 0,writable:!0,enumerable:!0,configurable:!0}}return"value"in o?!!o.writable&&(!!ye.TypeIsObject(r)&&(Object.getOwnPropertyDescriptor(r,t)?fe.defineProperty(r,t,{value:n}):fe.defineProperty(r,t,{value:n,writable:!0,enumerable:!0,configurable:!0}))):!!o.set&&(x(o.set,r,n),!0)};Object.assign(lr,{defineProperty:function(e,t,n){return cr(e),fr(function(){return Object.defineProperty(e,t,n)})},getOwnPropertyDescriptor:function(e,t){return cr(e),Object.getOwnPropertyDescriptor(e,t)},get:function(e,t){cr(e);var n=2<arguments.length?arguments[2]:e;return pr(e,t,n)},set:function(e,t,n){cr(e);var r=3<arguments.length?arguments[3]:e;return hr(e,t,n,r)}})}if(Object.getPrototypeOf){var dr=Object.getPrototypeOf;lr.getPrototypeOf=function(e){return cr(e),dr(e)}}if(Object.setPrototypeOf&&lr.getPrototypeOf){Object.assign(lr,{setPrototypeOf:function(e,t){if(cr(e),null!==t&&!ye.TypeIsObject(t))throw new TypeError("proto must be an object or null");return t===fe.getPrototypeOf(e)||!(fe.isExtensible&&!fe.isExtensible(e))&&(!function(e,t){for(var n=t;n;){if(e===n)return!0;n=lr.getPrototypeOf(n)}return!1}(e,t)&&(Object.setPrototypeOf(e,t),!0))}})}Object.keys(lr).forEach(function(e){!function(e,t){ye.IsCallable(E.Reflect[e])?o(function(){return E.Reflect[e](1),E.Reflect[e](NaN),E.Reflect[e](!0),!0})&&se(E.Reflect,e,t):d(E.Reflect,e,t)}(e,lr[e])});var yr=E.Reflect.getPrototypeOf;if(c&&yr&&"getPrototypeOf"!==yr.name&&se(E.Reflect,"getPrototypeOf",function(e){return x(yr,E.Reflect,e)}),E.Reflect.setPrototypeOf&&o(function(){return E.Reflect.setPrototypeOf(1,{}),!0})&&se(E.Reflect,"setPrototypeOf",lr.setPrototypeOf),E.Reflect.defineProperty&&(o(function(){var e=!E.Reflect.defineProperty(1,"test",{value:1}),t="function"!=typeof Object.preventExtensions||!E.Reflect.defineProperty(Object.preventExtensions({}),"test",{});return e&&t})||se(E.Reflect,"defineProperty",lr.defineProperty)),E.Reflect.construct&&(o(function(){var e=function(){};return E.Reflect.construct(function(){},[],e)instanceof e})||se(E.Reflect,"construct",lr.construct)),"Invalid Date"!==String(new Date(NaN))){var gr=Date.prototype.toString;se(Date.prototype,"toString",function(){var e=+this;return e!=e?"Invalid Date":ye.Call(gr,this)})}var vr={anchor:function(e){return ye.CreateHTML(this,"a","name",e)},big:function(){return ye.CreateHTML(this,"big","","")},blink:function(){return ye.CreateHTML(this,"blink","","")},bold:function(){return ye.CreateHTML(this,"b","","")},fixed:function(){return ye.CreateHTML(this,"tt","","")},fontcolor:function(e){return ye.CreateHTML(this,"font","color",e)},fontsize:function(e){return ye.CreateHTML(this,"font","size",e)},italics:function(){return ye.CreateHTML(this,"i","","")},link:function(e){return ye.CreateHTML(this,"a","href",e)},small:function(){return ye.CreateHTML(this,"small","","")},strike:function(){return ye.CreateHTML(this,"strike","","")},sub:function(){return ye.CreateHTML(this,"sub","","")},sup:function(){return ye.CreateHTML(this,"sup","","")}};l(Object.keys(vr),function(e){var t=String.prototype[e],n=!1;if(ye.IsCallable(t)){var r=x(t,"",' " '),o=N([],r.match(/"/g)).length;n=r!==r.toLowerCase()||2<o}else n=!0;n&&se(String.prototype,e,vr[e])});var mr=function(){if(!ue)return!1;var e="object"==typeof JSON&&"function"==typeof JSON.stringify?JSON.stringify:null;if(!e)return!1;if(void 0!==e(Z()))return!0;if("[null]"!==e([Z()]))return!0;var t={a:Z()};return t[Z()]=!0,"{}"!==e(t)}(),br=o(function(){return!ue||"{}"===JSON.stringify(Object(Z()))&&"[{}]"===JSON.stringify([Object(Z())])});if(mr||!br){var wr=JSON.stringify;se(JSON,"stringify",function(e){if("symbol"!=typeof e){var t;1<arguments.length&&(t=arguments[1]);var n=[e];if(s(t))n.push(t);else{var r=ye.IsCallable(t)?t:null;n.push(function(e,t){var n=r?x(r,this,e,t):t;if("symbol"!=typeof n)return ae(n)?At({})(n):n})}return 2<arguments.length&&n.push(arguments[2]),wr.apply(this,n)}})}return E}),function(e,t){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(S,e){"use strict";var t=[],j=S.document,r=Object.getPrototypeOf,s=t.slice,y=t.concat,u=t.push,o=t.indexOf,n={},i=n.toString,g=n.hasOwnProperty,a=g.toString,c=a.call(Object),v={},m=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType},b=function(e){return null!=e&&e===e.window},l={type:!0,src:!0,nonce:!0,noModule:!0};function w(e,t,n){var r,o,i=(n=n||j).createElement("script");if(i.text=e,t)for(r in l)(o=t[r]||t.getAttribute&&t.getAttribute(r))&&i.setAttribute(r,o);n.head.appendChild(i).parentNode.removeChild(i)}function x(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?n[i.call(e)]||"object":typeof e}var O=function(e,t){return new O.fn.init(e,t)},f=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;function p(e){var t=!!e&&"length"in e&&e.length,n=x(e);return!m(e)&&!b(e)&&("array"===n||0===t||"number"==typeof t&&0<t&&t-1 in e)}O.fn=O.prototype={jquery:"3.4.1",constructor:O,length:0,toArray:function(){return s.call(this)},get:function(e){return null==e?s.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=O.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return O.each(this,e)},map:function(n){return this.pushStack(O.map(this,function(e,t){return n.call(e,t,e)}))},slice:function(){return this.pushStack(s.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(0<=n&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:u,sort:t.sort,splice:t.splice},O.extend=O.fn.extend=function(){var e,t,n,r,o,i,a=arguments[0]||{},s=1,u=arguments.length,c=!1;for("boolean"==typeof a&&(c=a,a=arguments[s]||{},s++),"object"==typeof a||m(a)||(a={}),s===u&&(a=this,s--);s<u;s++)if(null!=(e=arguments[s]))for(t in e)r=e[t],"__proto__"!==t&&a!==r&&(c&&r&&(O.isPlainObject(r)||(o=Array.isArray(r)))?(n=a[t],i=o&&!Array.isArray(n)?[]:o||O.isPlainObject(n)?n:{},o=!1,a[t]=O.extend(c,i,r)):void 0!==r&&(a[t]=r));return a},O.extend({expando:"jQuery"+("3.4.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==i.call(e)||(t=r(e))&&("function"!=typeof(n=g.call(t,"constructor")&&t.constructor)||a.call(n)!==c))},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e,t){w(e,{nonce:t&&t.nonce})},each:function(e,t){var n,r=0;if(p(e))for(n=e.length;r<n&&!1!==t.call(e[r],r,e[r]);r++);else for(r in e)if(!1===t.call(e[r],r,e[r]))break;return e},trim:function(e){return null==e?"":(e+"").replace(f,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(p(Object(e))?O.merge(n,"string"==typeof e?[e]:e):u.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:o.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,o=e.length;r<n;r++)e[o++]=t[r];return e.length=o,e},grep:function(e,t,n){for(var r=[],o=0,i=e.length,a=!n;o<i;o++)!t(e[o],o)!=a&&r.push(e[o]);return r},map:function(e,t,n){var r,o,i=0,a=[];if(p(e))for(r=e.length;i<r;i++)null!=(o=t(e[i],i,n))&&a.push(o);else for(i in e)null!=(o=t(e[i],i,n))&&a.push(o);return y.apply([],a)},guid:1,support:v}),"function"==typeof Symbol&&(O.fn[Symbol.iterator]=t[Symbol.iterator]),O.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){n["[object "+t+"]"]=t.toLowerCase()});var h=function(n){var e,h,w,i,o,d,f,y,x,u,c,T,S,a,j,g,s,l,v,O="sizzle"+1*new Date,m=n.document,E=0,r=0,p=ue(),b=ue(),C=ue(),A=ue(),k=function(e,t){return e===t&&(c=!0),0},N={}.hasOwnProperty,t=[],I=t.pop,D=t.push,M=t.push,P=t.slice,L=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},R="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",_="[\\x20\\t\\r\\n\\f]",q="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",F="\\["+_+"*("+q+")(?:"+_+"*([*^$|!~]?=)"+_+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+q+"))|)"+_+"*\\]",H=":("+q+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+F+")*)|.*)\\)|)",$=new RegExp(_+"+","g"),W=new RegExp("^"+_+"+|((?:^|[^\\\\])(?:\\\\.)*)"+_+"+$","g"),B=new RegExp("^"+_+"*,"+_+"*"),z=new RegExp("^"+_+"*([>+~]|"+_+")"+_+"*"),U=new RegExp(_+"|>"),G=new RegExp(H),V=new RegExp("^"+q+"$"),X={ID:new RegExp("^#("+q+")"),CLASS:new RegExp("^\\.("+q+")"),TAG:new RegExp("^("+q+"|[*])"),ATTR:new RegExp("^"+F),PSEUDO:new RegExp("^"+H),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+_+"*(even|odd|(([+-]|)(\\d*)n|)"+_+"*(?:([+-]|)"+_+"*(\\d+)|))"+_+"*\\)|)","i"),bool:new RegExp("^(?:"+R+")$","i"),needsContext:new RegExp("^"+_+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+_+"*((?:-\\d)?\\d*)"+_+"*\\)|)(?=[^-]|$)","i")},Z=/HTML$/i,J=/^(?:input|select|textarea|button)$/i,Y=/^h\d$/i,Q=/^[^{]+\{\s*\[native \w/,K=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ee=/[+~]/,te=new RegExp("\\\\([\\da-f]{1,6}"+_+"?|("+_+")|.)","ig"),ne=function(e,t,n){var r="0x"+t-65536;return r!=r||n?t:r<0?String.fromCharCode(65536+r):String.fromCharCode(r>>10|55296,1023&r|56320)},re=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,oe=function(e,t){return t?"\0"===e?"�":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},ie=function(){T()},ae=we(function(e){return!0===e.disabled&&"fieldset"===e.nodeName.toLowerCase()},{dir:"parentNode",next:"legend"});try{M.apply(t=P.call(m.childNodes),m.childNodes),t[m.childNodes.length].nodeType}catch(e){M={apply:t.length?function(e,t){D.apply(e,P.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}function se(e,t,n,r){var o,i,a,s,u,c,l,f=t&&t.ownerDocument,p=t?t.nodeType:9;if(n=n||[],"string"!=typeof e||!e||1!==p&&9!==p&&11!==p)return n;if(!r&&((t?t.ownerDocument||t:m)!==S&&T(t),t=t||S,j)){if(11!==p&&(u=K.exec(e)))if(o=u[1]){if(9===p){if(!(a=t.getElementById(o)))return n;if(a.id===o)return n.push(a),n}else if(f&&(a=f.getElementById(o))&&v(t,a)&&a.id===o)return n.push(a),n}else{if(u[2])return M.apply(n,t.getElementsByTagName(e)),n;if((o=u[3])&&h.getElementsByClassName&&t.getElementsByClassName)return M.apply(n,t.getElementsByClassName(o)),n}if(h.qsa&&!A[e+" "]&&(!g||!g.test(e))&&(1!==p||"object"!==t.nodeName.toLowerCase())){if(l=e,f=t,1===p&&U.test(e)){for((s=t.getAttribute("id"))?s=s.replace(re,oe):t.setAttribute("id",s=O),i=(c=d(e)).length;i--;)c[i]="#"+s+" "+be(c[i]);l=c.join(","),f=ee.test(e)&&ve(t.parentNode)||t}try{return M.apply(n,f.querySelectorAll(l)),n}catch(t){A(e,!0)}finally{s===O&&t.removeAttribute("id")}}}return y(e.replace(W,"$1"),t,n,r)}function ue(){var r=[];return function e(t,n){return r.push(t+" ")>w.cacheLength&&delete e[r.shift()],e[t+" "]=n}}function ce(e){return e[O]=!0,e}function le(e){var t=S.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function fe(e,t){for(var n=e.split("|"),r=n.length;r--;)w.attrHandle[n[r]]=t}function pe(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function he(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function de(n){return function(e){var t=e.nodeName.toLowerCase();return("input"===t||"button"===t)&&e.type===n}}function ye(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&ae(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function ge(a){return ce(function(i){return i=+i,ce(function(e,t){for(var n,r=a([],e.length,i),o=r.length;o--;)e[n=r[o]]&&(e[n]=!(t[n]=e[n]))})})}function ve(e){return e&&void 0!==e.getElementsByTagName&&e}for(e in h=se.support={},o=se.isXML=function(e){var t=e.namespaceURI,n=(e.ownerDocument||e).documentElement;return!Z.test(t||n&&n.nodeName||"HTML")},T=se.setDocument=function(e){var t,n,r=e?e.ownerDocument||e:m;return r!==S&&9===r.nodeType&&r.documentElement&&(a=(S=r).documentElement,j=!o(S),m!==S&&(n=S.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",ie,!1):n.attachEvent&&n.attachEvent("onunload",ie)),h.attributes=le(function(e){return e.className="i",!e.getAttribute("className")}),h.getElementsByTagName=le(function(e){return e.appendChild(S.createComment("")),!e.getElementsByTagName("*").length}),h.getElementsByClassName=Q.test(S.getElementsByClassName),h.getById=le(function(e){return a.appendChild(e).id=O,!S.getElementsByName||!S.getElementsByName(O).length}),h.getById?(w.filter.ID=function(e){var t=e.replace(te,ne);return function(e){return e.getAttribute("id")===t}},w.find.ID=function(e,t){if(void 0!==t.getElementById&&j){var n=t.getElementById(e);return n?[n]:[]}}):(w.filter.ID=function(e){var n=e.replace(te,ne);return function(e){var t=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return t&&t.value===n}},w.find.ID=function(e,t){if(void 0!==t.getElementById&&j){var n,r,o,i=t.getElementById(e);if(i){if((n=i.getAttributeNode("id"))&&n.value===e)return[i];for(o=t.getElementsByName(e),r=0;i=o[r++];)if((n=i.getAttributeNode("id"))&&n.value===e)return[i]}return[]}}),w.find.TAG=h.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):h.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],o=0,i=t.getElementsByTagName(e);if("*"!==e)return i;for(;n=i[o++];)1===n.nodeType&&r.push(n);return r},w.find.CLASS=h.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&j)return t.getElementsByClassName(e)},s=[],g=[],(h.qsa=Q.test(S.querySelectorAll))&&(le(function(e){a.appendChild(e).innerHTML="<a id='"+O+"'></a><select id='"+O+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&g.push("[*^$]="+_+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||g.push("\\["+_+"*(?:value|"+R+")"),e.querySelectorAll("[id~="+O+"-]").length||g.push("~="),e.querySelectorAll(":checked").length||g.push(":checked"),e.querySelectorAll("a#"+O+"+*").length||g.push(".#.+[+~]")}),le(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=S.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&g.push("name"+_+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&g.push(":enabled",":disabled"),a.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&g.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),g.push(",.*:")})),(h.matchesSelector=Q.test(l=a.matches||a.webkitMatchesSelector||a.mozMatchesSelector||a.oMatchesSelector||a.msMatchesSelector))&&le(function(e){h.disconnectedMatch=l.call(e,"*"),l.call(e,"[s!='']:x"),s.push("!=",H)}),g=g.length&&new RegExp(g.join("|")),s=s.length&&new RegExp(s.join("|")),t=Q.test(a.compareDocumentPosition),v=t||Q.test(a.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},k=t?function(e,t){if(e===t)return c=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(1&(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!h.sortDetached&&t.compareDocumentPosition(e)===n?e===S||e.ownerDocument===m&&v(m,e)?-1:t===S||t.ownerDocument===m&&v(m,t)?1:u?L(u,e)-L(u,t):0:4&n?-1:1)}:function(e,t){if(e===t)return c=!0,0;var n,r=0,o=e.parentNode,i=t.parentNode,a=[e],s=[t];if(!o||!i)return e===S?-1:t===S?1:o?-1:i?1:u?L(u,e)-L(u,t):0;if(o===i)return pe(e,t);for(n=e;n=n.parentNode;)a.unshift(n);for(n=t;n=n.parentNode;)s.unshift(n);for(;a[r]===s[r];)r++;return r?pe(a[r],s[r]):a[r]===m?-1:s[r]===m?1:0}),S},se.matches=function(e,t){return se(e,null,null,t)},se.matchesSelector=function(e,t){if((e.ownerDocument||e)!==S&&T(e),h.matchesSelector&&j&&!A[t+" "]&&(!s||!s.test(t))&&(!g||!g.test(t)))try{var n=l.call(e,t);if(n||h.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(e){A(t,!0)}return 0<se(t,S,null,[e]).length},se.contains=function(e,t){return(e.ownerDocument||e)!==S&&T(e),v(e,t)},se.attr=function(e,t){(e.ownerDocument||e)!==S&&T(e);var n=w.attrHandle[t.toLowerCase()],r=n&&N.call(w.attrHandle,t.toLowerCase())?n(e,t,!j):void 0;return void 0!==r?r:h.attributes||!j?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},se.escape=function(e){return(e+"").replace(re,oe)},se.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},se.uniqueSort=function(e){var t,n=[],r=0,o=0;if(c=!h.detectDuplicates,u=!h.sortStable&&e.slice(0),e.sort(k),c){for(;t=e[o++];)t===e[o]&&(r=n.push(o));for(;r--;)e.splice(n[r],1)}return u=null,e},i=se.getText=function(e){var t,n="",r=0,o=e.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=i(e)}else if(3===o||4===o)return e.nodeValue}else for(;t=e[r++];)n+=i(t);return n},(w=se.selectors={cacheLength:50,createPseudo:ce,match:X,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(te,ne),e[3]=(e[3]||e[4]||e[5]||"").replace(te,ne),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||se.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&se.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return X.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&G.test(n)&&(t=d(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(te,ne).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=p[e+" "];return t||(t=new RegExp("(^|"+_+")"+e+"("+_+"|$)"))&&p(e,function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(n,r,o){return function(e){var t=se.attr(e,n);return null==t?"!="===r:!r||(t+="","="===r?t===o:"!="===r?t!==o:"^="===r?o&&0===t.indexOf(o):"*="===r?o&&-1<t.indexOf(o):"$="===r?o&&t.slice(-o.length)===o:"~="===r?-1<(" "+t.replace($," ")+" ").indexOf(o):"|="===r&&(t===o||t.slice(0,o.length+1)===o+"-"))}},CHILD:function(d,e,t,y,g){var v="nth"!==d.slice(0,3),m="last"!==d.slice(-4),b="of-type"===e;return 1===y&&0===g?function(e){return!!e.parentNode}:function(e,t,n){var r,o,i,a,s,u,c=v!=m?"nextSibling":"previousSibling",l=e.parentNode,f=b&&e.nodeName.toLowerCase(),p=!n&&!b,h=!1;if(l){if(v){for(;c;){for(a=e;a=a[c];)if(b?a.nodeName.toLowerCase()===f:1===a.nodeType)return!1;u=c="only"===d&&!u&&"nextSibling"}return!0}if(u=[m?l.firstChild:l.lastChild],m&&p){for(h=(s=(r=(o=(i=(a=l)[O]||(a[O]={}))[a.uniqueID]||(i[a.uniqueID]={}))[d]||[])[0]===E&&r[1])&&r[2],a=s&&l.childNodes[s];a=++s&&a&&a[c]||(h=s=0)||u.pop();)if(1===a.nodeType&&++h&&a===e){o[d]=[E,s,h];break}}else if(p&&(h=s=(r=(o=(i=(a=e)[O]||(a[O]={}))[a.uniqueID]||(i[a.uniqueID]={}))[d]||[])[0]===E&&r[1]),!1===h)for(;(a=++s&&a&&a[c]||(h=s=0)||u.pop())&&((b?a.nodeName.toLowerCase()!==f:1!==a.nodeType)||!++h||(p&&((o=(i=a[O]||(a[O]={}))[a.uniqueID]||(i[a.uniqueID]={}))[d]=[E,h]),a!==e)););return(h-=g)===y||h%y==0&&0<=h/y}}},PSEUDO:function(e,i){var t,a=w.pseudos[e]||w.setFilters[e.toLowerCase()]||se.error("unsupported pseudo: "+e);return a[O]?a(i):1<a.length?(t=[e,e,"",i],w.setFilters.hasOwnProperty(e.toLowerCase())?ce(function(e,t){for(var n,r=a(e,i),o=r.length;o--;)e[n=L(e,r[o])]=!(t[n]=r[o])}):function(e){return a(e,0,t)}):a}},pseudos:{not:ce(function(e){var r=[],o=[],s=f(e.replace(W,"$1"));return s[O]?ce(function(e,t,n,r){for(var o,i=s(e,null,r,[]),a=e.length;a--;)(o=i[a])&&(e[a]=!(t[a]=o))}):function(e,t,n){return r[0]=e,s(r,null,n,o),r[0]=null,!o.pop()}}),has:ce(function(t){return function(e){return 0<se(t,e).length}}),contains:ce(function(t){return t=t.replace(te,ne),function(e){return-1<(e.textContent||i(e)).indexOf(t)}}),lang:ce(function(n){return V.test(n||"")||se.error("unsupported lang: "+n),n=n.replace(te,ne).toLowerCase(),function(e){var t;do{if(t=j?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(t=t.toLowerCase())===n||0===t.indexOf(n+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var t=n.location&&n.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===a},focus:function(e){return e===S.activeElement&&(!S.hasFocus||S.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:ye(!1),disabled:ye(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!w.pseudos.empty(e)},header:function(e){return Y.test(e.nodeName)},input:function(e){return J.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:ge(function(){return[0]}),last:ge(function(e,t){return[t-1]}),eq:ge(function(e,t,n){return[n<0?n+t:n]}),even:ge(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:ge(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:ge(function(e,t,n){for(var r=n<0?n+t:t<n?t:n;0<=--r;)e.push(r);return e}),gt:ge(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}}).pseudos.nth=w.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})w.pseudos[e]=he(e);for(e in{submit:!0,reset:!0})w.pseudos[e]=de(e);function me(){}function be(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function we(s,e,t){var u=e.dir,c=e.next,l=c||u,f=t&&"parentNode"===l,p=r++;return e.first?function(e,t,n){for(;e=e[u];)if(1===e.nodeType||f)return s(e,t,n);return!1}:function(e,t,n){var r,o,i,a=[E,p];if(n){for(;e=e[u];)if((1===e.nodeType||f)&&s(e,t,n))return!0}else for(;e=e[u];)if(1===e.nodeType||f)if(o=(i=e[O]||(e[O]={}))[e.uniqueID]||(i[e.uniqueID]={}),c&&c===e.nodeName.toLowerCase())e=e[u]||e;else{if((r=o[l])&&r[0]===E&&r[1]===p)return a[2]=r[2];if((o[l]=a)[2]=s(e,t,n))return!0}return!1}}function xe(o){return 1<o.length?function(e,t,n){for(var r=o.length;r--;)if(!o[r](e,t,n))return!1;return!0}:o[0]}function Te(e,t,n,r,o){for(var i,a=[],s=0,u=e.length,c=null!=t;s<u;s++)(i=e[s])&&(n&&!n(i,r,o)||(a.push(i),c&&t.push(s)));return a}function Se(h,d,y,g,v,e){return g&&!g[O]&&(g=Se(g)),v&&!v[O]&&(v=Se(v,e)),ce(function(e,t,n,r){var o,i,a,s=[],u=[],c=t.length,l=e||function(e,t,n){for(var r=0,o=t.length;r<o;r++)se(e,t[r],n);return n}(d||"*",n.nodeType?[n]:n,[]),f=!h||!e&&d?l:Te(l,s,h,n,r),p=y?v||(e?h:c||g)?[]:t:f;if(y&&y(f,p,n,r),g)for(o=Te(p,u),g(o,[],n,r),i=o.length;i--;)(a=o[i])&&(p[u[i]]=!(f[u[i]]=a));if(e){if(v||h){if(v){for(o=[],i=p.length;i--;)(a=p[i])&&o.push(f[i]=a);v(null,p=[],o,r)}for(i=p.length;i--;)(a=p[i])&&-1<(o=v?L(e,a):s[i])&&(e[o]=!(t[o]=a))}}else p=Te(p===t?p.splice(c,p.length):p),v?v(null,t,p,r):M.apply(t,p)})}function je(e){for(var o,t,n,r=e.length,i=w.relative[e[0].type],a=i||w.relative[" "],s=i?1:0,u=we(function(e){return e===o},a,!0),c=we(function(e){return-1<L(o,e)},a,!0),l=[function(e,t,n){var r=!i&&(n||t!==x)||((o=t).nodeType?u(e,t,n):c(e,t,n));return o=null,r}];s<r;s++)if(t=w.relative[e[s].type])l=[we(xe(l),t)];else{if((t=w.filter[e[s].type].apply(null,e[s].matches))[O]){for(n=++s;n<r&&!w.relative[e[n].type];n++);return Se(1<s&&xe(l),1<s&&be(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(W,"$1"),t,s<n&&je(e.slice(s,n)),n<r&&je(e=e.slice(n)),n<r&&be(e))}l.push(t)}return xe(l)}return me.prototype=w.filters=w.pseudos,w.setFilters=new me,d=se.tokenize=function(e,t){var n,r,o,i,a,s,u,c=b[e+" "];if(c)return t?0:c.slice(0);for(a=e,s=[],u=w.preFilter;a;){for(i in n&&!(r=B.exec(a))||(r&&(a=a.slice(r[0].length)||a),s.push(o=[])),n=!1,(r=z.exec(a))&&(n=r.shift(),o.push({value:n,type:r[0].replace(W," ")}),a=a.slice(n.length)),w.filter)!(r=X[i].exec(a))||u[i]&&!(r=u[i](r))||(n=r.shift(),o.push({value:n,type:i,matches:r}),a=a.slice(n.length));if(!n)break}return t?a.length:a?se.error(e):b(e,s).slice(0)},f=se.compile=function(e,t){var n,g,v,m,b,r,o=[],i=[],a=C[e+" "];if(!a){for(t||(t=d(e)),n=t.length;n--;)(a=je(t[n]))[O]?o.push(a):i.push(a);(a=C(e,(g=i,m=0<(v=o).length,b=0<g.length,r=function(e,t,n,r,o){var i,a,s,u=0,c="0",l=e&&[],f=[],p=x,h=e||b&&w.find.TAG("*",o),d=E+=null==p?1:Math.random()||.1,y=h.length;for(o&&(x=t===S||t||o);c!==y&&null!=(i=h[c]);c++){if(b&&i){for(a=0,t||i.ownerDocument===S||(T(i),n=!j);s=g[a++];)if(s(i,t||S,n)){r.push(i);break}o&&(E=d)}m&&((i=!s&&i)&&u--,e&&l.push(i))}if(u+=c,m&&c!==u){for(a=0;s=v[a++];)s(l,f,t,n);if(e){if(0<u)for(;c--;)l[c]||f[c]||(f[c]=I.call(r));f=Te(f)}M.apply(r,f),o&&!e&&0<f.length&&1<u+v.length&&se.uniqueSort(r)}return o&&(E=d,x=p),l},m?ce(r):r))).selector=e}return a},y=se.select=function(e,t,n,r){var o,i,a,s,u,c="function"==typeof e&&e,l=!r&&d(e=c.selector||e);if(n=n||[],1===l.length){if(2<(i=l[0]=l[0].slice(0)).length&&"ID"===(a=i[0]).type&&9===t.nodeType&&j&&w.relative[i[1].type]){if(!(t=(w.find.ID(a.matches[0].replace(te,ne),t)||[])[0]))return n;c&&(t=t.parentNode),e=e.slice(i.shift().value.length)}for(o=X.needsContext.test(e)?0:i.length;o--&&(a=i[o],!w.relative[s=a.type]);)if((u=w.find[s])&&(r=u(a.matches[0].replace(te,ne),ee.test(i[0].type)&&ve(t.parentNode)||t))){if(i.splice(o,1),!(e=r.length&&be(i)))return M.apply(n,r),n;break}}return(c||f(e,l))(r,t,!j,n,!t||ee.test(e)&&ve(t.parentNode)||t),n},h.sortStable=O.split("").sort(k).join("")===O,h.detectDuplicates=!!c,T(),h.sortDetached=le(function(e){return 1&e.compareDocumentPosition(S.createElement("fieldset"))}),le(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||fe("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),h.attributes&&le(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||fe("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),le(function(e){return null==e.getAttribute("disabled")})||fe(R,function(e,t,n){var r;if(!n)return!0===e[t]?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),se}(S);O.find=h,O.expr=h.selectors,O.expr[":"]=O.expr.pseudos,O.uniqueSort=O.unique=h.uniqueSort,O.text=h.getText,O.isXMLDoc=h.isXML,O.contains=h.contains,O.escapeSelector=h.escape;var d=function(e,t,n){for(var r=[],o=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(o&&O(e).is(n))break;r.push(e)}return r},T=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},E=O.expr.match.needsContext;function C(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var A=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function k(e,n,r){return m(n)?O.grep(e,function(e,t){return!!n.call(e,t,e)!==r}):n.nodeType?O.grep(e,function(e){return e===n!==r}):"string"!=typeof n?O.grep(e,function(e){return-1<o.call(n,e)!==r}):O.filter(n,e,r)}O.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?O.find.matchesSelector(r,e)?[r]:[]:O.find.matches(e,O.grep(t,function(e){return 1===e.nodeType}))},O.fn.extend({find:function(e){var t,n,r=this.length,o=this;if("string"!=typeof e)return this.pushStack(O(e).filter(function(){for(t=0;t<r;t++)if(O.contains(o[t],this))return!0}));for(n=this.pushStack([]),t=0;t<r;t++)O.find(e,o[t],n);return 1<r?O.uniqueSort(n):n},filter:function(e){return this.pushStack(k(this,e||[],!1))},not:function(e){return this.pushStack(k(this,e||[],!0))},is:function(e){return!!k(this,"string"==typeof e&&E.test(e)?O(e):e||[],!1).length}});var N,I=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(O.fn.init=function(e,t,n){var r,o;if(!e)return this;if(n=n||N,"string"!=typeof e)return e.nodeType?(this[0]=e,this.length=1,this):m(e)?void 0!==n.ready?n.ready(e):e(O):O.makeArray(e,this);if(!(r="<"===e[0]&&">"===e[e.length-1]&&3<=e.length?[null,e,null]:I.exec(e))||!r[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(r[1]){if(t=t instanceof O?t[0]:t,O.merge(this,O.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:j,!0)),A.test(r[1])&&O.isPlainObject(t))for(r in t)m(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}return(o=j.getElementById(r[2]))&&(this[0]=o,this.length=1),this}).prototype=O.fn,N=O(j);var D=/^(?:parents|prev(?:Until|All))/,M={children:!0,contents:!0,next:!0,prev:!0};function P(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}O.fn.extend({has:function(e){var t=O(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(O.contains(this,t[e]))return!0})},closest:function(e,t){var n,r=0,o=this.length,i=[],a="string"!=typeof e&&O(e);if(!E.test(e))for(;r<o;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?-1<a.index(n):1===n.nodeType&&O.find.matchesSelector(n,e))){i.push(n);break}return this.pushStack(1<i.length?O.uniqueSort(i):i)},index:function(e){return e?"string"==typeof e?o.call(O(e),this[0]):o.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(O.uniqueSort(O.merge(this.get(),O(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),O.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return d(e,"parentNode")},parentsUntil:function(e,t,n){return d(e,"parentNode",n)},next:function(e){return P(e,"nextSibling")},prev:function(e){return P(e,"previousSibling")},nextAll:function(e){return d(e,"nextSibling")},prevAll:function(e){return d(e,"previousSibling")},nextUntil:function(e,t,n){return d(e,"nextSibling",n)},prevUntil:function(e,t,n){return d(e,"previousSibling",n)},siblings:function(e){return T((e.parentNode||{}).firstChild,e)},children:function(e){return T(e.firstChild)},contents:function(e){return void 0!==e.contentDocument?e.contentDocument:(C(e,"template")&&(e=e.content||e),O.merge([],e.childNodes))}},function(r,o){O.fn[r]=function(e,t){var n=O.map(this,o,e);return"Until"!==r.slice(-5)&&(t=e),t&&"string"==typeof t&&(n=O.filter(t,n)),1<this.length&&(M[r]||O.uniqueSort(n),D.test(r)&&n.reverse()),this.pushStack(n)}});var L=/[^\x20\t\r\n\f]+/g;function R(e){return e}function _(e){throw e}function q(e,t,n,r){var o;try{e&&m(o=e.promise)?o.call(e).done(t).fail(n):e&&m(o=e.then)?o.call(e,t,n):t.apply(void 0,[e].slice(r))}catch(e){n.apply(void 0,[e])}}O.Callbacks=function(r){var e,n;r="string"==typeof r?(e=r,n={},O.each(e.match(L)||[],function(e,t){n[t]=!0}),n):O.extend({},r);var o,t,i,a,s=[],u=[],c=-1,l=function(){for(a=a||r.once,i=o=!0;u.length;c=-1)for(t=u.shift();++c<s.length;)!1===s[c].apply(t[0],t[1])&&r.stopOnFalse&&(c=s.length,t=!1);r.memory||(t=!1),o=!1,a&&(s=t?[]:"")},f={add:function(){return s&&(t&&!o&&(c=s.length-1,u.push(t)),function n(e){O.each(e,function(e,t){m(t)?r.unique&&f.has(t)||s.push(t):t&&t.length&&"string"!==x(t)&&n(t)})}(arguments),t&&!o&&l()),this},remove:function(){return O.each(arguments,function(e,t){for(var n;-1<(n=O.inArray(t,s,n));)s.splice(n,1),n<=c&&c--}),this},has:function(e){return e?-1<O.inArray(e,s):0<s.length},empty:function(){return s&&(s=[]),this},disable:function(){return a=u=[],s=t="",this},disabled:function(){return!s},lock:function(){return a=u=[],t||o||(s=t=""),this},locked:function(){return!!a},fireWith:function(e,t){return a||(t=[e,(t=t||[]).slice?t.slice():t],u.push(t),o||l()),this},fire:function(){return f.fireWith(this,arguments),this},fired:function(){return!!i}};return f},O.extend({Deferred:function(e){var i=[["notify","progress",O.Callbacks("memory"),O.Callbacks("memory"),2],["resolve","done",O.Callbacks("once memory"),O.Callbacks("once memory"),0,"resolved"],["reject","fail",O.Callbacks("once memory"),O.Callbacks("once memory"),1,"rejected"]],o="pending",a={state:function(){return o},always:function(){return s.done(arguments).fail(arguments),this},catch:function(e){return a.then(null,e)},pipe:function(){var o=arguments;return O.Deferred(function(r){O.each(i,function(e,t){var n=m(o[t[4]])&&o[t[4]];s[t[1]](function(){var e=n&&n.apply(this,arguments);e&&m(e.promise)?e.promise().progress(r.notify).done(r.resolve).fail(r.reject):r[t[0]+"With"](this,n?[e]:arguments)})}),o=null}).promise()},then:function(t,n,r){var u=0;function c(o,i,a,s){return function(){var n=this,r=arguments,e=function(){var e,t;if(!(o<u)){if((e=a.apply(n,r))===i.promise())throw new TypeError("Thenable self-resolution");t=e&&("object"==typeof e||"function"==typeof e)&&e.then,m(t)?s?t.call(e,c(u,i,R,s),c(u,i,_,s)):(u++,t.call(e,c(u,i,R,s),c(u,i,_,s),c(u,i,R,i.notifyWith))):(a!==R&&(n=void 0,r=[e]),(s||i.resolveWith)(n,r))}},t=s?e:function(){try{e()}catch(e){O.Deferred.exceptionHook&&O.Deferred.exceptionHook(e,t.stackTrace),u<=o+1&&(a!==_&&(n=void 0,r=[e]),i.rejectWith(n,r))}};o?t():(O.Deferred.getStackHook&&(t.stackTrace=O.Deferred.getStackHook()),S.setTimeout(t))}}return O.Deferred(function(e){i[0][3].add(c(0,e,m(r)?r:R,e.notifyWith)),i[1][3].add(c(0,e,m(t)?t:R)),i[2][3].add(c(0,e,m(n)?n:_))}).promise()},promise:function(e){return null!=e?O.extend(e,a):a}},s={};return O.each(i,function(e,t){var n=t[2],r=t[5];a[t[1]]=n.add,r&&n.add(function(){o=r},i[3-e][2].disable,i[3-e][3].disable,i[0][2].lock,i[0][3].lock),n.add(t[3].fire),s[t[0]]=function(){return s[t[0]+"With"](this===s?void 0:this,arguments),this},s[t[0]+"With"]=n.fireWith}),a.promise(s),e&&e.call(s,s),s},when:function(e){var n=arguments.length,t=n,r=Array(t),o=s.call(arguments),i=O.Deferred(),a=function(t){return function(e){r[t]=this,o[t]=1<arguments.length?s.call(arguments):e,--n||i.resolveWith(r,o)}};if(n<=1&&(q(e,i.done(a(t)).resolve,i.reject,!n),"pending"===i.state()||m(o[t]&&o[t].then)))return i.then();for(;t--;)q(o[t],a(t),i.reject);return i.promise()}});var F=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;O.Deferred.exceptionHook=function(e,t){S.console&&S.console.warn&&e&&F.test(e.name)&&S.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},O.readyException=function(e){S.setTimeout(function(){throw e})};var H=O.Deferred();function $(){j.removeEventListener("DOMContentLoaded",$),S.removeEventListener("load",$),O.ready()}O.fn.ready=function(e){return H.then(e).catch(function(e){O.readyException(e)}),this},O.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--O.readyWait:O.isReady)||(O.isReady=!0)!==e&&0<--O.readyWait||H.resolveWith(j,[O])}}),O.ready.then=H.then,"complete"===j.readyState||"loading"!==j.readyState&&!j.documentElement.doScroll?S.setTimeout(O.ready):(j.addEventListener("DOMContentLoaded",$),S.addEventListener("load",$));var W=function(e,t,n,r,o,i,a){var s=0,u=e.length,c=null==n;if("object"===x(n))for(s in o=!0,n)W(e,t,s,n[s],!0,i,a);else if(void 0!==r&&(o=!0,m(r)||(a=!0),c&&(t=a?(t.call(e,r),null):(c=t,function(e,t,n){return c.call(O(e),n)})),t))for(;s<u;s++)t(e[s],n,a?r:r.call(e[s],s,t(e[s],n)));return o?e:c?t.call(e):u?t(e[0],n):i},B=/^-ms-/,z=/-([a-z])/g;function U(e,t){return t.toUpperCase()}function G(e){return e.replace(B,"ms-").replace(z,U)}var V=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function X(){this.expando=O.expando+X.uid++}X.uid=1,X.prototype={cache:function(e){var t=e[this.expando];return t||(t={},V(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var r,o=this.cache(e);if("string"==typeof t)o[G(t)]=n;else for(r in t)o[G(r)]=t[r];return o},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][G(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r=e[this.expando];if(void 0!==r){if(void 0!==t){n=(t=Array.isArray(t)?t.map(G):(t=G(t))in r?[t]:t.match(L)||[]).length;for(;n--;)delete r[t[n]]}(void 0===t||O.isEmptyObject(r))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!O.isEmptyObject(t)}};var Z=new X,J=new X,Y=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Q=/[A-Z]/g;function K(e,t,n){var r,o;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(Q,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(r))){try{n="true"===(o=n)||"false"!==o&&("null"===o?null:o===+o+""?+o:Y.test(o)?JSON.parse(o):o)}catch(e){}J.set(e,t,n)}else n=void 0;return n}O.extend({hasData:function(e){return J.hasData(e)||Z.hasData(e)},data:function(e,t,n){return J.access(e,t,n)},removeData:function(e,t){J.remove(e,t)},_data:function(e,t,n){return Z.access(e,t,n)},_removeData:function(e,t){Z.remove(e,t)}}),O.fn.extend({data:function(n,e){var t,r,o,i=this[0],a=i&&i.attributes;if(void 0!==n)return"object"==typeof n?this.each(function(){J.set(this,n)}):W(this,function(e){var t;if(i&&void 0===e)return void 0!==(t=J.get(i,n))?t:void 0!==(t=K(i,n))?t:void 0;this.each(function(){J.set(this,n,e)})},null,e,1<arguments.length,null,!0);if(this.length&&(o=J.get(i),1===i.nodeType&&!Z.get(i,"hasDataAttrs"))){for(t=a.length;t--;)a[t]&&0===(r=a[t].name).indexOf("data-")&&(r=G(r.slice(5)),K(i,r,o[r]));Z.set(i,"hasDataAttrs",!0)}return o},removeData:function(e){return this.each(function(){J.remove(this,e)})}}),O.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=Z.get(e,t),n&&(!r||Array.isArray(n)?r=Z.access(e,t,O.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=O.queue(e,t),r=n.length,o=n.shift(),i=O._queueHooks(e,t);"inprogress"===o&&(o=n.shift(),r--),o&&("fx"===t&&n.unshift("inprogress"),delete i.stop,o.call(e,function(){O.dequeue(e,t)},i)),!r&&i&&i.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return Z.get(e,n)||Z.access(e,n,{empty:O.Callbacks("once memory").add(function(){Z.remove(e,[t+"queue",n])})})}}),O.fn.extend({queue:function(t,n){var e=2;return"string"!=typeof t&&(n=t,t="fx",e--),arguments.length<e?O.queue(this[0],t):void 0===n?this:this.each(function(){var e=O.queue(this,t,n);O._queueHooks(this,t),"fx"===t&&"inprogress"!==e[0]&&O.dequeue(this,t)})},dequeue:function(e){return this.each(function(){O.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,o=O.Deferred(),i=this,a=this.length,s=function(){--r||o.resolveWith(i,[i])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)(n=Z.get(i[a],e+"queueHooks"))&&n.empty&&(r++,n.empty.add(s));return s(),o.promise(t)}});var ee=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,te=new RegExp("^(?:([+-])=|)("+ee+")([a-z%]*)$","i"),ne=["Top","Right","Bottom","Left"],re=j.documentElement,oe=function(e){return O.contains(e.ownerDocument,e)},ie={composed:!0};re.getRootNode&&(oe=function(e){return O.contains(e.ownerDocument,e)||e.getRootNode(ie)===e.ownerDocument});var ae=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&oe(e)&&"none"===O.css(e,"display")},se=function(e,t,n,r){var o,i,a={};for(i in t)a[i]=e.style[i],e.style[i]=t[i];for(i in o=n.apply(e,r||[]),t)e.style[i]=a[i];return o};function ue(e,t,n,r){var o,i,a=20,s=r?function(){return r.cur()}:function(){return O.css(e,t,"")},u=s(),c=n&&n[3]||(O.cssNumber[t]?"":"px"),l=e.nodeType&&(O.cssNumber[t]||"px"!==c&&+u)&&te.exec(O.css(e,t));if(l&&l[3]!==c){for(u/=2,c=c||l[3],l=+u||1;a--;)O.style(e,t,l+c),(1-i)*(1-(i=s()/u||.5))<=0&&(a=0),l/=i;l*=2,O.style(e,t,l+c),n=n||[]}return n&&(l=+l||+u||0,o=n[1]?l+(n[1]+1)*n[2]:+n[2],r&&(r.unit=c,r.start=l,r.end=o)),o}var ce={};function le(e,t){for(var n,r,o,i,a,s,u,c=[],l=0,f=e.length;l<f;l++)(r=e[l]).style&&(n=r.style.display,t?("none"===n&&(c[l]=Z.get(r,"display")||null,c[l]||(r.style.display="")),""===r.style.display&&ae(r)&&(c[l]=(u=a=i=void 0,a=(o=r).ownerDocument,s=o.nodeName,(u=ce[s])||(i=a.body.appendChild(a.createElement(s)),u=O.css(i,"display"),i.parentNode.removeChild(i),"none"===u&&(u="block"),ce[s]=u)))):"none"!==n&&(c[l]="none",Z.set(r,"display",n)));for(l=0;l<f;l++)null!=c[l]&&(e[l].style.display=c[l]);return e}O.fn.extend({show:function(){return le(this,!0)},hide:function(){return le(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){ae(this)?O(this).show():O(this).hide()})}});var fe=/^(?:checkbox|radio)$/i,pe=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,he=/^$|^module$|\/(?:java|ecma)script/i,de={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function ye(e,t){var n;return n=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&C(e,t)?O.merge([e],n):n}function ge(e,t){for(var n=0,r=e.length;n<r;n++)Z.set(e[n],"globalEval",!t||Z.get(t[n],"globalEval"))}de.optgroup=de.option,de.tbody=de.tfoot=de.colgroup=de.caption=de.thead,de.th=de.td;var ve,me,be=/<|&#?\w+;/;function we(e,t,n,r,o){for(var i,a,s,u,c,l,f=t.createDocumentFragment(),p=[],h=0,d=e.length;h<d;h++)if((i=e[h])||0===i)if("object"===x(i))O.merge(p,i.nodeType?[i]:i);else if(be.test(i)){for(a=a||f.appendChild(t.createElement("div")),s=(pe.exec(i)||["",""])[1].toLowerCase(),u=de[s]||de._default,a.innerHTML=u[1]+O.htmlPrefilter(i)+u[2],l=u[0];l--;)a=a.lastChild;O.merge(p,a.childNodes),(a=f.firstChild).textContent=""}else p.push(t.createTextNode(i));for(f.textContent="",h=0;i=p[h++];)if(r&&-1<O.inArray(i,r))o&&o.push(i);else if(c=oe(i),a=ye(f.appendChild(i),"script"),c&&ge(a),n)for(l=0;i=a[l++];)he.test(i.type||"")&&n.push(i);return f}ve=j.createDocumentFragment().appendChild(j.createElement("div")),(me=j.createElement("input")).setAttribute("type","radio"),me.setAttribute("checked","checked"),me.setAttribute("name","t"),ve.appendChild(me),v.checkClone=ve.cloneNode(!0).cloneNode(!0).lastChild.checked,ve.innerHTML="<textarea>x</textarea>",v.noCloneChecked=!!ve.cloneNode(!0).lastChild.defaultValue;var xe=/^key/,Te=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Se=/^([^.]*)(?:\.(.+)|)/;function je(){return!0}function Oe(){return!1}function Ee(e,t){return e===function(){try{return j.activeElement}catch(e){}}()==("focus"===t)}function Ce(e,t,n,r,o,i){var a,s;if("object"==typeof t){for(s in"string"!=typeof n&&(r=r||n,n=void 0),t)Ce(e,s,n,r,t[s],i);return e}if(null==r&&null==o?(o=n,r=n=void 0):null==o&&("string"==typeof n?(o=r,r=void 0):(o=r,r=n,n=void 0)),!1===o)o=Oe;else if(!o)return e;return 1===i&&(a=o,(o=function(e){return O().off(e),a.apply(this,arguments)}).guid=a.guid||(a.guid=O.guid++)),e.each(function(){O.event.add(this,t,o,r,n)})}function Ae(e,o,i){i?(Z.set(e,o,!1),O.event.add(e,o,{namespace:!1,handler:function(e){var t,n,r=Z.get(this,o);if(1&e.isTrigger&&this[o]){if(r.length)(O.event.special[o]||{}).delegateType&&e.stopPropagation();else if(r=s.call(arguments),Z.set(this,o,r),t=i(this,o),this[o](),r!==(n=Z.get(this,o))||t?Z.set(this,o,!1):n={},r!==n)return e.stopImmediatePropagation(),e.preventDefault(),n.value}else r.length&&(Z.set(this,o,{value:O.event.trigger(O.extend(r[0],O.Event.prototype),r.slice(1),this)}),e.stopImmediatePropagation())}})):void 0===Z.get(e,o)&&O.event.add(e,o,je)}O.event={global:{},add:function(t,e,n,r,o){var i,a,s,u,c,l,f,p,h,d,y,g=Z.get(t);if(g)for(n.handler&&(n=(i=n).handler,o=i.selector),o&&O.find.matchesSelector(re,o),n.guid||(n.guid=O.guid++),(u=g.events)||(u=g.events={}),(a=g.handle)||(a=g.handle=function(e){return void 0!==O&&O.event.triggered!==e.type?O.event.dispatch.apply(t,arguments):void 0}),c=(e=(e||"").match(L)||[""]).length;c--;)h=y=(s=Se.exec(e[c])||[])[1],d=(s[2]||"").split(".").sort(),h&&(f=O.event.special[h]||{},h=(o?f.delegateType:f.bindType)||h,f=O.event.special[h]||{},l=O.extend({type:h,origType:y,data:r,handler:n,guid:n.guid,selector:o,needsContext:o&&O.expr.match.needsContext.test(o),namespace:d.join(".")},i),(p=u[h])||((p=u[h]=[]).delegateCount=0,f.setup&&!1!==f.setup.call(t,r,d,a)||t.addEventListener&&t.addEventListener(h,a)),f.add&&(f.add.call(t,l),l.handler.guid||(l.handler.guid=n.guid)),o?p.splice(p.delegateCount++,0,l):p.push(l),O.event.global[h]=!0)},remove:function(e,t,n,r,o){var i,a,s,u,c,l,f,p,h,d,y,g=Z.hasData(e)&&Z.get(e);if(g&&(u=g.events)){for(c=(t=(t||"").match(L)||[""]).length;c--;)if(h=y=(s=Se.exec(t[c])||[])[1],d=(s[2]||"").split(".").sort(),h){for(f=O.event.special[h]||{},p=u[h=(r?f.delegateType:f.bindType)||h]||[],s=s[2]&&new RegExp("(^|\\.)"+d.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=i=p.length;i--;)l=p[i],!o&&y!==l.origType||n&&n.guid!==l.guid||s&&!s.test(l.namespace)||r&&r!==l.selector&&("**"!==r||!l.selector)||(p.splice(i,1),l.selector&&p.delegateCount--,f.remove&&f.remove.call(e,l));a&&!p.length&&(f.teardown&&!1!==f.teardown.call(e,d,g.handle)||O.removeEvent(e,h,g.handle),delete u[h])}else for(h in u)O.event.remove(e,h+t[c],n,r,!0);O.isEmptyObject(u)&&Z.remove(e,"handle events")}},dispatch:function(e){var t,n,r,o,i,a,s=O.event.fix(e),u=new Array(arguments.length),c=(Z.get(this,"events")||{})[s.type]||[],l=O.event.special[s.type]||{};for(u[0]=s,t=1;t<arguments.length;t++)u[t]=arguments[t];if(s.delegateTarget=this,!l.preDispatch||!1!==l.preDispatch.call(this,s)){for(a=O.event.handlers.call(this,s,c),t=0;(o=a[t++])&&!s.isPropagationStopped();)for(s.currentTarget=o.elem,n=0;(i=o.handlers[n++])&&!s.isImmediatePropagationStopped();)s.rnamespace&&!1!==i.namespace&&!s.rnamespace.test(i.namespace)||(s.handleObj=i,s.data=i.data,void 0!==(r=((O.event.special[i.origType]||{}).handle||i.handler).apply(o.elem,u))&&!1===(s.result=r)&&(s.preventDefault(),s.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,s),s.result}},handlers:function(e,t){var n,r,o,i,a,s=[],u=t.delegateCount,c=e.target;if(u&&c.nodeType&&!("click"===e.type&&1<=e.button))for(;c!==this;c=c.parentNode||this)if(1===c.nodeType&&("click"!==e.type||!0!==c.disabled)){for(i=[],a={},n=0;n<u;n++)void 0===a[o=(r=t[n]).selector+" "]&&(a[o]=r.needsContext?-1<O(o,this).index(c):O.find(o,this,null,[c]).length),a[o]&&i.push(r);i.length&&s.push({elem:c,handlers:i})}return c=this,u<t.length&&s.push({elem:c,handlers:t.slice(u)}),s},addProp:function(t,e){Object.defineProperty(O.Event.prototype,t,{enumerable:!0,configurable:!0,get:m(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(e){return e[O.expando]?e:new O.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){var t=this||e;return fe.test(t.type)&&t.click&&C(t,"input")&&Ae(t,"click",je),!1},trigger:function(e){var t=this||e;return fe.test(t.type)&&t.click&&C(t,"input")&&Ae(t,"click"),!0},_default:function(e){var t=e.target;return fe.test(t.type)&&t.click&&C(t,"input")&&Z.get(t,"click")||C(t,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},O.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},O.Event=function(e,t){if(!(this instanceof O.Event))return new O.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?je:Oe,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&O.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[O.expando]=!0},O.Event.prototype={constructor:O.Event,isDefaultPrevented:Oe,isPropagationStopped:Oe,isImmediatePropagationStopped:Oe,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=je,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=je,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=je,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},O.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&&xe.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&&void 0!==t&&Te.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},O.event.addProp),O.each({focus:"focusin",blur:"focusout"},function(e,t){O.event.special[e]={setup:function(){return Ae(this,e,Ee),!1},trigger:function(){return Ae(this,e),!0},delegateType:t}}),O.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,o){O.event.special[e]={delegateType:o,bindType:o,handle:function(e){var t,n=e.relatedTarget,r=e.handleObj;return n&&(n===this||O.contains(this,n))||(e.type=r.origType,t=r.handler.apply(this,arguments),e.type=o),t}}}),O.fn.extend({on:function(e,t,n,r){return Ce(this,e,t,n,r)},one:function(e,t,n,r){return Ce(this,e,t,n,r,1)},off:function(e,t,n){var r,o;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,O(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"!=typeof e)return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=Oe),this.each(function(){O.event.remove(this,e,n,t)});for(o in e)this.off(o,t,e[o]);return this}});var ke=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,Ne=/<script|<style|<link/i,Ie=/checked\s*(?:[^=]|=\s*.checked.)/i,De=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Me(e,t){return C(e,"table")&&C(11!==t.nodeType?t:t.firstChild,"tr")&&O(e).children("tbody")[0]||e}function Pe(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function Le(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function Re(e,t){var n,r,o,i,a,s,u,c;if(1===t.nodeType){if(Z.hasData(e)&&(i=Z.access(e),a=Z.set(t,i),c=i.events))for(o in delete a.handle,a.events={},c)for(n=0,r=c[o].length;n<r;n++)O.event.add(t,o,c[o][n]);J.hasData(e)&&(s=J.access(e),u=O.extend({},s),J.set(t,u))}}function _e(n,r,o,i){r=y.apply([],r);var e,t,a,s,u,c,l=0,f=n.length,p=f-1,h=r[0],d=m(h);if(d||1<f&&"string"==typeof h&&!v.checkClone&&Ie.test(h))return n.each(function(e){var t=n.eq(e);d&&(r[0]=h.call(this,e,t.html())),_e(t,r,o,i)});if(f&&(t=(e=we(r,n[0].ownerDocument,!1,n,i)).firstChild,1===e.childNodes.length&&(e=t),t||i)){for(s=(a=O.map(ye(e,"script"),Pe)).length;l<f;l++)u=e,l!==p&&(u=O.clone(u,!0,!0),s&&O.merge(a,ye(u,"script"))),o.call(n[l],u,l);if(s)for(c=a[a.length-1].ownerDocument,O.map(a,Le),l=0;l<s;l++)u=a[l],he.test(u.type||"")&&!Z.access(u,"globalEval")&&O.contains(c,u)&&(u.src&&"module"!==(u.type||"").toLowerCase()?O._evalUrl&&!u.noModule&&O._evalUrl(u.src,{nonce:u.nonce||u.getAttribute("nonce")}):w(u.textContent.replace(De,""),u,c))}return n}function qe(e,t,n){for(var r,o=t?O.filter(t,e):e,i=0;null!=(r=o[i]);i++)n||1!==r.nodeType||O.cleanData(ye(r)),r.parentNode&&(n&&oe(r)&&ge(ye(r,"script")),r.parentNode.removeChild(r));return e}O.extend({htmlPrefilter:function(e){return e.replace(ke,"<$1></$2>")},clone:function(e,t,n){var r,o,i,a,s,u,c,l=e.cloneNode(!0),f=oe(e);if(!(v.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||O.isXMLDoc(e)))for(a=ye(l),r=0,o=(i=ye(e)).length;r<o;r++)s=i[r],"input"===(c=(u=a[r]).nodeName.toLowerCase())&&fe.test(s.type)?u.checked=s.checked:"input"!==c&&"textarea"!==c||(u.defaultValue=s.defaultValue);if(t)if(n)for(i=i||ye(e),a=a||ye(l),r=0,o=i.length;r<o;r++)Re(i[r],a[r]);else Re(e,l);return 0<(a=ye(l,"script")).length&&ge(a,!f&&ye(e,"script")),l},cleanData:function(e){for(var t,n,r,o=O.event.special,i=0;void 0!==(n=e[i]);i++)if(V(n)){if(t=n[Z.expando]){if(t.events)for(r in t.events)o[r]?O.event.remove(n,r):O.removeEvent(n,r,t.handle);n[Z.expando]=void 0}n[J.expando]&&(n[J.expando]=void 0)}}}),O.fn.extend({detach:function(e){return qe(this,e,!0)},remove:function(e){return qe(this,e)},text:function(e){return W(this,function(e){return void 0===e?O.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return _e(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Me(this,e).appendChild(e)})},prepend:function(){return _e(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=Me(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return _e(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return _e(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(O.cleanData(ye(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return O.clone(this,e,t)})},html:function(e){return W(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Ne.test(e)&&!de[(pe.exec(e)||["",""])[1].toLowerCase()]){e=O.htmlPrefilter(e);try{for(;n<r;n++)1===(t=this[n]||{}).nodeType&&(O.cleanData(ye(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var n=[];return _e(this,arguments,function(e){var t=this.parentNode;O.inArray(this,n)<0&&(O.cleanData(ye(this)),t&&t.replaceChild(e,this))},n)}}),O.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,a){O.fn[e]=function(e){for(var t,n=[],r=O(e),o=r.length-1,i=0;i<=o;i++)t=i===o?this:this.clone(!0),O(r[i])[a](t),u.apply(n,t.get());return this.pushStack(n)}});var Fe=new RegExp("^("+ee+")(?!px)[a-z%]+$","i"),He=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=S),t.getComputedStyle(e)},$e=new RegExp(ne.join("|"),"i");function We(e,t,n){var r,o,i,a,s=e.style;return(n=n||He(e))&&(""!==(a=n.getPropertyValue(t)||n[t])||oe(e)||(a=O.style(e,t)),!v.pixelBoxStyles()&&Fe.test(a)&&$e.test(t)&&(r=s.width,o=s.minWidth,i=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=r,s.minWidth=o,s.maxWidth=i)),void 0!==a?a+"":a}function Be(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){function e(){if(u){s.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",u.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",re.appendChild(s).appendChild(u);var e=S.getComputedStyle(u);n="1%"!==e.top,a=12===t(e.marginLeft),u.style.right="60%",i=36===t(e.right),r=36===t(e.width),u.style.position="absolute",o=12===t(u.offsetWidth/3),re.removeChild(s),u=null}}function t(e){return Math.round(parseFloat(e))}var n,r,o,i,a,s=j.createElement("div"),u=j.createElement("div");u.style&&(u.style.backgroundClip="content-box",u.cloneNode(!0).style.backgroundClip="",v.clearCloneStyle="content-box"===u.style.backgroundClip,O.extend(v,{boxSizingReliable:function(){return e(),r},pixelBoxStyles:function(){return e(),i},pixelPosition:function(){return e(),n},reliableMarginLeft:function(){return e(),a},scrollboxSize:function(){return e(),o}}))}();var ze=["Webkit","Moz","ms"],Ue=j.createElement("div").style,Ge={};function Ve(e){return O.cssProps[e]||Ge[e]||(e in Ue?e:Ge[e]=function(e){for(var t=e[0].toUpperCase()+e.slice(1),n=ze.length;n--;)if((e=ze[n]+t)in Ue)return e}(e)||e)}var Xe=/^(none|table(?!-c[ea]).+)/,Ze=/^--/,Je={position:"absolute",visibility:"hidden",display:"block"},Ye={letterSpacing:"0",fontWeight:"400"};function Qe(e,t,n){var r=te.exec(t);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):t}function Ke(e,t,n,r,o,i){var a="width"===t?1:0,s=0,u=0;if(n===(r?"border":"content"))return 0;for(;a<4;a+=2)"margin"===n&&(u+=O.css(e,n+ne[a],!0,o)),r?("content"===n&&(u-=O.css(e,"padding"+ne[a],!0,o)),"margin"!==n&&(u-=O.css(e,"border"+ne[a]+"Width",!0,o))):(u+=O.css(e,"padding"+ne[a],!0,o),"padding"!==n?u+=O.css(e,"border"+ne[a]+"Width",!0,o):s+=O.css(e,"border"+ne[a]+"Width",!0,o));return!r&&0<=i&&(u+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-i-u-s-.5))||0),u}function et(e,t,n){var r=He(e),o=(!v.boxSizingReliable()||n)&&"border-box"===O.css(e,"boxSizing",!1,r),i=o,a=We(e,t,r),s="offset"+t[0].toUpperCase()+t.slice(1);if(Fe.test(a)){if(!n)return a;a="auto"}return(!v.boxSizingReliable()&&o||"auto"===a||!parseFloat(a)&&"inline"===O.css(e,"display",!1,r))&&e.getClientRects().length&&(o="border-box"===O.css(e,"boxSizing",!1,r),(i=s in e)&&(a=e[s])),(a=parseFloat(a)||0)+Ke(e,t,n||(o?"border":"content"),i,r,a)+"px"}function tt(e,t,n,r,o){return new tt.prototype.init(e,t,n,r,o)}O.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=We(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var o,i,a,s=G(t),u=Ze.test(t),c=e.style;if(u||(t=Ve(s)),a=O.cssHooks[t]||O.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(o=a.get(e,!1,r))?o:c[t];"string"==(i=typeof n)&&(o=te.exec(n))&&o[1]&&(n=ue(e,t,o),i="number"),null!=n&&n==n&&("number"!==i||u||(n+=o&&o[3]||(O.cssNumber[s]?"":"px")),v.clearCloneStyle||""!==n||0!==t.indexOf("background")||(c[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,r))||(u?c.setProperty(t,n):c[t]=n))}},css:function(e,t,n,r){var o,i,a,s=G(t);return Ze.test(t)||(t=Ve(s)),(a=O.cssHooks[t]||O.cssHooks[s])&&"get"in a&&(o=a.get(e,!0,n)),void 0===o&&(o=We(e,t,r)),"normal"===o&&t in Ye&&(o=Ye[t]),""===n||n?(i=parseFloat(o),!0===n||isFinite(i)?i||0:o):o}}),O.each(["height","width"],function(e,u){O.cssHooks[u]={get:function(e,t,n){if(t)return!Xe.test(O.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?et(e,u,n):se(e,Je,function(){return et(e,u,n)})},set:function(e,t,n){var r,o=He(e),i=!v.scrollboxSize()&&"absolute"===o.position,a=(i||n)&&"border-box"===O.css(e,"boxSizing",!1,o),s=n?Ke(e,u,n,a,o):0;return a&&i&&(s-=Math.ceil(e["offset"+u[0].toUpperCase()+u.slice(1)]-parseFloat(o[u])-Ke(e,u,"border",!1,o)-.5)),s&&(r=te.exec(t))&&"px"!==(r[3]||"px")&&(e.style[u]=t,t=O.css(e,u)),Qe(0,t,s)}}}),O.cssHooks.marginLeft=Be(v.reliableMarginLeft,function(e,t){if(t)return(parseFloat(We(e,"marginLeft"))||e.getBoundingClientRect().left-se(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),O.each({margin:"",padding:"",border:"Width"},function(o,i){O.cssHooks[o+i]={expand:function(e){for(var t=0,n={},r="string"==typeof e?e.split(" "):[e];t<4;t++)n[o+ne[t]+i]=r[t]||r[t-2]||r[0];return n}},"margin"!==o&&(O.cssHooks[o+i].set=Qe)}),O.fn.extend({css:function(e,t){return W(this,function(e,t,n){var r,o,i={},a=0;if(Array.isArray(t)){for(r=He(e),o=t.length;a<o;a++)i[t[a]]=O.css(e,t[a],!1,r);return i}return void 0!==n?O.style(e,t,n):O.css(e,t)},e,t,1<arguments.length)}}),((O.Tween=tt).prototype={constructor:tt,init:function(e,t,n,r,o,i){this.elem=e,this.prop=n,this.easing=o||O.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=i||(O.cssNumber[n]?"":"px")},cur:function(){var e=tt.propHooks[this.prop];return e&&e.get?e.get(this):tt.propHooks._default.get(this)},run:function(e){var t,n=tt.propHooks[this.prop];return this.options.duration?this.pos=t=O.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):tt.propHooks._default.set(this),this}}).init.prototype=tt.prototype,(tt.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=O.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){O.fx.step[e.prop]?O.fx.step[e.prop](e):1!==e.elem.nodeType||!O.cssHooks[e.prop]&&null==e.elem.style[Ve(e.prop)]?e.elem[e.prop]=e.now:O.style(e.elem,e.prop,e.now+e.unit)}}}).scrollTop=tt.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},O.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},O.fx=tt.prototype.init,O.fx.step={};var nt,rt,ot,it,at=/^(?:toggle|show|hide)$/,st=/queueHooks$/;function ut(){rt&&(!1===j.hidden&&S.requestAnimationFrame?S.requestAnimationFrame(ut):S.setTimeout(ut,O.fx.interval),O.fx.tick())}function ct(){return S.setTimeout(function(){nt=void 0}),nt=Date.now()}function lt(e,t){var n,r=0,o={height:e};for(t=t?1:0;r<4;r+=2-t)o["margin"+(n=ne[r])]=o["padding"+n]=e;return t&&(o.opacity=o.width=e),o}function ft(e,t,n){for(var r,o=(pt.tweeners[t]||[]).concat(pt.tweeners["*"]),i=0,a=o.length;i<a;i++)if(r=o[i].call(n,t,e))return r}function pt(i,e,t){var n,a,r=0,o=pt.prefilters.length,s=O.Deferred().always(function(){delete u.elem}),u=function(){if(a)return!1;for(var e=nt||ct(),t=Math.max(0,c.startTime+c.duration-e),n=1-(t/c.duration||0),r=0,o=c.tweens.length;r<o;r++)c.tweens[r].run(n);return s.notifyWith(i,[c,n,t]),n<1&&o?t:(o||s.notifyWith(i,[c,1,0]),s.resolveWith(i,[c]),!1)},c=s.promise({elem:i,props:O.extend({},e),opts:O.extend(!0,{specialEasing:{},easing:O.easing._default},t),originalProperties:e,originalOptions:t,startTime:nt||ct(),duration:t.duration,tweens:[],createTween:function(e,t){var n=O.Tween(i,c.opts,e,t,c.opts.specialEasing[e]||c.opts.easing);return c.tweens.push(n),n},stop:function(e){var t=0,n=e?c.tweens.length:0;if(a)return this;for(a=!0;t<n;t++)c.tweens[t].run(1);return e?(s.notifyWith(i,[c,1,0]),s.resolveWith(i,[c,e])):s.rejectWith(i,[c,e]),this}}),l=c.props;for(function(e,t){var n,r,o,i,a;for(n in e)if(o=t[r=G(n)],i=e[n],Array.isArray(i)&&(o=i[1],i=e[n]=i[0]),n!==r&&(e[r]=i,delete e[n]),(a=O.cssHooks[r])&&"expand"in a)for(n in i=a.expand(i),delete e[r],i)n in e||(e[n]=i[n],t[n]=o);else t[r]=o}(l,c.opts.specialEasing);r<o;r++)if(n=pt.prefilters[r].call(c,i,l,c.opts))return m(n.stop)&&(O._queueHooks(c.elem,c.opts.queue).stop=n.stop.bind(n)),n;return O.map(l,ft,c),m(c.opts.start)&&c.opts.start.call(i,c),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always),O.fx.timer(O.extend(u,{elem:i,anim:c,queue:c.opts.queue})),c}O.Animation=O.extend(pt,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return ue(n.elem,e,te.exec(t),n),n}]},tweener:function(e,t){for(var n,r=0,o=(e=m(e)?(t=e,["*"]):e.match(L)).length;r<o;r++)n=e[r],pt.tweeners[n]=pt.tweeners[n]||[],pt.tweeners[n].unshift(t)},prefilters:[function(e,t,n){var r,o,i,a,s,u,c,l,f="width"in t||"height"in t,p=this,h={},d=e.style,y=e.nodeType&&ae(e),g=Z.get(e,"fxshow");for(r in n.queue||(null==(a=O._queueHooks(e,"fx")).unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,p.always(function(){p.always(function(){a.unqueued--,O.queue(e,"fx").length||a.empty.fire()})})),t)if(o=t[r],at.test(o)){if(delete t[r],i=i||"toggle"===o,o===(y?"hide":"show")){if("show"!==o||!g||void 0===g[r])continue;y=!0}h[r]=g&&g[r]||O.style(e,r)}if((u=!O.isEmptyObject(t))||!O.isEmptyObject(h))for(r in f&&1===e.nodeType&&(n.overflow=[d.overflow,d.overflowX,d.overflowY],null==(c=g&&g.display)&&(c=Z.get(e,"display")),"none"===(l=O.css(e,"display"))&&(c?l=c:(le([e],!0),c=e.style.display||c,l=O.css(e,"display"),le([e]))),("inline"===l||"inline-block"===l&&null!=c)&&"none"===O.css(e,"float")&&(u||(p.done(function(){d.display=c}),null==c&&(l=d.display,c="none"===l?"":l)),d.display="inline-block")),n.overflow&&(d.overflow="hidden",p.always(function(){d.overflow=n.overflow[0],d.overflowX=n.overflow[1],d.overflowY=n.overflow[2]})),u=!1,h)u||(g?"hidden"in g&&(y=g.hidden):g=Z.access(e,"fxshow",{display:c}),i&&(g.hidden=!y),y&&le([e],!0),p.done(function(){for(r in y||le([e]),Z.remove(e,"fxshow"),h)O.style(e,r,h[r])})),u=ft(y?g[r]:0,r,p),r in g||(g[r]=u.start,y&&(u.end=u.start,u.start=0))}],prefilter:function(e,t){t?pt.prefilters.unshift(e):pt.prefilters.push(e)}}),O.speed=function(e,t,n){var r=e&&"object"==typeof e?O.extend({},e):{complete:n||!n&&t||m(e)&&e,duration:e,easing:n&&t||t&&!m(t)&&t};return O.fx.off?r.duration=0:"number"!=typeof r.duration&&(r.duration in O.fx.speeds?r.duration=O.fx.speeds[r.duration]:r.duration=O.fx.speeds._default),null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){m(r.old)&&r.old.call(this),r.queue&&O.dequeue(this,r.queue)},r},O.fn.extend({fadeTo:function(e,t,n,r){return this.filter(ae).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(t,e,n,r){var o=O.isEmptyObject(t),i=O.speed(e,n,r),a=function(){var e=pt(this,O.extend({},t),i);(o||Z.get(this,"finish"))&&e.stop(!0)};return a.finish=a,o||!1===i.queue?this.each(a):this.queue(i.queue,a)},stop:function(o,e,i){var a=function(e){var t=e.stop;delete e.stop,t(i)};return"string"!=typeof o&&(i=e,e=o,o=void 0),e&&!1!==o&&this.queue(o||"fx",[]),this.each(function(){var e=!0,t=null!=o&&o+"queueHooks",n=O.timers,r=Z.get(this);if(t)r[t]&&r[t].stop&&a(r[t]);else for(t in r)r[t]&&r[t].stop&&st.test(t)&&a(r[t]);for(t=n.length;t--;)n[t].elem!==this||null!=o&&n[t].queue!==o||(n[t].anim.stop(i),e=!1,n.splice(t,1));!e&&i||O.dequeue(this,o)})},finish:function(a){return!1!==a&&(a=a||"fx"),this.each(function(){var e,t=Z.get(this),n=t[a+"queue"],r=t[a+"queueHooks"],o=O.timers,i=n?n.length:0;for(t.finish=!0,O.queue(this,a,[]),r&&r.stop&&r.stop.call(this,!0),e=o.length;e--;)o[e].elem===this&&o[e].queue===a&&(o[e].anim.stop(!0),o.splice(e,1));for(e=0;e<i;e++)n[e]&&n[e].finish&&n[e].finish.call(this);delete t.finish})}}),O.each(["toggle","show","hide"],function(e,r){var o=O.fn[r];O.fn[r]=function(e,t,n){return null==e||"boolean"==typeof e?o.apply(this,arguments):this.animate(lt(r,!0),e,t,n)}}),O.each({slideDown:lt("show"),slideUp:lt("hide"),slideToggle:lt("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,r){O.fn[e]=function(e,t,n){return this.animate(r,e,t,n)}}),O.timers=[],O.fx.tick=function(){var e,t=0,n=O.timers;for(nt=Date.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||O.fx.stop(),nt=void 0},O.fx.timer=function(e){O.timers.push(e),O.fx.start()},O.fx.interval=13,O.fx.start=function(){rt||(rt=!0,ut())},O.fx.stop=function(){rt=null},O.fx.speeds={slow:600,fast:200,_default:400},O.fn.delay=function(r,e){return r=O.fx&&O.fx.speeds[r]||r,e=e||"fx",this.queue(e,function(e,t){var n=S.setTimeout(e,r);t.stop=function(){S.clearTimeout(n)}})},ot=j.createElement("input"),it=j.createElement("select").appendChild(j.createElement("option")),ot.type="checkbox",v.checkOn=""!==ot.value,v.optSelected=it.selected,(ot=j.createElement("input")).value="t",ot.type="radio",v.radioValue="t"===ot.value;var ht,dt=O.expr.attrHandle;O.fn.extend({attr:function(e,t){return W(this,O.attr,e,t,1<arguments.length)},removeAttr:function(e){return this.each(function(){O.removeAttr(this,e)})}}),O.extend({attr:function(e,t,n){var r,o,i=e.nodeType;if(3!==i&&8!==i&&2!==i)return void 0===e.getAttribute?O.prop(e,t,n):(1===i&&O.isXMLDoc(e)||(o=O.attrHooks[t.toLowerCase()]||(O.expr.match.bool.test(t)?ht:void 0)),void 0!==n?null===n?void O.removeAttr(e,t):o&&"set"in o&&void 0!==(r=o.set(e,n,t))?r:(e.setAttribute(t,n+""),n):o&&"get"in o&&null!==(r=o.get(e,t))?r:null==(r=O.find.attr(e,t))?void 0:r)},attrHooks:{type:{set:function(e,t){if(!v.radioValue&&"radio"===t&&C(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,r=0,o=t&&t.match(L);if(o&&1===e.nodeType)for(;n=o[r++];)e.removeAttribute(n)}}),ht={set:function(e,t,n){return!1===t?O.removeAttr(e,n):e.setAttribute(n,n),n}},O.each(O.expr.match.bool.source.match(/\w+/g),function(e,t){var a=dt[t]||O.find.attr;dt[t]=function(e,t,n){var r,o,i=t.toLowerCase();return n||(o=dt[i],dt[i]=r,r=null!=a(e,t,n)?i:null,dt[i]=o),r}});var yt=/^(?:input|select|textarea|button)$/i,gt=/^(?:a|area)$/i;function vt(e){return(e.match(L)||[]).join(" ")}function mt(e){return e.getAttribute&&e.getAttribute("class")||""}function bt(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(L)||[]}O.fn.extend({prop:function(e,t){return W(this,O.prop,e,t,1<arguments.length)},removeProp:function(e){return this.each(function(){delete this[O.propFix[e]||e]})}}),O.extend({prop:function(e,t,n){var r,o,i=e.nodeType;if(3!==i&&8!==i&&2!==i)return 1===i&&O.isXMLDoc(e)||(t=O.propFix[t]||t,o=O.propHooks[t]),void 0!==n?o&&"set"in o&&void 0!==(r=o.set(e,n,t))?r:e[t]=n:o&&"get"in o&&null!==(r=o.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=O.find.attr(e,"tabindex");return t?parseInt(t,10):yt.test(e.nodeName)||gt.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),v.optSelected||(O.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),O.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){O.propFix[this.toLowerCase()]=this}),O.fn.extend({addClass:function(t){var e,n,r,o,i,a,s,u=0;if(m(t))return this.each(function(e){O(this).addClass(t.call(this,e,mt(this)))});if((e=bt(t)).length)for(;n=this[u++];)if(o=mt(n),r=1===n.nodeType&&" "+vt(o)+" "){for(a=0;i=e[a++];)r.indexOf(" "+i+" ")<0&&(r+=i+" ");o!==(s=vt(r))&&n.setAttribute("class",s)}return this},removeClass:function(t){var e,n,r,o,i,a,s,u=0;if(m(t))return this.each(function(e){O(this).removeClass(t.call(this,e,mt(this)))});if(!arguments.length)return this.attr("class","");if((e=bt(t)).length)for(;n=this[u++];)if(o=mt(n),r=1===n.nodeType&&" "+vt(o)+" "){for(a=0;i=e[a++];)for(;-1<r.indexOf(" "+i+" ");)r=r.replace(" "+i+" "," ");o!==(s=vt(r))&&n.setAttribute("class",s)}return this},toggleClass:function(o,t){var i=typeof o,a="string"==i||Array.isArray(o);return"boolean"==typeof t&&a?t?this.addClass(o):this.removeClass(o):m(o)?this.each(function(e){O(this).toggleClass(o.call(this,e,mt(this),t),t)}):this.each(function(){var e,t,n,r;if(a)for(t=0,n=O(this),r=bt(o);e=r[t++];)n.hasClass(e)?n.removeClass(e):n.addClass(e);else void 0!==o&&"boolean"!=i||((e=mt(this))&&Z.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||!1===o?"":Z.get(this,"__className__")||""))})},hasClass:function(e){var t,n,r=0;for(t=" "+e+" ";n=this[r++];)if(1===n.nodeType&&-1<(" "+vt(mt(n))+" ").indexOf(t))return!0;return!1}});var wt=/\r/g;O.fn.extend({val:function(n){var r,e,o,t=this[0];return arguments.length?(o=m(n),this.each(function(e){var t;1===this.nodeType&&(null==(t=o?n.call(this,e,O(this).val()):n)?t="":"number"==typeof t?t+="":Array.isArray(t)&&(t=O.map(t,function(e){return null==e?"":e+""})),(r=O.valHooks[this.type]||O.valHooks[this.nodeName.toLowerCase()])&&"set"in r&&void 0!==r.set(this,t,"value")||(this.value=t))})):t?(r=O.valHooks[t.type]||O.valHooks[t.nodeName.toLowerCase()])&&"get"in r&&void 0!==(e=r.get(t,"value"))?e:"string"==typeof(e=t.value)?e.replace(wt,""):null==e?"":e:void 0}}),O.extend({valHooks:{option:{get:function(e){var t=O.find.attr(e,"value");return null!=t?t:vt(O.text(e))}},select:{get:function(e){var t,n,r,o=e.options,i=e.selectedIndex,a="select-one"===e.type,s=a?null:[],u=a?i+1:o.length;for(r=i<0?u:a?i:0;r<u;r++)if(((n=o[r]).selected||r===i)&&!n.disabled&&(!n.parentNode.disabled||!C(n.parentNode,"optgroup"))){if(t=O(n).val(),a)return t;s.push(t)}return s},set:function(e,t){for(var n,r,o=e.options,i=O.makeArray(t),a=o.length;a--;)((r=o[a]).selected=-1<O.inArray(O.valHooks.option.get(r),i))&&(n=!0);return n||(e.selectedIndex=-1),i}}}}),O.each(["radio","checkbox"],function(){O.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=-1<O.inArray(O(e).val(),t)}},v.checkOn||(O.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),v.focusin="onfocusin"in S;var xt=/^(?:focusinfocus|focusoutblur)$/,Tt=function(e){e.stopPropagation()};O.extend(O.event,{trigger:function(e,t,n,r){var o,i,a,s,u,c,l,f,p=[n||j],h=g.call(e,"type")?e.type:e,d=g.call(e,"namespace")?e.namespace.split("."):[];if(i=f=a=n=n||j,3!==n.nodeType&&8!==n.nodeType&&!xt.test(h+O.event.triggered)&&(-1<h.indexOf(".")&&(h=(d=h.split(".")).shift(),d.sort()),u=h.indexOf(":")<0&&"on"+h,(e=e[O.expando]?e:new O.Event(h,"object"==typeof e&&e)).isTrigger=r?2:3,e.namespace=d.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+d.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),t=null==t?[e]:O.makeArray(t,[e]),l=O.event.special[h]||{},r||!l.trigger||!1!==l.trigger.apply(n,t))){if(!r&&!l.noBubble&&!b(n)){for(s=l.delegateType||h,xt.test(s+h)||(i=i.parentNode);i;i=i.parentNode)p.push(i),a=i;a===(n.ownerDocument||j)&&p.push(a.defaultView||a.parentWindow||S)}for(o=0;(i=p[o++])&&!e.isPropagationStopped();)f=i,e.type=1<o?s:l.bindType||h,(c=(Z.get(i,"events")||{})[e.type]&&Z.get(i,"handle"))&&c.apply(i,t),(c=u&&i[u])&&c.apply&&V(i)&&(e.result=c.apply(i,t),!1===e.result&&e.preventDefault());return e.type=h,r||e.isDefaultPrevented()||l._default&&!1!==l._default.apply(p.pop(),t)||!V(n)||u&&m(n[h])&&!b(n)&&((a=n[u])&&(n[u]=null),O.event.triggered=h,e.isPropagationStopped()&&f.addEventListener(h,Tt),n[h](),e.isPropagationStopped()&&f.removeEventListener(h,Tt),O.event.triggered=void 0,a&&(n[u]=a)),e.result}},simulate:function(e,t,n){var r=O.extend(new O.Event,n,{type:e,isSimulated:!0});O.event.trigger(r,null,t)}}),O.fn.extend({trigger:function(e,t){return this.each(function(){O.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return O.event.trigger(e,t,n,!0)}}),v.focusin||O.each({focus:"focusin",blur:"focusout"},function(n,r){var o=function(e){O.event.simulate(r,e.target,O.event.fix(e))};O.event.special[r]={setup:function(){var e=this.ownerDocument||this,t=Z.access(e,r);t||e.addEventListener(n,o,!0),Z.access(e,r,(t||0)+1)},teardown:function(){var e=this.ownerDocument||this,t=Z.access(e,r)-1;t?Z.access(e,r,t):(e.removeEventListener(n,o,!0),Z.remove(e,r))}}});var St=S.location,jt=Date.now(),Ot=/\?/;O.parseXML=function(e){var t;if(!e||"string"!=typeof e)return null;try{t=(new S.DOMParser).parseFromString(e,"text/xml")}catch(e){t=void 0}return t&&!t.getElementsByTagName("parsererror").length||O.error("Invalid XML: "+e),t};var Et=/\[\]$/,Ct=/\r?\n/g,At=/^(?:submit|button|image|reset|file)$/i,kt=/^(?:input|select|textarea|keygen)/i;function Nt(n,e,r,o){var t;if(Array.isArray(e))O.each(e,function(e,t){r||Et.test(n)?o(n,t):Nt(n+"["+("object"==typeof t&&null!=t?e:"")+"]",t,r,o)});else if(r||"object"!==x(e))o(n,e);else for(t in e)Nt(n+"["+t+"]",e[t],r,o)}O.param=function(e,t){var n,r=[],o=function(e,t){var n=m(t)?t():t;r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(null==e)return"";if(Array.isArray(e)||e.jquery&&!O.isPlainObject(e))O.each(e,function(){o(this.name,this.value)});else for(n in e)Nt(n,e[n],t,o);return r.join("&")},O.fn.extend({serialize:function(){return O.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=O.prop(this,"elements");return e?O.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!O(this).is(":disabled")&&kt.test(this.nodeName)&&!At.test(e)&&(this.checked||!fe.test(e))}).map(function(e,t){var n=O(this).val();return null==n?null:Array.isArray(n)?O.map(n,function(e){return{name:t.name,value:e.replace(Ct,"\r\n")}}):{name:t.name,value:n.replace(Ct,"\r\n")}}).get()}});var It=/%20/g,Dt=/#.*$/,Mt=/([?&])_=[^&]*/,Pt=/^(.*?):[ \t]*([^\r\n]*)$/gm,Lt=/^(?:GET|HEAD)$/,Rt=/^\/\//,_t={},qt={},Ft="*/".concat("*"),Ht=j.createElement("a");function $t(i){return function(e,t){"string"!=typeof e&&(t=e,e="*");var n,r=0,o=e.toLowerCase().match(L)||[];if(m(t))for(;n=o[r++];)"+"===n[0]?(n=n.slice(1)||"*",(i[n]=i[n]||[]).unshift(t)):(i[n]=i[n]||[]).push(t)}}function Wt(t,o,i,a){var s={},u=t===qt;function c(e){var r;return s[e]=!0,O.each(t[e]||[],function(e,t){var n=t(o,i,a);return"string"!=typeof n||u||s[n]?u?!(r=n):void 0:(o.dataTypes.unshift(n),c(n),!1)}),r}return c(o.dataTypes[0])||!s["*"]&&c("*")}function Bt(e,t){var n,r,o=O.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((o[n]?e:r||(r={}))[n]=t[n]);return r&&O.extend(!0,e,r),e}Ht.href=St.href,O.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:St.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(St.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Ft,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":O.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Bt(Bt(e,O.ajaxSettings),t):Bt(O.ajaxSettings,e)},ajaxPrefilter:$t(_t),ajaxTransport:$t(qt),ajax:function(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var l,f,p,n,h,r,d,y,o,i,g=O.ajaxSetup({},t),v=g.context||g,m=g.context&&(v.nodeType||v.jquery)?O(v):O.event,b=O.Deferred(),w=O.Callbacks("once memory"),x=g.statusCode||{},a={},s={},u="canceled",T={readyState:0,getResponseHeader:function(e){var t;if(d){if(!n)for(n={};t=Pt.exec(p);)n[t[1].toLowerCase()+" "]=(n[t[1].toLowerCase()+" "]||[]).concat(t[2]);t=n[e.toLowerCase()+" "]}return null==t?null:t.join(", ")},getAllResponseHeaders:function(){return d?p:null},setRequestHeader:function(e,t){return null==d&&(e=s[e.toLowerCase()]=s[e.toLowerCase()]||e,a[e]=t),this},overrideMimeType:function(e){return null==d&&(g.mimeType=e),this},statusCode:function(e){var t;if(e)if(d)T.always(e[T.status]);else for(t in e)x[t]=[x[t],e[t]];return this},abort:function(e){var t=e||u;return l&&l.abort(t),c(0,t),this}};if(b.promise(T),g.url=((e||g.url||St.href)+"").replace(Rt,St.protocol+"//"),g.type=t.method||t.type||g.method||g.type,g.dataTypes=(g.dataType||"*").toLowerCase().match(L)||[""],null==g.crossDomain){r=j.createElement("a");try{r.href=g.url,r.href=r.href,g.crossDomain=Ht.protocol+"//"+Ht.host!=r.protocol+"//"+r.host}catch(e){g.crossDomain=!0}}if(g.data&&g.processData&&"string"!=typeof g.data&&(g.data=O.param(g.data,g.traditional)),Wt(_t,g,t,T),d)return T;for(o in(y=O.event&&g.global)&&0==O.active++&&O.event.trigger("ajaxStart"),g.type=g.type.toUpperCase(),g.hasContent=!Lt.test(g.type),f=g.url.replace(Dt,""),g.hasContent?g.data&&g.processData&&0===(g.contentType||"").indexOf("application/x-www-form-urlencoded")&&(g.data=g.data.replace(It,"+")):(i=g.url.slice(f.length),g.data&&(g.processData||"string"==typeof g.data)&&(f+=(Ot.test(f)?"&":"?")+g.data,delete g.data),!1===g.cache&&(f=f.replace(Mt,"$1"),i=(Ot.test(f)?"&":"?")+"_="+jt+++i),g.url=f+i),g.ifModified&&(O.lastModified[f]&&T.setRequestHeader("If-Modified-Since",O.lastModified[f]),O.etag[f]&&T.setRequestHeader("If-None-Match",O.etag[f])),(g.data&&g.hasContent&&!1!==g.contentType||t.contentType)&&T.setRequestHeader("Content-Type",g.contentType),T.setRequestHeader("Accept",g.dataTypes[0]&&g.accepts[g.dataTypes[0]]?g.accepts[g.dataTypes[0]]+("*"!==g.dataTypes[0]?", "+Ft+"; q=0.01":""):g.accepts["*"]),g.headers)T.setRequestHeader(o,g.headers[o]);if(g.beforeSend&&(!1===g.beforeSend.call(v,T,g)||d))return T.abort();if(u="abort",w.add(g.complete),T.done(g.success),T.fail(g.error),l=Wt(qt,g,t,T)){if(T.readyState=1,y&&m.trigger("ajaxSend",[T,g]),d)return T;g.async&&0<g.timeout&&(h=S.setTimeout(function(){T.abort("timeout")},g.timeout));try{d=!1,l.send(a,c)}catch(e){if(d)throw e;c(-1,e)}}else c(-1,"No Transport");function c(e,t,n,r){var o,i,a,s,u,c=t;d||(d=!0,h&&S.clearTimeout(h),l=void 0,p=r||"",T.readyState=0<e?4:0,o=200<=e&&e<300||304===e,n&&(s=function(e,t,n){for(var r,o,i,a,s=e.contents,u=e.dataTypes;"*"===u[0];)u.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(o in s)if(s[o]&&s[o].test(r)){u.unshift(o);break}if(u[0]in n)i=u[0];else{for(o in n){if(!u[0]||e.converters[o+" "+u[0]]){i=o;break}a||(a=o)}i=i||a}if(i)return i!==u[0]&&u.unshift(i),n[i]}(g,T,n)),s=function(e,t,n,r){var o,i,a,s,u,c={},l=e.dataTypes.slice();if(l[1])for(a in e.converters)c[a.toLowerCase()]=e.converters[a];for(i=l.shift();i;)if(e.responseFields[i]&&(n[e.responseFields[i]]=t),!u&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),u=i,i=l.shift())if("*"===i)i=u;else if("*"!==u&&u!==i){if(!(a=c[u+" "+i]||c["* "+i]))for(o in c)if((s=o.split(" "))[1]===i&&(a=c[u+" "+s[0]]||c["* "+s[0]])){!0===a?a=c[o]:!0!==c[o]&&(i=s[0],l.unshift(s[1]));break}if(!0!==a)if(a&&e.throws)t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+u+" to "+i}}}return{state:"success",data:t}}(g,s,T,o),o?(g.ifModified&&((u=T.getResponseHeader("Last-Modified"))&&(O.lastModified[f]=u),(u=T.getResponseHeader("etag"))&&(O.etag[f]=u)),204===e||"HEAD"===g.type?c="nocontent":304===e?c="notmodified":(c=s.state,i=s.data,o=!(a=s.error))):(a=c,!e&&c||(c="error",e<0&&(e=0))),T.status=e,T.statusText=(t||c)+"",o?b.resolveWith(v,[i,c,T]):b.rejectWith(v,[T,c,a]),T.statusCode(x),x=void 0,y&&m.trigger(o?"ajaxSuccess":"ajaxError",[T,g,o?i:a]),w.fireWith(v,[T,c]),y&&(m.trigger("ajaxComplete",[T,g]),--O.active||O.event.trigger("ajaxStop")))}return T},getJSON:function(e,t,n){return O.get(e,t,n,"json")},getScript:function(e,t){return O.get(e,void 0,t,"script")}}),O.each(["get","post"],function(e,o){O[o]=function(e,t,n,r){return m(t)&&(r=r||n,n=t,t=void 0),O.ajax(O.extend({url:e,type:o,dataType:r,data:t,success:n},O.isPlainObject(e)&&e))}}),O._evalUrl=function(e,t){return O.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(e){O.globalEval(e,t)}})},O.fn.extend({wrapAll:function(e){var t;return this[0]&&(m(e)&&(e=e.call(this[0])),t=O(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(n){return m(n)?this.each(function(e){O(this).wrapInner(n.call(this,e))}):this.each(function(){var e=O(this),t=e.contents();t.length?t.wrapAll(n):e.append(n)})},wrap:function(t){var n=m(t);return this.each(function(e){O(this).wrapAll(n?t.call(this,e):t)})},unwrap:function(e){return this.parent(e).not("body").each(function(){O(this).replaceWith(this.childNodes)}),this}}),O.expr.pseudos.hidden=function(e){return!O.expr.pseudos.visible(e)},O.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},O.ajaxSettings.xhr=function(){try{return new S.XMLHttpRequest}catch(e){}};var zt={0:200,1223:204},Ut=O.ajaxSettings.xhr();v.cors=!!Ut&&"withCredentials"in Ut,v.ajax=Ut=!!Ut,O.ajaxTransport(function(o){var i,a;if(v.cors||Ut&&!o.crossDomain)return{send:function(e,t){var n,r=o.xhr();if(r.open(o.type,o.url,o.async,o.username,o.password),o.xhrFields)for(n in o.xhrFields)r[n]=o.xhrFields[n];for(n in o.mimeType&&r.overrideMimeType&&r.overrideMimeType(o.mimeType),o.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest"),e)r.setRequestHeader(n,e[n]);i=function(e){return function(){i&&(i=a=r.onload=r.onerror=r.onabort=r.ontimeout=r.onreadystatechange=null,"abort"===e?r.abort():"error"===e?"number"!=typeof r.status?t(0,"error"):t(r.status,r.statusText):t(zt[r.status]||r.status,r.statusText,"text"!==(r.responseType||"text")||"string"!=typeof r.responseText?{binary:r.response}:{text:r.responseText},r.getAllResponseHeaders()))}},r.onload=i(),a=r.onerror=r.ontimeout=i("error"),void 0!==r.onabort?r.onabort=a:r.onreadystatechange=function(){4===r.readyState&&S.setTimeout(function(){i&&a()})},i=i("abort");try{r.send(o.hasContent&&o.data||null)}catch(e){if(i)throw e}},abort:function(){i&&i()}}}),O.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),O.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return O.globalEval(e),e}}}),O.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),O.ajaxTransport("script",function(n){var r,o;if(n.crossDomain||n.scriptAttrs)return{send:function(e,t){r=O("<script>").attr(n.scriptAttrs||{}).prop({charset:n.scriptCharset,src:n.url}).on("load error",o=function(e){r.remove(),o=null,e&&t("error"===e.type?404:200,e.type)}),j.head.appendChild(r[0])},abort:function(){o&&o()}}});var Gt,Vt=[],Xt=/(=)\?(?=&|$)|\?\?/;O.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Vt.pop()||O.expando+"_"+jt++;return this[e]=!0,e}}),O.ajaxPrefilter("json jsonp",function(e,t,n){var r,o,i,a=!1!==e.jsonp&&(Xt.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Xt.test(e.data)&&"data");if(a||"jsonp"===e.dataTypes[0])return r=e.jsonpCallback=m(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(Xt,"$1"+r):!1!==e.jsonp&&(e.url+=(Ot.test(e.url)?"&":"?")+e.jsonp+"="+r),e.converters["script json"]=function(){return i||O.error(r+" was not called"),i[0]},e.dataTypes[0]="json",o=S[r],S[r]=function(){i=arguments},n.always(function(){void 0===o?O(S).removeProp(r):S[r]=o,e[r]&&(e.jsonpCallback=t.jsonpCallback,Vt.push(r)),i&&m(o)&&o(i[0]),i=o=void 0}),"script"}),v.createHTMLDocument=((Gt=j.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===Gt.childNodes.length),O.parseHTML=function(e,t,n){return"string"!=typeof e?[]:("boolean"==typeof t&&(n=t,t=!1),t||(v.createHTMLDocument?((r=(t=j.implementation.createHTMLDocument("")).createElement("base")).href=j.location.href,t.head.appendChild(r)):t=j),i=!n&&[],(o=A.exec(e))?[t.createElement(o[1])]:(o=we([e],t,i),i&&i.length&&O(i).remove(),O.merge([],o.childNodes)));var r,o,i},O.fn.load=function(e,t,n){var r,o,i,a=this,s=e.indexOf(" ");return-1<s&&(r=vt(e.slice(s)),e=e.slice(0,s)),m(t)?(n=t,t=void 0):t&&"object"==typeof t&&(o="POST"),0<a.length&&O.ajax({url:e,type:o||"GET",dataType:"html",data:t}).done(function(e){i=arguments,a.html(r?O("<div>").append(O.parseHTML(e)).find(r):e)}).always(n&&function(e,t){a.each(function(){n.apply(this,i||[e.responseText,t,e])})}),this},O.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){O.fn[t]=function(e){return this.on(t,e)}}),O.expr.pseudos.animated=function(t){return O.grep(O.timers,function(e){return t===e.elem}).length},O.offset={setOffset:function(e,t,n){var r,o,i,a,s,u,c=O.css(e,"position"),l=O(e),f={};"static"===c&&(e.style.position="relative"),s=l.offset(),i=O.css(e,"top"),u=O.css(e,"left"),o=("absolute"===c||"fixed"===c)&&-1<(i+u).indexOf("auto")?(a=(r=l.position()).top,r.left):(a=parseFloat(i)||0,parseFloat(u)||0),m(t)&&(t=t.call(e,n,O.extend({},s))),null!=t.top&&(f.top=t.top-s.top+a),null!=t.left&&(f.left=t.left-s.left+o),"using"in t?t.using.call(e,f):l.css(f)}},O.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){O.offset.setOffset(this,t,e)});var e,n,r=this[0];return r?r.getClientRects().length?(e=r.getBoundingClientRect(),n=r.ownerDocument.defaultView,{top:e.top+n.pageYOffset,left:e.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n,r=this[0],o={top:0,left:0};if("fixed"===O.css(r,"position"))t=r.getBoundingClientRect();else{for(t=this.offset(),n=r.ownerDocument,e=r.offsetParent||n.documentElement;e&&(e===n.body||e===n.documentElement)&&"static"===O.css(e,"position");)e=e.parentNode;e&&e!==r&&1===e.nodeType&&((o=O(e).offset()).top+=O.css(e,"borderTopWidth",!0),o.left+=O.css(e,"borderLeftWidth",!0))}return{top:t.top-o.top-O.css(r,"marginTop",!0),left:t.left-o.left-O.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===O.css(e,"position");)e=e.offsetParent;return e||re})}}),O.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,o){var i="pageYOffset"===o;O.fn[t]=function(e){return W(this,function(e,t,n){var r;if(b(e)?r=e:9===e.nodeType&&(r=e.defaultView),void 0===n)return r?r[o]:e[t];r?r.scrollTo(i?r.pageXOffset:n,i?n:r.pageYOffset):e[t]=n},t,e,arguments.length)}}),O.each(["top","left"],function(e,n){O.cssHooks[n]=Be(v.pixelPosition,function(e,t){if(t)return t=We(e,n),Fe.test(t)?O(e).position()[n]+"px":t})}),O.each({Height:"height",Width:"width"},function(a,s){O.each({padding:"inner"+a,content:s,"":"outer"+a},function(r,i){O.fn[i]=function(e,t){var n=arguments.length&&(r||"boolean"!=typeof e),o=r||(!0===e||!0===t?"margin":"border");return W(this,function(e,t,n){var r;return b(e)?0===i.indexOf("outer")?e["inner"+a]:e.document.documentElement["client"+a]:9===e.nodeType?(r=e.documentElement,Math.max(e.body["scroll"+a],r["scroll"+a],e.body["offset"+a],r["offset"+a],r["client"+a])):void 0===n?O.css(e,t,o):O.style(e,t,n,o)},s,n?e:void 0,n)}})}),O.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,n){O.fn[n]=function(e,t){return 0<arguments.length?this.on(n,null,e,t):this.trigger(n)}}),O.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),O.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}}),O.proxy=function(e,t){var n,r,o;if("string"==typeof t&&(n=e[t],t=e,e=n),m(e))return r=s.call(arguments,2),(o=function(){return e.apply(t||this,r.concat(s.call(arguments)))}).guid=e.guid=e.guid||O.guid++,o},O.holdReady=function(e){e?O.readyWait++:O.ready(!0)},O.isArray=Array.isArray,O.parseJSON=JSON.parse,O.nodeName=C,O.isFunction=m,O.isWindow=b,O.camelCase=G,O.type=x,O.now=Date.now,O.isNumeric=function(e){var t=O.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},"function"==typeof define&&define.amd&&define("jquery",[],function(){return O});var Zt=S.jQuery,Jt=S.$;return O.noConflict=function(e){return S.$===O&&(S.$=Jt),e&&S.jQuery===O&&(S.jQuery=Zt),O},e||(S.jQuery=S.$=O),O}),function(e,l){var r,t=e.jQuery||e.Cowboy||(e.Cowboy={});t.throttle=r=function(o,i,a,s){var u,c=0;function e(){var e=this,t=+new Date-c,n=arguments;function r(){c=+new Date,a.apply(e,n)}s&&!u&&r(),u&&clearTimeout(u),s===l&&o<t?r():!0!==i&&(u=setTimeout(s?function(){u=l}:r,s===l?o-t:o))}return"boolean"!=typeof i&&(s=a,a=i,i=l),t.guid&&(e.guid=a.guid=a.guid||t.guid++),e},t.debounce=function(e,t,n){return n===l?r(e,t,!1):r(e,n,!1!==t)}}(this),function(e,t){"function"==typeof define&&define.amd?define("ev-emitter/ev-emitter",t):"object"==typeof module&&module.exports?module.exports=t():e.EvEmitter=t()}(this,function(){function e(){}var t=e.prototype;return t.on=function(e,t){if(e&&t){var n=this._events=this._events||{},r=n[e]=n[e]||[];return-1==r.indexOf(t)&&r.push(t),this}},t.once=function(e,t){if(e&&t){this.on(e,t);var n=this._onceEvents=this._onceEvents||{};return(n[e]=n[e]||[])[t]=!0,this}},t.off=function(e,t){var n=this._events&&this._events[e];if(n&&n.length){var r=n.indexOf(t);return-1!=r&&n.splice(r,1),this}},t.emitEvent=function(e,t){var n=this._events&&this._events[e];if(n&&n.length){var r=0,o=n[r];t=t||[];for(var i=this._onceEvents&&this._onceEvents[e];o;){var a=i&&i[o];a&&(this.off(e,o),delete i[o]),o.apply(this,t),o=n[r+=a?0:1]}return this}},e}),function(t,n){"use strict";"function"==typeof define&&define.amd?define(["ev-emitter/ev-emitter"],function(e){return n(t,e)}):"object"==typeof module&&module.exports?module.exports=n(t,require("ev-emitter")):t.imagesLoaded=n(t,t.EvEmitter)}(window,function(t,e){function r(e,t){for(var n in t)e[n]=t[n];return e}function o(e,t,n){return this instanceof o?("string"==typeof e&&(e=document.querySelectorAll(e)),this.elements=function(e){var t=[];if(Array.isArray(e))t=e;else if("number"==typeof e.length)for(var n=0;n<e.length;n++)t.push(e[n]);else t.push(e);return t}(e),this.options=r({},this.options),"function"==typeof t?n=t:r(this.options,t),n&&this.on("always",n),this.getImages(),a&&(this.jqDeferred=new a.Deferred),void setTimeout(function(){this.check()}.bind(this))):new o(e,t,n)}function n(e){this.img=e}function i(e,t){this.url=e,this.element=t,this.img=new Image}var a=t.jQuery,s=t.console;(o.prototype=Object.create(e.prototype)).options={},o.prototype.getImages=function(){this.images=[],this.elements.forEach(this.addElementImages,this)},o.prototype.addElementImages=function(e){"IMG"==e.nodeName&&this.addImage(e),!0===this.options.background&&this.addElementBackgroundImages(e);var t=e.nodeType;if(t&&u[t]){for(var n=e.querySelectorAll("img"),r=0;r<n.length;r++){var o=n[r];this.addImage(o)}if("string"==typeof this.options.background){var i=e.querySelectorAll(this.options.background);for(r=0;r<i.length;r++){var a=i[r];this.addElementBackgroundImages(a)}}}};var u={1:!0,9:!0,11:!0};return o.prototype.addElementBackgroundImages=function(e){var t=getComputedStyle(e);if(t)for(var n=/url\((['"])?(.*?)\1\)/gi,r=n.exec(t.backgroundImage);null!==r;){var o=r&&r[2];o&&this.addBackground(o,e),r=n.exec(t.backgroundImage)}},o.prototype.addImage=function(e){var t=new n(e);this.images.push(t)},o.prototype.addBackground=function(e,t){var n=new i(e,t);this.images.push(n)},o.prototype.check=function(){function t(e,t,n){setTimeout(function(){r.progress(e,t,n)})}var r=this;return this.progressedCount=0,this.hasAnyBroken=!1,this.images.length?void this.images.forEach(function(e){e.once("progress",t),e.check()}):void this.complete()},o.prototype.progress=function(e,t,n){this.progressedCount++,this.hasAnyBroken=this.hasAnyBroken||!e.isLoaded,this.emitEvent("progress",[this,e,t]),this.jqDeferred&&this.jqDeferred.notify&&this.jqDeferred.notify(this,e),this.progressedCount==this.images.length&&this.complete(),this.options.debug&&s&&s.log("progress: "+n,e,t)},o.prototype.complete=function(){var e=this.hasAnyBroken?"fail":"done";if(this.isComplete=!0,this.emitEvent(e,[this]),this.emitEvent("always",[this]),this.jqDeferred){var t=this.hasAnyBroken?"reject":"resolve";this.jqDeferred[t](this)}},(n.prototype=Object.create(e.prototype)).check=function(){return this.getIsImageComplete()?void this.confirm(0!==this.img.naturalWidth,"naturalWidth"):(this.proxyImage=new Image,this.proxyImage.addEventListener("load",this),this.proxyImage.addEventListener("error",this),this.img.addEventListener("load",this),this.img.addEventListener("error",this),void(this.proxyImage.src=this.img.src))},n.prototype.getIsImageComplete=function(){return this.img.complete&&void 0!==this.img.naturalWidth},n.prototype.confirm=function(e,t){this.isLoaded=e,this.emitEvent("progress",[this,this.img,t])},n.prototype.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},n.prototype.onload=function(){this.confirm(!0,"onload"),this.unbindEvents()},n.prototype.onerror=function(){this.confirm(!1,"onerror"),this.unbindEvents()},n.prototype.unbindEvents=function(){this.proxyImage.removeEventListener("load",this),this.proxyImage.removeEventListener("error",this),this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},(i.prototype=Object.create(n.prototype)).check=function(){this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.img.src=this.url,this.getIsImageComplete()&&(this.confirm(0!==this.img.naturalWidth,"naturalWidth"),this.unbindEvents())},i.prototype.unbindEvents=function(){this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},i.prototype.confirm=function(e,t){this.isLoaded=e,this.emitEvent("progress",[this,this.element,t])},o.makeJQueryPlugin=function(e){(e=e||t.jQuery)&&((a=e).fn.imagesLoaded=function(e,t){return new o(this,e,t).jqDeferred.promise(a(this))})},o.makeJQueryPlugin(),o});var LZString={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_f:String.fromCharCode,compressToBase64:function(e){if(null==e)return"";var t,n,r,o,i,a,s,u="",c=0;for(e=LZString.compress(e);c<2*e.length;)c%2==0?(t=e.charCodeAt(c/2)>>8,n=255&e.charCodeAt(c/2),r=c/2+1<e.length?e.charCodeAt(c/2+1)>>8:NaN):(t=255&e.charCodeAt((c-1)/2),(c+1)/2<e.length?(n=e.charCodeAt((c+1)/2)>>8,r=255&e.charCodeAt((c+1)/2)):n=r=NaN),c+=3,o=t>>2,i=(3&t)<<4|n>>4,a=(15&n)<<2|r>>6,s=63&r,isNaN(n)?a=s=64:isNaN(r)&&(s=64),u=u+LZString._keyStr.charAt(o)+LZString._keyStr.charAt(i)+LZString._keyStr.charAt(a)+LZString._keyStr.charAt(s);return u},decompressFromBase64:function(e){if(null==e)return"";var t,n,r,o,i,a,s,u="",c=0,l=0,f=LZString._f;for(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");l<e.length;)n=LZString._keyStr.indexOf(e.charAt(l++))<<2|(i=LZString._keyStr.indexOf(e.charAt(l++)))>>4,r=(15&i)<<4|(a=LZString._keyStr.indexOf(e.charAt(l++)))>>2,o=(3&a)<<6|(s=LZString._keyStr.indexOf(e.charAt(l++))),c%2==0?(t=n<<8,64!=a&&(u+=f(t|r)),64!=s&&(t=o<<8)):(u+=f(t|n),64!=a&&(t=r<<8),64!=s&&(u+=f(t|o))),c+=3;return LZString.decompress(u)},compressToUTF16:function(e){if(null==e)return"";var t,n,r,o="",i=0,a=LZString._f;for(e=LZString.compress(e),t=0;t<e.length;t++)switch(n=e.charCodeAt(t),i++){case 0:o+=a(32+(n>>1)),r=(1&n)<<14;break;case 1:o+=a(r+(n>>2)+32),r=(3&n)<<13;break;case 2:o+=a(r+(n>>3)+32),r=(7&n)<<12;break;case 3:o+=a(r+(n>>4)+32),r=(15&n)<<11;break;case 4:o+=a(r+(n>>5)+32),r=(31&n)<<10;break;case 5:o+=a(r+(n>>6)+32),r=(63&n)<<9;break;case 6:o+=a(r+(n>>7)+32),r=(127&n)<<8;break;case 7:o+=a(r+(n>>8)+32),r=(255&n)<<7;break;case 8:o+=a(r+(n>>9)+32),r=(511&n)<<6;break;case 9:o+=a(r+(n>>10)+32),r=(1023&n)<<5;break;case 10:o+=a(r+(n>>11)+32),r=(2047&n)<<4;break;case 11:o+=a(r+(n>>12)+32),r=(4095&n)<<3;break;case 12:o+=a(r+(n>>13)+32),r=(8191&n)<<2;break;case 13:o+=a(r+(n>>14)+32),r=(16383&n)<<1;break;case 14:o+=a(r+(n>>15)+32,32+(32767&n)),i=0}return o+a(r+32)},decompressFromUTF16:function(e){if(null==e)return"";for(var t,n,r="",o=0,i=0,a=LZString._f;i<e.length;){switch(n=e.charCodeAt(i)-32,o++){case 0:t=n<<1;break;case 1:r+=a(t|n>>14),t=(16383&n)<<2;break;case 2:r+=a(t|n>>13),t=(8191&n)<<3;break;case 3:r+=a(t|n>>12),t=(4095&n)<<4;break;case 4:r+=a(t|n>>11),t=(2047&n)<<5;break;case 5:r+=a(t|n>>10),t=(1023&n)<<6;break;case 6:r+=a(t|n>>9),t=(511&n)<<7;break;case 7:r+=a(t|n>>8),t=(255&n)<<8;break;case 8:r+=a(t|n>>7),t=(127&n)<<9;break;case 9:r+=a(t|n>>6),t=(63&n)<<10;break;case 10:r+=a(t|n>>5),t=(31&n)<<11;break;case 11:r+=a(t|n>>4),t=(15&n)<<12;break;case 12:r+=a(t|n>>3),t=(7&n)<<13;break;case 13:r+=a(t|n>>2),t=(3&n)<<14;break;case 14:r+=a(t|n>>1),t=(1&n)<<15;break;case 15:r+=a(t|n),o=0}i++}return LZString.decompress(r)},compress:function(e){if(null==e)return"";var t,n,r,o={},i={},a="",s="",u="",c=2,l=3,f=2,p="",h=0,d=0,y=LZString._f;for(r=0;r<e.length;r+=1)if(a=e.charAt(r),Object.prototype.hasOwnProperty.call(o,a)||(o[a]=l++,i[a]=!0),s=u+a,Object.prototype.hasOwnProperty.call(o,s))u=s;else{if(Object.prototype.hasOwnProperty.call(i,u)){if(u.charCodeAt(0)<256){for(t=0;t<f;t++)h<<=1,15==d?(d=0,p+=y(h),h=0):d++;for(n=u.charCodeAt(0),t=0;t<8;t++)h=h<<1|1&n,15==d?(d=0,p+=y(h),h=0):d++,n>>=1}else{for(n=1,t=0;t<f;t++)h=h<<1|n,15==d?(d=0,p+=y(h),h=0):d++,n=0;for(n=u.charCodeAt(0),t=0;t<16;t++)h=h<<1|1&n,15==d?(d=0,p+=y(h),h=0):d++,n>>=1}0==--c&&(c=Math.pow(2,f),f++),delete i[u]}else for(n=o[u],t=0;t<f;t++)h=h<<1|1&n,15==d?(d=0,p+=y(h),h=0):d++,n>>=1;0==--c&&(c=Math.pow(2,f),f++),o[s]=l++,u=String(a)}if(""!==u){if(Object.prototype.hasOwnProperty.call(i,u)){if(u.charCodeAt(0)<256){for(t=0;t<f;t++)h<<=1,15==d?(d=0,p+=y(h),h=0):d++;for(n=u.charCodeAt(0),t=0;t<8;t++)h=h<<1|1&n,15==d?(d=0,p+=y(h),h=0):d++,n>>=1}else{for(n=1,t=0;t<f;t++)h=h<<1|n,15==d?(d=0,p+=y(h),h=0):d++,n=0;for(n=u.charCodeAt(0),t=0;t<16;t++)h=h<<1|1&n,15==d?(d=0,p+=y(h),h=0):d++,n>>=1}0==--c&&(c=Math.pow(2,f),f++),delete i[u]}else for(n=o[u],t=0;t<f;t++)h=h<<1|1&n,15==d?(d=0,p+=y(h),h=0):d++,n>>=1;0==--c&&(c=Math.pow(2,f),f++)}for(n=2,t=0;t<f;t++)h=h<<1|1&n,15==d?(d=0,p+=y(h),h=0):d++,n>>=1;for(;;){if(h<<=1,15==d){p+=y(h);break}d++}return p},decompress:function(e){if(null==e)return"";if(""==e)return null;var t,n,r,o,i,a,s,u=[],c=4,l=4,f=3,p="",h="",d=LZString._f,y={string:e,val:e.charCodeAt(0),position:32768,index:1};for(t=0;t<3;t+=1)u[t]=t;for(r=0,i=Math.pow(2,2),a=1;a!=i;)o=y.val&y.position,y.position>>=1,0==y.position&&(y.position=32768,y.val=y.string.charCodeAt(y.index++)),r|=(0<o?1:0)*a,a<<=1;switch(r){case 0:for(r=0,i=Math.pow(2,8),a=1;a!=i;)o=y.val&y.position,y.position>>=1,0==y.position&&(y.position=32768,y.val=y.string.charCodeAt(y.index++)),r|=(0<o?1:0)*a,a<<=1;s=d(r);break;case 1:for(r=0,i=Math.pow(2,16),a=1;a!=i;)o=y.val&y.position,y.position>>=1,0==y.position&&(y.position=32768,y.val=y.string.charCodeAt(y.index++)),r|=(0<o?1:0)*a,a<<=1;s=d(r);break;case 2:return""}for(n=h=u[3]=s;;){if(y.index>y.string.length)return"";for(r=0,i=Math.pow(2,f),a=1;a!=i;)o=y.val&y.position,y.position>>=1,0==y.position&&(y.position=32768,y.val=y.string.charCodeAt(y.index++)),r|=(0<o?1:0)*a,a<<=1;switch(s=r){case 0:for(r=0,i=Math.pow(2,8),a=1;a!=i;)o=y.val&y.position,y.position>>=1,0==y.position&&(y.position=32768,y.val=y.string.charCodeAt(y.index++)),r|=(0<o?1:0)*a,a<<=1;u[l++]=d(r),s=l-1,c--;break;case 1:for(r=0,i=Math.pow(2,16),a=1;a!=i;)o=y.val&y.position,y.position>>=1,0==y.position&&(y.position=32768,y.val=y.string.charCodeAt(y.index++)),r|=(0<o?1:0)*a,a<<=1;u[l++]=d(r),s=l-1,c--;break;case 2:return h}if(0==c&&(c=Math.pow(2,f),f++),u[s])p=u[s];else{if(s!==l)return null;p=n+n.charAt(0)}h+=p,u[l++]=n+p.charAt(0),n=p,0==--c&&(c=Math.pow(2,f),f++)}}};"undefined"!=typeof module&&null!=module&&(module.exports=LZString);var saveAs=saveAs||navigator.msSaveBlob&&navigator.msSaveBlob.bind(navigator)||function(h){"use strict";var d=h.document,n=h.URL||h.webkitURL||h,y=d.createElementNS("http://www.w3.org/1999/xhtml","a"),g="download"in y,v=h.webkitRequestFileSystem,m=h.requestFileSystem||v||h.mozRequestFileSystem,i=function(e){(h.setImmediate||h.setTimeout)(function(){throw e},0)},b="application/octet-stream",w=0,x=[],T=function(e,t,n){for(var r=(t=[].concat(t)).length;r--;){var o=e["on"+t[r]];if("function"==typeof o)try{o.call(e,n||e)}catch(e){i(e)}}},r=function(r,n){var e,o,t,i=this,a=r.type,s=!1,u=function(){var e=(h.URL||h.webkitURL||h).createObjectURL(r);return x.push(e),e},c=function(){T(i,"writestart progress write writeend".split(" "))},l=function(){!s&&e||(e=u()),o?o.location.href=e:window.open(e,"_blank"),i.readyState=i.DONE,c()},f=function(e){return function(){if(i.readyState!==i.DONE)return e.apply(this,arguments)}},p={create:!0,exclusive:!1};if(i.readyState=i.INIT,n||(n="download"),g)return e=u(),y.href=e,y.download=n,function(e){var t=d.createEvent("MouseEvents");t.initMouseEvent("click",!0,!1,h,0,0,0,0,0,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}(y),i.readyState=i.DONE,void c();h.chrome&&a&&a!==b&&(t=r.slice||r.webkitSlice,r=t.call(r,0,r.size,b),s=!0),v&&"download"!==n&&(n+=".download"),(a===b||v)&&(o=h),m?(w+=r.size,m(h.TEMPORARY,w,f(function(e){e.root.getDirectory("saved",p,f(function(e){var t=function(){e.getFile(n,p,f(function(n){n.createWriter(f(function(t){t.onwriteend=function(e){o.location.href=n.toURL(),x.push(n),i.readyState=i.DONE,T(i,"writeend",e)},t.onerror=function(){var e=t.error;e.code!==e.ABORT_ERR&&l()},"writestart progress write abort".split(" ").forEach(function(e){t["on"+e]=i["on"+e]}),t.write(r),i.abort=function(){t.abort(),i.readyState=i.DONE},i.readyState=i.WRITING}),l)}),l)};e.getFile(n,{create:!1},f(function(e){e.remove(),t()}),f(function(e){e.code===e.NOT_FOUND_ERR?t():l()}))}),l)}),l)):l()},e=r.prototype;return e.abort=function(){this.readyState=this.DONE,T(this,"abort")},e.readyState=e.INIT=0,e.WRITING=1,e.DONE=2,e.error=e.onwritestart=e.onprogress=e.onwrite=e.onabort=e.onerror=e.onwriteend=null,h.addEventListener("unload",function(){for(var e=x.length;e--;){var t=x[e];"string"==typeof t?n.revokeObjectURL(t):t.remove()}x.length=0},!1),function(e,t){return new r(e,t)}}(self);!function(a,s,u,e,t,n,r,o,c){function l(e){var t,n=e.length,a=this,r=0,o=a.i=a.j=0,i=a.S=[];for(n||(e=[n++]);r<256;)i[r]=r++;for(r=0;r<256;r++)i[r]=i[o=255&o+e[r%n]+(t=i[r])],i[o]=t;(a.g=function(e){for(var t,n=0,r=a.i,o=a.j,i=a.S;e--;)t=i[r=255&r+1],n=256*n+i[255&(i[r]=i[o=255&o+t])+(i[o]=t)];return a.i=r,a.j=o,n})(256)}function f(e,t){for(var n,r=e+"",o=0;o<r.length;)t[255&o]=255&(n^=19*t[255&o])+r.charCodeAt(o++);return p(t)}function p(e){return String.fromCharCode.apply(0,e)}var h=u.pow(256,6),d=u.pow(2,52),y=2*d,i=u.seedrandom=function(e,t,n){var r=[],o=f(function e(t,n){var r,o=[],i=typeof t;if(n&&"object"==i)for(r in t)try{o.push(e(t[r],n-1))}catch(e){}return o.length?o:"string"==i?t:t+"\0"}(t?[e,p(s)]:null==e?function(t){try{return a.crypto.getRandomValues(t=new Uint8Array(256)),p(t)}catch(e){return[+new Date,a,(t=a.navigator)&&t.plugins,a.screen,p(s)]}}():e,3),r),i=new l(r);return f(p(i.S),s),(n||function(e,t,n){return n?(u[c]=e,t):e})(function(){for(var e=i.g(6),t=h,n=0;e<d;)e=256*(e+n),t*=256,n=i.g(1);for(;y<=e;)e/=2,t/=2,n>>>=1;return(e+n)/t},o,this==u)};f(u[c](),s),r&&r.exports?r.exports=i:o&&o.amd&&o(function(){return i})}(this,[],Math,0,0,0,"object"==typeof module&&module,"function"==typeof define&&define,"random"),function(){for(var e=["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","table","time","timeEnd","timeline","timelineEnd","timeStamp","trace","warn"],t=e.length,n=function(){},r=window.console=window.console||{};t--;){var o=e[t];r[o]||(r[o]=n)}}()}else document.documentElement.setAttribute("data-init","lacking")</script><style id=style-normalize>/*! normalize.css v3.0.3 | MIT License | github.com/necolas/normalize.css */html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}article,aside,details,figcaption,figure,footer,header,hgroup,main,menu,nav,section,summary{display:block}audio,canvas,progress,video{display:inline-block;vertical-align:baseline}audio:not([controls]){display:none;height:0}[hidden],template{display:none}a{background-color:transparent}a:active,a:hover{outline:0}abbr[title]{border-bottom:1px dotted}b,strong{font-weight:700}dfn{font-style:italic}h1{font-size:2em;margin:.67em 0}mark{background:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sup{top:-.5em}sub{bottom:-.25em}img{border:0}svg:not(:root){overflow:hidden}figure{margin:1em 40px}hr{box-sizing:content-box;height:0}pre{overflow:auto}code,kbd,pre,samp{font-family:monospace,monospace;font-size:1em}button,input,optgroup,select,textarea{color:inherit;font:inherit;margin:0}button{overflow:visible}button,select{text-transform:none}button,html input[type=button],input[type=reset],input[type=submit]{-webkit-appearance:button;cursor:pointer}button[disabled],html input[disabled]{cursor:default}button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}input{line-height:normal}input[type=checkbox],input[type=radio]{box-sizing:border-box;padding:0}input[type=number]::-webkit-inner-spin-button,input[type=number]::-webkit-outer-spin-button{height:auto}input[type=search]{-webkit-appearance:textfield;box-sizing:content-box}input[type=search]::-webkit-search-cancel-button,input[type=search]::-webkit-search-decoration{-webkit-appearance:none}fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}legend{border:0;padding:0}textarea{overflow:auto}optgroup{font-weight:700}table{border-collapse:collapse;border-spacing:0}td,th{padding:0}</style><style id=style-init-screen>@-webkit-keyframes init-loading-spin{0%{-webkit-transform:rotate(0);transform:rotate(0)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@-o-keyframes init-loading-spin{0%{-o-transform:rotate(0);transform:rotate(0)}100%{-o-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes init-loading-spin{0%{-webkit-transform:rotate(0);-o-transform:rotate(0);transform:rotate(0)}100%{-webkit-transform:rotate(360deg);-o-transform:rotate(360deg);transform:rotate(360deg)}}#init-screen{display:none;z-index:100000;position:fixed;top:0;left:0;height:100%;width:100%;font:28px/1 Helmet,Freesans,sans-serif;font-weight:700;color:#eee;background-color:#111;text-align:center}#init-screen>div{display:none;position:relative;margin:0 auto;max-width:1136px;top:25%}html[data-init=lacking] #init-screen,html[data-init=loading] #init-screen,html[data-init=no-js] #init-screen{display:block}html[data-init=lacking] #init-lacking,html[data-init=no-js] #init-no-js{display:block;padding:0 1em}html[data-init=no-js] #init-no-js{color:red}html[data-init=loading] #init-loading{display:block;border:24px solid transparent;border-radius:50%;border-top-color:#7f7f7f;border-bottom-color:#7f7f7f;width:100px;height:100px;-webkit-animation:init-loading-spin 2s linear infinite;-o-animation:init-loading-spin 2s linear infinite;animation:init-loading-spin 2s linear infinite}html[data-init=loading] #init-loading>div{text-indent:9999em;overflow:hidden;white-space:nowrap}html[data-init=loading] #passages,html[data-init=loading] #ui-bar{display:none}</style><style id=style-font>@font-face{font-family:tme-fa-icons;src:url(data:application/octet-stream;base64,d09GRgABAAAAACWoAA4AAAAAQhQAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABPUy8yAAABRAAAAEQAAABWPihI/2NtYXAAAAGIAAAAOgAAAUrQXRm3Y3Z0IAAAAcQAAAAKAAAACgAAAABmcGdtAAAB0AAABZQAAAtwiJCQWWdhc3AAAAdkAAAACAAAAAgAAAAQZ2x5ZgAAB2wAABjCAAAq+uJ4WNtoZWFkAAAgMAAAADQAAAA2BZlJs2hoZWEAACBkAAAAIAAAACQIJwQZaG10eAAAIIQAAABuAAABOPTeAABsb2NhAAAg9AAAAJ4AAACeojKW6m1heHAAACGUAAAAIAAAACAA6gvwbmFtZQAAIbQAAAGPAAAC/eLsyKlwb3N0AAAjRAAAAfwAAAM0412SIHByZXAAACVAAAAAZQAAAHvdawOFeJxjYGRWYZzAwMrAwVTFtIeBgaEHQjM+YDBkZGJgYGJgZWbACgLSXFMYHF4wvPBhDvqfxRDFHMQwDSjMCJIDANLeC6V4nGNgYGBmgGAZBkYGEHAB8hjBfBYGDSDNBqQZGZgYGF74/P8PUvCCAURLMELVAwEjG8OIBwC4Ywb6AAAAAAAAAAAAAAAAAAB4nK1WaXMTRxCd1WHLNj6CDxI2gVnGcox2VpjLCBDG7EoW4BzylexCjl1Ldu6LT/wG/ZpekVSRb/y0vB4d2GAnVVQoSv2m9+1M9+ueXpPQksReWI+k3HwpprY2aWTnSUg3bFqO4kPZ2QspU0z+LoiCaLXUvu04JCISgap1hSWC2PfI0iTjQ48yWrYlvWpSbulJd9kaD+qt+vbT0FGO3QklNZuhQ+uRLanCqBJFMu2RkjYtw9VfSVrh5yvMfNUMJYLoJJLGm2EMj+Rn44xWGa3GdhxFkU2WG0WKRDM8iCKPslpin1wxQUD5oBlSXvk0onyEH5EVe5TTCnHJdprf9yU/6R3OvyTieouyJQf+QHZkB3unK/ki0toK46adbEehivB0fSfEI5uT6p/sUV7TaOB2RaYnzQiWyleQWPkJZfYPyWrhfMqXPBrVkoOcCFovc2Jf8g60HkdMiWsmyILujk6IoO6XnKHYY/q4+OO9XSwXIQTIOJb1jkq4EEYpYbOaJG0EOYiSskWV1HpHTJzyOi3iLWG/Tu3oS2e0Sag7MZ6th46tnKjkeDSp00ymTu2k5tGUBlFKOhM85tcBlB/RJK+2sZrEyqNpbDNjJJFQoIVzaSqIZSeWNAXRPJrRm7thmmvXokWaPFDPPXpPb26Fmzs9p+3AP2v8Z3UqpoO9MJ2eDshKfJp2uUnRun56hn8m8UPWAiqRLTbDlMVDtn4H5eVjS47CawNs957zK+h99kTIpIH4G/AeL9UpBUyFmFVQC9201rUsy9RqVotUZOq7IU0rX9ZpAk05Dn1jX8Y4/q+ZGUtMCd/vxOnZEZeeufYlyDSH3GZdj+Z1arFdgM5sz+k0y/Z9nebYfqDTPNvzOh1ha+t0lO2HOi2w/UinY2wvaEGT7jsEchGBXMAGEoGwdRAI20sIhK1CIGwXEQjbIgJhu4RA2H6MQNguIxC2l7Wsmn4qaRw7E8sARYgDoznuyGVuKldTyaUSrotGpzbkKXKrpKJ4Vv0rA/3ikTesgbVAukTW/IpJrnxUleOPrmh508S5Ao5Vf3tzXJ8TD2W/WPhT8L/amqqkV6x5ZHIVeSPQk+NE1yYVj67p8rmqR9f/i4oOa4F+A6UQC0VZlg2+mZDwUafTUA1c5RAzGzMP1/W6Zc3P4fybGCEL6H78NxQaC9yDTllJWe1gr9XXj2W5twflsCdYkmK+zOtb4YuMzEr7RWYpez7yecAVMCqVYasNXK3gzXsS85DpTfJMELcVZYOkjceZILGBYx4wb76TICRMXbWB2imcsIG8YMwp2O+EQ1RvlOVwe6F9Ho2Uf2tX7MgZFU0Q+G32Rtjrs1DyW6yBhCe/1NdAVSFNxbipgEsj5YZq8GFcrdtGMk6gr6jYDcuyig8fR9x3So5lIPlIEatHRz+tvUKd1Ln9yihu3zv9CIJBaWL+9r6Z4qCUd7WSZVZtA1O3GpVT15rDxasO3c2j7nvH2Sdy1jTddE/c9L6mVbeDg7lZEO3bHJSlTC6o68MOG6jLzaXQ6mVckt52DzAsMKDfoRUb/1f3cfg8V6oKo+NIvZ2oH6PPYgzyDzh/R/UF6OcxTLmGlOd7lxOfbtzD2TJdxV2sn+LfwKy15mbpGnBD0w2Yh6xaHbrKDXynBjo90tyO9BDwse4K8QBgE8Bi8InuWsbzKYDxfMYcH+Bz5jBoMofBFnMYbDNnDWCHOQx2mcNgjzkMvmDOOsCXzGEQModBxBwGT5gTADxlDoOvmMPga+Yw+IY59wG+ZQ6DmDkMEuYw2Nd0ayhzixd0F6htUBXowPQTFvewONRUGbK/44Vhf28Qs38wiKk/aro9pP7EC0P92SCm/mIQU3/VdGdI/Y0Xhvq7QUz9wyCmPtMvxnKZwV9GvkuFA8ouNp/z98T7B8IaQLYAAQAB//8AD3icrToNcBzVefe9/b3dvd29u909/dyd7ke6k86yLEunOyHJsrCxJWyJGmEcLMDYxBhHNsZQBzOAkjQmFDrGIq5gHEIcCILOAGZq3IQO04RkIGkgaUMKMbQznSlJW0wgJtOQHxRr1e+93TvJwq7JTD3y2/f//bzvfX/vAhAIzL3KPcYNBFIB8UR9EJYuAcuAqGNbOiwDSczkuorlaJ6WTeVSRwMIDveY8aN20GztjzMhW4P2H+kNUPM5NaVNQE0K3tWM77vv8rJqgnT33VJE4WWIfd/QbKHZjcXcZiFAqjCDgUJA/mZTWOIIwi0vAwNiUjkW9THIZs6DAbnj6ffGP/P+0y2vv+5SXGLKuXHJPJH92c+yT7x3883wnI9W/DxI4T9+bm7uOL+MUwNywAg0BJYFQgNKa2NDzFBEjqeM0SFXLHU4YKe7yjFoSmdEKWw5nemOUj5czMXCliilM7lyuFgqp3HaDf1j/fhH+s6cfm4MEpA8c0BSQBO5CUkD5fJi05kDjSUoNnETTUUSXtpPVm0aGHDdmV0nNkPiMUWeHZMVRSZPSlp0dqypCKVG8iT9IK5AEeamyZGAjecW5tm5SSBm8ojiSqBsYoXDTRtuymw13V8axjB+p2EPlsMGcRzTTRkGOLRpmk/AzSZ+A97ecx+QN8g9gUbc26F7N+GJiN5pLGMA8hUo7EQcHI455A0PwrS3I37N+bZhTE8bex1aeeIJ4+MTjTY6gcH+iIvgGWQRdh2TR9sS81kspCzytguLfBcyuBOLXuhwYnZnh8NFUs6plLPLScGpWBKwkYztwsop7Hie9r7rYK/9brWXTg9U+RiBX+GJiyc0rgIv7UNJe3vPjrFdyZOV/byNUkyW/0AuIi/h+h6U5a64SmW5ieGcya2AYimG+EUtnZN08ImgveV+KOYykiiJVMrbkI+dHUkC9+nyPUFdD94j639r1uTq7FiSNrR1hXS8uLbGapYUSbpaJvzmp5aODbU9iJNBU1gJa5LFTCqihNpDigmWWtc2GjUy7Y2m3hHk14qmPJXp2cTInZudO85dhzw2AuXAJQHl+Yt7l0RVjkO8u4q5JZARE2A5yNxStNgGWcQSj7izA1HucCgJOsRsb7xYWgn9XAwvRqaN4HAS4ENF3kXFFovJ/muW3zsYDK3jxaCQbOouOPXZPmBDNZG4krS0N2/9wakf7hHv+IcPX/jcaGWZAp9fvrFtv66UeSlXn4zYdZo5kLNwIJJRTbEu3jz62Zf37Xv5l7RAeugZfAQ7kJ5koA3PoJB1eP8MpHRVWqpygyITpiKz4DCoHMENlun+wrDA0bNZ9jmJZdZwhhx9UnewMKztg2yAlie9j6O7Lzrks7tYdRdOO4u/FJ9e5G93RyFTJ1f5G17IZDs7z25uEfuFBYwlvYpUUuTnKJO6umg5IymD88yGGxbycjN2JOkIVk6wUoEzm/0O5T/Owb92Jg8NyL/6qFrl30IZ5nSgMp3nch7DkvOMCaMeoQ1U4JZxQncenmAMmcAei/S7V9CvAccW8mczwtMCceSQ8nwhXWuKAeQPJbRCc9RnhoSyhvBL+WgxTzsk0Y567IFj+35wa4Xq7ykS5YIm7UIdq4iCfKcsiIoSvFFWONUnFovZoXHKhXE69R9hTOIEgZPcJ0VZRrx+i3j9hhtFPqQDnYjX8uaEpS2+F4twiVkOylSJAwfvBZO3XBnoTaEHtltSWAGKIEl3SJIQ1CRESIRnLFtJRc88GckEbQuOBTO5zBXziL0JIPKiyMtzggwiMc+czmbDEbDMbJaLhC3LPzPuFOKaD6zEM+tt15gNxTPLIg5dvglCfGmbmakYmqmKsEfRVOWWAXjqvEzVeamT6botq9321Vu2rIb7KOrufmZ24LWmoiI3yspJJ65e704JprBSFGH3pxXLhAQe9fBzbM1rq7YAm1dsctvZSiqu8G94rxwS/LQ7JYorRR0XXq/GmSh4dJADKAsSk70ajQ8gHdE0MhzVjOCbVDSvKINd1PhKVN+fgMTG2zYCvIaq+V2mmsNTP36IRLD6xO7ejWTDisfc7zCVD6tQW+/eMTW1Y3fSt20foe+hBZpQ3zfGfH3vyzmCZNvHFoJFVPrRjj7m6I26M3r7KHQxgD5c2H/4tQdIeJLJ+yQDvTsZOwv4jYfJQxVaxxmtKtNTTVaQnRmS6kkWvfBoNvCeIT55jt41PJZwpg3YYeJYGK+dppgK/sF+R/8ggZIOBlnyNoK/qpwokLZ6uCFRKCTKV8HeGaYksPg2Xj/3fyQZb6dhGWv2QLLQU4DW7lZwf77Hw+vb3AjzexKIVywkEXoGlB1JUqr4FW3A7BZlDzgzhZ5W0tyfI1da7mmn13JvsZOFxLuJIRsmLXJVskByA41iu/uvSds9bWOnPZQ4lSgANm+xqQ6gMPlGH2YR79rSDIXLXQBujHZSxkCpSIeynwCdNxEFJ2HVmSDaFPxQYoIN2BfCM8E6zTCu66VDSQ97KkPfIa8i7nGUITNAZagDhYFJjeg5rXh+bcBuYamT/JWmRVE8Iopeb/3ud1ZdSIs4TkQLcaogJ63Z5dGUxEfefz8qSKko+Qm2PB/ZgyEEMngmjkjovYB0GBog+n9COzD7MiQ73pfOA5S8NLseIst+QWbPC9y/J8dRv7QFliCNWcnzAYlI3fE8hdNVbBPY1WEeZxm8m5mKOdypQRG1qhiRgQBnZbr7N20qT1ipoPsLVYWEGq8hE3BoLPn2tV8PhWVe0WTB4nIN3WMD7cmIiDZEhaSSROulWMbk2+sX4LIs0Iq4NNdUfV3mDeqCbaEOligmbYSFCaU0VRVULrhTKoKlIMubNvV3ZyyOByWMilXkBpNjcIjihTjBrwzF/bmKF1iMJNsHxrobcnxElDVF0C3u69fevP5txIsEcUrVZyR96DPqiI/C+zGTp0uZGkXVP6PG1RncET7Ey/eKjnX885QeWw83krsCIVyvMp8TD9P3rEvMFUkFZxS6Rw25ytWQJ/52/tqLyQSDrc7Dpiq/H2XDgYsVBgjnK7BF95EwLKLNKLh0bg5x74VXPNwJO1fq7raB588j7pbhat78pDKjPE1td1Jl6Hhn8Q73LdISsCrrgwuijljQ28Tinnavx+Xu9ap6jYqn2QzNaly7RoVJ99MoBl/DvmtU1X0Lu3FCnO37XXKEW832Nai8BYnDKKvIF92W3F9dotK94ahCNyJPuW+5b2L1WrQ2X6fSc1TBejLg77uvsm8FX2b1ghWk6cbjuB1FUIVm9y0f6aMKfMbdhjshNGihFKgIgE7044ZvkbXz+zbh3chXN/f35Z6mOyF2b/m7H6V7HVV3XYOYtiDOig/J25bh+xPuAPMdxRPRc8V1YU8Z2mEv9OIO2O6DTg8Wtt2C3+lCcjBRmEaNVbDhi0nLnUK1ttvqdVpsexruQ93WGnf3T9s47N+te7nN5FeohRGeChUfIvZx5htAPYTNjQl/ea/tTlkW7LZ7nIK3dyNsGUwWpq0+a4k/ALvozB5nurkCqwthUdrq5mnzBD/tu5rpfPVYuC6L0VZwnMfd/YnGxgTc97jjFNjGFvRQ6iyrYPfZjyPVyQJM233YRF5YVb1xgLzjwVMX3NOwZ/K7wtJZx4W8pGRNNzf4ZOBeCKgPCxuKcUYmxQNycbjP5wGlEJGk8OZc369tR3gtaZ+X6CbmVkIONRVJcugpluk1TQL1Fqmfy1ELVi4hYy1zJhYNj4zu7RkfbuebN17fv+q2Fj4sDgtE7Hv2uk89uneIH7j9yNWjR1YMmUvJSzO6s9QcGWkbHt83PtzW0yWCMMLr4roNcMm+o88e3XdJ/0VDkWiFDxSv5YhXq8d3nVAryjjtoDXp7Ojn2gg6ijGHIUxDpQZ0Y2lQym2+5NZHN219to8XhsUw33Lb6p6dG9DVGN598/bmkXA0NoPeR2t4qO/h0U8d3bcKtmB5yeilos6PCCB29fgINjeNmEsdfaYmGhm6qB9RrPhEx7mrEbfGwCDauZXNJo09wLJ1oAhSe1NxWkUDKKJofMqeE+szt8S4K9JYmjbLXRRtylOU1vWN//mVy4/0DVGNqM9QJT7SvL287ot5MSZoGC/oyHTWO7p3vdd5s6RB439/5fKH6aIaEDh46AVkpMqWo1YdaWpe1690hzT4e79jxGuLvD+R0iUwuiJ+TLUM4+yrA8aAdsVAsX1JFgMsTkCF4ceBdtgLZ8oXaENnPpfPipLA6A57nn4+XI1hUbCoYmig1KP5pH44Kybnq4cUyatKivvTmXpeOC7y8J4il3yHncWVz+SDrc5zTqucPyYro3Af7XP30/I8ddJxsQAgXIFbz37QdsmqNhJl0K6145C0rkWzExAX8aM3sDpwYyA8oF83PNBXWu7xRPQMIT1E6syw7M4F2tFwOmyhVKQ7+uH/lz9DribLBF4jsuze94lYBc+7LzLOXMw4c+66u52EZz/QLEWxyA0XZFuA9+OVUfSTwyzWCw0o3a0Jx9BYTrKp2AZiEi9qGSs6OFhZkPboRDXesZKpbcd3UOjV8dMgNNQhr1pJh0Qy5petVIQ48Zq1KefMj7zIhluf3pQeBs5JfUuJMGcgHFRik16gP1mzHX2EmroaYhmVysETLOo54aSGU/gHzbEwdRvCMXuGhUczHj3HkZ42Rk9LYIDS07c8YRuqSBg91Pmnwo8VghFR2Y9oKTmxziSwi0HTN2I1cMvT3E7Fezk/Pae1UnYyUwqdRnqCNZPoXSJSk6hxGWmRBKqBSMqyTP97/wmaJcQCGpqbG5Iw6vhEtHpEVWihepULpFG3rqG0rOha2qTxJIC0YOSYFjrxEtP8nlSlIxvu7PLcRKmS76mk04Sq0HoTqJ04CcfcK+DDIU34mhCX/dByaAiDy58ibicVeRdNJrNyezI2G/ESlUKsZDxiOtLJk/ChXCc9Imp+1nO2xL6QZIkkWiizM7SHIF9q9K8ZpQDx8zOjgWaMzORvdrSGPJ2sEzRYZer9O2gmWD4zSTr6sSuH8Uc/IGjmyLIMOHUV0G48840967ixy2v6zIhcU+pr3bDj9u0bc1xfqUbO9sUuH3O/iqEbFPqaPbOBZuFTO57rx7mxvnDL7avRFLah/ei55LZCpKddjqz4OxhyH6YRLuzA0rcfY5yC8rQTcb08JdLYleZW8TZ0lGgSCyVfQoQtRDiPV6BqKLryzL7kqRmkuoGdE5UzlKWy39mJQlU1OChf1KrEHOYcsdMhvaO3j5JN+zZBXJZ2Kmq0WRSMDSFJGqmtC0q8eZesmfWxPxNNca3DC3KzYsg7MBBXhJ2yHmvy5sojNXVBmQvfhUdoxJ0NgiENWTzfqwd3SOjC927ceNvGjbfTUTNp13eIumhvAKEvJA/HTUW6Maj1CeJAUtBFrcOI1xugSWxubV1qqaRJ1gZvqiHLbKqwOo5TR9hELw7/iBsjL/t6WXl+SWN9VOO5RfnTtJcwreTFY35bWthGB+bMB+yOcGEDg4bztxbkUR0wh1h2kJWgV0awMR+Hjvn5mlrmu9BMCMpYsZynmQC8KR2xco4maZIg5jN5CU86ViJ/s27nzqlxgFc6167fuXP92s5XYOdDO8j4pYNYw16IjR8eH79U0ra3Y6V9uyat20l2P7AbsKpjJ81Tzs39nt9PXgqYeL9LNB+Yi9uMN1BEZ0knnvijDiZLEDg6dJ30NuA9oQEVh9U0uk/kgO8A+R94pvWy8YveWn0ZWbfmLepJXdqz5Z5B94qhu7d2k75r7l0Lx2gVtvTMr6FXgDY7p56d6qSNS+/e0ke6r//CQ1/YXiTdW++u+FK/529HfC3klvzNhK3Te4txIUFlkuQ8tIjguXrUG6WAPWgMsIcDF664d3v3DHXwhQ07YMul2I9QDvtQXz+bokoej3uUo5mt1Qi7f/m58pGoIAyavsnnFiUl8cbhKTpRmI+CKw9Y1oKc5GvZZJCT6kWJcCHNzzDS3KTQKEocr/6Fe1GoUf+1rq/QG/W/hs9goz8E649Xc5M6HxXjAnDV9OT9spBFuwOC26Prv2bzQ3RhCHfwaYpW8+LxqOzlYOZR7/Kf/RbmXMktCzAr3jWP/Kqt5KUqZDq4uTqyBbYGfL17HcuL19KcjykyePSoAP2bNgILH1qOXXFwA9l471P3bOIvOwRXL8j+k0OjB6cPjrLCfe2sXP/824QcsAMZlOmGWiMo0rwb4K1qo+mH/LkBVlXdA+cFXFFWvz0//AXvbZ6+ac3GoyzHHvXfzCqvNILfLi9qV7KBJ/03OPbql/A+XlcDa3g9C1/rnPPU/XzkR4E3q/4p6kHES6V3vVx1M7x3EG4RnpwfhuT9B8mTF4BG6w/vZp7SbtoL4oJBkCuYe2+LL3GT6CtdzGKjNas6FGaHETyqOIeljCSdy4azYTwkLxFIL08OHSKaM+7sonl9vERpGguhHaS5bUgz24xu3ETTPsVKqntkIZfpqR1MdBfQKd6hmiFHviU1QZ260MQ2FSOcbfDmVoyFeHkb9rq/db9KFWsP6uutqz6LgZW6R+JrIjp86Gp6jSXL+7RoUv38yjEracH0NiVpKdu2ISBl27QDRdTKAT9WHoc/IL/p7w4sptcdmtpFR6IcZRnNXDnaT909x7Ykjj6PwmlFdP9FMuWgQvb8nAiKpHB7iS4/r+pk678LRCWOGpq9QwfOlOGlbpDkEPwThngKL7puibAY5LvMl+ZQQ8Yx4mxF/wZjkGJ7a3NjKl5jyjiJ/hAhLzVVExN+9qMpZsAyWImhu/eF2NlfcmS6bxq6lNlO9CZvxpjon/G7R5k1SqVwuFwOv3HTTZn0TTelSQs2wtjpPkNH8D/RH++b3mkosx0KLkzSlfi92qSrzPKX2arMTe692ChjJ7T5I75t3I487EIe5jXKQ6pg6Q83qs/lEn3noSFynmb4aOrBF9sEoBuHhKFYcL11up41emofLCQGE60wVdeDClSvn5qqM41Go7t+iuWUHqzrNrOGWTsFst5TtwLXXPk0Syc9fSX2rsBFmzadY6C/Fge8d+e5uXHkfyiQRc6vwTu2Ylkhz95Fq2/8+YVv/CxSqb7xxyqhDjDBRxFBxcQnSYzeBfrYNqGJjej4TLDfWEywII42hqZ+/BB/6I2DkCn0WS9uv3PD4Z0DpG/3oemDe7u5NS/aMOWtol60t2qCusYTSi19uHn1iHiQOpz2i2v6xx/4xqE9PfyqHQ+N3Ln9RftsmoxADcYAyvMt9Y73lr7wdwTUmb8g/u53GOaw6pPizJC9MJrEj7noG9sG1CNhmWN2BcF2dpRzGBfz5XrojEWZRxuj6aCYY0tiLJOTMmK2uJJQjxj/8hjKEB1iGHCj4JTpxczQzEtehAevG+5pUO12twtCjfG4I979yJB4a7RlZbDdVGV1OMgDQPZQY+ERm1wqiVyYJwJHMrGaP+o9YKbUlE2ApL6YEiyylNT9ESff74qtvCgqNSZcBVOa+2Hr9q9E70rVikGTcxRJ4BSQa6ImzpQIEXk+OFbqhvQRQ4souDWotqAiL2Xqm+AZ/Yz0kXcCOnvfqg1779vzOXtqtvPMii9Ig5+dwj87Kf4bQ6EJfdRt4PyQZYFY0/NXERbE5vPzi+As2njhToFqfp7h6ufXYTFiZ6MCryyG/xQX5qIBFddLfr6b+SYsHc3P1ocikRD5rxCMuNslxeBKuiZjzQpUY6kFvwNgPtyioHRxkEr9fv+HE5AwHFc9q0neOXOa/kiAi9ByQX3et1fZb2+q7yCL914QN5y1GVt/DOVaR29JPCECXV9iGaI84A7sQ9W3Y4dLZe4vVR1Mxd3Hc7rq7lNVOKjqHM9xqmiceVWXNTgoiO6fswpN0R/EfnefyHtnMvcsdw1nzMOJiSzGpQ+SPmclxmVRqlVM0HG5wNFSQYAIRhjE3ZDTsobwJbifVegTxj7sx7mCRwvp5XSWh6/QYs/TwjyMahKsVCYZVaeECMTR56MplPyzCfrSPO/dL0m8RwvpQ1oS56aF7i/58Mpn0eOHaKxcTNGd84cLd4oCvXPu3B+4a8kPUA7rmSzJ7E3Zy7OzuJEm/Mt+7Eh/pyDPMx7xF7luuh/CY9hDe4WZYLqvW+YhFlJiWX1PO0aOB6L0t3AVOUK7V/XSqP8Dx/CavHCY8erwC3jhyKHZR2nu9wXvpz4vKN4dwOIA22sZ/S1RTbhyBxbvF/XeXzEQpfEUTa0hLTTE+RigN9vzQhBp0RzT5OUaKazwlhEU8u0fx8D9XmGdwVmmZmpavDGuichhJJUz1nn5pp9yj5H3GG7DgZtovmnn5YNFiiT/JyIZqw6Uvd+i0TRIFwumFw7SVEg/TYvQDM/8hE9O4uTWEVlECuyU2tLW1oKK3jIk+bItDxy6TZKw36mttdZgKDxo1fIRzrFMSbrt0J/Cl8KVh1OcozuqGUyO7RxLBk3UrA6XfmDTF97qwAErpOl655GnjnTqOidyIQsHO08G/hcLt/j/AAB4nGNgZGBgAOLaW41M8fw2Xxm4mV8ARRguss1QhNC5H/9//Z/FUsEcBORyMDCBRAFTFwxveJxjYGRgYA76n8UQxVLGwPD/FUsFA1AEBfgBAHyYBUh4nGN+wcDAvACCWfSBNIgviMBM1kA6koGBMRWVBqsDYqYmiF4wHQkxg+kUBMPVWEP0gTDYvBdoahZAzYxEY0ciuWUBFjkoZimDYLC8IKpehmsQccYvSGYgYZB7YBhFL5o8cxTQjDUI/wIArpclrwAAAAAAAAA6AIYA3AEKAUgBgAGgAfoCYgKqAwIDOgOGA9wEQAR4BLYFAgU8BZoFzAYMBlIGmga6BtgG+AcYB0QHcAecB8gIAAg2CG4IpgjyCUAJrAo0CtALOAueDAoMYA0ADVANjg3mDiQOjg7GDvgPOA+ED84QPBB2EN4RNhGgEfISchKoEsgS6BMGEz4TXhOSE8QT+BQsFGIUiBTWFX0AAAABAAAATgBuAAYAAAAAAAIAAAAQAHMAAAAiC3AAAAAAeJx1kctOGzEUhn9DoIKgLloJdcdZIRDK5CKhSqyoogJrhLJDwgyeSzpjRx4HlGfgLcoz8Dp9j+76Z2KhqFJmZM93Ph/bxx4AX/AHCqvnnG3FCgeMVryFT/gReZv+JnKHfBd5B108RN6l/xV5H2d4idzFV/zmCqqzx2iK98gK39RR5C18Vt8jb9P/jNwh30fewaGaR96lf428j4l6i9zFsfo7drOFL/MiyMn4VEaD4bk8LsRRlVZXouehcL6RS8mcDaaqXJK6OtSml+lemTrb3Jp8Xmm/rtZ5YnxTOivDZLCur401XgfztNytec5HIWSSeVfLVdxHZt5NTRqSIoTZRb+/vj/GcJhhAY8SOQoECE5oT/kdYYAhf4zgkRnCzFVWCQuNikZjzhlFO9IwvmTLGFlaw4yKnCBlX9PUdD2Oa/Zlay1n3dLmXKei9xuzNvkJ7XLvso2F9SaselP2Na1tZ+i2wqePszV4ZhUj2sBZy1P4tmrB1X/nEd7XcmxKk9In7a0F2gv0+W44/z/KQo7lAHicbZLnlpswEIW5Bgy4bLLpvfeE9N57z76DLARWEJKOEEucpw8CO/kTncOdT6PhnlHxRt4wJt7/x47nYQQfAUKMESFGggmmmGGOLezBXmxjH/bjAA7iEA7jCI7iGI7jBE7iFE7jDM7iHM7jAi7iEi7jCq7iGq7jBlLcxC3cxh3cxT3cxwM8xCM8xhM8xTM8xwu8xCu8xhu8xTu8xwd8xCd8xhd8xTd8xw/sBLUlZuIkZZW2q0hzahvDRqocUyIpE4EWTR1WXDZ1sGRCz5yklBsqWBZwmauZk01mTqxl0nIlUyLs9r/Zej35m4kFl2XKftlAKFomTlKlmfQ1l74lRdB9dbxQqqyIKbc2MPQZGqbFKsqVaYnJ4ky1Ms24iQXLrYPE8GLZ07jRfaIvcf5JX+NoMhQ5jLoqFwenBS8Gpw7WTh05py6MaOtT2ibEGNXWKW1Da0i9nPY6dNe7CEWy7pc+5EJpvfJVnvtUFUHFZBPWS2LYxKqiECztVpINypAuGS2nvQ6Gs+H0hsk0U3ZznDETguua1/MNpLvMWH/RFGEuuobCihScxqS2zPC6jH4rVaVcxn1UjQ1yJW1QK2MTJ6nrPOqp0d3Vk1WoSVOz7p0oHeWdTbpoh5i3sVWpezp23AGTWch+Mmonu0o0Vb+l6RqdabLmRnveH9ru7j54nGPw3sFwIihiIyNjX+QGxp0cDBwMyQUbGVidNjIwaEFoDhR6JwMDAycyi5nBZaMKY0dgxAaHjoiNzCkuG9VAvF0cDQyMLA4dySERICWRQLCRgUdrB+P/1g0svRuZGFwAB9MiuAAAAA==) format('woff')}</style><style id=style-core>html{font:16px/1 Helmet,Freesans,sans-serif}#store-area,tw-storydata{display:none!important;z-index:0}.no-transition{-o-transition:none!important;transition:none!important}:focus{outline:thin dotted}:disabled{cursor:not-allowed!important}body{color:#eee;background-color:#111}a{cursor:pointer;color:#68d;text-decoration:none;-o-transition-duration:.2s;transition-duration:.2s}a:hover{color:#8af;text-decoration:underline}a.link-broken{color:#c22}a.link-broken:hover{color:#e44}a[disabled],span.link-disabled{color:#aaa;cursor:not-allowed!important;text-decoration:none}area{cursor:pointer}button{cursor:pointer;color:#eee;background-color:#35a;border:1px solid #57c;line-height:normal;padding:.4em;-o-transition-duration:.2s;transition-duration:.2s;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}button:hover{background-color:#57c;border-color:#79e}button:disabled{background-color:#444;border:1px solid #666}input,select,textarea{color:#eee;background-color:transparent;border:1px solid #444;padding:.4em}select{padding:.34em .4em}input[type=text]{min-width:18em}textarea{min-width:30em;resize:vertical}input[type=checkbox],input[type=file],input[type=radio],select{cursor:pointer}input[type=range]{-webkit-appearance:none;min-height:1.2em}input[type=range]:focus{outline:0}input[type=range]::-webkit-slider-runnable-track{background:#222;border:1px solid #444;border-radius:0;cursor:pointer;height:10px;width:100%}input[type=range]::-webkit-slider-thumb{-webkit-appearance:none;background:#35a;border:1px solid #57c;border-radius:0;cursor:pointer;height:18px;margin-top:-5px;width:33px}input[type=range]:focus::-webkit-slider-runnable-track{background:#222}input[type=range]::-moz-range-track{background:#222;border:1px solid #444;border-radius:0;cursor:pointer;height:10px;width:100%}input[type=range]::-moz-range-thumb{background:#35a;border:1px solid #57c;border-radius:0;cursor:pointer;height:18px;width:33px}input[type=range]::-ms-track{background:0 0;border-color:transparent;color:transparent;cursor:pointer;height:10px;width:calc(100% - 1px)}input[type=range]::-ms-fill-lower{background:#222;border:1px solid #444;border-radius:0}input[type=range]::-ms-fill-upper{background:#222;border:1px solid #444;border-radius:0}input[type=range]::-ms-thumb{background:#35a;border:1px solid #57c;border-radius:0;cursor:pointer;height:16px;width:33px}input:not(:disabled):focus,input:not(:disabled):hover,select:not(:disabled):focus,select:not(:disabled):hover,textarea:not(:disabled):focus,textarea:not(:disabled):hover{background-color:#333;border-color:#eee}hr{display:block;height:1px;border:none;border-top:1px solid #eee;margin:1em 0;padding:0}audio,canvas,progress,video{max-width:100%;vertical-align:middle}.error-view{background-color:#511;border-left:.5em solid #c22;display:inline-block;margin:.1em;max-width:100%;padding:0 .25em;position:relative}.error-view>.error-toggle{background-color:transparent;border:none;line-height:inherit;left:0;padding:0;position:absolute;top:0;width:1.75em}.error-view>.error{display:inline-block;margin-left:.25em}.error-view>.error-toggle+.error{margin-left:1.5em}.error-view>.error-source[hidden]{display:none}.error-view>.error-source:not([hidden]){background-color:rgba(0,0,0,.2);display:block;margin:0 0 .25em;overflow-x:auto;padding:.25em}.highlight,.marked{color:#ff0;font-weight:700;font-style:italic}.nobr{white-space:nowrap}.error-view>.error-toggle:before,.error-view>.error:before,[data-icon-after]:after,[data-icon-before]:before,[data-icon]:before,a.link-external:after{font-family:tme-fa-icons;font-style:normal;font-weight:400;font-variant:normal;text-transform:none;line-height:1;speak:none}[data-icon]:before{content:attr(data-icon)}[data-icon-before]:before{content:attr(data-icon-before) "\00a0"}[data-icon-after]:after{content:"\00a0" attr(data-icon-after)}.error-view>.error-toggle:before{content:"\e81a"}.error-view>.error-toggle.enabled:before{content:"\e818"}.error-view>.error:before{content:"\e80d\00a0\00a0"}a.link-external:after{content:"\00a0\e80e"}</style><style id=style-core-display>#story{z-index:10;margin:2.5em}@media screen and (max-width:1136px){#story{margin-right:1.5em}}#passages{max-width:54em;margin:0 auto}</style><style id=style-core-passage>.passage{line-height:1.75;text-align:left;-o-transition:opacity .4s ease-in;transition:opacity .4s ease-in}.passage-in{opacity:0}.passage ol,.passage ul{margin-left:.5em;padding-left:1.5em}.passage table{margin:1em 0;border-collapse:collapse;font-size:100%}.passage caption,.passage td,.passage th,.passage tr{padding:3px}</style><style id=style-core-macro>.macro-append-insert,.macro-linkappend-insert,.macro-linkprepend-insert,.macro-linkreplace-insert,.macro-prepend-insert,.macro-repeat-insert,.macro-replace-insert,.macro-timed-insert{-o-transition:opacity .4s ease-in;transition:opacity .4s ease-in}.macro-append-in,.macro-linkappend-in,.macro-linkprepend-in,.macro-linkreplace-in,.macro-prepend-in,.macro-repeat-in,.macro-replace-in,.macro-timed-in{opacity:0}</style><style id=style-ui-dialog>html[data-dialog] body{overflow:hidden}#ui-overlay.open{visibility:visible;-o-transition:opacity .2s ease-in;transition:opacity .2s ease-in}#ui-overlay:not(.open){-o-transition:visibility .2s step-end,opacity .2s ease-in;transition:visibility .2s step-end,opacity .2s ease-in}#ui-overlay{visibility:hidden;opacity:0;z-index:100000;position:fixed;top:-50%;left:-50%;height:200%;width:200%}#ui-dialog.open{display:block;-o-transition:opacity .2s ease-in;transition:opacity .2s ease-in}#ui-dialog{display:none;opacity:0;z-index:100100;position:fixed;top:50px;margin:0;padding:0}#ui-dialog>*{box-sizing:border-box}#ui-dialog-titlebar{position:relative}#ui-dialog-close{display:block;position:absolute;right:0;top:0;white-space:nowrap}#ui-dialog-body{overflow:auto;min-width:280px;height:92%;height:calc(100% - 2.1em)}#ui-overlay{background-color:#000}#ui-overlay.open{opacity:.8}#ui-dialog{max-width:66em}#ui-dialog.open{opacity:1}#ui-dialog-titlebar{background-color:#444;min-height:24px}#ui-dialog-title{margin:0;padding:.2em 3.5em .2em .5em;font-size:1.5em;text-align:center;text-transform:uppercase}#ui-dialog-close{cursor:pointer;font-size:120%;margin:0;padding:0;width:3.6em;height:92%;background-color:transparent;border:1px solid transparent;-o-transition-duration:.2s;transition-duration:.2s}#ui-dialog-close:hover{background-color:#b44;border-color:#d66}#ui-dialog-body{background-color:#111;border:1px solid #444;text-align:left;line-height:1.5;padding:1em}#ui-dialog-body>:first-child{margin-top:0}#ui-dialog-body hr{background-color:#444}#ui-dialog-body ul.buttons{margin:0;padding:0;list-style:none}#ui-dialog-body ul.buttons li{display:inline-block;margin:0;padding:.4em .4em 0 0}#ui-dialog-body ul.buttons>li+li>button{margin-left:1em}#ui-dialog-close{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}#ui-dialog-close{font-family:tme-fa-icons;font-style:normal;font-weight:400;font-variant:normal;text-transform:none;line-height:1;speak:none}</style><style id=style-ui>#ui-dialog-body.settings [id|=setting-body]>div:first-child{display:table;width:100%}#ui-dialog-body.settings [id|=setting-label]{display:table-cell;padding:.4em 2em .4em 0}#ui-dialog-body.settings [id|=setting-label]+div{display:table-cell;min-width:8em;text-align:right;vertical-align:middle;white-space:nowrap}#ui-dialog-body.list{padding:0}#ui-dialog-body.list ul{margin:0;padding:0;list-style:none;border:1px solid transparent}#ui-dialog-body.list li{margin:0}#ui-dialog-body.list li:not(:first-child){border-top:1px solid #444}#ui-dialog-body.list li a{display:block;padding:.25em .75em;border:1px solid transparent;color:#eee;text-decoration:none}#ui-dialog-body.list li a:hover{background-color:#333;border-color:#eee}#ui-dialog-body.saves{padding:0 0 1px}#ui-dialog-body.saves>:not(:first-child){border-top:1px solid #444}#ui-dialog-body.saves table{border-spacing:0;width:100%}#ui-dialog-body.saves tr:not(:first-child){border-top:1px solid #444}#ui-dialog-body.saves td{padding:.33em .33em}#ui-dialog-body.saves td:first-child{min-width:1.5em;text-align:center}#ui-dialog-body.saves td:nth-child(3){line-height:1.2}#ui-dialog-body.saves td:last-child{text-align:right}#ui-dialog-body.saves .empty{color:#999;speak:none;text-align:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}#ui-dialog-body.saves .datestamp{font-size:75%;margin-left:1em}#ui-dialog-body.saves ul.buttons li{padding:.4em}#ui-dialog-body.saves ul.buttons>li+li>button{margin-left:.2em}#ui-dialog-body.saves ul.buttons li:last-child{float:right}#ui-dialog-body.settings div[id|=header-body]{margin:1em 0}#ui-dialog-body.settings div[id|=header-body]:first-child{margin-top:0}#ui-dialog-body.settings div[id|=header-body]:not(:first-child){border-top:1px solid #444;padding-top:1em}#ui-dialog-body.settings div[id|=header-body]>*{margin:0}#ui-dialog-body.settings h2[id|=header-heading]{font-size:1.375em}#ui-dialog-body.settings p[id|=header-desc],#ui-dialog-body.settings p[id|=setting-desc]{font-size:87.5%;margin:0 0 0 .5em}#ui-dialog-body.settings div[id|=setting-body]+div[id|=setting-body]{margin:1em 0}#ui-dialog-body.settings [id|=setting-control]{white-space:nowrap}#ui-dialog-body.settings button[id|=setting-control]{color:#eee;background-color:transparent;border:1px solid #444;padding:.4em}#ui-dialog-body.settings button[id|=setting-control]:hover{background-color:#333;border-color:#eee}#ui-dialog-body.settings button[id|=setting-control].enabled{background-color:#282;border-color:#4a4}#ui-dialog-body.settings button[id|=setting-control].enabled:hover{background-color:#4a4;border-color:#6c6}#ui-dialog-body.settings input[type=range][id|=setting-control]{max-width:35vw}#ui-dialog-body.list a,#ui-dialog-body.settings span[id|=setting-input]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}#ui-dialog-body.saves button[id=saves-clear]:before,#ui-dialog-body.saves button[id=saves-export]:before,#ui-dialog-body.saves button[id=saves-import]:before,#ui-dialog-body.settings button[id|=setting-control].enabled:after,#ui-dialog-body.settings button[id|=setting-control]:after{font-family:tme-fa-icons;font-style:normal;font-weight:400;font-variant:normal;text-transform:none;line-height:1;speak:none}#ui-dialog-body.saves button[id=saves-export]:before{content:"\e829\00a0"}#ui-dialog-body.saves button[id=saves-import]:before{content:"\e82a\00a0"}#ui-dialog-body.saves button[id=saves-clear]:before{content:"\e827\00a0"}#ui-dialog-body.settings button[id|=setting-control]:after{content:"\00a0\00a0\e830"}#ui-dialog-body.settings button[id|=setting-control].enabled:after{content:"\00a0\00a0\e831"}</style><style id=style-ui-bar>#story{margin-left:20em;-o-transition:margin-left .2s ease-in;transition:margin-left .2s ease-in}#ui-bar.stowed~#story{margin-left:4.5em}@media screen and (max-width:1136px){#story{margin-left:19em}#ui-bar.stowed~#story{margin-left:3.5em}}@media screen and (max-width:768px){#story{margin-left:3.5em}}#ui-bar{position:fixed;z-index:50;top:0;left:0;width:17.5em;height:100%;margin:0;padding:0;-o-transition:left .2s ease-in;transition:left .2s ease-in}#ui-bar.stowed{left:-15.5em}#ui-bar-body{height:90%;height:calc(100% - 2.5em);margin:2.5em 0;padding:0 1.5em}#ui-bar.stowed #ui-bar-body,#ui-bar.stowed #ui-bar-history{visibility:hidden;-o-transition:visibility .2s step-end;transition:visibility .2s step-end}#ui-bar{background-color:#222;border-right:1px solid #444;text-align:center}#ui-bar-tray{position:absolute;top:.2em;left:0;right:0}#ui-bar a{text-decoration:none}#ui-bar hr{border-color:#444}#ui-bar-history [id|=history],#ui-bar-toggle{font-size:1.2em;line-height:inherit;color:#eee;background-color:transparent;border:1px solid #444}#ui-bar-toggle{display:block;position:absolute;top:0;right:0;border-right:none;padding:.3em .45em .25em}#ui-bar.stowed #ui-bar-toggle{padding:.3em .35em .25em .55em}#ui-bar-toggle:hover{background-color:#444;border-color:#eee}#ui-bar-history{margin:0 auto}#ui-bar-history [id|=history]{padding:.2em .45em .35em}#ui-bar-history #history-jumpto{padding:.2em .665em .35em}#ui-bar-history [id|=history]:not(:first-child){margin-left:1.2em}#ui-bar-history [id|=history]:hover{background-color:#444;border-color:#eee}#ui-bar-history [id|=history]:disabled{color:#444;background-color:transparent;border-color:#444}#ui-bar-body{line-height:1.5;overflow:auto}#ui-bar-body>:not(:first-child){margin-top:2em}#story-title{margin:0;font-size:162.5%}#story-author{margin-top:2em;font-weight:700}#menu ul{margin:1em 0 0;padding:0;list-style:none;border:1px solid #444}#menu ul:empty{display:none}#menu li{margin:0}#menu li:not(:first-child){border-top:1px solid #444}#menu li a{display:block;padding:.25em .75em;border:1px solid transparent;color:#eee;text-transform:uppercase}#menu li a:hover{background-color:#444;border-color:#eee}#menu a,#ui-bar-history [id|=history],#ui-bar-toggle{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}#menu-core li[id|=menu-item] a:before,#ui-bar-history [id|=history],#ui-bar-toggle:before{font-family:tme-fa-icons;font-style:normal;font-weight:400;font-variant:normal;text-transform:none;line-height:1;speak:none}#ui-bar-toggle:before{content:"\e81d"}#ui-bar.stowed #ui-bar-toggle:before{content:"\e81e"}#menu-item-saves a:before{content:"\e82b\00a0"}#menu-item-settings a:before{content:"\e82d\00a0"}#menu-item-restart a:before{content:"\e82c\00a0"}#menu-item-share a:before{content:"\e82f\00a0"}</style><style id=style-ui-debug>#debug-bar{background-color:#222;border-left:1px solid #444;border-top:1px solid #444;bottom:0;margin:0;max-height:75%;padding:.5em;position:fixed;right:0;z-index:99900}#debug-bar>div:not([id])+div{margin-top:.5em}#debug-bar>div>label{margin-right:.5em}#debug-bar>div>input[type=text]{min-width:0;width:8em}#debug-bar>div>select{width:15em}#debug-bar-toggle{color:#eee;background-color:#222;border:1px solid #444;height:101%;height:calc(100% + 1px);left:-2em;left:calc(-2em - 1px);position:absolute;top:-1px;width:2em}#debug-bar-toggle:hover{background-color:#333;border-color:#eee}#debug-bar-hint{bottom:.175em;font-size:4.5em;opacity:.33;pointer-events:none;position:fixed;right:.6em;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;white-space:nowrap}#debug-bar-watch{background-color:#222;border-left:1px solid #444;border-top:1px solid #444;bottom:102%;bottom:calc(100% + 1px);font-size:.9em;left:-1px;max-height:650%;max-height:65vh;position:absolute;overflow-x:hidden;overflow-y:scroll;right:0;z-index:99800}#debug-bar-watch[hidden]{display:none}#debug-bar-watch div{color:#999;font-style:italic;margin:1em auto;text-align:center}#debug-bar-watch table{width:100%}#debug-bar-watch tr:nth-child(2n){background-color:rgba(127,127,127,.15)}#debug-bar-watch td{padding:.2em 0}#debug-bar-watch td:first-child+td{padding:.2em .3em .2em .1em}#debug-bar-watch .watch-delete{background-color:transparent;border:none;color:#c00}#debug-bar-watch-all,#debug-bar-watch-none{margin-left:.5em}#debug-bar-views-toggle,#debug-bar-watch-toggle{color:#eee;background-color:transparent;border:1px solid #444;margin-right:1em;padding:.4em}#debug-bar-views-toggle:hover,#debug-bar-watch-toggle:hover{background-color:#333;border-color:#eee}#debug-bar-watch:not([hidden])~div #debug-bar-watch-toggle,html[data-debug-view] #debug-bar-views-toggle{background-color:#282;border-color:#4a4}#debug-bar-watch:not([hidden])~div #debug-bar-watch-toggle:hover,html[data-debug-view] #debug-bar-views-toggle:hover{background-color:#4a4;border-color:#6c6}#debug-bar-hint:after,#debug-bar-toggle:before,#debug-bar-views-toggle:after,#debug-bar-watch .watch-delete:before,#debug-bar-watch-add:before,#debug-bar-watch-all:before,#debug-bar-watch-none:before,#debug-bar-watch-toggle:after{font-family:tme-fa-icons;font-style:normal;font-weight:400;font-variant:normal;text-transform:none;line-height:1;speak:none}#debug-bar-toggle:before{content:"\e838"}#debug-bar-hint:after{content:"\e838\202f\e822"}#debug-bar-watch .watch-delete:before{content:"\e804"}#debug-bar-watch-add:before{content:"\e805"}#debug-bar-watch-all:before{content:"\e83a"}#debug-bar-watch-none:before{content:"\e827"}#debug-bar-views-toggle:after,#debug-bar-watch-toggle:after{content:"\00a0\00a0\e830"}#debug-bar-watch:not([hidden])~div #debug-bar-watch-toggle:after,html[data-debug-view] #debug-bar-views-toggle:after{content:"\00a0\00a0\e831"}html[data-debug-view] .debug{padding:.25em;background-color:#234}html[data-debug-view] .debug[title]{cursor:help}html[data-debug-view] .debug.block{display:inline-block;vertical-align:middle}html[data-debug-view] .debug.invalid{text-decoration:line-through}html[data-debug-view] .debug.hidden,html[data-debug-view] .debug.hidden .debug{background-color:#555}html:not([data-debug-view]) .debug.hidden{display:none}html[data-debug-view] .debug[data-name][data-type].nonvoid:after,html[data-debug-view] .debug[data-name][data-type]:before{background-color:rgba(0,0,0,.25);font-family:monospace,monospace;white-space:pre}html[data-debug-view] .debug[data-name][data-type]:before{content:attr(data-name)}html[data-debug-view] .debug[data-name][data-type|=macro]:before{content:"<<" attr(data-name) ">>"}html[data-debug-view] .debug[data-name][data-type|=macro].nonvoid:after{content:"<</" attr(data-name) ">>"}html[data-debug-view] .debug[data-name][data-type|=html]:before{content:"<" attr(data-name) ">"}html[data-debug-view] .debug[data-name][data-type|=html].nonvoid:after{content:"</" attr(data-name) ">"}html[data-debug-view] .debug[data-name][data-type]:not(:empty):before{margin-right:.25em}html[data-debug-view] .debug[data-name][data-type].nonvoid:not(:empty):after{margin-left:.25em}html[data-debug-view] .debug[data-name][data-type|=special],html[data-debug-view] .debug[data-name][data-type|=special]:before{display:block}</style><div id=init-screen><div id=init-no-js><noscript>JavaScript is required. Please enable it to continue.</noscript></div><div id=init-lacking>Your browser lacks required capabilities. Please upgrade it or switch to another to continue.</div><div id=init-loading><div>Loading…</div></div></div><tw-storydata creator=Tweego creator-version=2.0.0+089d4ca77e5b format=SugarCube format-version=2.29.0 hidden ifid=A0AAF0AA-0B95-4040-BF31-15F9CE3F3CA3 name="Blacked and Whited"options=""startnode=80 zoom=1><style id=twine-user-stylesheet role=stylesheet type=text/twine-css>#ui-bar{background-color:black}#ui-bar-body{margin-top:1em}#menu{display:none}#menu ul{background-color:black;color:white}#sidebar-menu{display:grid}.menu-item{border-right:2px solid white;border-left:2px solid white;border-bottom:1px solid white;color:white;font-variant:petite-caps}.menu-item:hover{background-color:white;color:black;position:relative}.menu-item:first-of-type{border:2px solid white;border-bottom:1px solid white;border-top-left-radius:10px;border-top-right-radius:10px}.menu-item:last-of-type{border:2px solid white;border-top:none;border-bottom-left-radius:10px;border-bottom-right-radius:10px}#menu-core{border-radius:10px}#menu li a:hover{border-radius:10px;background-color:white;color:black}#ui-bar-cycle{display:flex;height:2em;margin-bottom:2em;margin-top:2em}.cycle{color:#0f0f0f;font-size:1.5em;flex:1}#cycle-afternoon{font-size:2em;margin-top:-.4em}#cycle-morning,#cycle-evening{margin-top:.6em}#cycle-morning.selected{color:maroon;-webkit-animation:coffee-glow 1s ease-in-out infinite alternate;-moz-animation:coffee-glow 1s ease-in-out infinite alternate;animation:coffee-glow 1s ease-in-out infinite alternate}@-webkit-keyframes coffee-glow{from{text-shadow:0 0 5px #fff,0 0 10px #fff,0 0 15px #800000,0 0 20px #800000,0 0 25px #800000,0 0 30px #800000,0 0 35px maroon}to{text-shadow:0 0 10px #fff,0 0 15px #800000,0 0 20px #800000,0 0 25px #800000,0 0 30px #800000,0 0 35px #800000,0 0 40px maroon}}@keyframes coffee-glow{from{text-shadow:0 0 5px #fff,0 0 10px #fff,0 0 15px #800000,0 0 20px #800000,0 0 25px #800000,0 0 30px #800000,0 0 35px maroon}to{text-shadow:0 0 10px #fff,0 0 15px #800000,0 0 20px #800000,0 0 25px #800000,0 0 30px #800000,0 0 35px #800000,0 0 40px maroon}}#cycle-afternoon.selected{color:#ffcc0d;-webkit-animation:sun-glow 1s ease-in-out infinite alternate;-moz-animation:sun-glow 1s ease-in-out infinite alternate;animation:sun-glow 1s ease-in-out infinite alternate}@-webkit-keyframes sun-glow{from{text-shadow:0 0 5px #fff,0 0 10px #fff,0 0 15px #ffd126,0 0 20px #ffd126,0 0 25px #ffd126,0 0 30px #ffd126}to{text-shadow:0 0 10px #fff,0 0 15px #ffd126,0 0 20px #ffd126,0 0 25px #ffd126,0 0 30px #ffd126,0 0 35px #ffd126}}@keyframes sun-glow{from{text-shadow:0 0 5px #fff,0 0 10px #fff,0 0 15px #ffd126,0 0 20px #ffd126,0 0 25px #ffd126,0 0 30px #ffd126}to{text-shadow:0 0 10px #fff,0 0 15px #ffd126,0 0 20px #ffd126,0 0 25px #ffd126,0 0 30px #ffd126,0 0 35px #ffd126}}#cycle-evening.selected{color:#b8b8b8;-webkit-animation:moon-glow 1s ease-in-out infinite alternate;-moz-animation:moon-glow 1s ease-in-out infinite alternate;animation:moon-glow 1s ease-in-out infinite alternate}@-webkit-keyframes moon-glow{from{text-shadow:0 0 5px #fff,0 0 10px #fff,0 0 15px #ffffff,0 0 20px #ffffff,0 0 25px #ffffff,0 0 30px #fff}to{text-shadow:0 0 10px #fff,0 0 15px #ffffff,0 0 20px #ffffff,0 0 25px #ffffff,0 0 30px #ffffff,0 0 35px #fff}}@keyframes moon-glow{from{text-shadow:0 0 5px #fff,0 0 10px #fff,0 0 15px #ffffff,0 0 20px #ffffff,0 0 25px #ffffff,0 0 30px #fff}to{text-shadow:0 0 10px #fff,0 0 15px #ffffff,0 0 20px #ffffff,0 0 25px #ffffff,0 0 30px #ffffff,0 0 35px #fff}}.fa-circle.cycle{font-size:.5em;color:#454545}.cycle.high{margin-top:.2em}.cycle.low{margin-top:.8em}.cycle.two{margin-left:-1em}.cycle.three{margin-right:-1em}.cycle.selected{color:white;-webkit-animation:circle-glow 1s ease-in-out infinite alternate;-moz-animation:circle-glow 1s ease-in-out infinite alternate;animation:circle-glow 1s ease-in-out infinite alternate}@-webkit-keyframes circle-glow{from{text-shadow:0 0 5px #fff,0 0 10px #fff,0 0 15px #ffffff,0 0 20px #ffffff,0 0 25px #ffffff,0 0 30px #ffffff,0 0 35px #fff}to{text-shadow:0 0 10px #fff,0 0 15px #ffffff,0 0 20px #ffffff,0 0 25px #ffffff,0 0 30px #ffffff,0 0 35px #ffffff,0 0 40px #fff}}@keyframes circle-glow{from{text-shadow:0 0 5px #fff,0 0 10px #fff,0 0 15px #ffffff,0 0 20px #ffffff,0 0 25px #ffffff,0 0 30px #ffffff,0 0 35px #fff}to{text-shadow:0 0 10px #fff,0 0 15px #ffffff,0 0 20px #ffffff,0 0 25px #ffffff,0 0 30px #ffffff,0 0 35px #ffffff,0 0 40px #fff}}#ui-bar-mental-status{display:flex;margin-top:2em}.mental-status{flex:1;font-size:.5em}.mental-status.selected{-webkit-animation:mental-glow 1s ease-in-out infinite alternate;-moz-animation:mental-glow 1s ease-in-out infinite alternate;animation:mental-glow 1s ease-in-out infinite alternate}@-webkit-keyframes mental-glow{from{text-shadow:0 0 5px #fff,0 0 10px #fff,0 0 15px #ffffff,0 0 20px #ffffff,0 0 25px #ffffff,0 0 30px #ffffff,0 0 35px #fff}to{text-shadow:0 0 10px #fff,0 0 15px #ffffff,0 0 20px #ffffff,0 0 25px #ffffff,0 0 30px #ffffff,0 0 35px #ffffff,0 0 40px #fff}}@keyframes mental-glow{from{text-shadow:0 0 5px #fff,0 0 10px #fff,0 0 15px #ffffff,0 0 20px #ffffff,0 0 25px #ffffff,0 0 30px #ffffff,0 0 35px #fff}to{text-shadow:0 0 10px #fff,0 0 15px #ffffff,0 0 20px #ffffff,0 0 25px #ffffff,0 0 30px #ffffff,0 0 35px #ffffff,0 0 40px #fff}}.mental-status.one{margin-top:0em}.mental-status.two{margin-top:1.6em}.mental-status.three{margin-top:2.4em}.mental-status.four{margin-top:2.8em}.mental-status.five{margin-top:3em}#excitation-bar-base{border:2px solid #e91e63!important;border-radius:5px}#gender-bar-base{border:2px solid white;border-radius:5px}#depravation-bar-base{border:2px solid white;border-radius:5px}#gender-bar-male,#excitation-bar-empty{font-weight:700;color:#2196F3!important;float:left;font-size:1.8em;margin-top:-.3em}#gender-bar-female,#excitation-bar-full{font-weight:700;color:#e91e63!important;float:right;font-size:1.8em;margin-top:-.3em}#gender-text,#depravation-text,#excitation-text{font-family:'Julius Sans One',sans-serif;font-variant:petite-caps;font-size:1.2em}#excitation-bar,#depravation-bar,#gender-bar{transition-duration:0.5s;border-radius:5px;border-bottom-right-radius:0;border-top-right-radius:0}.fa-ul>*{margin-bottom:.5em}.status-bar{line-height:1em}.status-bar>*{margin:.5em;margin-bottom:1em}.status-bar>*>*{height:.8em}#flag-selector{display:flex;align-items:center;margin:0;padding:0;margin-left:30%}#flag-selector>a{background:none;border:none;padding:0;margin:2px}#flag-selector>a>img{height:25px}@keyframes move-twink-back{from{background-position:0 0}to{background-position:-10000px 5000px}}@-webkit-keyframes move-twink-back{from{background-position:0 0}to{background-position:-10000px 5000px}}@-moz-keyframes move-twink-back{from{background-position:0 0}to{background-position:-10000px 5000px}}@-ms-keyframes move-twink-back{from{background-position:0 0}to{background-position:-10000px 5000px}}@keyframes move-clouds-back{from{background-position:0 0}to{background-position:10000px 0}}@-webkit-keyframes move-clouds-back{from{background-position:0 0}to{background-position:10000px 0}}@-moz-keyframes move-clouds-back{from{background-position:0 0}to{background-position:10000px 0}}@-ms-keyframes move-clouds-back{from{background-position:0}to{background-position:10000px 0}}.night-stars,.night-twinkling,.night-clouds,.background{position:fixed;top:0;left:0;right:0;bottom:0;width:100%;height:100%;display:block}.night-stars{background:#000 url(https://www.blackedandwhited.com/static/bawdata/stars.png) repeat top center;z-index:-3}.night-twinkling{background:transparent url(https://www.blackedandwhited.com/static/bawdata/twinkling.png) repeat top center;z-index:-2;-moz-animation:move-twink-back 200s linear infinite;-ms-animation:move-twink-back 200s linear infinite;-o-animation:move-twink-back 200s linear infinite;-webkit-animation:move-twink-back 200s linear infinite;animation:move-twink-back 200s linear infinite}.night-clouds{background:transparent url(https://www.blackedandwhited.com/static/bawdata/clouds4.png) repeat top center;z-index:-1;-moz-animation:move-clouds-back 200s linear infinite;-ms-animation:move-clouds-back 200s linear infinite;-o-animation:move-clouds-back 200s linear infinite;-webkit-animation:move-clouds-back 200s linear infinite;animation:move-clouds-back 200s linear infinite}.background{z-index:-1;background-color:black;transition:background-color 1s ease}#buff-zone{display:flex;justify-content:center;margin-top:-16px;margin-bottom:-16px;flex-wrap:wrap}.buff-item{background-color:white;color:black;border-radius:4px;display:flex;align-items:center;justify-content:center;height:25px;width:25px;margin-right:1px}.buff-item.work{background-color:var(--theme-work-color);color:white}.buff-item.bad{background-color:var(--theme-bad-color);color:white}.buff-item.masculinity{background-color:var(--theme-masculinity-color);color:white}.buff-item.sex{background-color:#e91e63;color:var(--theme-sex-color)}.buff-item.patreon{background-color:var(--theme-patreon-color);color:white}.buff-item.poison{background-color:var(--theme-poison-color);color:white}.link-internal{padding:.1em;padding-left:.5em;padding-right:.5em;padding-top:10px;padding-bottom:10px;margin-right:-1px;line-height:1em;background-color:var(--button-color1);color:var(--button-color-text);font-family:'Patrick Hand',cursive;font-size:1.4em;text-align:center;transform:translate(-1%,-1%);transition:all 0.3s;border:1px solid var(--button-color-border);border-radius:4px}.link-internal::before,.link-internal::after{position:absolute;content:'';transition:all 0.3s}.link-internal::before{bottom:-8px;height:8px;width:calc(100% + 1px);left:4px;transform:skewX(45deg);background-color:var(--button-color2);border-bottom-right-radius:4px;border-bottom-left-radius:2px;border:1px solid var(--button-color-border)}.link-internal::after{right:-8px;height:calc(100% + 2px);width:8px;bottom:-5px;transform:skewY(45deg);background-color:var(--button-color3);border-bottom-right-radius:4px;border-top-right-radius:2px;border:1px solid var(--button-color-border)}.link-internal:active,.link-internal:hover,.link-internal.selected{margin-top:5px;margin-left:5px;margin-right:-6px;margin-bottom:-5px;text-decoration:none;color:var(--button-color-text);background-color:var(--button-color2);border:1px solid var(--button-color-border)}.link-internal:active::before,.link-internal:hover::before,.link-internal.selected::before{bottom:-3px;height:3px;left:2px;width:calc(100%)}.link-internal:active::after,.link-internal:hover::after,.link-internal.selected::after{right:-3px;width:3px;bottom:-2px;height:calc(100% + 1px)}.macro-click{background-color:initial;border:none;border-bottom:2px solid grey;padding-bottom:.5em;display:inline-flex}.macro-click:hover{background-color:initial;border-bottom:2px solid grey;text-decoration:none;color:red;font-size:1.2em}.macro-linkreplace{margin-top:1em;display:inline-block}.choices .macro-linkreplace{margin-top:0em}.choices{display:flex;flex-wrap:wrap;margin:1em}.link-internal{background-color:var(--button-color2);background-image:linear-gradient(var(--button-color1),var(--button-color1-transp))}.link-internal:active,.link-internal:hover,.link-internal.selected{background-color:var(--button-color4)}.choices.direction{flex-direction:column;max-width:70%;margin:auto}.choices.direction .link-internal{margin-bottom:-1px}.choices.direction .link-internal:hover,.choices.direction .link-internal:active,.choices.direction .link-internal.selected{margin-bottom:-6px}.button-simple.link-internal{background:none;border:none;padding:0;margin:0}.button-simple.link-internal:hover,.button-simple.link-internal:active{background:none;border:none;padding:0;margin:0}.button-simple.link-internal::before{content:none}.button-simple.link-internal::after{content:none}.button-simple.link-internal:active::after,.button-simple.link-internal:hover::after{content:none}.button-simple.link-internal:active::before,.button-simple.link-internal:hover::before{content:none}.button-before-zone{margin-right:5px;margin-left:5px}.button-after-zone{margin-left:5px;margin-right:5px}.choices.direction .button-before-zone{left:5px;margin-left:5px;position:absolute}.choices.direction .button-after-zone{right:5px;margin-right:5px;position:absolute}.button-group+.button-group{margin-left:3px}body[data-theme="day"] .button-item{color:var(--theme-night-color)}body[data-theme="night"] .button-item{color:var(--theme-day-color)}.button-item:last-child{margin-right:0!important}.button-item:first-child{margin-left:0!important}.button-item-nextInstant{margin-right:-6px}.button-item-nextInstant:last-child{margin-right:0!important}.button-item-male{margin-right:-2px;color:var(--theme-masculinity-color)!important}.button-item-female{margin-right:-3px;color:var(--theme-feminity-color)!important}.button-item-whited{margin-right:-22px;margin-bottom:4px;background-color:#f7f7f7;background-image:-webkit-linear-gradient(top,#f7f7f7,#e7e7e7);background-image:-moz-linear-gradient(top,#f7f7f7,#e7e7e7);background-image:-ms-linear-gradient(top,#f7f7f7,#e7e7e7);background-image:-o-linear-gradient(top,#f7f7f7,#e7e7e7);background-image:linear-gradient(top,#f7f7f7,#e7e7e7);border-radius:5em;-moz-border-radius:5em;-webkit-border-radius:5em;color:#000!important;font-weight:700;line-height:27px;border:1px solid black;font-family:Roboto;height:28px;width:28px;vertical-align:bottom;display:inline-block;box-shadow:0 1px 1px #B7B6B6,0 0 0 0 #BBB7AE,inset 0 -3px 1px 2px rgba(186,178,165,.5),inset 0 3px 1px 2px rgba(246,245,241,.3);font-size:18px;padding-top:1px}.button-item-blacked{margin-right:-22px;margin-bottom:4px;background:#252525;background-image:linear-gradient(top,#252525,#161616);color:white!important;border-radius:5em;-moz-border-radius:5em;-webkit-border-radius:5em;font-weight:700;line-height:27px;border:1px solid white;font-family:Roboto;height:28px;width:28px;vertical-align:bottom;display:inline-block;box-shadow:0 1px 1px rgb(19,19,19),0 0 0 0 rgb(20,20,19),inset 0 -3px 1px 2px rgba(36,34,31,.5),inset 0 3px 1px 2px rgba(61,57,57,.3);font-size:18px;padding-top:1px}.button-item-heart{color:var(--theme-feminity-color)!important;margin-right:-5.5px}.pop{background-color:#ff6f69;background:radial-gradient(#ff6f69,#ff8b87);background:none}.border{height:19.4em;width:23.5em;padding:.25em;margin-left:auto;margin-right:auto;background:linear-gradient(110deg,#ffeead 33%,rgba(0,0,0,0) 33%),linear-gradient(110deg,#C5E7D7 34%,#2d89ef 34%);background-position:25% 50%;animation:Gradient 10s ease infinite;-webkit-animation:Gradient 10s ease infinite;-moz-animation:Gradient 10s ease infinite;background-size:75em}.border.mini{height:9.7em;width:11.75em;padding:.125em;background-size:37.5em}.inner-cutout{line-height:6em;width:22em;height:18em;padding-bottom:40px;padding:2em 0;display:block;margin:2%;background-size:300%;background-color:#00aba9;background-position:50% 50%}.inner-cutout.mini{line-height:3em;width:11em;height:9em;padding-bottom:20px;padding:1em 0}.knockout{font-size:3.4em;vertical-align:middle;text-align:center;font-family:'Pacifico',cursive;color:blue;background:linear-gradient(110deg,#ffd63a 33%,rgba(0,0,0,0) 33%),linear-gradient(110deg,#C5E7D7 34%,#0959b1 34%);-webkit-text-fill-color:transparent;-webkit-background-clip:text;background-clip:text;animation:Gradient 8s ease infinite;-webkit-animation:Gradient 8s ease infinite;-moz-animation:Gradient 8s ease infinite;background-size:30em}.knockout.mini{font-size:1.7em;background-size:32.5em}@keyframes Gradient{0%{background-position:30% 50%}50%{background-position:15% 40%}100%{background-position:30% 50%}}.nightclub-logo{text-align:center;vertical-align:middle}.nightclub-neon-one{font-family:neon;color:#FB4264;font-size:6em;line-height:1em}.nightclub-neon-one.mini{font-size:4em;line-height:1em}.nightclub-neon-two{font-family:neon;color:#426DFB;font-size:6em;line-height:1em}.nightclub-neon-two.mini{font-size:4em;line-height:1em}.nightclub-neon-one.activate{animation:neon 1s ease infinite;-moz-animation:neon 1s ease infinite;-webkit-animation:neon 1s ease infinite;-o-animation:neon 1s linear infinite;text-shadow:0 0 3em #F40A35}@keyframes neon{0%,100%{text-shadow:0 0 1em #FA1C16,0 0 3em #FA1C16,0 0 10em #FA1C16,0 0 10em #FA1C16,0 0 .4em #FED128,5px 5px 1px #806914;color:#FED128}50%{text-shadow:0 0 .5em #800E0B,0 0 1.5em #800E0B,0 0 5em #800E0B,0 0 5em #800E0B,0 0 .2em #800E0B,5px 5px 1px #40340A;color:#806914}}.nightclub-neon-two.activate{animation:flux 2s linear infinite;-moz-animation:flux 2s linear infinite;-webkit-animation:flux 2s linear infinite;-o-animation:flux 2s linear infinite;text-shadow:0 0 3em #2356FF}@keyframes flux{0%,100%{text-shadow:0 0 1em #1041FF,0 0 3em #1041FF,0 0 10em #1041FF,0 0 10em #1041FF,0 0 .4em #8BFDFE,5px 5px 1px #147280;color:#28D7FE}50%{text-shadow:0 0 .5em #082180,0 0 1.5em #082180,0 0 5em #082180,0 0 5em #082180,0 0 .2em #082180,5px 5px 1px #0A3940;color:#146C80}}city-logo{border:none;border-radius:0}#ui-dialog{color:white}#ui-dialog-titlebar{background-color:black;border:2px solid white;border-bottom:0;border-radius:10px;border-bottom-left-radius:0;border-bottom-right-radius:0}#ui-dialog-title{padding-left:3em}#ui-dialog-close{border-radius:50%;background-color:white;color:black;height:30px;width:30px;margin:.4em;font-size:1em}#ui-dialog-close:hover{background-color:black;color:white;border:2px solid white}#ui-dialog-body{background-color:black;border:2px solid white;border-radius:10px;border-top-left-radius:0;border-top-right-radius:0}#ui-dialog-body.saves .empty{color:white}.load,.save,.delete,#saves-export,#saves-import,#saves-clear{background-color:black;border:1px solid white;border-radius:4px}.load:hover,.save:hover,.delete:hover,#saves-export:hover,#saves-import:hover,#saves-clear:hover{color:black;background-color:white}.delete:disabled{display:none}#restart-ok,#restart-cancel{background-color:black;border:1px solid white;border-radius:4px;width:5em}#restart-ok:hover,#restart-cancel:hover{color:black;background-color:white}#effect-orgasm-zone{width:100vw;background-color:white;position:fixed;top:0;left:0;height:100vh;z-index:51}#effect-orgasm-text{text-align:center;vertical-align:middle;margin-top:20vh;font-size:25vh;font-family:Pacifico;font-style:italic;color:#210045}#feedback-zone{margin:1em;margin-left:0em;bottom:0;right:0;position:fixed;width:40em;max-width:40em}.feedback{opacity:1;font-size:1em;position:absolute;left:50%;text-align:center;bottom:1em;font-family:'Julius Sans One',sans-serif;padding:2px;-webkit-animation:push-small 0.5s ease-out 0s 1 normal forwards running,elevation-small 5s ease-out 0s 1 normal forwards running,disappear 1.5s ease-out 3.5s 1 normal forwards running;-moz-animation:push-small 0.5s ease-out 0s 1 normal forwards running,elevation-small 5s ease-out 0s 1 normal forwards running,disappear 1.5s ease-out 3.5s 1 normal forwards running;animation:push-small 0.5s ease-out 0s 1 normal forwards running,elevation-small 5s ease-out 0s 1 normal forwards running,disappear 1.5s ease-out 3.5s 1 normal forwards running}.feedback.small{-webkit-animation:push-small 0.5s ease-out 0s 1 normal forwards running,elevation-small 5s ease-out 0s 1 normal forwards running,disappear 1.5s ease-out 3.5s 1 normal forwards running;-moz-animation:push-small 0.5s ease-out 0s 1 normal forwards running,elevation-small 5s ease-out 0s 1 normal forwards running,disappear 1.5s ease-out 3.5s 1 normal forwards running;animation:push-small 0.5s ease-out 0s 1 normal forwards running,elevation-small 5s ease-out 0s 1 normal forwards running,disappear 1.5s ease-out 3.5s 1 normal forwards running}.feedback.medium{-webkit-animation:push-medium 0.5s ease-out 0s 1 normal forwards running,elevation-medium 5s ease-out 0s 1 normal forwards running,disappear 1.5s ease-out 3.5s 1 normal forwards running;-moz-animation:push-medium 0.5s ease-out 0s 1 normal forwards running,elevation-medium 5s ease-out 0s 1 normal forwards running,disappear 1.5s ease-out 3.5s 1 normal forwards running;animation:push-medium 0.5s ease-out 0s 1 normal forwards running,elevation-medium 5s ease-out 0s 1 normal forwards running,disappear 1.5s ease-out 3.5s 1 normal forwards running}.feedback.big{font-weight:700;-webkit-animation:push-big 0.5s ease-out 0s 1 normal forwards running,elevation-big 5s ease-out 0s 1 normal forwards running,disappear 1.5s ease-out 3.5s 1 normal forwards running;animation:push-big 0.5s ease-out 0s 1 normal forwards running,elevation-big 5s ease-out 0s 1 normal forwards running,disappear 1.5s ease-out 3.5s 1 normal forwards running;animation:push-big 0.5s ease-out 0s 1 normal forwards running,elevation-big 5s ease-out 0s 1 normal forwards running,disappear 1.5s ease-out 3.5s 1 normal forwards running}.feedback-text{position:relative;left:-50%;white-space:nowrap;border-radius:2px;display:flex;align-items:center}.feedback-text-symbol{margin:3px;margin-right:10px}@keyframes push-small{0%{font-size:1em}25%{font-size:1.3em}100%{font-size:1em}}@keyframes push-medium{0%{font-size:1.3em}25%{font-size:2em}100%{font-size:1.3em}}@keyframes push-big{0%{font-size:1.6em}25%{font-size:2.3em}100%{font-size:1.6em}}@keyframes elevation-small{0%{transform:translateY(0)}100%{transform:translateY(-250px)}}@keyframes elevation-medium{0%{transform:translateY(0)}100%{transform:translateY(-250px)}}@keyframes elevation-big{0%{transform:translateY(0)}100%{transform:translateY(-250px)}}@keyframes disappear{0%{opacity:1}100%{opacity:0}}.feedback-text.bad{color:white;background-color:var(--theme-bad-color);padding-right:.3em;padding-left:.3em}.bad .feedback-text-text{text-shadow:0 0 0 white}.feedback-text.good{color:white;background-color:var(--theme-good-color);padding-right:.3em;padding-left:.3em}.good .feedback-text-text{text-shadow:0 0 0 white}.feedback-text.money{color:white;background-color:var(--theme-money-color);padding-right:.3em;padding-left:.3em}.money .feedback-text-text{text-shadow:0 0 0 white}.feedback-text.work{color:white;background-color:var(--theme-work-color);padding-right:.3em;padding-left:.3em}.work .feedback-text-text{text-shadow:0 0 0 white}.feedback-text.blacked{color:white;background-color:black;padding-right:.3em;padding-left:.3em}.blacked .feedback-text-text{text-shadow:0 0 0 white}.feedback-text.whited{color:black;background-color:white;padding-right:.3em;padding-left:.3em}.whited .feedback-text-text{text-shadow:0 0 0 black}.feedback-text.corruption{color:var(--theme-sex-color);background-color:var(--theme-corruption-color);padding-right:.3em}.feedback-text.frustration{color:var(--theme-sex-color);background-color:var(--theme-corruption-color);padding-right:.3em}.corruption .feedback-text-text{text-shadow:0 0 0 var(--theme-sex-color)}.feedback-text.excitation{color:var(--theme-corruption-color);background-color:var(--theme-sex-color);padding-right:.3em}.excitation .feedback-text-text{text-shadow:0 0 0 var(--theme-corruption-color)}.feedback-text.friendly{color:white;background-color:var(--theme-friendly-color);padding-right:.3em}.friendly .feedback-text-text{text-shadow:0 0 0 white}.feedback-text.noeffect{color:white;background-color:rgb(172,172,172);padding-right:.3em}.feedback-text.fragment{color:"#764900";background-color:var(--theme-collection-color);padding-left:5px;padding-top:2px;padding-bottom:2px}.feedback-text.fragment .feedback-text-text{margin-bottom:-4px;margin-right:10px;font-weight:700}@font-face{font-family:'VT323';font-style:normal;font-weight:400;font-display:swap;src:local('VT323 Regular'),local('VT323-Regular'),url(https://fonts.gstatic.com/s/vt323/v11/pxiKyp0ihIEF2isQFJXGdg.woff2) format('woff2');unicode-range:U+0102-0103,U+0110-0111,U+1EA0-1EF9,U+20AB}@font-face{font-family:'VT323';font-style:normal;font-weight:400;font-display:swap;src:local('VT323 Regular'),local('VT323-Regular'),url(https://fonts.gstatic.com/s/vt323/v11/pxiKyp0ihIEF2isRFJXGdg.woff2) format('woff2');unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'VT323';font-style:normal;font-weight:400;font-display:swap;src:local('VT323 Regular'),local('VT323-Regular'),url(https://fonts.gstatic.com/s/vt323/v11/pxiKyp0ihIEF2isfFJU.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:'Mrs Saint Delafield';font-style:normal;font-weight:400;src:local('Mrs Saint Delafield'),local('MrsSaintDelafield-Regular'),url(https://fonts.gstatic.com/s/mrssaintdelafield/v7/v6-IGZDIOVXH9xtmTZfRagunqBw5WC62QKcnL_ub.woff2) format('woff2');unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Mrs Saint Delafield';font-style:normal;font-weight:400;src:local('Mrs Saint Delafield'),local('MrsSaintDelafield-Regular'),url(https://fonts.gstatic.com/s/mrssaintdelafield/v7/v6-IGZDIOVXH9xtmTZfRagunqBw5WC62QKknLw.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:'Bree Serif';font-style:normal;font-weight:400;font-display:swap;src:local('Bree Serif Regular'),local('BreeSerif-Regular'),url(https://fonts.gstatic.com/s/breeserif/v9/4UaHrEJCrhhnVA3DgluA96Tp56N1.woff2) format('woff2');unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Bree Serif';font-style:normal;font-weight:400;font-display:swap;src:local('Bree Serif Regular'),local('BreeSerif-Regular'),url(https://fonts.gstatic.com/s/breeserif/v9/4UaHrEJCrhhnVA3DgluA96rp5w.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:'Tangerine';font-style:normal;font-weight:400;font-display:swap;src:local('Tangerine Regular'),local('Tangerine-Regular'),url(https://fonts.gstatic.com/s/tangerine/v11/IurY6Y5j_oScZZow4VOxCZZM.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:'Roboto';font-style:normal;font-weight:400;font-display:swap;src:local('Roboto'),local('Roboto-Regular'),url(https://fonts.gstatic.com/s/roboto/v20/KFOmCnqEu92Fr1Mu72xKOzY.woff2) format('woff2');unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:'Roboto';font-style:normal;font-weight:400;font-display:swap;src:local('Roboto'),local('Roboto-Regular'),url(https://fonts.gstatic.com/s/roboto/v20/KFOmCnqEu92Fr1Mu5mxKOzY.woff2) format('woff2');unicode-range:U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'Roboto';font-style:normal;font-weight:400;font-display:swap;src:local('Roboto'),local('Roboto-Regular'),url(https://fonts.gstatic.com/s/roboto/v20/KFOmCnqEu92Fr1Mu7mxKOzY.woff2) format('woff2');unicode-range:U+1F00-1FFF}@font-face{font-family:'Roboto';font-style:normal;font-weight:400;font-display:swap;src:local('Roboto'),local('Roboto-Regular'),url(https://fonts.gstatic.com/s/roboto/v20/KFOmCnqEu92Fr1Mu4WxKOzY.woff2) format('woff2');unicode-range:U+0370-03FF}@font-face{font-family:'Roboto';font-style:normal;font-weight:400;font-display:swap;src:local('Roboto'),local('Roboto-Regular'),url(https://fonts.gstatic.com/s/roboto/v20/KFOmCnqEu92Fr1Mu7WxKOzY.woff2) format('woff2');unicode-range:U+0102-0103,U+0110-0111,U+1EA0-1EF9,U+20AB}@font-face{font-family:'Roboto';font-style:normal;font-weight:400;font-display:swap;src:local('Roboto'),local('Roboto-Regular'),url(https://fonts.gstatic.com/s/roboto/v20/KFOmCnqEu92Fr1Mu7GxKOzY.woff2) format('woff2');unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Roboto';font-style:normal;font-weight:400;font-display:swap;src:local('Roboto'),local('Roboto-Regular'),url(https://fonts.gstatic.com/s/roboto/v20/KFOmCnqEu92Fr1Mu4mxK.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:'Sacramento';font-style:normal;font-weight:400;font-display:swap;src:local('Sacramento'),local('Sacramento-Regular'),url(https://fonts.gstatic.com/s/sacramento/v7/buEzpo6gcdjy0EiZMBUG4CMf_exL.woff2) format('woff2');unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Sacramento';font-style:normal;font-weight:400;font-display:swap;src:local('Sacramento'),local('Sacramento-Regular'),url(https://fonts.gstatic.com/s/sacramento/v7/buEzpo6gcdjy0EiZMBUG4C0f_Q.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:'Merienda';font-style:normal;font-weight:400;font-display:swap;src:local('Merienda'),local('Merienda-Regular_0_wt'),url(https://fonts.gstatic.com/s/merienda/v8/gNMHW3x8Qoy5_mf8uWMLMIqK_Q.woff2) format('woff2');unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Merienda';font-style:normal;font-weight:400;font-display:swap;src:local('Merienda'),local('Merienda-Regular_0_wt'),url(https://fonts.gstatic.com/s/merienda/v8/gNMHW3x8Qoy5_mf8uWMFMIo.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:'Pacifico';font-style:normal;font-weight:400;font-display:swap;src:local('Pacifico Regular'),local('Pacifico-Regular'),url(https://fonts.gstatic.com/s/pacifico/v15/FwZY7-Qmy14u9lezJ-6K6MmTpA.woff2) format('woff2');unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:'Pacifico';font-style:normal;font-weight:400;font-display:swap;src:local('Pacifico Regular'),local('Pacifico-Regular'),url(https://fonts.gstatic.com/s/pacifico/v15/FwZY7-Qmy14u9lezJ-6D6MmTpA.woff2) format('woff2');unicode-range:U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'Pacifico';font-style:normal;font-weight:400;font-display:swap;src:local('Pacifico Regular'),local('Pacifico-Regular'),url(https://fonts.gstatic.com/s/pacifico/v15/FwZY7-Qmy14u9lezJ-6I6MmTpA.woff2) format('woff2');unicode-range:U+0102-0103,U+0110-0111,U+1EA0-1EF9,U+20AB}@font-face{font-family:'Pacifico';font-style:normal;font-weight:400;font-display:swap;src:local('Pacifico Regular'),local('Pacifico-Regular'),url(https://fonts.gstatic.com/s/pacifico/v15/FwZY7-Qmy14u9lezJ-6J6MmTpA.woff2) format('woff2');unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Pacifico';font-style:normal;font-weight:400;font-display:swap;src:local('Pacifico Regular'),local('Pacifico-Regular'),url(https://fonts.gstatic.com/s/pacifico/v15/FwZY7-Qmy14u9lezJ-6H6Mk.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:'Raleway';font-style:normal;font-weight:400;font-display:swap;src:local('Raleway'),local('Raleway-Regular'),url(https://fonts.gstatic.com/s/raleway/v14/1Ptug8zYS_SKggPNyCMIT5lu.woff2) format('woff2');unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Raleway';font-style:normal;font-weight:400;font-display:swap;src:local('Raleway'),local('Raleway-Regular'),url(https://fonts.gstatic.com/s/raleway/v14/1Ptug8zYS_SKggPNyC0ITw.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:'Quicksand';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/quicksand/v13/6xK-dSZaM9iE8KbpRA_LJ3z8mH9BOJvgkP8o58m-wi40.woff2) format('woff2');unicode-range:U+0102-0103,U+0110-0111,U+1EA0-1EF9,U+20AB}@font-face{font-family:'Quicksand';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/quicksand/v13/6xK-dSZaM9iE8KbpRA_LJ3z8mH9BOJvgkP8o58i-wi40.woff2) format('woff2');unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Quicksand';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/quicksand/v13/6xK-dSZaM9iE8KbpRA_LJ3z8mH9BOJvgkP8o58a-wg.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:'Patrick Hand';font-style:normal;font-weight:400;font-display:swap;src:local('Patrick Hand'),local('PatrickHand-Regular'),url(https://fonts.gstatic.com/s/patrickhand/v13/LDI1apSQOAYtSuYWp8ZhfYe8UcLLq7s.woff2) format('woff2');unicode-range:U+0102-0103,U+0110-0111,U+1EA0-1EF9,U+20AB}@font-face{font-family:'Patrick Hand';font-style:normal;font-weight:400;font-display:swap;src:local('Patrick Hand'),local('PatrickHand-Regular'),url(https://fonts.gstatic.com/s/patrickhand/v13/LDI1apSQOAYtSuYWp8ZhfYe8UMLLq7s.woff2) format('woff2');unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Patrick Hand';font-style:normal;font-weight:400;font-display:swap;src:local('Patrick Hand'),local('PatrickHand-Regular'),url(https://fonts.gstatic.com/s/patrickhand/v13/LDI1apSQOAYtSuYWp8ZhfYe8XsLL.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:'Finger Paint';font-style:normal;font-weight:400;src:local('Finger Paint Regular'),local('FingerPaint-Regular'),url(https://fonts.gstatic.com/s/fingerpaint/v9/0QInMXVJ-o-oRn_7dron8YW-9JzT.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:neon;src:url(data/default/neon.woff2) format('woff2'),url(data/default/neon.ttf) format('truetype')}@font-face{font-family:'Julius Sans One';font-style:normal;font-weight:400;font-display:swap;src:local('Julius Sans One'),local('JuliusSansOne-Regular'),url(https://fonts.gstatic.com/s/juliussansone/v8/1Pt2g8TAX_SGgBGUi0tGOYEga5WOzHsX2aE.woff2) format('woff2');unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Julius Sans One';font-style:normal;font-weight:400;font-display:swap;src:local('Julius Sans One'),local('JuliusSansOne-Regular'),url(https://fonts.gstatic.com/s/juliussansone/v8/1Pt2g8TAX_SGgBGUi0tGOYEga5WOwnsX.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:'Questrial';font-style:normal;font-weight:400;font-display:swap;src:local('Questrial'),local('Questrial-Regular'),url(https://fonts.gstatic.com/s/questrial/v9/QdVUSTchPBm7nuUeVf70viFl.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:'Noto Serif';font-style:normal;font-weight:400;font-display:swap;src:local('Noto Serif'),local('NotoSerif'),url(https://fonts.gstatic.com/s/notoserif/v8/ga6Iaw1J5X9T9RW6j9bNfFoWaCi_.woff2) format('woff2');unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:'Noto Serif';font-style:normal;font-weight:400;font-display:swap;src:local('Noto Serif'),local('NotoSerif'),url(https://fonts.gstatic.com/s/notoserif/v8/ga6Iaw1J5X9T9RW6j9bNfFMWaCi_.woff2) format('woff2');unicode-range:U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'Noto Serif';font-style:normal;font-weight:400;font-display:swap;src:local('Noto Serif'),local('NotoSerif'),url(https://fonts.gstatic.com/s/notoserif/v8/ga6Iaw1J5X9T9RW6j9bNfFsWaCi_.woff2) format('woff2');unicode-range:U+1F00-1FFF}@font-face{font-family:'Noto Serif';font-style:normal;font-weight:400;font-display:swap;src:local('Noto Serif'),local('NotoSerif'),url(https://fonts.gstatic.com/s/notoserif/v8/ga6Iaw1J5X9T9RW6j9bNfFQWaCi_.woff2) format('woff2');unicode-range:U+0370-03FF}@font-face{font-family:'Noto Serif';font-style:normal;font-weight:400;font-display:swap;src:local('Noto Serif'),local('NotoSerif'),url(https://fonts.gstatic.com/s/notoserif/v8/ga6Iaw1J5X9T9RW6j9bNfFgWaCi_.woff2) format('woff2');unicode-range:U+0102-0103,U+0110-0111,U+1EA0-1EF9,U+20AB}@font-face{font-family:'Noto Serif';font-style:normal;font-weight:400;font-display:swap;src:local('Noto Serif'),local('NotoSerif'),url(https://fonts.gstatic.com/s/notoserif/v8/ga6Iaw1J5X9T9RW6j9bNfFkWaCi_.woff2) format('woff2');unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Noto Serif';font-style:normal;font-weight:400;font-display:swap;src:local('Noto Serif'),local('NotoSerif'),url(https://fonts.gstatic.com/s/notoserif/v8/ga6Iaw1J5X9T9RW6j9bNfFcWaA.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}.BRO-1-5-2 br{display:initial}.presentation{text-align:justify;display:flex;align-items:center}.presentation #photo{flex:1;float:left;padding:.4em;margin-right:2em;margin-left:3em;border:1px solid black;background-color:white;border-radius:10px;box-shadow:8px 4px 8px black}.presentation .message-action{flex:3}.commode1-table{-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;background-color:transparent;display:table;border-radius:10px;background-image:linear-gradient(to left,rgba(0,0,0,.5),rgba(0,0,0,0) 5px),linear-gradient(to top,rgba(0,0,0,.5),rgba(0,0,0,0) 5px),linear-gradient(to right,rgba(255,255,255,.5),rgba(255,255,255,0) 5px),linear-gradient(to bottom,rgba(255,255,255,.5),rgba(255,255,255,0) 5px)}.commode1-row{display:flex}.commode1-cell{display:inline-block;width:50px;height:50px;background-color:rgba(206,129,38,.05);border-radius:10%;background-image:radial-gradient(circle at bottom right,hsla(33,68.9%,90%,.35),hsla(33,68.9%,10%,.35) 60%);box-shadow:1px 1px 5px 0 #fff}.commode1-item{cursor:move;cursor:-webkit-grab;cursor:-moz-grab;cursor:grab;width:50px;height:50px;position:relative}.commode1-icon{z-index:1000;top:50%;left:50%;transform:translate(-50%,-50%);position:absolute;max-width:50px;max-height:50px}.commode1-text{color:rgba(255,255,255,1) line-height:1;position:absolute;z-index:2000;text-shadow:-1px -1px 0 rgba(0,0,0,.5),1px -1px 0 rgba(0,0,0,.5),-1px 1px 0 rgba(0,0,0,.5),1px 1px 0 rgba(0,0,0,.5);padding:4px 5px 2px 3px;bottom:-3px;left:calc(100% + 3px);transform:translate(-100%,0%);font-family:Arial;font-size:16px;border-radius:10px}.commode1-item:active,.commode1-item.grabbing{cursor:-webkit-grabbing!important;cursor:-moz-grabbing!important;cursor:grabbing!important}.inventory-table{-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;background-color:rgba(0,0,0,1);display:table;border:1px solid #fff}.inv-zone .inventory-table{border-top-right-radius:0;border-bottom-right-radius:0}.inventory-row{display:flex}.inventory-cell{--inventory-color1:#6c6c6c;--inventory-color2:black;display:inline-block;width:50px;height:50px;background-color:rgba(0,0,0,.05);border-radius:50%;border:3px solid #fff;background-image:-webkit-gradient(linear,left top,left bottom,from(var(--inventory-color1)),to(var(--inventory-color2)));background-image:-webkit-gradient(linear,left top,left bottom,from(var(--inventory-color1)),to(var(--inventory-color2)));background-image:-webkit-linear-gradient(top,var(--inventory-color1),var(--inventory-color2));background-image:-moz-linear-gradient(top,var(--inventory-color1),var(--inventory-color2));box-shadow:inset 0 2px 3px black}.inventory-item{cursor:move;cursor:-webkit-grab;cursor:-moz-grab;cursor:grab;width:50px;height:50px;position:relative;margin-left:-2px}.inventory-icon{z-index:1000;top:50%;left:50%;transform:translate(-50%,-50%);position:absolute;max-width:50px;max-height:50px}.inventory-text{color:rgba(255,255,255,1) line-height:1;position:absolute;z-index:2000;text-shadow:-1px -1px 0 rgba(0,0,0,.5),1px -1px 0 rgba(0,0,0,.5),-1px 1px 0 rgba(0,0,0,.5),1px 1px 0 rgba(0,0,0,.5);padding:4px 5px 2px 3px;bottom:-3px;left:calc(100% + 3px);transform:translate(-100%,0%);font-family:Arial;font-size:16px;border-radius:10px}.inventory-item:active,.inventory-item.grabbing{cursor:-webkit-grabbing!important;cursor:-moz-grabbing!important;cursor:grabbing!important}.outfit-table{-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;background-color:rgba(0,0,0,1);display:table;border-radius:50px;border:1px solid #fff}.outfit-row{display:flex}.outfit-cell{display:inline-block;width:22px;height:22px;background-color:rgba(0,0,0,.05);border-radius:50%;border:1px solid #fff;background-image:radial-gradient(circle at bottom right,hsla(0,0%,90%,.35),hsla(0,0%,10%,.35) 60%)}.outfit-item{cursor:move;cursor:-webkit-grab;cursor:-moz-grab;cursor:grab;width:22px;height:22px;position:relative}.outfit-icon{z-index:1000;top:50%;left:50%;transform:translate(-50%,-50%);position:absolute;max-width:22px;max-height:22px}.outfit-text{color:rgba(255,255,255,1) line-height:1;position:absolute;z-index:2000;text-shadow:-1px -1px 0 rgba(0,0,0,.5),1px -1px 0 rgba(0,0,0,.5),-1px 1px 0 rgba(0,0,0,.5),1px 1px 0 rgba(0,0,0,.5);padding:4px 5px 2px 3px;bottom:-3px;left:calc(100% + 3px);transform:translate(-100%,0%);font-family:Arial;font-size:8px;border-radius:10px}.outfit-item:active,.outfit-item.grabbing{cursor:-webkit-grabbing!important;cursor:-moz-grabbing!important;cursor:grabbing!important}html{font-size:15px}body[data-theme='day']{--global-bg-color:rgb(239,244,255);--global-text-color:black;--button-color1:white;--button-color1-transp:rgb(255,255,255,0);--button-color2:#ececec;--button-color3:#d1d1d1;--button-color4:#c7c7c7;--button-color-text:black;--button-color-border:black;--border-think-color:black}body[data-theme='night']{--global-bg-color:#000511;--global-text-color:white;--button-color1:black;--button-color1-transp:rgb(0,0,0,0);--button-color2:#1d1d1d;--button-color3:black;--button-color4:#434343;--button-color-text:white;--button-color-border:white;--border-think-color:white}body{transition:background-color 1s ease;background-color:var(--global-bg-color);color:var(--global-text-color);--theme-day-color:rgb(239,244,255);--theme-night-color:rgb(29,29,29);--theme-work-color:#00c9c9;--theme-bad-color:#c80000;--theme-good-color:#008f00;--theme-state-color:#e77e00;--theme-danger-color:#25004c;--theme-money-color:#32CD32;--theme-masculinity-color:#2196F3;--theme-feminity-color:#e91e63;--theme-corruption-color:#3b006b;--theme-sex-color:#ffdae7;--theme-patreon-color:#E64413;--theme-poison-color:#28DF28;--theme-friendly-color:#e77e00;--theme-collection-color:#ffab22}td{color:gold}input:not(:disabled):focus,input:not(:disabled):hover,select:not(:disabled):focus,select:not(:disabled):hover,textarea:not(:disabled):focus,textarea:not(:disabled):hover{background-color:white;color:black}.message_sms{border:2px solid #dedede;background-color:#f1f1f1;border-radius:5px;padding:5px;margin:2px 0;margin-right:22em;font-family:'Quicksand';font-size:large;line-height:1.2em;display:flex}.darker{border-color:#ccc;background-color:#b0ecb4;margin-right:18em;margin-left:4em}.message_sms::after{content:"";clear:both;display:table}.message_sms+br{display:block;content:" "}.contact_info{margin-left:auto;margin-right:auto;text-align:center}.message_sms.darker .contact_info{float:right}.contact_info img.left{max-width:60px;max-height:60px;width:100%;border-radius:50%;margin-left:0%;float:left;border:none;margin-top:0em;margin-bottom:0em}.contact_info img.right{max-width:60px;max-height:60px;width:100%;border-radius:50%;margin-left:0%;float:right;border:none;margin-top:0em;margin-bottom:0em}.chat_time{color:#999;font-size:.8em}.message_text{flex:4;padding-left:1em;color:black}.message_text img{width:100%;margin-left:0%;margin-top:10px;border:2px solid white;border-radius:5px}.message_text video{width:100%;margin-left:0%;margin-top:10px;border:2px solid white;border-radius:5px}.message-think{font-family:"Questrial";font-size:1.2em;border:2px solid var(--border-think-color);background-color:#142146;color:white;padding:.5em;line-height:1.4em;font-style:italic;margin-bottom:1em}.message-think+.choices{margin-top:2em}video+.message-think{margin-top:2em}.message-action{font-family:Questrial;line-height:1.5em;font-size:1.2em;margin-top:1em;margin-bottom:1em}.message-discuss{margin-left:3em;color:black;border-radius:3px;overflow:auto;box-shadow:10px 10px 5px #656565;margin-top:1em;margin-bottom:1em;font-family:Questrial;font-size:1.1em}.passage .message-discuss img{margin:0;margin-right:1em;border-radius:3px;border-bottom-right-radius:15px;border-top-left-radius:0;height:100px;width:auto;float:left;max-height:100px;max-width:100px}.message-discuss-name{margin-bottom:-3px;margin-top:-3px;font-weight:700;font-size:1.3em;font-family:Finger Paint}.message-discuss-text{margin:1em;margin-bottom:.5em;margin-top:0em;line-height:1.5em}.message-discuss+br{display:block;content:" "}.message-discuss+.choices{margin-top:3em}.message-action+.message-action{margin-top:1em}.message-think+.message-think{margin-top:.5em}.message-discuss .message-think{margin-top:0;margin-bottom:0}.message-discuss+.message-discuss{margin-top:.5em}#notify{position:fixed;width:40em;height:8em;right:-50em;top:5em;padding:1em;border-radius:4px;border-top-right-radius:0;border-bottom-right-radius:0;display:flex;align-items:center;-webkit-transition:right 0.5s;-moz-transition:right 0.5s;-o-transition:right 0.5s;transition:right 0.5s}#notify.open{right:0}#notif-circle{display:block;background:white;width:100px;height:100px;border-radius:50px;opacity:.3;position:absolute}#notif-guesser{font-size:.5em;margin-top:.5em}#notif-indicator{padding-right:15px;text-align:center;margin-left:30px}#notif-message{margin-left:2em;display:flex;flex-direction:column;align-items:center;justify-content:center;width:100%;height:100%}#notif-message-one{flex:1;text-align:center}#notif-message-two{font-family:"Tangerine";font-size:3em;font-weight:700}.happy-notif{background-color:var(--theme-collection-color);color:white}.happy-notif #notif-circle{margin-top:-79px;margin-left:-17px}.local-notif{background-color:#05f;color:white}.local-notif #notif-circle{margin-top:-82px;margin-left:-28px}.porn-notif{background-color:#FF0251;color:white}.porn-notif #notif-circle{margin-top:-80px;margin-left:-21px}.blacked-notif{background-color:black;color:white}.whited-notif{background-color:white;color:black}.passage video{border:2px solid white;border-radius:10px;width:50%;max-height:1000px;margin-left:25%;margin-right:25%}.passage .tv{margin:2em}.passage .tv video{border:8px solid #101010;border-bottom:0 solid #101010;width:100%;max-height:800px;margin-left:0;margin-right:0;border-radius:0;border-top-left-radius:6px;border-top-right-radius:6px}.passage .tv .tv-mark{background-color:#101010;color:white;border-bottom-left-radius:6px;border-bottom-right-radius:6px;text-align:center}.tv-mark img{width:6em;margin-top:-3px}.passage hr{border:1px solid black;border-radius:5px}.passage-image{display:block;width:50%;max-height:1000px;margin-left:25%;border:2px solid white;border-radius:5px;margin-top:2em;margin-bottom:2em}.index-page{display:grid;justify-content:center;font-family:'Julius Sans One',sans-serif;font-size:6em}.index-page-line{display:flex;flex-direction:row;justify-self:center}.index-page-line.logo{margin-top:.5em;margin-right:.15em}.index-page-line-blacked{border:5px solid white;font-weight:700;padding-right:.2em;padding-left:.2em;transform:scale(.936,1)}.index-page-line-esp{padding-right:.7em;padding-left:.5em;font-size:.8em;padding-top:.3em}.index-page-line-whited{color:black;border:5px solid white;font-weight:700;padding-right:.2em;padding-left:.2em;background-color:white}.index-page-line-warning{font-size:.27em;text-align:center;margin:2em;margin-top:5em;padding:2em;border:2px solid white;border-radius:8px}.index-page-line-warning .choices{margin-bottom:0em}.index-page-line-warning p{text-align:justify}#name-select input{float:right;line-height:1em}#avertissement{color:white;background-color:brown;padding:.6em;border-radius:4px;font-size:1em}#presentation-text{display:flex;margin:1vw;padding:1vw;padding-right:.5vw;margin-left:1vw;border-radius:5px;margin-right:5vw;font-family:Merienda;font-size:1em;border-left:5px solid white;background-color:brown;margin-top:1em}#discord-text{display:flex;margin:1vw;padding:1vw;margin-left:4.5vw;border-radius:5px;font-family:Merienda;font-size:1em;border-right:5px solid white;background-color:#738adb;margin-top:1em}#sound-text{display:flex;margin:1vw;padding:1vw;padding-right:.5vw;margin-left:1vw;border-radius:5px;margin-right:5vw;font-family:Merienda;font-size:1em;border-left:5px solid white;background-color:cadetblue;margin-top:1em}#patreon-text{display:flex;margin:1vw;padding:1vw;padding-right:.5vw;margin-left:1vw;border-radius:5px;margin-right:5vw;font-family:'Roboto',sans-serif;font-size:1em;border-left:5px solid white;background-color:#f96854;margin-top:1em}.intro-logo{flex:1;font-family:"Font Awesome 5 Free";font-size:4em;align-self:center;text-align:center}.intro-logo.fab.fa-ello{font-family:"Font Awesome 5 Brands"}.intro-text{flex:7}#name-select{background-color:#101010;border-radius:4px;padding:.7vw;margin-bottom:1em;border:2px dashed white}#name-select hr{border:1px solid #303030}.patreon-access{border-radius:40px;background-color:#f96854;color:#052d49;display:flex;padding:.3vw;align-content:center;max-width:70%;margin-left:15%}.patreon-access img{flex:1;margin:0vw;border:none;border-radius:0;margin-left:1em;max-width:25px;max-height:25px;align-self:center;justify-self:center}.patreon-access a{color:white;text-decoration:none;flex:10;align-self:center;justify-self:center;text-align:center}.patreon-access a:hover{text-decoration:underline;text-decoration-color:white}.macro-listboxplus:not(:disabled):hover,.macro-listboxplus:not(:disabled):focus,.macro-listboxplus:not(:disabled):active{background-color:#303030;color:white;border:2px solid white}select.macro-listboxplus{padding-top:5px}.macro-listboxplus{background-color:black;color:white;border-radius:2px;width:100%;border:2px solid #303030;min-height:2.8em}.select-item-options .macro-textbox:hover,.select-item-options .macro-textbox:focus,.select-item-options .macro-textbox:active{background-color:#3d3d3d;color:white;border:2px solid white}.select-item-options .macro-textbox{border:2px solid #303030;width:100%;min-height:2.8em}#select-zone{padding:.2em;padding-bottom:10px;background-color:#101010;display:flex;flex-wrap:wrap;border:2px dashed white;border-radius:4px}.select-item{border-radius:2px;padding:.3em;margin:.5em;background-color:#303030;color:white;width:47%}.select-message{font-size:.8em;margin:.2em;margin-right:2em;margin-left:8px;padding:.4em;background-color:#606060;border-radius:2px;font-family:Bree Serif}.select-title{font-family:'Patrick Hand',cursive;color:white;text-transform:uppercase;font-size:2em;margin-left:1em;width:100%;text-decoration:underline}.select-item-text{margin-left:.2em}.select-item-options select{-webkit-appearance:none;-moz-appearance:none;appearance:none}#select-avatar{max-width:200px;margin:0 auto}#select-avatar img{max-height:200px;max-width:200px;height:200px;border-radius:2px;cursor:pointer}#select-avatar p{color:#c54545;text-align:center;margin:0;line-height:1.1em;font-size:.9em}.hall-star-title{text-align:right;font-size:4em;font-family:'Pacifico',cursive}.hall-star-item{display:flex;margin-bottom:.4em;align-items:center;color:#f1c40f}.hall-star-logo{flex:2;font-size:2.5em;text-align:right;margin-right:1em}.hall-star-msg{flex:10;background-color:#101010;border:2px solid #303030;border-radius:4px;font-size:1.2em;padding:.5em;padding-left:1em}#patreon-diamond{text-shadow:0 0 5px rgba(0,0,0,1);font-weight:400;font-size:60px;color:cyan;text-align:center;font-family:'Mrs Saint Delafield',cursive;display:table}#patreon-gold{font-weight:400;font-size:25px;text-shadow:0 0 5px rgba(0,0,0,1);border-right:1px solid #b9b18e;color:#f1cf3e;font-family:'Bree Serif',serif;padding-left:1em;padding-right:1em;text-align:center;display:inline-block}#patreon-silver{font-weight:400;font-size:20px;text-shadow:0 0 5px rgba(0,0,0,1);border-right:1px solid #999;color:#999;font-family:'Bree Serif',serif;padding-left:1em;padding-right:1em;text-align:center;display:inline-block}.shade{display:block;background:black;height:24px}#patreon-diamond .shade{opacity:.3;margin-top:-.7em;height:28px}#patreon-gold .shade{opacity:.3;margin-top:-.55em}#patreon-silver .shade{opacity:.4;margin-top:-.7em}.outfit-zone{display:flex;align-items:center;margin-top:1em}.inv-zone{width:70%;margin-right:2em;margin-bottom:1em}.inv-title{background-image:linear-gradient(to right,black,#181818);border:2px solid white;border-top-left-radius:4px;border-top-right-radius:4px;text-align:center;font-size:2em;font-family:Julius Sans One;font-weight:700;color:white}.inv-item{display:flex}.inv-desc{display:flex;flex:1;align-items:center;text-align:center;font-size:.8em;line-height:1.2em;background-image:linear-gradient(to right,black,#181818);border:1px solid white}.inv-item:last-of-type .inv-desc{border-bottom-right-radius:4px}.inv-item:last-of-type .inventory-table{border-bottom-left-radius:4px}.inv-desc-item{flex:1;color:white;font-family:Quicksand}.inv-desc-item:last-of-type{border-right:none}#description.inv-desc-item{font-family:Merienda;padding-left:1em;padding-right:1em}#price.inv-desc-item{max-width:5em}#modifiers.inv-desc-item{max-width:10em}.inv-desc-item-enum{white-space:nowrap;font-family:"Julius Sans One";float:left;padding-left:1em;padding-right:1em}.inv-desc-item-enum-text{font-family:"Julius Sans One"}.inv-desc-item-enum-symbol{font-size:1.3em;margin-right:2px}.inv-desc-item-enum-value{font-weight:700;font-size:1.3em;font-family:Roboto;color:white}.dresser-image img{max-height:300px}.dresser-data{margin-left:-208px;margin-top:-10px}.dresser-logo{text-align:center;text-shadow:-1px -1px 1px #fff,1px 1px 1px #000;color:#9c8468;opacity:.8;font-family:Merienda;font-size:22px}::-webkit-scrollbar{width:10px;margin-top:10em}::-webkit-scrollbar-track{background:#f1f1f1}::-webkit-scrollbar-thumb{background:#888}::-webkit-scrollbar-thumb:hover{background:#555}.error-view{background-color:red}::selection{background-color:black;color:white;opacity:1}::-moz-selection{background-color:black;color:white;opacity:1}#settings-ok,#settings-reset{color:white;background-color:black;border:1px solid white;border-radius:4px}#settings-ok:hover,#settings-reset:hover{background-color:white;color:black}#header-heading-options,#header-heading-media-control{text-decoration:underline}#ui-dialog-body.settings button[id|="setting-control"]{color:white;background-color:transparent;border:1px solid #444;padding:.4em;border-radius:10px}#ui-dialog-body.settings button[id|="setting-control"]:hover{background-color:transparent}#ui-dialog-body.settings button[id|="setting-control"].enabled{background-color:white;border-color:white;color:black}#ui-dialog-body.settings button[id|="setting-control"].enabled:hover{background-color:white;border-color:white}#setting-control-mastervolume{border:none}#setting-control-mastervolume:hover,#setting-control-mastervolume:active,#setting-control-mastervolume:focus{border:none;background-color:black}#setting-control-mastervolume::-moz-range-track{background:#222;cursor:pointer;height:10px;width:100%;border:none;border-radius:5px}#setting-control-mastervolume::-webkit-slider-runnable-track{background:#222;cursor:pointer;height:10px;width:100%;border:none;border-radius:5px}#setting-control-mastervolume::-moz-range-thumb{cursor:pointer;width:33px;border:none;background-color:white;border-radius:10px}#setting-control-mastervolume::-webkit-slider-thumb{cursor:pointer;width:33px;border:none;background-color:white;border-radius:10px}#setting-control-languageoption{border-radius:10px}.delete{background-color:#b91d47}.delete:hover{color:#b91d47}#story-author{color:white}#story-caption{color:white;margin-top:-1.8em}.story-links-zone{font-family:'Patrick Hand',cursive}.story-links-zone li{display:flex}.story-links{font-size:1.3em;flex:1;margin-top:-.15em;line-height:1.35em;letter-spacing:.02em;color:white}#menu-link-zone{display:flex;margin-right:15%;margin-left:15%}.menu-link{flex:1}#story-title{display:none}#story-title-blacked{font-size:2.4em;font-weight:400;color:white;background-color:black;border:3px solid white;content:"Blacked.";font-family:'Julius Sans One',sans-serif}#story-title-blacked:hover{color:black;background-color:white;content:"Whited.";border:3px solid black;font-family:'Julius Sans One',sans-serif}#story-title-whited{font-size:2.4em;font-weight:400;color:black;background-color:white;border:3px solid black;font-family:'Julius Sans One',sans-serif}#story-title-whited:hover{color:white;border:3px solid white;background-color:black;font-family:'Julius Sans One',sans-serif}.macro-textbox{background-color:black;color:white;border-radius:4px}.macro-textbox:hover,.macro-textbox:active,.macro-textbox:focus{background-color:#101010;color:white;border-radius:4px}#passage-index{text-align:center}[data-tooltip]{position:relative;z-index:2;cursor:pointer}[data-tooltip]:before,[data-tooltip]:after{visibility:hidden;-ms-filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";filter:progid:DXImageTransform.Microsoft.Alpha(Opacity=0);opacity:0;pointer-events:none}[data-tooltip]:before{position:absolute;bottom:150%;left:50%;margin-bottom:5px;margin-left:-80px;padding:7px;width:150px;-webkit-border-radius:4px;-moz-border-radius:4px;border-radius:4px;background-color:white;color:black;content:attr(data-tooltip);text-align:center;font-size:14px;line-height:1.2}[data-tooltip]:after{position:absolute;bottom:150%;left:50%;margin-left:-5px;width:0;border-top:5px solid white;border-right:5px solid transparent;border-left:5px solid transparent;content:" ";font-size:0;line-height:0}[data-tooltip]:hover:before,[data-tooltip]:hover:after{visibility:visible;-ms-filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=100)";filter:progid:DXImageTransform.Microsoft.Alpha(Opacity=100);opacity:1}.fa,.fab,.fal,.far,.fas{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:inline-block;font-style:normal;font-variant:normal;text-rendering:auto;line-height:1}.fa-lg{font-size:1.33333em;line-height:.75em;vertical-align:-.0667em}.fa-xs{font-size:.75em}.fa-sm{font-size:.875em}.fa-1x{font-size:1em}.fa-2x{font-size:2em}.fa-3x{font-size:3em}.fa-4x{font-size:4em}.fa-5x{font-size:5em}.fa-6x{font-size:6em}.fa-7x{font-size:7em}.fa-8x{font-size:8em}.fa-9x{font-size:9em}.fa-10x{font-size:10em}.fa-fw{text-align:center;width:1.25em}.fa-ul{list-style-type:none;margin-left:2.5em;padding-left:0}.fa-ul>li{position:relative}.fa-li{left:-2em;position:absolute;text-align:center;width:2em;line-height:inherit}.fa-border{border:.08em solid #eee;border-radius:.1em;padding:.2em .25em .15em}.fa-pull-left{float:left}.fa-pull-right{float:right}.fa.fa-pull-left,.fab.fa-pull-left,.fal.fa-pull-left,.far.fa-pull-left,.fas.fa-pull-left{margin-right:.3em}.fa.fa-pull-right,.fab.fa-pull-right,.fal.fa-pull-right,.far.fa-pull-right,.fas.fa-pull-right{margin-left:.3em}.fa-spin{animation:fa-spin 2s infinite linear}.fa-pulse{animation:fa-spin 1s infinite steps(8)}@keyframes fa-spin{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}.fa-rotate-90{-ms-filter:"progid:DXImageTransform.Microsoft.BasicImage(rotation=1)";transform:rotate(90deg)}.fa-rotate-180{-ms-filter:"progid:DXImageTransform.Microsoft.BasicImage(rotation=2)";transform:rotate(180deg)}.fa-rotate-270{-ms-filter:"progid:DXImageTransform.Microsoft.BasicImage(rotation=3)";transform:rotate(270deg)}.fa-flip-horizontal{-ms-filter:"progid:DXImageTransform.Microsoft.BasicImage(rotation=0, mirror=1)";transform:scaleX(-1)}.fa-flip-vertical{transform:scaleY(-1)}.fa-flip-both,.fa-flip-horizontal.fa-flip-vertical,.fa-flip-vertical{-ms-filter:"progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)"}.fa-flip-both,.fa-flip-horizontal.fa-flip-vertical{transform:scale(-1)}:root .fa-flip-both,:root .fa-flip-horizontal,:root .fa-flip-vertical,:root .fa-rotate-90,:root .fa-rotate-180,:root .fa-rotate-270{filter:none}.fa-stack{display:inline-block;height:2em;line-height:2em;position:relative;vertical-align:middle;width:2.5em}.fa-stack-1x,.fa-stack-2x{left:0;position:absolute;text-align:center;width:100%}.fa-stack-1x{line-height:inherit}.fa-stack-2x{font-size:2em}.fa-inverse{color:#fff}.fa-500px:before{content:"\f26e"}.fa-accessible-icon:before{content:"\f368"}.fa-accusoft:before{content:"\f369"}.fa-acquisitions-incorporated:before{content:"\f6af"}.fa-ad:before{content:"\f641"}.fa-address-book:before{content:"\f2b9"}.fa-address-card:before{content:"\f2bb"}.fa-adjust:before{content:"\f042"}.fa-adn:before{content:"\f170"}.fa-adobe:before{content:"\f778"}.fa-adversal:before{content:"\f36a"}.fa-affiliatetheme:before{content:"\f36b"}.fa-air-freshener:before{content:"\f5d0"}.fa-airbnb:before{content:"\f834"}.fa-algolia:before{content:"\f36c"}.fa-align-center:before{content:"\f037"}.fa-align-justify:before{content:"\f039"}.fa-align-left:before{content:"\f036"}.fa-align-right:before{content:"\f038"}.fa-alipay:before{content:"\f642"}.fa-allergies:before{content:"\f461"}.fa-amazon:before{content:"\f270"}.fa-amazon-pay:before{content:"\f42c"}.fa-ambulance:before{content:"\f0f9"}.fa-american-sign-language-interpreting:before{content:"\f2a3"}.fa-amilia:before{content:"\f36d"}.fa-anchor:before{content:"\f13d"}.fa-android:before{content:"\f17b"}.fa-angellist:before{content:"\f209"}.fa-angle-double-down:before{content:"\f103"}.fa-angle-double-left:before{content:"\f100"}.fa-angle-double-right:before{content:"\f101"}.fa-angle-double-up:before{content:"\f102"}.fa-angle-down:before{content:"\f107"}.fa-angle-left:before{content:"\f104"}.fa-angle-right:before{content:"\f105"}.fa-angle-up:before{content:"\f106"}.fa-angry:before{content:"\f556"}.fa-angrycreative:before{content:"\f36e"}.fa-angular:before{content:"\f420"}.fa-ankh:before{content:"\f644"}.fa-app-store:before{content:"\f36f"}.fa-app-store-ios:before{content:"\f370"}.fa-apper:before{content:"\f371"}.fa-apple:before{content:"\f179"}.fa-apple-alt:before{content:"\f5d1"}.fa-apple-pay:before{content:"\f415"}.fa-archive:before{content:"\f187"}.fa-archway:before{content:"\f557"}.fa-arrow-alt-circle-down:before{content:"\f358"}.fa-arrow-alt-circle-left:before{content:"\f359"}.fa-arrow-alt-circle-right:before{content:"\f35a"}.fa-arrow-alt-circle-up:before{content:"\f35b"}.fa-arrow-circle-down:before{content:"\f0ab"}.fa-arrow-circle-left:before{content:"\f0a8"}.fa-arrow-circle-right:before{content:"\f0a9"}.fa-arrow-circle-up:before{content:"\f0aa"}.fa-arrow-down:before{content:"\f063"}.fa-arrow-left:before{content:"\f060"}.fa-arrow-right:before{content:"\f061"}.fa-arrow-up:before{content:"\f062"}.fa-arrows-alt:before{content:"\f0b2"}.fa-arrows-alt-h:before{content:"\f337"}.fa-arrows-alt-v:before{content:"\f338"}.fa-artstation:before{content:"\f77a"}.fa-assistive-listening-systems:before{content:"\f2a2"}.fa-asterisk:before{content:"\f069"}.fa-asymmetrik:before{content:"\f372"}.fa-at:before{content:"\f1fa"}.fa-atlas:before{content:"\f558"}.fa-atlassian:before{content:"\f77b"}.fa-atom:before{content:"\f5d2"}.fa-audible:before{content:"\f373"}.fa-audio-description:before{content:"\f29e"}.fa-autoprefixer:before{content:"\f41c"}.fa-avianex:before{content:"\f374"}.fa-aviato:before{content:"\f421"}.fa-award:before{content:"\f559"}.fa-aws:before{content:"\f375"}.fa-baby:before{content:"\f77c"}.fa-baby-carriage:before{content:"\f77d"}.fa-backspace:before{content:"\f55a"}.fa-backward:before{content:"\f04a"}.fa-bacon:before{content:"\f7e5"}.fa-balance-scale:before{content:"\f24e"}.fa-ban:before{content:"\f05e"}.fa-band-aid:before{content:"\f462"}.fa-bandcamp:before{content:"\f2d5"}.fa-barcode:before{content:"\f02a"}.fa-bars:before{content:"\f0c9"}.fa-baseball-ball:before{content:"\f433"}.fa-basketball-ball:before{content:"\f434"}.fa-bath:before{content:"\f2cd"}.fa-battery-empty:before{content:"\f244"}.fa-battery-full:before{content:"\f240"}.fa-battery-half:before{content:"\f242"}.fa-battery-quarter:before{content:"\f243"}.fa-battery-three-quarters:before{content:"\f241"}.fa-battle-net:before{content:"\f835"}.fa-bed:before{content:"\f236"}.fa-beer:before{content:"\f0fc"}.fa-behance:before{content:"\f1b4"}.fa-behance-square:before{content:"\f1b5"}.fa-bell:before{content:"\f0f3"}.fa-bell-slash:before{content:"\f1f6"}.fa-bezier-curve:before{content:"\f55b"}.fa-bible:before{content:"\f647"}.fa-bicycle:before{content:"\f206"}.fa-bimobject:before{content:"\f378"}.fa-binoculars:before{content:"\f1e5"}.fa-biohazard:before{content:"\f780"}.fa-birthday-cake:before{content:"\f1fd"}.fa-bitbucket:before{content:"\f171"}.fa-bitcoin:before{content:"\f379"}.fa-bity:before{content:"\f37a"}.fa-black-tie:before{content:"\f27e"}.fa-blackberry:before{content:"\f37b"}.fa-blender:before{content:"\f517"}.fa-blender-phone:before{content:"\f6b6"}.fa-blind:before{content:"\f29d"}.fa-blog:before{content:"\f781"}.fa-blogger:before{content:"\f37c"}.fa-blogger-b:before{content:"\f37d"}.fa-bluetooth:before{content:"\f293"}.fa-bluetooth-b:before{content:"\f294"}.fa-bold:before{content:"\f032"}.fa-bolt:before{content:"\f0e7"}.fa-bomb:before{content:"\f1e2"}.fa-bone:before{content:"\f5d7"}.fa-bong:before{content:"\f55c"}.fa-book:before{content:"\f02d"}.fa-book-dead:before{content:"\f6b7"}.fa-book-medical:before{content:"\f7e6"}.fa-book-open:before{content:"\f518"}.fa-book-reader:before{content:"\f5da"}.fa-bookmark:before{content:"\f02e"}.fa-bootstrap:before{content:"\f836"}.fa-bowling-ball:before{content:"\f436"}.fa-box:before{content:"\f466"}.fa-box-open:before{content:"\f49e"}.fa-boxes:before{content:"\f468"}.fa-braille:before{content:"\f2a1"}.fa-brain:before{content:"\f5dc"}.fa-bread-slice:before{content:"\f7ec"}.fa-briefcase:before{content:"\f0b1"}.fa-briefcase-medical:before{content:"\f469"}.fa-broadcast-tower:before{content:"\f519"}.fa-broom:before{content:"\f51a"}.fa-brush:before{content:"\f55d"}.fa-btc:before{content:"\f15a"}.fa-buffer:before{content:"\f837"}.fa-bug:before{content:"\f188"}.fa-building:before{content:"\f1ad"}.fa-bullhorn:before{content:"\f0a1"}.fa-bullseye:before{content:"\f140"}.fa-burn:before{content:"\f46a"}.fa-buromobelexperte:before{content:"\f37f"}.fa-bus:before{content:"\f207"}.fa-bus-alt:before{content:"\f55e"}.fa-business-time:before{content:"\f64a"}.fa-buysellads:before{content:"\f20d"}.fa-calculator:before{content:"\f1ec"}.fa-calendar:before{content:"\f133"}.fa-calendar-alt:before{content:"\f073"}.fa-calendar-check:before{content:"\f274"}.fa-calendar-day:before{content:"\f783"}.fa-calendar-minus:before{content:"\f272"}.fa-calendar-plus:before{content:"\f271"}.fa-calendar-times:before{content:"\f273"}.fa-calendar-week:before{content:"\f784"}.fa-camera:before{content:"\f030"}.fa-camera-retro:before{content:"\f083"}.fa-campground:before{content:"\f6bb"}.fa-canadian-maple-leaf:before{content:"\f785"}.fa-candy-cane:before{content:"\f786"}.fa-cannabis:before{content:"\f55f"}.fa-capsules:before{content:"\f46b"}.fa-car:before{content:"\f1b9"}.fa-car-alt:before{content:"\f5de"}.fa-car-battery:before{content:"\f5df"}.fa-car-crash:before{content:"\f5e1"}.fa-car-side:before{content:"\f5e4"}.fa-caret-down:before{content:"\f0d7"}.fa-caret-left:before{content:"\f0d9"}.fa-caret-right:before{content:"\f0da"}.fa-caret-square-down:before{content:"\f150"}.fa-caret-square-left:before{content:"\f191"}.fa-caret-square-right:before{content:"\f152"}.fa-caret-square-up:before{content:"\f151"}.fa-caret-up:before{content:"\f0d8"}.fa-carrot:before{content:"\f787"}.fa-cart-arrow-down:before{content:"\f218"}.fa-cart-plus:before{content:"\f217"}.fa-cash-register:before{content:"\f788"}.fa-cat:before{content:"\f6be"}.fa-cc-amazon-pay:before{content:"\f42d"}.fa-cc-amex:before{content:"\f1f3"}.fa-cc-apple-pay:before{content:"\f416"}.fa-cc-diners-club:before{content:"\f24c"}.fa-cc-discover:before{content:"\f1f2"}.fa-cc-jcb:before{content:"\f24b"}.fa-cc-mastercard:before{content:"\f1f1"}.fa-cc-paypal:before{content:"\f1f4"}.fa-cc-stripe:before{content:"\f1f5"}.fa-cc-visa:before{content:"\f1f0"}.fa-centercode:before{content:"\f380"}.fa-centos:before{content:"\f789"}.fa-certificate:before{content:"\f0a3"}.fa-chair:before{content:"\f6c0"}.fa-chalkboard:before{content:"\f51b"}.fa-chalkboard-teacher:before{content:"\f51c"}.fa-charging-station:before{content:"\f5e7"}.fa-chart-area:before{content:"\f1fe"}.fa-chart-bar:before{content:"\f080"}.fa-chart-line:before{content:"\f201"}.fa-chart-pie:before{content:"\f200"}.fa-check:before{content:"\f00c"}.fa-check-circle:before{content:"\f058"}.fa-check-double:before{content:"\f560"}.fa-check-square:before{content:"\f14a"}.fa-cheese:before{content:"\f7ef"}.fa-chess:before{content:"\f439"}.fa-chess-bishop:before{content:"\f43a"}.fa-chess-board:before{content:"\f43c"}.fa-chess-king:before{content:"\f43f"}.fa-chess-knight:before{content:"\f441"}.fa-chess-pawn:before{content:"\f443"}.fa-chess-queen:before{content:"\f445"}.fa-chess-rook:before{content:"\f447"}.fa-chevron-circle-down:before{content:"\f13a"}.fa-chevron-circle-left:before{content:"\f137"}.fa-chevron-circle-right:before{content:"\f138"}.fa-chevron-circle-up:before{content:"\f139"}.fa-chevron-down:before{content:"\f078"}.fa-chevron-left:before{content:"\f053"}.fa-chevron-right:before{content:"\f054"}.fa-chevron-up:before{content:"\f077"}.fa-child:before{content:"\f1ae"}.fa-chrome:before{content:"\f268"}.fa-chromecast:before{content:"\f838"}.fa-church:before{content:"\f51d"}.fa-circle:before{content:"\f111"}.fa-circle-notch:before{content:"\f1ce"}.fa-city:before{content:"\f64f"}.fa-clinic-medical:before{content:"\f7f2"}.fa-clipboard:before{content:"\f328"}.fa-clipboard-check:before{content:"\f46c"}.fa-clipboard-list:before{content:"\f46d"}.fa-clock:before{content:"\f017"}.fa-clone:before{content:"\f24d"}.fa-closed-captioning:before{content:"\f20a"}.fa-cloud:before{content:"\f0c2"}.fa-cloud-download-alt:before{content:"\f381"}.fa-cloud-meatball:before{content:"\f73b"}.fa-cloud-moon:before{content:"\f6c3"}.fa-cloud-moon-rain:before{content:"\f73c"}.fa-cloud-rain:before{content:"\f73d"}.fa-cloud-showers-heavy:before{content:"\f740"}.fa-cloud-sun:before{content:"\f6c4"}.fa-cloud-sun-rain:before{content:"\f743"}.fa-cloud-upload-alt:before{content:"\f382"}.fa-cloudscale:before{content:"\f383"}.fa-cloudsmith:before{content:"\f384"}.fa-cloudversify:before{content:"\f385"}.fa-cocktail:before{content:"\f561"}.fa-code:before{content:"\f121"}.fa-code-branch:before{content:"\f126"}.fa-codepen:before{content:"\f1cb"}.fa-codiepie:before{content:"\f284"}.fa-coffee:before{content:"\f0f4"}.fa-cog:before{content:"\f013"}.fa-cogs:before{content:"\f085"}.fa-coins:before{content:"\f51e"}.fa-columns:before{content:"\f0db"}.fa-comment:before{content:"\f075"}.fa-comment-alt:before{content:"\f27a"}.fa-comment-dollar:before{content:"\f651"}.fa-comment-dots:before{content:"\f4ad"}.fa-comment-medical:before{content:"\f7f5"}.fa-comment-slash:before{content:"\f4b3"}.fa-comments:before{content:"\f086"}.fa-comments-dollar:before{content:"\f653"}.fa-compact-disc:before{content:"\f51f"}.fa-compass:before{content:"\f14e"}.fa-compress:before{content:"\f066"}.fa-compress-arrows-alt:before{content:"\f78c"}.fa-concierge-bell:before{content:"\f562"}.fa-confluence:before{content:"\f78d"}.fa-connectdevelop:before{content:"\f20e"}.fa-contao:before{content:"\f26d"}.fa-cookie:before{content:"\f563"}.fa-cookie-bite:before{content:"\f564"}.fa-copy:before{content:"\f0c5"}.fa-copyright:before{content:"\f1f9"}.fa-couch:before{content:"\f4b8"}.fa-cpanel:before{content:"\f388"}.fa-creative-commons:before{content:"\f25e"}.fa-creative-commons-by:before{content:"\f4e7"}.fa-creative-commons-nc:before{content:"\f4e8"}.fa-creative-commons-nc-eu:before{content:"\f4e9"}.fa-creative-commons-nc-jp:before{content:"\f4ea"}.fa-creative-commons-nd:before{content:"\f4eb"}.fa-creative-commons-pd:before{content:"\f4ec"}.fa-creative-commons-pd-alt:before{content:"\f4ed"}.fa-creative-commons-remix:before{content:"\f4ee"}.fa-creative-commons-sa:before{content:"\f4ef"}.fa-creative-commons-sampling:before{content:"\f4f0"}.fa-creative-commons-sampling-plus:before{content:"\f4f1"}.fa-creative-commons-share:before{content:"\f4f2"}.fa-creative-commons-zero:before{content:"\f4f3"}.fa-credit-card:before{content:"\f09d"}.fa-critical-role:before{content:"\f6c9"}.fa-crop:before{content:"\f125"}.fa-crop-alt:before{content:"\f565"}.fa-cross:before{content:"\f654"}.fa-crosshairs:before{content:"\f05b"}.fa-crow:before{content:"\f520"}.fa-crown:before{content:"\f521"}.fa-crutch:before{content:"\f7f7"}.fa-css3:before{content:"\f13c"}.fa-css3-alt:before{content:"\f38b"}.fa-cube:before{content:"\f1b2"}.fa-cubes:before{content:"\f1b3"}.fa-cut:before{content:"\f0c4"}.fa-cuttlefish:before{content:"\f38c"}.fa-d-and-d:before{content:"\f38d"}.fa-d-and-d-beyond:before{content:"\f6ca"}.fa-dashcube:before{content:"\f210"}.fa-database:before{content:"\f1c0"}.fa-deaf:before{content:"\f2a4"}.fa-delicious:before{content:"\f1a5"}.fa-democrat:before{content:"\f747"}.fa-deploydog:before{content:"\f38e"}.fa-deskpro:before{content:"\f38f"}.fa-desktop:before{content:"\f108"}.fa-dev:before{content:"\f6cc"}.fa-deviantart:before{content:"\f1bd"}.fa-dharmachakra:before{content:"\f655"}.fa-dhl:before{content:"\f790"}.fa-diagnoses:before{content:"\f470"}.fa-diaspora:before{content:"\f791"}.fa-dice:before{content:"\f522"}.fa-dice-d20:before{content:"\f6cf"}.fa-dice-d6:before{content:"\f6d1"}.fa-dice-five:before{content:"\f523"}.fa-dice-four:before{content:"\f524"}.fa-dice-one:before{content:"\f525"}.fa-dice-six:before{content:"\f526"}.fa-dice-three:before{content:"\f527"}.fa-dice-two:before{content:"\f528"}.fa-digg:before{content:"\f1a6"}.fa-digital-ocean:before{content:"\f391"}.fa-digital-tachograph:before{content:"\f566"}.fa-directions:before{content:"\f5eb"}.fa-discord:before{content:"\f392"}.fa-discourse:before{content:"\f393"}.fa-divide:before{content:"\f529"}.fa-dizzy:before{content:"\f567"}.fa-dna:before{content:"\f471"}.fa-dochub:before{content:"\f394"}.fa-docker:before{content:"\f395"}.fa-dog:before{content:"\f6d3"}.fa-dollar-sign:before{content:"\f155"}.fa-dolly:before{content:"\f472"}.fa-dolly-flatbed:before{content:"\f474"}.fa-donate:before{content:"\f4b9"}.fa-door-closed:before{content:"\f52a"}.fa-door-open:before{content:"\f52b"}.fa-dot-circle:before{content:"\f192"}.fa-dove:before{content:"\f4ba"}.fa-download:before{content:"\f019"}.fa-draft2digital:before{content:"\f396"}.fa-drafting-compass:before{content:"\f568"}.fa-dragon:before{content:"\f6d5"}.fa-draw-polygon:before{content:"\f5ee"}.fa-dribbble:before{content:"\f17d"}.fa-dribbble-square:before{content:"\f397"}.fa-dropbox:before{content:"\f16b"}.fa-drum:before{content:"\f569"}.fa-drum-steelpan:before{content:"\f56a"}.fa-drumstick-bite:before{content:"\f6d7"}.fa-drupal:before{content:"\f1a9"}.fa-dumbbell:before{content:"\f44b"}.fa-dumpster:before{content:"\f793"}.fa-dumpster-fire:before{content:"\f794"}.fa-dungeon:before{content:"\f6d9"}.fa-dyalog:before{content:"\f399"}.fa-earlybirds:before{content:"\f39a"}.fa-ebay:before{content:"\f4f4"}.fa-edge:before{content:"\f282"}.fa-edit:before{content:"\f044"}.fa-egg:before{content:"\f7fb"}.fa-eject:before{content:"\f052"}.fa-elementor:before{content:"\f430"}.fa-ellipsis-h:before{content:"\f141"}.fa-ellipsis-v:before{content:"\f142"}.fa-ello:before{content:"\f5f1"}.fa-ember:before{content:"\f423"}.fa-empire:before{content:"\f1d1"}.fa-envelope:before{content:"\f0e0"}.fa-envelope-open:before{content:"\f2b6"}.fa-envelope-open-text:before{content:"\f658"}.fa-envelope-square:before{content:"\f199"}.fa-envira:before{content:"\f299"}.fa-equals:before{content:"\f52c"}.fa-eraser:before{content:"\f12d"}.fa-erlang:before{content:"\f39d"}.fa-ethereum:before{content:"\f42e"}.fa-ethernet:before{content:"\f796"}.fa-etsy:before{content:"\f2d7"}.fa-euro-sign:before{content:"\f153"}.fa-evernote:before{content:"\f839"}.fa-exchange-alt:before{content:"\f362"}.fa-exclamation:before{content:"\f12a"}.fa-exclamation-circle:before{content:"\f06a"}.fa-exclamation-triangle:before{content:"\f071"}.fa-expand:before{content:"\f065"}.fa-expand-arrows-alt:before{content:"\f31e"}.fa-expeditedssl:before{content:"\f23e"}.fa-external-link-alt:before{content:"\f35d"}.fa-external-link-square-alt:before{content:"\f360"}.fa-eye:before{content:"\f06e"}.fa-eye-dropper:before{content:"\f1fb"}.fa-eye-slash:before{content:"\f070"}.fa-facebook:before{content:"\f09a"}.fa-facebook-f:before{content:"\f39e"}.fa-facebook-messenger:before{content:"\f39f"}.fa-facebook-square:before{content:"\f082"}.fa-fantasy-flight-games:before{content:"\f6dc"}.fa-fast-backward:before{content:"\f049"}.fa-fast-forward:before{content:"\f050"}.fa-fax:before{content:"\f1ac"}.fa-feather:before{content:"\f52d"}.fa-feather-alt:before{content:"\f56b"}.fa-fedex:before{content:"\f797"}.fa-fedora:before{content:"\f798"}.fa-female:before{content:"\f182"}.fa-fighter-jet:before{content:"\f0fb"}.fa-figma:before{content:"\f799"}.fa-file:before{content:"\f15b"}.fa-file-alt:before{content:"\f15c"}.fa-file-archive:before{content:"\f1c6"}.fa-file-audio:before{content:"\f1c7"}.fa-file-code:before{content:"\f1c9"}.fa-file-contract:before{content:"\f56c"}.fa-file-csv:before{content:"\f6dd"}.fa-file-download:before{content:"\f56d"}.fa-file-excel:before{content:"\f1c3"}.fa-file-export:before{content:"\f56e"}.fa-file-image:before{content:"\f1c5"}.fa-file-import:before{content:"\f56f"}.fa-file-invoice:before{content:"\f570"}.fa-file-invoice-dollar:before{content:"\f571"}.fa-file-medical:before{content:"\f477"}.fa-file-medical-alt:before{content:"\f478"}.fa-file-pdf:before{content:"\f1c1"}.fa-file-powerpoint:before{content:"\f1c4"}.fa-file-prescription:before{content:"\f572"}.fa-file-signature:before{content:"\f573"}.fa-file-upload:before{content:"\f574"}.fa-file-video:before{content:"\f1c8"}.fa-file-word:before{content:"\f1c2"}.fa-fill:before{content:"\f575"}.fa-fill-drip:before{content:"\f576"}.fa-film:before{content:"\f008"}.fa-filter:before{content:"\f0b0"}.fa-fingerprint:before{content:"\f577"}.fa-fire:before{content:"\f06d"}.fa-fire-alt:before{content:"\f7e4"}.fa-fire-extinguisher:before{content:"\f134"}.fa-firefox:before{content:"\f269"}.fa-first-aid:before{content:"\f479"}.fa-first-order:before{content:"\f2b0"}.fa-first-order-alt:before{content:"\f50a"}.fa-firstdraft:before{content:"\f3a1"}.fa-fish:before{content:"\f578"}.fa-fist-raised:before{content:"\f6de"}.fa-flag:before{content:"\f024"}.fa-flag-checkered:before{content:"\f11e"}.fa-flag-usa:before{content:"\f74d"}.fa-flask:before{content:"\f0c3"}.fa-flickr:before{content:"\f16e"}.fa-flipboard:before{content:"\f44d"}.fa-flushed:before{content:"\f579"}.fa-fly:before{content:"\f417"}.fa-folder:before{content:"\f07b"}.fa-folder-minus:before{content:"\f65d"}.fa-folder-open:before{content:"\f07c"}.fa-folder-plus:before{content:"\f65e"}.fa-font:before{content:"\f031"}.fa-font-awesome:before{content:"\f2b4"}.fa-font-awesome-alt:before{content:"\f35c"}.fa-font-awesome-flag:before{content:"\f425"}.fa-font-awesome-logo-full:before{content:"\f4e6"}.fa-fonticons:before{content:"\f280"}.fa-fonticons-fi:before{content:"\f3a2"}.fa-football-ball:before{content:"\f44e"}.fa-fort-awesome:before{content:"\f286"}.fa-fort-awesome-alt:before{content:"\f3a3"}.fa-forumbee:before{content:"\f211"}.fa-forward:before{content:"\f04e"}.fa-foursquare:before{content:"\f180"}.fa-free-code-camp:before{content:"\f2c5"}.fa-freebsd:before{content:"\f3a4"}.fa-frog:before{content:"\f52e"}.fa-frown:before{content:"\f119"}.fa-frown-open:before{content:"\f57a"}.fa-fulcrum:before{content:"\f50b"}.fa-funnel-dollar:before{content:"\f662"}.fa-futbol:before{content:"\f1e3"}.fa-galactic-republic:before{content:"\f50c"}.fa-galactic-senate:before{content:"\f50d"}.fa-gamepad:before{content:"\f11b"}.fa-gas-pump:before{content:"\f52f"}.fa-gavel:before{content:"\f0e3"}.fa-gem:before{content:"\f3a5"}.fa-genderless:before{content:"\f22d"}.fa-get-pocket:before{content:"\f265"}.fa-gg:before{content:"\f260"}.fa-gg-circle:before{content:"\f261"}.fa-ghost:before{content:"\f6e2"}.fa-gift:before{content:"\f06b"}.fa-gifts:before{content:"\f79c"}.fa-git:before{content:"\f1d3"}.fa-git-alt:before{content:"\f841"}.fa-git-square:before{content:"\f1d2"}.fa-github:before{content:"\f09b"}.fa-github-alt:before{content:"\f113"}.fa-github-square:before{content:"\f092"}.fa-gitkraken:before{content:"\f3a6"}.fa-gitlab:before{content:"\f296"}.fa-gitter:before{content:"\f426"}.fa-glass-cheers:before{content:"\f79f"}.fa-glass-martini:before{content:"\f000"}.fa-glass-martini-alt:before{content:"\f57b"}.fa-glass-whiskey:before{content:"\f7a0"}.fa-glasses:before{content:"\f530"}.fa-glide:before{content:"\f2a5"}.fa-glide-g:before{content:"\f2a6"}.fa-globe:before{content:"\f0ac"}.fa-globe-africa:before{content:"\f57c"}.fa-globe-americas:before{content:"\f57d"}.fa-globe-asia:before{content:"\f57e"}.fa-globe-europe:before{content:"\f7a2"}.fa-gofore:before{content:"\f3a7"}.fa-golf-ball:before{content:"\f450"}.fa-goodreads:before{content:"\f3a8"}.fa-goodreads-g:before{content:"\f3a9"}.fa-google:before{content:"\f1a0"}.fa-google-drive:before{content:"\f3aa"}.fa-google-play:before{content:"\f3ab"}.fa-google-plus:before{content:"\f2b3"}.fa-google-plus-g:before{content:"\f0d5"}.fa-google-plus-square:before{content:"\f0d4"}.fa-google-wallet:before{content:"\f1ee"}.fa-gopuram:before{content:"\f664"}.fa-graduation-cap:before{content:"\f19d"}.fa-gratipay:before{content:"\f184"}.fa-grav:before{content:"\f2d6"}.fa-greater-than:before{content:"\f531"}.fa-greater-than-equal:before{content:"\f532"}.fa-grimace:before{content:"\f57f"}.fa-grin:before{content:"\f580"}.fa-grin-alt:before{content:"\f581"}.fa-grin-beam:before{content:"\f582"}.fa-grin-beam-sweat:before{content:"\f583"}.fa-grin-hearts:before{content:"\f584"}.fa-grin-squint:before{content:"\f585"}.fa-grin-squint-tears:before{content:"\f586"}.fa-grin-stars:before{content:"\f587"}.fa-grin-tears:before{content:"\f588"}.fa-grin-tongue:before{content:"\f589"}.fa-grin-tongue-squint:before{content:"\f58a"}.fa-grin-tongue-wink:before{content:"\f58b"}.fa-grin-wink:before{content:"\f58c"}.fa-grip-horizontal:before{content:"\f58d"}.fa-grip-lines:before{content:"\f7a4"}.fa-grip-lines-vertical:before{content:"\f7a5"}.fa-grip-vertical:before{content:"\f58e"}.fa-gripfire:before{content:"\f3ac"}.fa-grunt:before{content:"\f3ad"}.fa-guitar:before{content:"\f7a6"}.fa-gulp:before{content:"\f3ae"}.fa-h-square:before{content:"\f0fd"}.fa-hacker-news:before{content:"\f1d4"}.fa-hacker-news-square:before{content:"\f3af"}.fa-hackerrank:before{content:"\f5f7"}.fa-hamburger:before{content:"\f805"}.fa-hammer:before{content:"\f6e3"}.fa-hamsa:before{content:"\f665"}.fa-hand-holding:before{content:"\f4bd"}.fa-hand-holding-heart:before{content:"\f4be"}.fa-hand-holding-usd:before{content:"\f4c0"}.fa-hand-lizard:before{content:"\f258"}.fa-hand-middle-finger:before{content:"\f806"}.fa-hand-paper:before{content:"\f256"}.fa-hand-peace:before{content:"\f25b"}.fa-hand-point-down:before{content:"\f0a7"}.fa-hand-point-left:before{content:"\f0a5"}.fa-hand-point-right:before{content:"\f0a4"}.fa-hand-point-up:before{content:"\f0a6"}.fa-hand-pointer:before{content:"\f25a"}.fa-hand-rock:before{content:"\f255"}.fa-hand-scissors:before{content:"\f257"}.fa-hand-spock:before{content:"\f259"}.fa-hands:before{content:"\f4c2"}.fa-hands-helping:before{content:"\f4c4"}.fa-handshake:before{content:"\f2b5"}.fa-hanukiah:before{content:"\f6e6"}.fa-hard-hat:before{content:"\f807"}.fa-hashtag:before{content:"\f292"}.fa-hat-wizard:before{content:"\f6e8"}.fa-haykal:before{content:"\f666"}.fa-hdd:before{content:"\f0a0"}.fa-heading:before{content:"\f1dc"}.fa-headphones:before{content:"\f025"}.fa-headphones-alt:before{content:"\f58f"}.fa-headset:before{content:"\f590"}.fa-heart:before{content:"\f004"}.fa-heart-broken:before{content:"\f7a9"}.fa-heartbeat:before{content:"\f21e"}.fa-helicopter:before{content:"\f533"}.fa-highlighter:before{content:"\f591"}.fa-hiking:before{content:"\f6ec"}.fa-hippo:before{content:"\f6ed"}.fa-hips:before{content:"\f452"}.fa-hire-a-helper:before{content:"\f3b0"}.fa-history:before{content:"\f1da"}.fa-hockey-puck:before{content:"\f453"}.fa-holly-berry:before{content:"\f7aa"}.fa-home:before{content:"\f015"}.fa-hooli:before{content:"\f427"}.fa-hornbill:before{content:"\f592"}.fa-horse:before{content:"\f6f0"}.fa-horse-head:before{content:"\f7ab"}.fa-hospital:before{content:"\f0f8"}.fa-hospital-alt:before{content:"\f47d"}.fa-hospital-symbol:before{content:"\f47e"}.fa-hot-tub:before{content:"\f593"}.fa-hotdog:before{content:"\f80f"}.fa-hotel:before{content:"\f594"}.fa-hotjar:before{content:"\f3b1"}.fa-hourglass:before{content:"\f254"}.fa-hourglass-end:before{content:"\f253"}.fa-hourglass-half:before{content:"\f252"}.fa-hourglass-start:before{content:"\f251"}.fa-house-damage:before{content:"\f6f1"}.fa-houzz:before{content:"\f27c"}.fa-hryvnia:before{content:"\f6f2"}.fa-html5:before{content:"\f13b"}.fa-hubspot:before{content:"\f3b2"}.fa-i-cursor:before{content:"\f246"}.fa-ice-cream:before{content:"\f810"}.fa-icicles:before{content:"\f7ad"}.fa-id-badge:before{content:"\f2c1"}.fa-id-card:before{content:"\f2c2"}.fa-id-card-alt:before{content:"\f47f"}.fa-igloo:before{content:"\f7ae"}.fa-image:before{content:"\f03e"}.fa-images:before{content:"\f302"}.fa-imdb:before{content:"\f2d8"}.fa-inbox:before{content:"\f01c"}.fa-indent:before{content:"\f03c"}.fa-industry:before{content:"\f275"}.fa-infinity:before{content:"\f534"}.fa-info:before{content:"\f129"}.fa-info-circle:before{content:"\f05a"}.fa-instagram:before{content:"\f16d"}.fa-intercom:before{content:"\f7af"}.fa-internet-explorer:before{content:"\f26b"}.fa-invision:before{content:"\f7b0"}.fa-ioxhost:before{content:"\f208"}.fa-italic:before{content:"\f033"}.fa-itch-io:before{content:"\f83a"}.fa-itunes:before{content:"\f3b4"}.fa-itunes-note:before{content:"\f3b5"}.fa-java:before{content:"\f4e4"}.fa-jedi:before{content:"\f669"}.fa-jedi-order:before{content:"\f50e"}.fa-jenkins:before{content:"\f3b6"}.fa-jira:before{content:"\f7b1"}.fa-joget:before{content:"\f3b7"}.fa-joint:before{content:"\f595"}.fa-joomla:before{content:"\f1aa"}.fa-journal-whills:before{content:"\f66a"}.fa-js:before{content:"\f3b8"}.fa-js-square:before{content:"\f3b9"}.fa-jsfiddle:before{content:"\f1cc"}.fa-kaaba:before{content:"\f66b"}.fa-kaggle:before{content:"\f5fa"}.fa-key:before{content:"\f084"}.fa-keybase:before{content:"\f4f5"}.fa-keyboard:before{content:"\f11c"}.fa-keycdn:before{content:"\f3ba"}.fa-khanda:before{content:"\f66d"}.fa-kickstarter:before{content:"\f3bb"}.fa-kickstarter-k:before{content:"\f3bc"}.fa-kiss:before{content:"\f596"}.fa-kiss-beam:before{content:"\f597"}.fa-kiss-wink-heart:before{content:"\f598"}.fa-kiwi-bird:before{content:"\f535"}.fa-korvue:before{content:"\f42f"}.fa-landmark:before{content:"\f66f"}.fa-language:before{content:"\f1ab"}.fa-laptop:before{content:"\f109"}.fa-laptop-code:before{content:"\f5fc"}.fa-laptop-medical:before{content:"\f812"}.fa-laravel:before{content:"\f3bd"}.fa-lastfm:before{content:"\f202"}.fa-lastfm-square:before{content:"\f203"}.fa-laugh:before{content:"\f599"}.fa-laugh-beam:before{content:"\f59a"}.fa-laugh-squint:before{content:"\f59b"}.fa-laugh-wink:before{content:"\f59c"}.fa-layer-group:before{content:"\f5fd"}.fa-leaf:before{content:"\f06c"}.fa-leanpub:before{content:"\f212"}.fa-lemon:before{content:"\f094"}.fa-less:before{content:"\f41d"}.fa-less-than:before{content:"\f536"}.fa-less-than-equal:before{content:"\f537"}.fa-level-down-alt:before{content:"\f3be"}.fa-level-up-alt:before{content:"\f3bf"}.fa-life-ring:before{content:"\f1cd"}.fa-lightbulb:before{content:"\f0eb"}.fa-line:before{content:"\f3c0"}.fa-link:before{content:"\f0c1"}.fa-linkedin:before{content:"\f08c"}.fa-linkedin-in:before{content:"\f0e1"}.fa-linode:before{content:"\f2b8"}.fa-linux:before{content:"\f17c"}.fa-lira-sign:before{content:"\f195"}.fa-list:before{content:"\f03a"}.fa-list-alt:before{content:"\f022"}.fa-list-ol:before{content:"\f0cb"}.fa-list-ul:before{content:"\f0ca"}.fa-location-arrow:before{content:"\f124"}.fa-lock:before{content:"\f023"}.fa-lock-open:before{content:"\f3c1"}.fa-long-arrow-alt-down:before{content:"\f309"}.fa-long-arrow-alt-left:before{content:"\f30a"}.fa-long-arrow-alt-right:before{content:"\f30b"}.fa-long-arrow-alt-up:before{content:"\f30c"}.fa-low-vision:before{content:"\f2a8"}.fa-luggage-cart:before{content:"\f59d"}.fa-lyft:before{content:"\f3c3"}.fa-magento:before{content:"\f3c4"}.fa-magic:before{content:"\f0d0"}.fa-magnet:before{content:"\f076"}.fa-mail-bulk:before{content:"\f674"}.fa-mailchimp:before{content:"\f59e"}.fa-male:before{content:"\f183"}.fa-mandalorian:before{content:"\f50f"}.fa-map:before{content:"\f279"}.fa-map-marked:before{content:"\f59f"}.fa-map-marked-alt:before{content:"\f5a0"}.fa-map-marker:before{content:"\f041"}.fa-map-marker-alt:before{content:"\f3c5"}.fa-map-pin:before{content:"\f276"}.fa-map-signs:before{content:"\f277"}.fa-markdown:before{content:"\f60f"}.fa-marker:before{content:"\f5a1"}.fa-mars:before{content:"\f222"}.fa-mars-double:before{content:"\f227"}.fa-mars-stroke:before{content:"\f229"}.fa-mars-stroke-h:before{content:"\f22b"}.fa-mars-stroke-v:before{content:"\f22a"}.fa-mask:before{content:"\f6fa"}.fa-mastodon:before{content:"\f4f6"}.fa-maxcdn:before{content:"\f136"}.fa-medal:before{content:"\f5a2"}.fa-medapps:before{content:"\f3c6"}.fa-medium:before{content:"\f23a"}.fa-medium-m:before{content:"\f3c7"}.fa-medkit:before{content:"\f0fa"}.fa-medrt:before{content:"\f3c8"}.fa-meetup:before{content:"\f2e0"}.fa-megaport:before{content:"\f5a3"}.fa-meh:before{content:"\f11a"}.fa-meh-blank:before{content:"\f5a4"}.fa-meh-rolling-eyes:before{content:"\f5a5"}.fa-memory:before{content:"\f538"}.fa-mendeley:before{content:"\f7b3"}.fa-menorah:before{content:"\f676"}.fa-mercury:before{content:"\f223"}.fa-meteor:before{content:"\f753"}.fa-microchip:before{content:"\f2db"}.fa-microphone:before{content:"\f130"}.fa-microphone-alt:before{content:"\f3c9"}.fa-microphone-alt-slash:before{content:"\f539"}.fa-microphone-slash:before{content:"\f131"}.fa-microscope:before{content:"\f610"}.fa-microsoft:before{content:"\f3ca"}.fa-minus:before{content:"\f068"}.fa-minus-circle:before{content:"\f056"}.fa-minus-square:before{content:"\f146"}.fa-mitten:before{content:"\f7b5"}.fa-mix:before{content:"\f3cb"}.fa-mixcloud:before{content:"\f289"}.fa-mizuni:before{content:"\f3cc"}.fa-mobile:before{content:"\f10b"}.fa-mobile-alt:before{content:"\f3cd"}.fa-modx:before{content:"\f285"}.fa-monero:before{content:"\f3d0"}.fa-money-bill:before{content:"\f0d6"}.fa-money-bill-alt:before{content:"\f3d1"}.fa-money-bill-wave:before{content:"\f53a"}.fa-money-bill-wave-alt:before{content:"\f53b"}.fa-money-check:before{content:"\f53c"}.fa-money-check-alt:before{content:"\f53d"}.fa-monument:before{content:"\f5a6"}.fa-moon:before{content:"\f186"}.fa-mortar-pestle:before{content:"\f5a7"}.fa-mosque:before{content:"\f678"}.fa-motorcycle:before{content:"\f21c"}.fa-mountain:before{content:"\f6fc"}.fa-mouse-pointer:before{content:"\f245"}.fa-mug-hot:before{content:"\f7b6"}.fa-music:before{content:"\f001"}.fa-napster:before{content:"\f3d2"}.fa-neos:before{content:"\f612"}.fa-network-wired:before{content:"\f6ff"}.fa-neuter:before{content:"\f22c"}.fa-newspaper:before{content:"\f1ea"}.fa-nimblr:before{content:"\f5a8"}.fa-nintendo-switch:before{content:"\f418"}.fa-node:before{content:"\f419"}.fa-node-js:before{content:"\f3d3"}.fa-not-equal:before{content:"\f53e"}.fa-notes-medical:before{content:"\f481"}.fa-npm:before{content:"\f3d4"}.fa-ns8:before{content:"\f3d5"}.fa-nutritionix:before{content:"\f3d6"}.fa-object-group:before{content:"\f247"}.fa-object-ungroup:before{content:"\f248"}.fa-odnoklassniki:before{content:"\f263"}.fa-odnoklassniki-square:before{content:"\f264"}.fa-oil-can:before{content:"\f613"}.fa-old-republic:before{content:"\f510"}.fa-om:before{content:"\f679"}.fa-opencart:before{content:"\f23d"}.fa-openid:before{content:"\f19b"}.fa-opera:before{content:"\f26a"}.fa-optin-monster:before{content:"\f23c"}.fa-osi:before{content:"\f41a"}.fa-otter:before{content:"\f700"}.fa-outdent:before{content:"\f03b"}.fa-page4:before{content:"\f3d7"}.fa-pagelines:before{content:"\f18c"}.fa-pager:before{content:"\f815"}.fa-paint-brush:before{content:"\f1fc"}.fa-paint-roller:before{content:"\f5aa"}.fa-palette:before{content:"\f53f"}.fa-palfed:before{content:"\f3d8"}.fa-pallet:before{content:"\f482"}.fa-paper-plane:before{content:"\f1d8"}.fa-paperclip:before{content:"\f0c6"}.fa-parachute-box:before{content:"\f4cd"}.fa-paragraph:before{content:"\f1dd"}.fa-parking:before{content:"\f540"}.fa-passport:before{content:"\f5ab"}.fa-pastafarianism:before{content:"\f67b"}.fa-paste:before{content:"\f0ea"}.fa-patreon:before{content:"\f3d9"}.fa-pause:before{content:"\f04c"}.fa-pause-circle:before{content:"\f28b"}.fa-paw:before{content:"\f1b0"}.fa-paypal:before{content:"\f1ed"}.fa-peace:before{content:"\f67c"}.fa-pen:before{content:"\f304"}.fa-pen-alt:before{content:"\f305"}.fa-pen-fancy:before{content:"\f5ac"}.fa-pen-nib:before{content:"\f5ad"}.fa-pen-square:before{content:"\f14b"}.fa-pencil-alt:before{content:"\f303"}.fa-pencil-ruler:before{content:"\f5ae"}.fa-penny-arcade:before{content:"\f704"}.fa-people-carry:before{content:"\f4ce"}.fa-pepper-hot:before{content:"\f816"}.fa-percent:before{content:"\f295"}.fa-percentage:before{content:"\f541"}.fa-periscope:before{content:"\f3da"}.fa-person-booth:before{content:"\f756"}.fa-phabricator:before{content:"\f3db"}.fa-phoenix-framework:before{content:"\f3dc"}.fa-phoenix-squadron:before{content:"\f511"}.fa-phone:before{content:"\f095"}.fa-phone-slash:before{content:"\f3dd"}.fa-phone-square:before{content:"\f098"}.fa-phone-volume:before{content:"\f2a0"}.fa-php:before{content:"\f457"}.fa-pied-piper:before{content:"\f2ae"}.fa-pied-piper-alt:before{content:"\f1a8"}.fa-pied-piper-hat:before{content:"\f4e5"}.fa-pied-piper-pp:before{content:"\f1a7"}.fa-piggy-bank:before{content:"\f4d3"}.fa-pills:before{content:"\f484"}.fa-pinterest:before{content:"\f0d2"}.fa-pinterest-p:before{content:"\f231"}.fa-pinterest-square:before{content:"\f0d3"}.fa-pizza-slice:before{content:"\f818"}.fa-place-of-worship:before{content:"\f67f"}.fa-plane:before{content:"\f072"}.fa-plane-arrival:before{content:"\f5af"}.fa-plane-departure:before{content:"\f5b0"}.fa-play:before{content:"\f04b"}.fa-play-circle:before{content:"\f144"}.fa-playstation:before{content:"\f3df"}.fa-plug:before{content:"\f1e6"}.fa-plus:before{content:"\f067"}.fa-plus-circle:before{content:"\f055"}.fa-plus-square:before{content:"\f0fe"}.fa-podcast:before{content:"\f2ce"}.fa-poll:before{content:"\f681"}.fa-poll-h:before{content:"\f682"}.fa-poo:before{content:"\f2fe"}.fa-poo-storm:before{content:"\f75a"}.fa-poop:before{content:"\f619"}.fa-portrait:before{content:"\f3e0"}.fa-pound-sign:before{content:"\f154"}.fa-power-off:before{content:"\f011"}.fa-pray:before{content:"\f683"}.fa-praying-hands:before{content:"\f684"}.fa-prescription:before{content:"\f5b1"}.fa-prescription-bottle:before{content:"\f485"}.fa-prescription-bottle-alt:before{content:"\f486"}.fa-print:before{content:"\f02f"}.fa-procedures:before{content:"\f487"}.fa-product-hunt:before{content:"\f288"}.fa-project-diagram:before{content:"\f542"}.fa-pushed:before{content:"\f3e1"}.fa-puzzle-piece:before{content:"\f12e"}.fa-python:before{content:"\f3e2"}.fa-qq:before{content:"\f1d6"}.fa-qrcode:before{content:"\f029"}.fa-question:before{content:"\f128"}.fa-question-circle:before{content:"\f059"}.fa-quidditch:before{content:"\f458"}.fa-quinscape:before{content:"\f459"}.fa-quora:before{content:"\f2c4"}.fa-quote-left:before{content:"\f10d"}.fa-quote-right:before{content:"\f10e"}.fa-quran:before{content:"\f687"}.fa-r-project:before{content:"\f4f7"}.fa-radiation:before{content:"\f7b9"}.fa-radiation-alt:before{content:"\f7ba"}.fa-rainbow:before{content:"\f75b"}.fa-random:before{content:"\f074"}.fa-raspberry-pi:before{content:"\f7bb"}.fa-ravelry:before{content:"\f2d9"}.fa-react:before{content:"\f41b"}.fa-reacteurope:before{content:"\f75d"}.fa-readme:before{content:"\f4d5"}.fa-rebel:before{content:"\f1d0"}.fa-receipt:before{content:"\f543"}.fa-recycle:before{content:"\f1b8"}.fa-red-river:before{content:"\f3e3"}.fa-reddit:before{content:"\f1a1"}.fa-reddit-alien:before{content:"\f281"}.fa-reddit-square:before{content:"\f1a2"}.fa-redhat:before{content:"\f7bc"}.fa-redo:before{content:"\f01e"}.fa-redo-alt:before{content:"\f2f9"}.fa-registered:before{content:"\f25d"}.fa-renren:before{content:"\f18b"}.fa-reply:before{content:"\f3e5"}.fa-reply-all:before{content:"\f122"}.fa-replyd:before{content:"\f3e6"}.fa-republican:before{content:"\f75e"}.fa-researchgate:before{content:"\f4f8"}.fa-resolving:before{content:"\f3e7"}.fa-restroom:before{content:"\f7bd"}.fa-retweet:before{content:"\f079"}.fa-rev:before{content:"\f5b2"}.fa-ribbon:before{content:"\f4d6"}.fa-ring:before{content:"\f70b"}.fa-road:before{content:"\f018"}.fa-robot:before{content:"\f544"}.fa-rocket:before{content:"\f135"}.fa-rocketchat:before{content:"\f3e8"}.fa-rockrms:before{content:"\f3e9"}.fa-route:before{content:"\f4d7"}.fa-rss:before{content:"\f09e"}.fa-rss-square:before{content:"\f143"}.fa-ruble-sign:before{content:"\f158"}.fa-ruler:before{content:"\f545"}.fa-ruler-combined:before{content:"\f546"}.fa-ruler-horizontal:before{content:"\f547"}.fa-ruler-vertical:before{content:"\f548"}.fa-running:before{content:"\f70c"}.fa-rupee-sign:before{content:"\f156"}.fa-sad-cry:before{content:"\f5b3"}.fa-sad-tear:before{content:"\f5b4"}.fa-safari:before{content:"\f267"}.fa-salesforce:before{content:"\f83b"}.fa-sass:before{content:"\f41e"}.fa-satellite:before{content:"\f7bf"}.fa-satellite-dish:before{content:"\f7c0"}.fa-save:before{content:"\f0c7"}.fa-schlix:before{content:"\f3ea"}.fa-school:before{content:"\f549"}.fa-screwdriver:before{content:"\f54a"}.fa-scribd:before{content:"\f28a"}.fa-scroll:before{content:"\f70e"}.fa-sd-card:before{content:"\f7c2"}.fa-search:before{content:"\f002"}.fa-search-dollar:before{content:"\f688"}.fa-search-location:before{content:"\f689"}.fa-search-minus:before{content:"\f010"}.fa-search-plus:before{content:"\f00e"}.fa-searchengin:before{content:"\f3eb"}.fa-seedling:before{content:"\f4d8"}.fa-sellcast:before{content:"\f2da"}.fa-sellsy:before{content:"\f213"}.fa-server:before{content:"\f233"}.fa-servicestack:before{content:"\f3ec"}.fa-shapes:before{content:"\f61f"}.fa-share:before{content:"\f064"}.fa-share-alt:before{content:"\f1e0"}.fa-share-alt-square:before{content:"\f1e1"}.fa-share-square:before{content:"\f14d"}.fa-shekel-sign:before{content:"\f20b"}.fa-shield-alt:before{content:"\f3ed"}.fa-ship:before{content:"\f21a"}.fa-shipping-fast:before{content:"\f48b"}.fa-shirtsinbulk:before{content:"\f214"}.fa-shoe-prints:before{content:"\f54b"}.fa-shopping-bag:before{content:"\f290"}.fa-shopping-basket:before{content:"\f291"}.fa-shopping-cart:before{content:"\f07a"}.fa-shopware:before{content:"\f5b5"}.fa-shower:before{content:"\f2cc"}.fa-shuttle-van:before{content:"\f5b6"}.fa-sign:before{content:"\f4d9"}.fa-sign-in-alt:before{content:"\f2f6"}.fa-sign-language:before{content:"\f2a7"}.fa-sign-out-alt:before{content:"\f2f5"}.fa-signal:before{content:"\f012"}.fa-signature:before{content:"\f5b7"}.fa-sim-card:before{content:"\f7c4"}.fa-simplybuilt:before{content:"\f215"}.fa-sistrix:before{content:"\f3ee"}.fa-sitemap:before{content:"\f0e8"}.fa-sith:before{content:"\f512"}.fa-skating:before{content:"\f7c5"}.fa-sketch:before{content:"\f7c6"}.fa-skiing:before{content:"\f7c9"}.fa-skiing-nordic:before{content:"\f7ca"}.fa-skull:before{content:"\f54c"}.fa-skull-crossbones:before{content:"\f714"}.fa-skyatlas:before{content:"\f216"}.fa-skype:before{content:"\f17e"}.fa-slack:before{content:"\f198"}.fa-slack-hash:before{content:"\f3ef"}.fa-slash:before{content:"\f715"}.fa-sleigh:before{content:"\f7cc"}.fa-sliders-h:before{content:"\f1de"}.fa-slideshare:before{content:"\f1e7"}.fa-smile:before{content:"\f118"}.fa-smile-beam:before{content:"\f5b8"}.fa-smile-wink:before{content:"\f4da"}.fa-smog:before{content:"\f75f"}.fa-smoking:before{content:"\f48d"}.fa-smoking-ban:before{content:"\f54d"}.fa-sms:before{content:"\f7cd"}.fa-snapchat:before{content:"\f2ab"}.fa-snapchat-ghost:before{content:"\f2ac"}.fa-snapchat-square:before{content:"\f2ad"}.fa-snowboarding:before{content:"\f7ce"}.fa-snowflake:before{content:"\f2dc"}.fa-snowman:before{content:"\f7d0"}.fa-snowplow:before{content:"\f7d2"}.fa-socks:before{content:"\f696"}.fa-solar-panel:before{content:"\f5ba"}.fa-sort:before{content:"\f0dc"}.fa-sort-alpha-down:before{content:"\f15d"}.fa-sort-alpha-up:before{content:"\f15e"}.fa-sort-amount-down:before{content:"\f160"}.fa-sort-amount-up:before{content:"\f161"}.fa-sort-down:before{content:"\f0dd"}.fa-sort-numeric-down:before{content:"\f162"}.fa-sort-numeric-up:before{content:"\f163"}.fa-sort-up:before{content:"\f0de"}.fa-soundcloud:before{content:"\f1be"}.fa-sourcetree:before{content:"\f7d3"}.fa-spa:before{content:"\f5bb"}.fa-space-shuttle:before{content:"\f197"}.fa-speakap:before{content:"\f3f3"}.fa-speaker-deck:before{content:"\f83c"}.fa-spider:before{content:"\f717"}.fa-spinner:before{content:"\f110"}.fa-splotch:before{content:"\f5bc"}.fa-spotify:before{content:"\f1bc"}.fa-spray-can:before{content:"\f5bd"}.fa-square:before{content:"\f0c8"}.fa-square-full:before{content:"\f45c"}.fa-square-root-alt:before{content:"\f698"}.fa-squarespace:before{content:"\f5be"}.fa-stack-exchange:before{content:"\f18d"}.fa-stack-overflow:before{content:"\f16c"}.fa-stackpath:before{content:"\f842"}.fa-stamp:before{content:"\f5bf"}.fa-star:before{content:"\f005"}.fa-star-and-crescent:before{content:"\f699"}.fa-star-half:before{content:"\f089"}.fa-star-half-alt:before{content:"\f5c0"}.fa-star-of-david:before{content:"\f69a"}.fa-star-of-life:before{content:"\f621"}.fa-staylinked:before{content:"\f3f5"}.fa-steam:before{content:"\f1b6"}.fa-steam-square:before{content:"\f1b7"}.fa-steam-symbol:before{content:"\f3f6"}.fa-step-backward:before{content:"\f048"}.fa-step-forward:before{content:"\f051"}.fa-stethoscope:before{content:"\f0f1"}.fa-sticker-mule:before{content:"\f3f7"}.fa-sticky-note:before{content:"\f249"}.fa-stop:before{content:"\f04d"}.fa-stop-circle:before{content:"\f28d"}.fa-stopwatch:before{content:"\f2f2"}.fa-store:before{content:"\f54e"}.fa-store-alt:before{content:"\f54f"}.fa-strava:before{content:"\f428"}.fa-stream:before{content:"\f550"}.fa-street-view:before{content:"\f21d"}.fa-strikethrough:before{content:"\f0cc"}.fa-stripe:before{content:"\f429"}.fa-stripe-s:before{content:"\f42a"}.fa-stroopwafel:before{content:"\f551"}.fa-studiovinari:before{content:"\f3f8"}.fa-stumbleupon:before{content:"\f1a4"}.fa-stumbleupon-circle:before{content:"\f1a3"}.fa-subscript:before{content:"\f12c"}.fa-subway:before{content:"\f239"}.fa-suitcase:before{content:"\f0f2"}.fa-suitcase-rolling:before{content:"\f5c1"}.fa-sun:before{content:"\f185"}.fa-superpowers:before{content:"\f2dd"}.fa-superscript:before{content:"\f12b"}.fa-supple:before{content:"\f3f9"}.fa-surprise:before{content:"\f5c2"}.fa-suse:before{content:"\f7d6"}.fa-swatchbook:before{content:"\f5c3"}.fa-swimmer:before{content:"\f5c4"}.fa-swimming-pool:before{content:"\f5c5"}.fa-symfony:before{content:"\f83d"}.fa-synagogue:before{content:"\f69b"}.fa-sync:before{content:"\f021"}.fa-sync-alt:before{content:"\f2f1"}.fa-syringe:before{content:"\f48e"}.fa-table:before{content:"\f0ce"}.fa-table-tennis:before{content:"\f45d"}.fa-tablet:before{content:"\f10a"}.fa-tablet-alt:before{content:"\f3fa"}.fa-tablets:before{content:"\f490"}.fa-tachometer-alt:before{content:"\f3fd"}.fa-tag:before{content:"\f02b"}.fa-tags:before{content:"\f02c"}.fa-tape:before{content:"\f4db"}.fa-tasks:before{content:"\f0ae"}.fa-taxi:before{content:"\f1ba"}.fa-teamspeak:before{content:"\f4f9"}.fa-teeth:before{content:"\f62e"}.fa-teeth-open:before{content:"\f62f"}.fa-telegram:before{content:"\f2c6"}.fa-telegram-plane:before{content:"\f3fe"}.fa-temperature-high:before{content:"\f769"}.fa-temperature-low:before{content:"\f76b"}.fa-tencent-weibo:before{content:"\f1d5"}.fa-tenge:before{content:"\f7d7"}.fa-terminal:before{content:"\f120"}.fa-text-height:before{content:"\f034"}.fa-text-width:before{content:"\f035"}.fa-th:before{content:"\f00a"}.fa-th-large:before{content:"\f009"}.fa-th-list:before{content:"\f00b"}.fa-the-red-yeti:before{content:"\f69d"}.fa-theater-masks:before{content:"\f630"}.fa-themeco:before{content:"\f5c6"}.fa-themeisle:before{content:"\f2b2"}.fa-thermometer:before{content:"\f491"}.fa-thermometer-empty:before{content:"\f2cb"}.fa-thermometer-full:before{content:"\f2c7"}.fa-thermometer-half:before{content:"\f2c9"}.fa-thermometer-quarter:before{content:"\f2ca"}.fa-thermometer-three-quarters:before{content:"\f2c8"}.fa-think-peaks:before{content:"\f731"}.fa-thumbs-down:before{content:"\f165"}.fa-thumbs-up:before{content:"\f164"}.fa-thumbtack:before{content:"\f08d"}.fa-ticket-alt:before{content:"\f3ff"}.fa-times:before{content:"\f00d"}.fa-times-circle:before{content:"\f057"}.fa-tint:before{content:"\f043"}.fa-tint-slash:before{content:"\f5c7"}.fa-tired:before{content:"\f5c8"}.fa-toggle-off:before{content:"\f204"}.fa-toggle-on:before{content:"\f205"}.fa-toilet:before{content:"\f7d8"}.fa-toilet-paper:before{content:"\f71e"}.fa-toolbox:before{content:"\f552"}.fa-tools:before{content:"\f7d9"}.fa-tooth:before{content:"\f5c9"}.fa-torah:before{content:"\f6a0"}.fa-torii-gate:before{content:"\f6a1"}.fa-tractor:before{content:"\f722"}.fa-trade-federation:before{content:"\f513"}.fa-trademark:before{content:"\f25c"}.fa-traffic-light:before{content:"\f637"}.fa-train:before{content:"\f238"}.fa-tram:before{content:"\f7da"}.fa-transgender:before{content:"\f224"}.fa-transgender-alt:before{content:"\f225"}.fa-trash:before{content:"\f1f8"}.fa-trash-alt:before{content:"\f2ed"}.fa-trash-restore:before{content:"\f829"}.fa-trash-restore-alt:before{content:"\f82a"}.fa-tree:before{content:"\f1bb"}.fa-trello:before{content:"\f181"}.fa-tripadvisor:before{content:"\f262"}.fa-trophy:before{content:"\f091"}.fa-truck:before{content:"\f0d1"}.fa-truck-loading:before{content:"\f4de"}.fa-truck-monster:before{content:"\f63b"}.fa-truck-moving:before{content:"\f4df"}.fa-truck-pickup:before{content:"\f63c"}.fa-tshirt:before{content:"\f553"}.fa-tty:before{content:"\f1e4"}.fa-tumblr:before{content:"\f173"}.fa-tumblr-square:before{content:"\f174"}.fa-tv:before{content:"\f26c"}.fa-twitch:before{content:"\f1e8"}.fa-twitter:before{content:"\f099"}.fa-twitter-square:before{content:"\f081"}.fa-typo3:before{content:"\f42b"}.fa-uber:before{content:"\f402"}.fa-ubuntu:before{content:"\f7df"}.fa-uikit:before{content:"\f403"}.fa-umbrella:before{content:"\f0e9"}.fa-umbrella-beach:before{content:"\f5ca"}.fa-underline:before{content:"\f0cd"}.fa-undo:before{content:"\f0e2"}.fa-undo-alt:before{content:"\f2ea"}.fa-uniregistry:before{content:"\f404"}.fa-universal-access:before{content:"\f29a"}.fa-university:before{content:"\f19c"}.fa-unlink:before{content:"\f127"}.fa-unlock:before{content:"\f09c"}.fa-unlock-alt:before{content:"\f13e"}.fa-untappd:before{content:"\f405"}.fa-upload:before{content:"\f093"}.fa-ups:before{content:"\f7e0"}.fa-usb:before{content:"\f287"}.fa-user:before{content:"\f007"}.fa-user-alt:before{content:"\f406"}.fa-user-alt-slash:before{content:"\f4fa"}.fa-user-astronaut:before{content:"\f4fb"}.fa-user-check:before{content:"\f4fc"}.fa-user-circle:before{content:"\f2bd"}.fa-user-clock:before{content:"\f4fd"}.fa-user-cog:before{content:"\f4fe"}.fa-user-edit:before{content:"\f4ff"}.fa-user-friends:before{content:"\f500"}.fa-user-graduate:before{content:"\f501"}.fa-user-injured:before{content:"\f728"}.fa-user-lock:before{content:"\f502"}.fa-user-md:before{content:"\f0f0"}.fa-user-minus:before{content:"\f503"}.fa-user-ninja:before{content:"\f504"}.fa-user-nurse:before{content:"\f82f"}.fa-user-plus:before{content:"\f234"}.fa-user-secret:before{content:"\f21b"}.fa-user-shield:before{content:"\f505"}.fa-user-slash:before{content:"\f506"}.fa-user-tag:before{content:"\f507"}.fa-user-tie:before{content:"\f508"}.fa-user-times:before{content:"\f235"}.fa-users:before{content:"\f0c0"}.fa-users-cog:before{content:"\f509"}.fa-usps:before{content:"\f7e1"}.fa-ussunnah:before{content:"\f407"}.fa-utensil-spoon:before{content:"\f2e5"}.fa-utensils:before{content:"\f2e7"}.fa-vaadin:before{content:"\f408"}.fa-vector-square:before{content:"\f5cb"}.fa-venus:before{content:"\f221"}.fa-venus-double:before{content:"\f226"}.fa-venus-mars:before{content:"\f228"}.fa-viacoin:before{content:"\f237"}.fa-viadeo:before{content:"\f2a9"}.fa-viadeo-square:before{content:"\f2aa"}.fa-vial:before{content:"\f492"}.fa-vials:before{content:"\f493"}.fa-viber:before{content:"\f409"}.fa-video:before{content:"\f03d"}.fa-video-slash:before{content:"\f4e2"}.fa-vihara:before{content:"\f6a7"}.fa-vimeo:before{content:"\f40a"}.fa-vimeo-square:before{content:"\f194"}.fa-vimeo-v:before{content:"\f27d"}.fa-vine:before{content:"\f1ca"}.fa-vk:before{content:"\f189"}.fa-vnv:before{content:"\f40b"}.fa-volleyball-ball:before{content:"\f45f"}.fa-volume-down:before{content:"\f027"}.fa-volume-mute:before{content:"\f6a9"}.fa-volume-off:before{content:"\f026"}.fa-volume-up:before{content:"\f028"}.fa-vote-yea:before{content:"\f772"}.fa-vr-cardboard:before{content:"\f729"}.fa-vuejs:before{content:"\f41f"}.fa-walking:before{content:"\f554"}.fa-wallet:before{content:"\f555"}.fa-warehouse:before{content:"\f494"}.fa-water:before{content:"\f773"}.fa-wave-square:before{content:"\f83e"}.fa-waze:before{content:"\f83f"}.fa-weebly:before{content:"\f5cc"}.fa-weibo:before{content:"\f18a"}.fa-weight:before{content:"\f496"}.fa-weight-hanging:before{content:"\f5cd"}.fa-weixin:before{content:"\f1d7"}.fa-whatsapp:before{content:"\f232"}.fa-whatsapp-square:before{content:"\f40c"}.fa-wheelchair:before{content:"\f193"}.fa-whmcs:before{content:"\f40d"}.fa-wifi:before{content:"\f1eb"}.fa-wikipedia-w:before{content:"\f266"}.fa-wind:before{content:"\f72e"}.fa-window-close:before{content:"\f410"}.fa-window-maximize:before{content:"\f2d0"}.fa-window-minimize:before{content:"\f2d1"}.fa-window-restore:before{content:"\f2d2"}.fa-windows:before{content:"\f17a"}.fa-wine-bottle:before{content:"\f72f"}.fa-wine-glass:before{content:"\f4e3"}.fa-wine-glass-alt:before{content:"\f5ce"}.fa-wix:before{content:"\f5cf"}.fa-wizards-of-the-coast:before{content:"\f730"}.fa-wolf-pack-battalion:before{content:"\f514"}.fa-won-sign:before{content:"\f159"}.fa-wordpress:before{content:"\f19a"}.fa-wordpress-simple:before{content:"\f411"}.fa-wpbeginner:before{content:"\f297"}.fa-wpexplorer:before{content:"\f2de"}.fa-wpforms:before{content:"\f298"}.fa-wpressr:before{content:"\f3e4"}.fa-wrench:before{content:"\f0ad"}.fa-x-ray:before{content:"\f497"}.fa-xbox:before{content:"\f412"}.fa-xing:before{content:"\f168"}.fa-xing-square:before{content:"\f169"}.fa-y-combinator:before{content:"\f23b"}.fa-yahoo:before{content:"\f19e"}.fa-yammer:before{content:"\f840"}.fa-yandex:before{content:"\f413"}.fa-yandex-international:before{content:"\f414"}.fa-yarn:before{content:"\f7e3"}.fa-yelp:before{content:"\f1e9"}.fa-yen-sign:before{content:"\f157"}.fa-yin-yang:before{content:"\f6ad"}.fa-yoast:before{content:"\f2b1"}.fa-youtube:before{content:"\f167"}.fa-youtube-square:before{content:"\f431"}.fa-zhihu:before{content:"\f63f"}.sr-only{border:0;clip:rect(0,0,0,0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px}.sr-only-focusable:active,.sr-only-focusable:focus{clip:auto;height:auto;margin:0;overflow:visible;position:static;width:auto}@font-face{font-family:"Font Awesome 5 Brands";font-style:normal;font-weight:400;font-display:auto;src:url(https://use.fontawesome.com/releases/v5.8.2/webfonts/fa-brands-400.eot);src:url(https://use.fontawesome.com/releases/v5.8.2/webfonts/fa-brands-400.eot?#iefix) format("embedded-opentype"),url(https://use.fontawesome.com/releases/v5.8.2/webfonts/fa-brands-400.woff2) format("woff2"),url(https://use.fontawesome.com/releases/v5.8.2/webfonts/fa-brands-400.woff) format("woff"),url(https://use.fontawesome.com/releases/v5.8.2/webfonts/fa-brands-400.ttf) format("truetype"),url(https://use.fontawesome.com/releases/v5.8.2/webfonts/fa-brands-400.svg#fontawesome) format("svg")}.fab{font-family:"Font Awesome 5 Brands"}@font-face{font-family:"Font Awesome 5 Free";font-style:normal;font-weight:400;font-display:auto;src:url(https://use.fontawesome.com/releases/v5.8.2/webfonts/fa-regular-400.eot);src:url(https://use.fontawesome.com/releases/v5.8.2/webfonts/fa-regular-400.eot?#iefix) format("embedded-opentype"),url(https://use.fontawesome.com/releases/v5.8.2/webfonts/fa-regular-400.woff2) format("woff2"),url(https://use.fontawesome.com/releases/v5.8.2/webfonts/fa-regular-400.woff) format("woff"),url(https://use.fontawesome.com/releases/v5.8.2/webfonts/fa-regular-400.ttf) format("truetype"),url(https://use.fontawesome.com/releases/v5.8.2/webfonts/fa-regular-400.svg#fontawesome) format("svg")}.far{font-weight:400}@font-face{font-family:"Font Awesome 5 Free";font-style:normal;font-weight:900;font-display:auto;src:url(https://use.fontawesome.com/releases/v5.8.2/webfonts/fa-solid-900.eot);src:url(https://use.fontawesome.com/releases/v5.8.2/webfonts/fa-solid-900.eot?#iefix) format("embedded-opentype"),url(https://use.fontawesome.com/releases/v5.8.2/webfonts/fa-solid-900.woff2) format("woff2"),url(https://use.fontawesome.com/releases/v5.8.2/webfonts/fa-solid-900.woff) format("woff"),url(https://use.fontawesome.com/releases/v5.8.2/webfonts/fa-solid-900.ttf) format("truetype"),url(https://use.fontawesome.com/releases/v5.8.2/webfonts/fa-solid-900.svg#fontawesome) format("svg")}.fa,.far,.fas{font-family:"Font Awesome 5 Free"}.fa,.fas{font-weight:900}.ui-helper-hidden{display:none}.ui-helper-hidden-accessible{border:0;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px}.ui-helper-reset{margin:0;padding:0;border:0;outline:0;line-height:1.3;text-decoration:none;font-size:100%;list-style:none}.ui-helper-clearfix:before,.ui-helper-clearfix:after{content:"";display:table;border-collapse:collapse}.ui-helper-clearfix:after{clear:both}.ui-helper-zfix{width:100%;height:100%;top:0;left:0;position:absolute;opacity:0;filter:Alpha(Opacity=0)}.ui-front{z-index:100}.ui-state-disabled{cursor:default!important;pointer-events:none}.ui-icon{display:inline-block;vertical-align:middle;margin-top:-.25em;position:relative;text-indent:-99999px;overflow:hidden;background-repeat:no-repeat}.ui-widget-icon-block{left:50%;margin-left:-8px;display:block}.ui-widget-overlay{position:fixed;top:0;left:0;width:100%;height:100%}.ui-accordion .ui-accordion-header{display:block;cursor:pointer;position:relative;margin:2px 0 0 0;padding:.5em .5em .5em .7em;font-size:100%}.ui-accordion .ui-accordion-content{padding:1em 2.2em;border-top:0;overflow:auto}.ui-autocomplete{position:absolute;top:0;left:0;cursor:default}.ui-menu{list-style:none;padding:0;margin:0;display:block;outline:0}.ui-menu .ui-menu{position:absolute}.ui-menu .ui-menu-item{margin:0;cursor:pointer;list-style-image:url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)}.ui-menu .ui-menu-item-wrapper{position:relative;padding:3px 1em 3px .4em}.ui-menu .ui-menu-divider{margin:5px 0;height:0;font-size:0;line-height:0;border-width:1px 0 0 0}.ui-menu .ui-state-focus,.ui-menu .ui-state-active{margin:-1px}.ui-menu-icons{position:relative}.ui-menu-icons .ui-menu-item-wrapper{padding-left:2em}.ui-menu .ui-icon{position:absolute;top:0;bottom:0;left:.2em;margin:auto 0}.ui-menu .ui-menu-icon{left:auto;right:0}.ui-button{padding:.4em 1em;display:inline-block;position:relative;line-height:normal;margin-right:.1em;cursor:pointer;vertical-align:middle;text-align:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;overflow:visible}.ui-button,.ui-button:link,.ui-button:visited,.ui-button:hover,.ui-button:active{text-decoration:none}.ui-button-icon-only{width:2em;box-sizing:border-box;text-indent:-9999px;white-space:nowrap}input.ui-button.ui-button-icon-only{text-indent:0}.ui-button-icon-only .ui-icon{position:absolute;top:50%;left:50%;margin-top:-8px;margin-left:-8px}.ui-button.ui-icon-notext .ui-icon{padding:0;width:2.1em;height:2.1em;text-indent:-9999px;white-space:nowrap}input.ui-button.ui-icon-notext .ui-icon{width:auto;height:auto;text-indent:0;white-space:normal;padding:.4em 1em}input.ui-button::-moz-focus-inner,button.ui-button::-moz-focus-inner{border:0;padding:0}.ui-controlgroup{vertical-align:middle;display:inline-block}.ui-controlgroup>.ui-controlgroup-item{float:left;margin-left:0;margin-right:0}.ui-controlgroup>.ui-controlgroup-item:focus,.ui-controlgroup>.ui-controlgroup-item.ui-visual-focus{z-index:9999}.ui-controlgroup-vertical>.ui-controlgroup-item{display:block;float:none;width:100%;margin-top:0;margin-bottom:0;text-align:left}.ui-controlgroup-vertical .ui-controlgroup-item{box-sizing:border-box}.ui-controlgroup .ui-controlgroup-label{padding:.4em 1em}.ui-controlgroup .ui-controlgroup-label span{font-size:80%}.ui-controlgroup-horizontal .ui-controlgroup-label + .ui-controlgroup-item{border-left:none}.ui-controlgroup-vertical .ui-controlgroup-label + .ui-controlgroup-item{border-top:none}.ui-controlgroup-horizontal .ui-controlgroup-label.ui-widget-content{border-right:none}.ui-controlgroup-vertical .ui-controlgroup-label.ui-widget-content{border-bottom:none}.ui-controlgroup-vertical .ui-spinner-input{width:75%;width:calc(100% - 2.4em)}.ui-controlgroup-vertical .ui-spinner .ui-spinner-up{border-top-style:solid}.ui-checkboxradio-label .ui-icon-background{box-shadow:inset 1px 1px 1px #ccc;border-radius:.12em;border:none}.ui-checkboxradio-radio-label .ui-icon-background{width:16px;height:16px;border-radius:1em;overflow:visible;border:none}.ui-checkboxradio-radio-label.ui-checkboxradio-checked .ui-icon,.ui-checkboxradio-radio-label.ui-checkboxradio-checked:hover .ui-icon{background-image:none;width:8px;height:8px;border-width:4px;border-style:solid}.ui-checkboxradio-disabled{pointer-events:none}.ui-datepicker{width:17em;padding:.2em .2em 0;display:none}.ui-datepicker .ui-datepicker-header{position:relative;padding:.2em 0}.ui-datepicker .ui-datepicker-prev,.ui-datepicker .ui-datepicker-next{position:absolute;top:2px;width:1.8em;height:1.8em}.ui-datepicker .ui-datepicker-prev-hover,.ui-datepicker .ui-datepicker-next-hover{top:1px}.ui-datepicker .ui-datepicker-prev{left:2px}.ui-datepicker .ui-datepicker-next{right:2px}.ui-datepicker .ui-datepicker-prev-hover{left:1px}.ui-datepicker .ui-datepicker-next-hover{right:1px}.ui-datepicker .ui-datepicker-prev span,.ui-datepicker .ui-datepicker-next span{display:block;position:absolute;left:50%;margin-left:-8px;top:50%;margin-top:-8px}.ui-datepicker .ui-datepicker-title{margin:0 2.3em;line-height:1.8em;text-align:center}.ui-datepicker .ui-datepicker-title select{font-size:1em;margin:1px 0}.ui-datepicker select.ui-datepicker-month,.ui-datepicker select.ui-datepicker-year{width:45%}.ui-datepicker table{width:100%;font-size:.9em;border-collapse:collapse;margin:0 0 .4em}.ui-datepicker th{padding:.7em .3em;text-align:center;font-weight:700;border:0}.ui-datepicker td{border:0;padding:1px}.ui-datepicker td span,.ui-datepicker td a{display:block;padding:.2em;text-align:right;text-decoration:none}.ui-datepicker .ui-datepicker-buttonpane{background-image:none;margin:.7em 0 0 0;padding:0 .2em;border-left:0;border-right:0;border-bottom:0}.ui-datepicker .ui-datepicker-buttonpane button{float:right;margin:.5em .2em .4em;cursor:pointer;padding:.2em .6em .3em .6em;width:auto;overflow:visible}.ui-datepicker .ui-datepicker-buttonpane button.ui-datepicker-current{float:left}.ui-datepicker.ui-datepicker-multi{width:auto}.ui-datepicker-multi .ui-datepicker-group{float:left}.ui-datepicker-multi .ui-datepicker-group table{width:95%;margin:0 auto .4em}.ui-datepicker-multi-2 .ui-datepicker-group{width:50%}.ui-datepicker-multi-3 .ui-datepicker-group{width:33.3%}.ui-datepicker-multi-4 .ui-datepicker-group{width:25%}.ui-datepicker-multi .ui-datepicker-group-last .ui-datepicker-header,.ui-datepicker-multi .ui-datepicker-group-middle .ui-datepicker-header{border-left-width:0}.ui-datepicker-multi .ui-datepicker-buttonpane{clear:left}.ui-datepicker-row-break{clear:both;width:100%;font-size:0}.ui-datepicker-rtl{direction:rtl}.ui-datepicker-rtl .ui-datepicker-prev{right:2px;left:auto}.ui-datepicker-rtl .ui-datepicker-next{left:2px;right:auto}.ui-datepicker-rtl .ui-datepicker-prev:hover{right:1px;left:auto}.ui-datepicker-rtl .ui-datepicker-next:hover{left:1px;right:auto}.ui-datepicker-rtl .ui-datepicker-buttonpane{clear:right}.ui-datepicker-rtl .ui-datepicker-buttonpane button{float:left}.ui-datepicker-rtl .ui-datepicker-buttonpane button.ui-datepicker-current,.ui-datepicker-rtl .ui-datepicker-group{float:right}.ui-datepicker-rtl .ui-datepicker-group-last .ui-datepicker-header,.ui-datepicker-rtl .ui-datepicker-group-middle .ui-datepicker-header{border-right-width:0;border-left-width:1px}.ui-datepicker .ui-icon{display:block;text-indent:-99999px;overflow:hidden;background-repeat:no-repeat;left:.5em;top:.3em}.ui-dialog{position:absolute;top:0;left:0;padding:.2em;outline:0}.ui-dialog .ui-dialog-titlebar{padding:.4em 1em;position:relative}.ui-dialog .ui-dialog-title{float:left;margin:.1em 0;white-space:nowrap;width:90%;overflow:hidden;text-overflow:ellipsis}.ui-dialog .ui-dialog-titlebar-close{position:absolute;right:.3em;top:50%;width:20px;margin:-10px 0 0 0;padding:1px;height:20px}.ui-dialog .ui-dialog-content{position:relative;border:0;padding:.5em 1em;background:none;overflow:auto}.ui-dialog .ui-dialog-buttonpane{text-align:left;border-width:1px 0 0 0;background-image:none;margin-top:.5em;padding:.3em 1em .5em .4em}.ui-dialog .ui-dialog-buttonpane .ui-dialog-buttonset{float:right}.ui-dialog .ui-dialog-buttonpane button{margin:.5em .4em .5em 0;cursor:pointer}.ui-dialog .ui-resizable-n{height:2px;top:0}.ui-dialog .ui-resizable-e{width:2px;right:0}.ui-dialog .ui-resizable-s{height:2px;bottom:0}.ui-dialog .ui-resizable-w{width:2px;left:0}.ui-dialog .ui-resizable-se,.ui-dialog .ui-resizable-sw,.ui-dialog .ui-resizable-ne,.ui-dialog .ui-resizable-nw{width:7px;height:7px}.ui-dialog .ui-resizable-se{right:0;bottom:0}.ui-dialog .ui-resizable-sw{left:0;bottom:0}.ui-dialog .ui-resizable-ne{right:0;top:0}.ui-dialog .ui-resizable-nw{left:0;top:0}.ui-draggable .ui-dialog-titlebar{cursor:move}.ui-draggable-handle{-ms-touch-action:none;touch-action:none}.ui-resizable{position:relative}.ui-resizable-handle{position:absolute;font-size:.1px;display:block;-ms-touch-action:none;touch-action:none}.ui-resizable-disabled .ui-resizable-handle,.ui-resizable-autohide .ui-resizable-handle{display:none}.ui-resizable-n{cursor:n-resize;height:7px;width:100%;top:-5px;left:0}.ui-resizable-s{cursor:s-resize;height:7px;width:100%;bottom:-5px;left:0}.ui-resizable-e{cursor:e-resize;width:7px;right:-5px;top:0;height:100%}.ui-resizable-w{cursor:w-resize;width:7px;left:-5px;top:0;height:100%}.ui-resizable-se{cursor:se-resize;width:12px;height:12px;right:1px;bottom:1px}.ui-resizable-sw{cursor:sw-resize;width:9px;height:9px;left:-5px;bottom:-5px}.ui-resizable-nw{cursor:nw-resize;width:9px;height:9px;left:-5px;top:-5px}.ui-resizable-ne{cursor:ne-resize;width:9px;height:9px;right:-5px;top:-5px}.ui-progressbar{height:2em;text-align:left;overflow:hidden}.ui-progressbar .ui-progressbar-value{margin:-1px;height:100%}.ui-progressbar .ui-progressbar-overlay{background:url(data:image/gif;base64,R0lGODlhKAAoAIABAAAAAP///yH/C05FVFNDQVBFMi4wAwEAAAAh+QQJAQABACwAAAAAKAAoAAACkYwNqXrdC52DS06a7MFZI+4FHBCKoDeWKXqymPqGqxvJrXZbMx7Ttc+w9XgU2FB3lOyQRWET2IFGiU9m1frDVpxZZc6bfHwv4c1YXP6k1Vdy292Fb6UkuvFtXpvWSzA+HycXJHUXiGYIiMg2R6W459gnWGfHNdjIqDWVqemH2ekpObkpOlppWUqZiqr6edqqWQAAIfkECQEAAQAsAAAAACgAKAAAApSMgZnGfaqcg1E2uuzDmmHUBR8Qil95hiPKqWn3aqtLsS18y7G1SzNeowWBENtQd+T1JktP05nzPTdJZlR6vUxNWWjV+vUWhWNkWFwxl9VpZRedYcflIOLafaa28XdsH/ynlcc1uPVDZxQIR0K25+cICCmoqCe5mGhZOfeYSUh5yJcJyrkZWWpaR8doJ2o4NYq62lAAACH5BAkBAAEALAAAAAAoACgAAAKVDI4Yy22ZnINRNqosw0Bv7i1gyHUkFj7oSaWlu3ovC8GxNso5fluz3qLVhBVeT/Lz7ZTHyxL5dDalQWPVOsQWtRnuwXaFTj9jVVh8pma9JjZ4zYSj5ZOyma7uuolffh+IR5aW97cHuBUXKGKXlKjn+DiHWMcYJah4N0lYCMlJOXipGRr5qdgoSTrqWSq6WFl2ypoaUAAAIfkECQEAAQAsAAAAACgAKAAAApaEb6HLgd/iO7FNWtcFWe+ufODGjRfoiJ2akShbueb0wtI50zm02pbvwfWEMWBQ1zKGlLIhskiEPm9R6vRXxV4ZzWT2yHOGpWMyorblKlNp8HmHEb/lCXjcW7bmtXP8Xt229OVWR1fod2eWqNfHuMjXCPkIGNileOiImVmCOEmoSfn3yXlJWmoHGhqp6ilYuWYpmTqKUgAAIfkECQEAAQAsAAAAACgAKAAAApiEH6kb58biQ3FNWtMFWW3eNVcojuFGfqnZqSebuS06w5V80/X02pKe8zFwP6EFWOT1lDFk8rGERh1TTNOocQ61Hm4Xm2VexUHpzjymViHrFbiELsefVrn6XKfnt2Q9G/+Xdie499XHd2g4h7ioOGhXGJboGAnXSBnoBwKYyfioubZJ2Hn0RuRZaflZOil56Zp6iioKSXpUAAAh+QQJAQABACwAAAAAKAAoAAACkoQRqRvnxuI7kU1a1UU5bd5tnSeOZXhmn5lWK3qNTWvRdQxP8qvaC+/yaYQzXO7BMvaUEmJRd3TsiMAgswmNYrSgZdYrTX6tSHGZO73ezuAw2uxuQ+BbeZfMxsexY35+/Qe4J1inV0g4x3WHuMhIl2jXOKT2Q+VU5fgoSUI52VfZyfkJGkha6jmY+aaYdirq+lQAACH5BAkBAAEALAAAAAAoACgAAAKWBIKpYe0L3YNKToqswUlvznigd4wiR4KhZrKt9Upqip61i9E3vMvxRdHlbEFiEXfk9YARYxOZZD6VQ2pUunBmtRXo1Lf8hMVVcNl8JafV38aM2/Fu5V16Bn63r6xt97j09+MXSFi4BniGFae3hzbH9+hYBzkpuUh5aZmHuanZOZgIuvbGiNeomCnaxxap2upaCZsq+1kAACH5BAkBAAEALAAAAAAoACgAAAKXjI8By5zf4kOxTVrXNVlv1X0d8IGZGKLnNpYtm8Lr9cqVeuOSvfOW79D9aDHizNhDJidFZhNydEahOaDH6nomtJjp1tutKoNWkvA6JqfRVLHU/QUfau9l2x7G54d1fl995xcIGAdXqMfBNadoYrhH+Mg2KBlpVpbluCiXmMnZ2Sh4GBqJ+ckIOqqJ6LmKSllZmsoq6wpQAAAh+QQJAQABACwAAAAAKAAoAAAClYx/oLvoxuJDkU1a1YUZbJ59nSd2ZXhWqbRa2/gF8Gu2DY3iqs7yrq+xBYEkYvFSM8aSSObE+ZgRl1BHFZNr7pRCavZ5BW2142hY3AN/zWtsmf12p9XxxFl2lpLn1rseztfXZjdIWIf2s5dItwjYKBgo9yg5pHgzJXTEeGlZuenpyPmpGQoKOWkYmSpaSnqKileI2FAAACH5BAkBAAEALAAAAAAoACgAAAKVjB+gu+jG4kORTVrVhRlsnn2dJ3ZleFaptFrb+CXmO9OozeL5VfP99HvAWhpiUdcwkpBH3825AwYdU8xTqlLGhtCosArKMpvfa1mMRae9VvWZfeB2XfPkeLmm18lUcBj+p5dnN8jXZ3YIGEhYuOUn45aoCDkp16hl5IjYJvjWKcnoGQpqyPlpOhr3aElaqrq56Bq7VAAAOw==);height:100%;filter:alpha(opacity=25);opacity:.25}.ui-progressbar-indeterminate .ui-progressbar-value{background-image:none}.ui-selectable{-ms-touch-action:none;touch-action:none}.ui-selectable-helper{position:absolute;z-index:100;border:1px dotted black}.ui-selectmenu-menu{padding:0;margin:0;position:absolute;top:0;left:0;display:none}.ui-selectmenu-menu .ui-menu{overflow:auto;overflow-x:hidden;padding-bottom:1px}.ui-selectmenu-menu .ui-menu .ui-selectmenu-optgroup{font-size:1em;font-weight:700;line-height:1.5;padding:2px .4em;margin:.5em 0 0 0;height:auto;border:0}.ui-selectmenu-open{display:block}.ui-selectmenu-text{display:block;margin-right:20px;overflow:hidden;text-overflow:ellipsis}.ui-selectmenu-button.ui-button{text-align:left;white-space:nowrap;width:14em}.ui-selectmenu-icon.ui-icon{float:right;margin-top:0}.ui-slider{position:relative;text-align:left}.ui-slider .ui-slider-handle{position:absolute;z-index:2;width:1.2em;height:1.2em;cursor:default;-ms-touch-action:none;touch-action:none}.ui-slider .ui-slider-range{position:absolute;z-index:1;font-size:.7em;display:block;border:0;background-position:0 0}.ui-slider.ui-state-disabled .ui-slider-handle,.ui-slider.ui-state-disabled .ui-slider-range{filter:inherit}.ui-slider-horizontal{height:.8em}.ui-slider-horizontal .ui-slider-handle{top:-.3em;margin-left:-.6em}.ui-slider-horizontal .ui-slider-range{top:0;height:100%}.ui-slider-horizontal .ui-slider-range-min{left:0}.ui-slider-horizontal .ui-slider-range-max{right:0}.ui-slider-vertical{width:.8em;height:100px}.ui-slider-vertical .ui-slider-handle{left:-.3em;margin-left:0;margin-bottom:-.6em}.ui-slider-vertical .ui-slider-range{left:0;width:100%}.ui-slider-vertical .ui-slider-range-min{bottom:0}.ui-slider-vertical .ui-slider-range-max{top:0}.ui-sortable-handle{-ms-touch-action:none;touch-action:none}.ui-spinner{position:relative;display:inline-block;overflow:hidden;padding:0;vertical-align:middle}.ui-spinner-input{border:none;background:none;color:inherit;padding:.222em 0;margin:.2em 0;vertical-align:middle;margin-left:.4em;margin-right:2em}.ui-spinner-button{width:1.6em;height:50%;font-size:.5em;padding:0;margin:0;text-align:center;position:absolute;cursor:default;display:block;overflow:hidden;right:0}.ui-spinner a.ui-spinner-button{border-top-style:none;border-bottom-style:none;border-right-style:none}.ui-spinner-up{top:0}.ui-spinner-down{bottom:0}.ui-tabs{position:relative;padding:.2em}.ui-tabs .ui-tabs-nav{margin:0;padding:.2em .2em 0}.ui-tabs .ui-tabs-nav li{list-style:none;float:left;position:relative;top:0;margin:1px .2em 0 0;border-bottom-width:0;padding:0;white-space:nowrap}.ui-tabs .ui-tabs-nav .ui-tabs-anchor{float:left;padding:.5em 1em;text-decoration:none}.ui-tabs .ui-tabs-nav li.ui-tabs-active{margin-bottom:-1px;padding-bottom:1px}.ui-tabs .ui-tabs-nav li.ui-tabs-active .ui-tabs-anchor,.ui-tabs .ui-tabs-nav li.ui-state-disabled .ui-tabs-anchor,.ui-tabs .ui-tabs-nav li.ui-tabs-loading .ui-tabs-anchor{cursor:text}.ui-tabs-collapsible .ui-tabs-nav li.ui-tabs-active .ui-tabs-anchor{cursor:pointer}.ui-tabs .ui-tabs-panel{display:block;border-width:0;padding:1em 1.4em;background:none}.ui-tooltip{padding:8px;position:absolute;z-index:9999;max-width:300px}body .ui-tooltip{border-width:2px}.ui-widget{font-family:Arial,Helvetica,sans-serif;font-size:1em}.ui-widget .ui-widget{font-size:1em}.ui-widget input,.ui-widget select,.ui-widget textarea,.ui-widget button{font-family:Arial,Helvetica,sans-serif;font-size:1em}.ui-widget.ui-widget-content{border:1px solid #c5c5c5}.ui-widget-content{border:1px solid #ddd;background:#fff;color:#333}.ui-widget-content a{color:#333}.ui-widget-header{border:1px solid #ddd;background:#e9e9e9;color:#333;font-weight:700}.ui-widget-header a{color:#333}.ui-state-default,.ui-widget-content .ui-state-default,.ui-widget-header .ui-state-default,.ui-button,html .ui-button.ui-state-disabled:hover,html .ui-button.ui-state-disabled:active{border:1px solid #c5c5c5;background:#f6f6f6;font-weight:400;color:#454545}.ui-state-default a,.ui-state-default a:link,.ui-state-default a:visited,a.ui-button,a:link.ui-button,a:visited.ui-button,.ui-button{color:#454545;text-decoration:none}.ui-state-hover,.ui-widget-content .ui-state-hover,.ui-widget-header .ui-state-hover,.ui-state-focus,.ui-widget-content .ui-state-focus,.ui-widget-header .ui-state-focus,.ui-button:hover,.ui-button:focus{border:1px solid #ccc;background:#ededed;font-weight:400;color:#2b2b2b}.ui-state-hover a,.ui-state-hover a:hover,.ui-state-hover a:link,.ui-state-hover a:visited,.ui-state-focus a,.ui-state-focus a:hover,.ui-state-focus a:link,.ui-state-focus a:visited,a.ui-button:hover,a.ui-button:focus{color:#2b2b2b;text-decoration:none}.ui-visual-focus{box-shadow:0 0 3px 1px rgb(94,158,214)}.ui-state-active,.ui-widget-content .ui-state-active,.ui-widget-header .ui-state-active,a.ui-button:active,.ui-button:active,.ui-button.ui-state-active:hover{border:1px solid #003eff;background:#007fff;font-weight:400;color:#fff}.ui-icon-background,.ui-state-active .ui-icon-background{border:#003eff;background-color:#fff}.ui-state-active a,.ui-state-active a:link,.ui-state-active a:visited{color:#fff;text-decoration:none}.ui-state-highlight,.ui-widget-content .ui-state-highlight,.ui-widget-header .ui-state-highlight{border:1px solid #dad55e;background:#fffa90;color:#777620}.ui-state-checked{border:1px solid #dad55e;background:#fffa90}.ui-state-highlight a,.ui-widget-content .ui-state-highlight a,.ui-widget-header .ui-state-highlight a{color:#777620}.ui-state-error,.ui-widget-content .ui-state-error,.ui-widget-header .ui-state-error{border:1px solid #f1a899;background:#fddfdf;color:#5f3f3f}.ui-state-error a,.ui-widget-content .ui-state-error a,.ui-widget-header .ui-state-error a{color:#5f3f3f}.ui-state-error-text,.ui-widget-content .ui-state-error-text,.ui-widget-header .ui-state-error-text{color:#5f3f3f}.ui-priority-primary,.ui-widget-content .ui-priority-primary,.ui-widget-header .ui-priority-primary{font-weight:700}.ui-priority-secondary,.ui-widget-content .ui-priority-secondary,.ui-widget-header .ui-priority-secondary{opacity:.7;filter:Alpha(Opacity=70);font-weight:400}.ui-state-disabled,.ui-widget-content .ui-state-disabled,.ui-widget-header .ui-state-disabled{opacity:.35;filter:Alpha(Opacity=35);background-image:none}.ui-state-disabled .ui-icon{filter:Alpha(Opacity=35)}.ui-icon{width:16px;height:16px}.ui-icon,.ui-widget-content .ui-icon{background-image:url(images/ui-icons_444444_256x240.png)}.ui-widget-header .ui-icon{background-image:url(images/ui-icons_444444_256x240.png)}.ui-state-hover .ui-icon,.ui-state-focus .ui-icon,.ui-button:hover .ui-icon,.ui-button:focus .ui-icon{background-image:url(images/ui-icons_555555_256x240.png)}.ui-state-active .ui-icon,.ui-button:active .ui-icon{background-image:url(images/ui-icons_ffffff_256x240.png)}.ui-state-highlight .ui-icon,.ui-button .ui-state-highlight.ui-icon{background-image:url(images/ui-icons_777620_256x240.png)}.ui-state-error .ui-icon,.ui-state-error-text .ui-icon{background-image:url(images/ui-icons_cc0000_256x240.png)}.ui-button .ui-icon{background-image:url(images/ui-icons_777777_256x240.png)}.ui-icon-blank{background-position:16px 16px}.ui-icon-caret-1-n{background-position:0 0}.ui-icon-caret-1-ne{background-position:-16px 0}.ui-icon-caret-1-e{background-position:-32px 0}.ui-icon-caret-1-se{background-position:-48px 0}.ui-icon-caret-1-s{background-position:-65px 0}.ui-icon-caret-1-sw{background-position:-80px 0}.ui-icon-caret-1-w{background-position:-96px 0}.ui-icon-caret-1-nw{background-position:-112px 0}.ui-icon-caret-2-n-s{background-position:-128px 0}.ui-icon-caret-2-e-w{background-position:-144px 0}.ui-icon-triangle-1-n{background-position:0 -16px}.ui-icon-triangle-1-ne{background-position:-16px -16px}.ui-icon-triangle-1-e{background-position:-32px -16px}.ui-icon-triangle-1-se{background-position:-48px -16px}.ui-icon-triangle-1-s{background-position:-65px -16px}.ui-icon-triangle-1-sw{background-position:-80px -16px}.ui-icon-triangle-1-w{background-position:-96px -16px}.ui-icon-triangle-1-nw{background-position:-112px -16px}.ui-icon-triangle-2-n-s{background-position:-128px -16px}.ui-icon-triangle-2-e-w{background-position:-144px -16px}.ui-icon-arrow-1-n{background-position:0 -32px}.ui-icon-arrow-1-ne{background-position:-16px -32px}.ui-icon-arrow-1-e{background-position:-32px -32px}.ui-icon-arrow-1-se{background-position:-48px -32px}.ui-icon-arrow-1-s{background-position:-65px -32px}.ui-icon-arrow-1-sw{background-position:-80px -32px}.ui-icon-arrow-1-w{background-position:-96px -32px}.ui-icon-arrow-1-nw{background-position:-112px -32px}.ui-icon-arrow-2-n-s{background-position:-128px -32px}.ui-icon-arrow-2-ne-sw{background-position:-144px -32px}.ui-icon-arrow-2-e-w{background-position:-160px -32px}.ui-icon-arrow-2-se-nw{background-position:-176px -32px}.ui-icon-arrowstop-1-n{background-position:-192px -32px}.ui-icon-arrowstop-1-e{background-position:-208px -32px}.ui-icon-arrowstop-1-s{background-position:-224px -32px}.ui-icon-arrowstop-1-w{background-position:-240px -32px}.ui-icon-arrowthick-1-n{background-position:1px -48px}.ui-icon-arrowthick-1-ne{background-position:-16px -48px}.ui-icon-arrowthick-1-e{background-position:-32px -48px}.ui-icon-arrowthick-1-se{background-position:-48px -48px}.ui-icon-arrowthick-1-s{background-position:-64px -48px}.ui-icon-arrowthick-1-sw{background-position:-80px -48px}.ui-icon-arrowthick-1-w{background-position:-96px -48px}.ui-icon-arrowthick-1-nw{background-position:-112px -48px}.ui-icon-arrowthick-2-n-s{background-position:-128px -48px}.ui-icon-arrowthick-2-ne-sw{background-position:-144px -48px}.ui-icon-arrowthick-2-e-w{background-position:-160px -48px}.ui-icon-arrowthick-2-se-nw{background-position:-176px -48px}.ui-icon-arrowthickstop-1-n{background-position:-192px -48px}.ui-icon-arrowthickstop-1-e{background-position:-208px -48px}.ui-icon-arrowthickstop-1-s{background-position:-224px -48px}.ui-icon-arrowthickstop-1-w{background-position:-240px -48px}.ui-icon-arrowreturnthick-1-w{background-position:0 -64px}.ui-icon-arrowreturnthick-1-n{background-position:-16px -64px}.ui-icon-arrowreturnthick-1-e{background-position:-32px -64px}.ui-icon-arrowreturnthick-1-s{background-position:-48px -64px}.ui-icon-arrowreturn-1-w{background-position:-64px -64px}.ui-icon-arrowreturn-1-n{background-position:-80px -64px}.ui-icon-arrowreturn-1-e{background-position:-96px -64px}.ui-icon-arrowreturn-1-s{background-position:-112px -64px}.ui-icon-arrowrefresh-1-w{background-position:-128px -64px}.ui-icon-arrowrefresh-1-n{background-position:-144px -64px}.ui-icon-arrowrefresh-1-e{background-position:-160px -64px}.ui-icon-arrowrefresh-1-s{background-position:-176px -64px}.ui-icon-arrow-4{background-position:0 -80px}.ui-icon-arrow-4-diag{background-position:-16px -80px}.ui-icon-extlink{background-position:-32px -80px}.ui-icon-newwin{background-position:-48px -80px}.ui-icon-refresh{background-position:-64px -80px}.ui-icon-shuffle{background-position:-80px -80px}.ui-icon-transfer-e-w{background-position:-96px -80px}.ui-icon-transferthick-e-w{background-position:-112px -80px}.ui-icon-folder-collapsed{background-position:0 -96px}.ui-icon-folder-open{background-position:-16px -96px}.ui-icon-document{background-position:-32px -96px}.ui-icon-document-b{background-position:-48px -96px}.ui-icon-note{background-position:-64px -96px}.ui-icon-mail-closed{background-position:-80px -96px}.ui-icon-mail-open{background-position:-96px -96px}.ui-icon-suitcase{background-position:-112px -96px}.ui-icon-comment{background-position:-128px -96px}.ui-icon-person{background-position:-144px -96px}.ui-icon-print{background-position:-160px -96px}.ui-icon-trash{background-position:-176px -96px}.ui-icon-locked{background-position:-192px -96px}.ui-icon-unlocked{background-position:-208px -96px}.ui-icon-bookmark{background-position:-224px -96px}.ui-icon-tag{background-position:-240px -96px}.ui-icon-home{background-position:0 -112px}.ui-icon-flag{background-position:-16px -112px}.ui-icon-calendar{background-position:-32px -112px}.ui-icon-cart{background-position:-48px -112px}.ui-icon-pencil{background-position:-64px -112px}.ui-icon-clock{background-position:-80px -112px}.ui-icon-disk{background-position:-96px -112px}.ui-icon-calculator{background-position:-112px -112px}.ui-icon-zoomin{background-position:-128px -112px}.ui-icon-zoomout{background-position:-144px -112px}.ui-icon-search{background-position:-160px -112px}.ui-icon-wrench{background-position:-176px -112px}.ui-icon-gear{background-position:-192px -112px}.ui-icon-heart{background-position:-208px -112px}.ui-icon-star{background-position:-224px -112px}.ui-icon-link{background-position:-240px -112px}.ui-icon-cancel{background-position:0 -128px}.ui-icon-plus{background-position:-16px -128px}.ui-icon-plusthick{background-position:-32px -128px}.ui-icon-minus{background-position:-48px -128px}.ui-icon-minusthick{background-position:-64px -128px}.ui-icon-close{background-position:-80px -128px}.ui-icon-closethick{background-position:-96px -128px}.ui-icon-key{background-position:-112px -128px}.ui-icon-lightbulb{background-position:-128px -128px}.ui-icon-scissors{background-position:-144px -128px}.ui-icon-clipboard{background-position:-160px -128px}.ui-icon-copy{background-position:-176px -128px}.ui-icon-contact{background-position:-192px -128px}.ui-icon-image{background-position:-208px -128px}.ui-icon-video{background-position:-224px -128px}.ui-icon-script{background-position:-240px -128px}.ui-icon-alert{background-position:0 -144px}.ui-icon-info{background-position:-16px -144px}.ui-icon-notice{background-position:-32px -144px}.ui-icon-help{background-position:-48px -144px}.ui-icon-check{background-position:-64px -144px}.ui-icon-bullet{background-position:-80px -144px}.ui-icon-radio-on{background-position:-96px -144px}.ui-icon-radio-off{background-position:-112px -144px}.ui-icon-pin-w{background-position:-128px -144px}.ui-icon-pin-s{background-position:-144px -144px}.ui-icon-play{background-position:0 -160px}.ui-icon-pause{background-position:-16px -160px}.ui-icon-seek-next{background-position:-32px -160px}.ui-icon-seek-prev{background-position:-48px -160px}.ui-icon-seek-end{background-position:-64px -160px}.ui-icon-seek-start{background-position:-80px -160px}.ui-icon-seek-first{background-position:-80px -160px}.ui-icon-stop{background-position:-96px -160px}.ui-icon-eject{background-position:-112px -160px}.ui-icon-volume-off{background-position:-128px -160px}.ui-icon-volume-on{background-position:-144px -160px}.ui-icon-power{background-position:0 -176px}.ui-icon-signal-diag{background-position:-16px -176px}.ui-icon-signal{background-position:-32px -176px}.ui-icon-battery-0{background-position:-48px -176px}.ui-icon-battery-1{background-position:-64px -176px}.ui-icon-battery-2{background-position:-80px -176px}.ui-icon-battery-3{background-position:-96px -176px}.ui-icon-circle-plus{background-position:0 -192px}.ui-icon-circle-minus{background-position:-16px -192px}.ui-icon-circle-close{background-position:-32px -192px}.ui-icon-circle-triangle-e{background-position:-48px -192px}.ui-icon-circle-triangle-s{background-position:-64px -192px}.ui-icon-circle-triangle-w{background-position:-80px -192px}.ui-icon-circle-triangle-n{background-position:-96px -192px}.ui-icon-circle-arrow-e{background-position:-112px -192px}.ui-icon-circle-arrow-s{background-position:-128px -192px}.ui-icon-circle-arrow-w{background-position:-144px -192px}.ui-icon-circle-arrow-n{background-position:-160px -192px}.ui-icon-circle-zoomin{background-position:-176px -192px}.ui-icon-circle-zoomout{background-position:-192px -192px}.ui-icon-circle-check{background-position:-208px -192px}.ui-icon-circlesmall-plus{background-position:0 -208px}.ui-icon-circlesmall-minus{background-position:-16px -208px}.ui-icon-circlesmall-close{background-position:-32px -208px}.ui-icon-squaresmall-plus{background-position:-48px -208px}.ui-icon-squaresmall-minus{background-position:-64px -208px}.ui-icon-squaresmall-close{background-position:-80px -208px}.ui-icon-grip-dotted-vertical{background-position:0 -224px}.ui-icon-grip-dotted-horizontal{background-position:-16px -224px}.ui-icon-grip-solid-vertical{background-position:-32px -224px}.ui-icon-grip-solid-horizontal{background-position:-48px -224px}.ui-icon-gripsmall-diagonal-se{background-position:-64px -224px}.ui-icon-grip-diagonal-se{background-position:-80px -224px}.ui-corner-all,.ui-corner-top,.ui-corner-left,.ui-corner-tl{border-top-left-radius:3px}.ui-corner-all,.ui-corner-top,.ui-corner-right,.ui-corner-tr{border-top-right-radius:3px}.ui-corner-all,.ui-corner-bottom,.ui-corner-left,.ui-corner-bl{border-bottom-left-radius:3px}.ui-corner-all,.ui-corner-bottom,.ui-corner-right,.ui-corner-br{border-bottom-right-radius:3px}.ui-widget-overlay{background:#aaa;opacity:.003;filter:Alpha(Opacity=.3)}.ui-widget-shadow{-webkit-box-shadow:0 0 5px #666;box-shadow:0 0 5px #666}.ldBar{position:relative}.ldBar.label-center>.ldBar-label{position:absolute;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);text-shadow:0 0 3px #fff}.ldBar-label:after{content:"%";display:inline}.ldBar.no-percent .ldBar-label:after{content:""}html{box-sizing:border-box}*,*:before,*:after{box-sizing:inherit}html{-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}article,aside,details,figcaption,figure,footer,header,main,menu,nav,section{display:block}summary{display:list-item}audio,canvas,progress,video{display:inline-block}progress{vertical-align:baseline}audio:not([controls]){display:none;height:0}[hidden],template{display:none}a{background-color:transparent}a:active,a:hover{outline-width:0}abbr[title]{border-bottom:none;text-decoration:underline;text-decoration:underline dotted}b,strong{font-weight:bolder}dfn{font-style:italic}mark{background:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}figure{margin:1em 40px}img{border-style:none}code,kbd,pre,samp{font-family:monospace,monospace;font-size:1em}hr{box-sizing:content-box;height:0;overflow:visible}button,input,select,textarea,optgroup{font:inherit;margin:0}optgroup{font-weight:700}button,input{overflow:visible}button,select{text-transform:none}button,[type=button],[type=reset],[type=submit]{-webkit-appearance:button}button::-moz-focus-inner,[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner{border-style:none;padding:0}button:-moz-focusring,[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring{outline:1px dotted ButtonText}fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}legend{color:inherit;display:table;max-width:100%;padding:0;white-space:normal}textarea{overflow:auto}[type=checkbox],[type=radio]{padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}html,body{font-family:Verdana,sans-serif;font-size:15px;line-height:1.5}html{overflow-x:hidden}h1{font-size:36px}h2{font-size:30px}h3{font-size:24px}h4{font-size:20px}h5{font-size:18px}h6{font-size:16px}.w3-serif{font-family:serif}h1,h2,h3,h4,h5,h6{font-family:"Segoe UI",Arial,sans-serif;font-weight:400;margin:10px 0}.w3-wide{letter-spacing:4px}hr{border:0;border-top:1px solid #eee;margin:20px 0}.w3-image{max-width:100%;height:auto}img{vertical-align:middle}a{color:inherit}.w3-table,.w3-table-all{border-collapse:collapse;border-spacing:0;width:100%;display:table}.w3-table-all{border:1px solid #ccc}.w3-bordered tr,.w3-table-all tr{border-bottom:1px solid #ddd}.w3-striped tbody tr:nth-child(even){background-color:#f1f1f1}.w3-table-all tr:nth-child(odd){background-color:#fff}.w3-table-all tr:nth-child(even){background-color:#f1f1f1}.w3-hoverable tbody tr:hover,.w3-ul.w3-hoverable li:hover{background-color:#ccc}.w3-centered tr th,.w3-centered tr td{text-align:center}.w3-table td,.w3-table th,.w3-table-all td,.w3-table-all th{padding:8px 8px;display:table-cell;text-align:left;vertical-align:top}.w3-table th:first-child,.w3-table td:first-child,.w3-table-all th:first-child,.w3-table-all td:first-child{padding-left:16px}.w3-btn,.w3-button{border:none;display:inline-block;padding:8px 16px;vertical-align:middle;overflow:hidden;text-decoration:none;color:inherit;background-color:inherit;text-align:center;cursor:pointer;white-space:nowrap}.w3-btn:hover{box-shadow:0 8px 16px 0 rgba(0,0,0,.2),0 6px 20px 0 rgba(0,0,0,.19)}.w3-btn,.w3-button{-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.w3-disabled,.w3-btn:disabled,.w3-button:disabled{cursor:not-allowed;opacity:.3}.w3-disabled *,:disabled *{pointer-events:none}.w3-btn.w3-disabled:hover,.w3-btn:disabled:hover{box-shadow:none}.w3-badge,.w3-tag{background-color:#000;color:#fff;display:inline-block;padding-left:8px;padding-right:8px;text-align:center}.w3-badge{border-radius:50%}.w3-ul{list-style-type:none;padding:0;margin:0}.w3-ul li{padding:8px 16px;border-bottom:1px solid #ddd}.w3-ul li:last-child{border-bottom:none}.w3-tooltip,.w3-display-container{position:relative}.w3-tooltip .w3-text{display:none}.w3-tooltip:hover .w3-text{display:inline-block}.w3-ripple:active{opacity:.5}.w3-ripple{transition:opacity 0s}.w3-input{padding:8px;display:block;border:none;border-bottom:1px solid #ccc;width:100%}.w3-select{padding:9px 0;width:100%;border:none;border-bottom:1px solid #ccc}.w3-dropdown-click,.w3-dropdown-hover{position:relative;display:inline-block;cursor:pointer}.w3-dropdown-hover:hover .w3-dropdown-content{display:block}.w3-dropdown-hover:first-child,.w3-dropdown-click:hover{background-color:#ccc;color:#000}.w3-dropdown-hover:hover>.w3-button:first-child,.w3-dropdown-click:hover>.w3-button:first-child{background-color:#ccc;color:#000}.w3-dropdown-content{cursor:auto;color:#000;background-color:#fff;display:none;position:absolute;min-width:160px;margin:0;padding:0;z-index:1}.w3-check,.w3-radio{width:24px;height:24px;position:relative;top:6px}.w3-sidebar{height:100%;width:200px;background-color:#fff;position:fixed!important;z-index:1;overflow:auto}.w3-bar-block .w3-dropdown-hover,.w3-bar-block .w3-dropdown-click{width:100%}.w3-bar-block .w3-dropdown-hover .w3-dropdown-content,.w3-bar-block .w3-dropdown-click .w3-dropdown-content{min-width:100%}.w3-bar-block .w3-dropdown-hover .w3-button,.w3-bar-block .w3-dropdown-click .w3-button{width:100%;text-align:left;padding:8px 16px}.w3-main,#main{transition:margin-left .4s}.w3-modal{z-index:3;display:none;padding-top:100px;position:fixed;left:0;top:0;width:100%;height:100%;overflow:auto;background-color:rgb(0,0,0);background-color:rgba(0,0,0,.4)}.w3-modal-content{margin:auto;background-color:#fff;position:relative;padding:0;outline:0;width:600px}.w3-bar{width:100%;overflow:hidden}.w3-center .w3-bar{display:inline-block;width:auto}.w3-bar .w3-bar-item{padding:8px 16px;float:left;width:auto;border:none;display:block;outline:0}.w3-bar .w3-dropdown-hover,.w3-bar .w3-dropdown-click{position:static;float:left}.w3-bar .w3-button{white-space:normal}.w3-bar-block .w3-bar-item{width:100%;display:block;padding:8px 16px;text-align:left;border:none;white-space:normal;float:none;outline:0}.w3-bar-block.w3-center .w3-bar-item{text-align:center}.w3-block{display:block;width:100%}.w3-responsive{display:block;overflow-x:auto}.w3-container:after,.w3-container:before,.w3-panel:after,.w3-panel:before,.w3-row:after,.w3-row:before,.w3-row-padding:after,.w3-row-padding:before,.w3-cell-row:before,.w3-cell-row:after,.w3-clear:after,.w3-clear:before,.w3-bar:before,.w3-bar:after{content:"";display:table;clear:both}.w3-col,.w3-half,.w3-third,.w3-twothird,.w3-threequarter,.w3-quarter{float:left;width:100%}.w3-col.s1{width:8.33333%}.w3-col.s2{width:16.66666%}.w3-col.s3{width:24.99999%}.w3-col.s4{width:33.33333%}.w3-col.s5{width:41.66666%}.w3-col.s6{width:49.99999%}.w3-col.s7{width:58.33333%}.w3-col.s8{width:66.66666%}.w3-col.s9{width:74.99999%}.w3-col.s10{width:83.33333%}.w3-col.s11{width:91.66666%}.w3-col.s12{width:99.99999%}@media (min-width:601px){.w3-col.m1{width:8.33333%}.w3-col.m2{width:16.66666%}.w3-col.m3,.w3-quarter{width:24.99999%}.w3-col.m4,.w3-third{width:33.33333%}.w3-col.m5{width:41.66666%}.w3-col.m6,.w3-half{width:49.99999%}.w3-col.m7{width:58.33333%}.w3-col.m8,.w3-twothird{width:66.66666%}.w3-col.m9,.w3-threequarter{width:74.99999%}.w3-col.m10{width:83.33333%}.w3-col.m11{width:91.66666%}.w3-col.m12{width:99.99999%}}@media (min-width:993px){.w3-col.l1{width:8.33333%}.w3-col.l2{width:16.66666%}.w3-col.l3{width:24.99999%}.w3-col.l4{width:33.33333%}.w3-col.l5{width:41.66666%}.w3-col.l6{width:49.99999%}.w3-col.l7{width:58.33333%}.w3-col.l8{width:66.66666%}.w3-col.l9{width:74.99999%}.w3-col.l10{width:83.33333%}.w3-col.l11{width:91.66666%}.w3-col.l12{width:99.99999%}}.w3-rest{overflow:hidden}.w3-stretch{margin-left:-16px;margin-right:-16px}.w3-content,.w3-auto{margin-left:auto;margin-right:auto}.w3-content{max-width:980px}.w3-auto{max-width:1140px}.w3-cell-row{display:table;width:100%}.w3-cell{display:table-cell}.w3-cell-top{vertical-align:top}.w3-cell-middle{vertical-align:middle}.w3-cell-bottom{vertical-align:bottom}.w3-hide{display:none!important}.w3-show-block,.w3-show{display:block!important}.w3-show-inline-block{display:inline-block!important}@media (max-width:1205px){.w3-auto{max-width:95%}}@media (max-width:600px){.w3-modal-content{margin:0 10px;width:auto!important}.w3-modal{padding-top:30px}.w3-dropdown-hover.w3-mobile .w3-dropdown-content,.w3-dropdown-click.w3-mobile .w3-dropdown-content{position:relative}.w3-hide-small{display:none!important}.w3-mobile{display:block;width:100%!important}.w3-bar-item.w3-mobile,.w3-dropdown-hover.w3-mobile,.w3-dropdown-click.w3-mobile{text-align:center}.w3-dropdown-hover.w3-mobile,.w3-dropdown-hover.w3-mobile .w3-btn,.w3-dropdown-hover.w3-mobile .w3-button,.w3-dropdown-click.w3-mobile,.w3-dropdown-click.w3-mobile .w3-btn,.w3-dropdown-click.w3-mobile .w3-button{width:100%}}@media (max-width:768px){.w3-modal-content{width:500px}.w3-modal{padding-top:50px}}@media (min-width:993px){.w3-modal-content{width:900px}.w3-hide-large{display:none!important}.w3-sidebar.w3-collapse{display:block!important}}@media (max-width:992px) and (min-width:601px){.w3-hide-medium{display:none!important}}@media (max-width:992px){.w3-sidebar.w3-collapse{display:none}.w3-main{margin-left:0!important;margin-right:0!important}.w3-auto{max-width:100%}}.w3-top,.w3-bottom{position:fixed;width:100%;z-index:1}.w3-top{top:0}.w3-bottom{bottom:0}.w3-overlay{position:fixed;display:none;width:100%;height:100%;top:0;left:0;right:0;bottom:0;background-color:rgba(0,0,0,.5);z-index:2}.w3-display-topleft{position:absolute;left:0;top:0}.w3-display-topright{position:absolute;right:0;top:0}.w3-display-bottomleft{position:absolute;left:0;bottom:0}.w3-display-bottomright{position:absolute;right:0;bottom:0}.w3-display-middle{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);-ms-transform:translate(-50%,-50%)}.w3-display-left{position:absolute;top:50%;left:0%;transform:translate(0%,-50%);-ms-transform:translate(0%,-50%)}.w3-display-right{position:absolute;top:50%;right:0%;transform:translate(0%,-50%);-ms-transform:translate(0%,-50%)}.w3-display-topmiddle{position:absolute;left:50%;top:0;transform:translate(-50%,0%);-ms-transform:translate(-50%,0%)}.w3-display-bottommiddle{position:absolute;left:50%;bottom:0;transform:translate(-50%,0%);-ms-transform:translate(-50%,0%)}.w3-display-container:hover .w3-display-hover{display:block}.w3-display-container:hover span.w3-display-hover{display:inline-block}.w3-display-hover{display:none}.w3-display-position{position:absolute}.w3-circle{border-radius:50%}.w3-round-small{border-radius:2px}.w3-round,.w3-round-medium{border-radius:4px}.w3-round-large{border-radius:8px}.w3-round-xlarge{border-radius:16px}.w3-round-xxlarge{border-radius:32px}.w3-row-padding,.w3-row-padding>.w3-half,.w3-row-padding>.w3-third,.w3-row-padding>.w3-twothird,.w3-row-padding>.w3-threequarter,.w3-row-padding>.w3-quarter,.w3-row-padding>.w3-col{padding:0 8px}.w3-container,.w3-panel{padding:.01em 16px}.w3-panel{margin-top:16px;margin-bottom:16px}.w3-code,.w3-codespan{font-family:Consolas,"courier new";font-size:16px}.w3-code{width:auto;background-color:#fff;padding:8px 12px;border-left:4px solid #4CAF50;word-wrap:break-word}.w3-codespan{color:crimson;background-color:#f1f1f1;padding-left:4px;padding-right:4px;font-size:110%}.w3-card,.w3-card-2{box-shadow:0 2px 5px 0 rgba(0,0,0,.16),0 2px 10px 0 rgba(0,0,0,.12)}.w3-card-4,.w3-hover-shadow:hover{box-shadow:0 4px 10px 0 rgba(0,0,0,.2),0 4px 20px 0 rgba(0,0,0,.19)}.w3-spin{animation:w3-spin 2s infinite linear}@keyframes w3-spin{0%{transform:rotate(0deg)}100%{transform:rotate(359deg)}}.w3-animate-fading{animation:fading 10s infinite}@keyframes fading{0%{opacity:0}50%{opacity:1}100%{opacity:0}}.w3-animate-opacity{animation:opac 0.8s}@keyframes opac{from{opacity:0}to{opacity:1}}.w3-animate-top{position:relative;animation:animatetop 0.4s}@keyframes animatetop{from{top:-300px;opacity:0}to{top:0;opacity:1}}.w3-animate-left{position:relative;animation:animateleft 0.4s}@keyframes animateleft{from{left:-300px;opacity:0}to{left:0;opacity:1}}.w3-animate-right{position:relative;animation:animateright 0.4s}@keyframes animateright{from{right:-300px;opacity:0}to{right:0;opacity:1}}.w3-animate-bottom{position:relative;animation:animatebottom 0.4s}@keyframes animatebottom{from{bottom:-300px;opacity:0}to{bottom:0;opacity:1}}.w3-animate-zoom{animation:animatezoom 0.6s}@keyframes animatezoom{from{transform:scale(0)}to{transform:scale(1)}}.w3-animate-input{transition:width 0.4s ease-in-out}.w3-animate-input:focus{width:100%!important}.w3-opacity,.w3-hover-opacity:hover{opacity:.6}.w3-opacity-off,.w3-hover-opacity-off:hover{opacity:1}.w3-opacity-max{opacity:.25}.w3-opacity-min{opacity:.75}.w3-greyscale-max,.w3-grayscale-max,.w3-hover-greyscale:hover,.w3-hover-grayscale:hover{filter:grayscale(100%)}.w3-greyscale,.w3-grayscale{filter:grayscale(75%)}.w3-greyscale-min,.w3-grayscale-min{filter:grayscale(50%)}.w3-sepia{filter:sepia(75%)}.w3-sepia-max,.w3-hover-sepia:hover{filter:sepia(100%)}.w3-sepia-min{filter:sepia(50%)}.w3-tiny{font-size:10px!important}.w3-small{font-size:12px!important}.w3-medium{font-size:15px!important}.w3-large{font-size:18px!important}.w3-xlarge{font-size:24px!important}.w3-xxlarge{font-size:36px!important}.w3-xxxlarge{font-size:48px!important}.w3-jumbo{font-size:64px!important}.w3-left-align{text-align:left!important}.w3-right-align{text-align:right!important}.w3-justify{text-align:justify!important}.w3-center{text-align:center!important}.w3-border-0{border:0!important}.w3-border{border:1px solid #ccc!important}.w3-border-top{border-top:1px solid #ccc!important}.w3-border-bottom{border-bottom:1px solid #ccc!important}.w3-border-left{border-left:1px solid #ccc!important}.w3-border-right{border-right:1px solid #ccc!important}.w3-topbar{border-top:6px solid #ccc!important}.w3-bottombar{border-bottom:6px solid #ccc!important}.w3-leftbar{border-left:6px solid #ccc!important}.w3-rightbar{border-right:6px solid #ccc!important}.w3-section,.w3-code{margin-top:16px!important;margin-bottom:16px!important}.w3-margin{margin:16px!important}.w3-margin-top{margin-top:16px!important}.w3-margin-bottom{margin-bottom:16px!important}.w3-margin-left{margin-left:16px!important}.w3-margin-right{margin-right:16px!important}.w3-padding-small{padding:4px 8px!important}.w3-padding{padding:8px 16px!important}.w3-padding-large{padding:12px 24px!important}.w3-padding-16{padding-top:16px!important;padding-bottom:16px!important}.w3-padding-24{padding-top:24px!important;padding-bottom:24px!important}.w3-padding-32{padding-top:32px!important;padding-bottom:32px!important}.w3-padding-48{padding-top:48px!important;padding-bottom:48px!important}.w3-padding-64{padding-top:64px!important;padding-bottom:64px!important}.w3-left{float:left!important}.w3-right{float:right!important}.w3-button:hover{color:#000!important;background-color:#ccc!important}.w3-transparent,.w3-hover-none:hover{background-color:transparent!important}.w3-hover-none:hover{box-shadow:none!important}.w3-amber,.w3-hover-amber:hover{color:#000!important;background-color:#ffc107!important}.w3-aqua,.w3-hover-aqua:hover{color:#000!important;background-color:#00ffff!important}.w3-blue,.w3-hover-blue:hover{color:#fff!important;background-color:#2196F3!important}.w3-light-blue,.w3-hover-light-blue:hover{color:#000!important;background-color:#87CEEB!important}.w3-brown,.w3-hover-brown:hover{color:#fff!important;background-color:#795548!important}.w3-cyan,.w3-hover-cyan:hover{color:#000!important;background-color:#00bcd4!important}.w3-blue-grey,.w3-hover-blue-grey:hover,.w3-blue-gray,.w3-hover-blue-gray:hover{color:#fff!important;background-color:#607d8b!important}.w3-green,.w3-hover-green:hover{color:#fff!important;background-color:#4CAF50!important}.w3-light-green,.w3-hover-light-green:hover{color:#000!important;background-color:#8bc34a!important}.w3-indigo,.w3-hover-indigo:hover{color:#fff!important;background-color:#3f51b5!important}.w3-khaki,.w3-hover-khaki:hover{color:#000!important;background-color:#f0e68c!important}.w3-lime,.w3-hover-lime:hover{color:#000!important;background-color:#cddc39!important}.w3-orange,.w3-hover-orange:hover{color:#000!important;background-color:#ff9800!important}.w3-deep-orange,.w3-hover-deep-orange:hover{color:#fff!important;background-color:#ff5722!important}.w3-pink,.w3-hover-pink:hover{color:#fff!important;background-color:#e91e63!important}.w3-purple,.w3-hover-purple:hover{color:#fff!important;background-color:#9c27b0!important}.w3-deep-purple,.w3-hover-deep-purple:hover{color:#fff!important;background-color:#673ab7!important}.w3-red,.w3-hover-red:hover{color:#fff!important;background-color:#f44336!important}.w3-sand,.w3-hover-sand:hover{color:#000!important;background-color:#fdf5e6!important}.w3-teal,.w3-hover-teal:hover{color:#fff!important;background-color:#009688!important}.w3-yellow,.w3-hover-yellow:hover{color:#000!important;background-color:#ffeb3b!important}.w3-white,.w3-hover-white:hover{color:#000!important;background-color:#fff!important}.w3-black,.w3-hover-black:hover{color:#fff!important;background-color:#000!important}.w3-grey,.w3-hover-grey:hover,.w3-gray,.w3-hover-gray:hover{color:#000!important;background-color:#9e9e9e!important}.w3-light-grey,.w3-hover-light-grey:hover,.w3-light-gray,.w3-hover-light-gray:hover{color:#000!important;background-color:#f1f1f1!important}.w3-dark-grey,.w3-hover-dark-grey:hover,.w3-dark-gray,.w3-hover-dark-gray:hover{color:#fff!important;background-color:#616161!important}.w3-pale-red,.w3-hover-pale-red:hover{color:#000!important;background-color:#ffdddd!important}.w3-pale-green,.w3-hover-pale-green:hover{color:#000!important;background-color:#ddffdd!important}.w3-pale-yellow,.w3-hover-pale-yellow:hover{color:#000!important;background-color:#ffffcc!important}.w3-pale-blue,.w3-hover-pale-blue:hover{color:#000!important;background-color:#ddffff!important}.w3-text-amber,.w3-hover-text-amber:hover{color:#ffc107!important}.w3-text-aqua,.w3-hover-text-aqua:hover{color:#00ffff!important}.w3-text-blue,.w3-hover-text-blue:hover{color:#2196F3!important}.w3-text-light-blue,.w3-hover-text-light-blue:hover{color:#87CEEB!important}.w3-text-brown,.w3-hover-text-brown:hover{color:#795548!important}.w3-text-cyan,.w3-hover-text-cyan:hover{color:#00bcd4!important}.w3-text-blue-grey,.w3-hover-text-blue-grey:hover,.w3-text-blue-gray,.w3-hover-text-blue-gray:hover{color:#607d8b!important}.w3-text-green,.w3-hover-text-green:hover{color:#4CAF50!important}.w3-text-light-green,.w3-hover-text-light-green:hover{color:#8bc34a!important}.w3-text-indigo,.w3-hover-text-indigo:hover{color:#3f51b5!important}.w3-text-khaki,.w3-hover-text-khaki:hover{color:#b4aa50!important}.w3-text-lime,.w3-hover-text-lime:hover{color:#cddc39!important}.w3-text-orange,.w3-hover-text-orange:hover{color:#ff9800!important}.w3-text-deep-orange,.w3-hover-text-deep-orange:hover{color:#ff5722!important}.w3-text-pink,.w3-hover-text-pink:hover{color:#e91e63!important}.w3-text-purple,.w3-hover-text-purple:hover{color:#9c27b0!important}.w3-text-deep-purple,.w3-hover-text-deep-purple:hover{color:#673ab7!important}.w3-text-red,.w3-hover-text-red:hover{color:#f44336!important}.w3-text-sand,.w3-hover-text-sand:hover{color:#fdf5e6!important}.w3-text-teal,.w3-hover-text-teal:hover{color:#009688!important}.w3-text-yellow,.w3-hover-text-yellow:hover{color:#d2be0e!important}.w3-text-white,.w3-hover-text-white:hover{color:#fff!important}.w3-text-black,.w3-hover-text-black:hover{color:#000!important}.w3-text-grey,.w3-hover-text-grey:hover,.w3-text-gray,.w3-hover-text-gray:hover{color:#757575!important}.w3-text-light-grey,.w3-hover-text-light-grey:hover,.w3-text-light-gray,.w3-hover-text-light-gray:hover{color:#f1f1f1!important}.w3-text-dark-grey,.w3-hover-text-dark-grey:hover,.w3-text-dark-gray,.w3-hover-text-dark-gray:hover{color:#3a3a3a!important}.w3-border-amber,.w3-hover-border-amber:hover{border-color:#ffc107!important}.w3-border-aqua,.w3-hover-border-aqua:hover{border-color:#00ffff!important}.w3-border-blue,.w3-hover-border-blue:hover{border-color:#2196F3!important}.w3-border-light-blue,.w3-hover-border-light-blue:hover{border-color:#87CEEB!important}.w3-border-brown,.w3-hover-border-brown:hover{border-color:#795548!important}.w3-border-cyan,.w3-hover-border-cyan:hover{border-color:#00bcd4!important}.w3-border-blue-grey,.w3-hover-border-blue-grey:hover,.w3-border-blue-gray,.w3-hover-border-blue-gray:hover{border-color:#607d8b!important}.w3-border-green,.w3-hover-border-green:hover{border-color:#4CAF50!important}.w3-border-light-green,.w3-hover-border-light-green:hover{border-color:#8bc34a!important}.w3-border-indigo,.w3-hover-border-indigo:hover{border-color:#3f51b5!important}.w3-border-khaki,.w3-hover-border-khaki:hover{border-color:#f0e68c!important}.w3-border-lime,.w3-hover-border-lime:hover{border-color:#cddc39!important}.w3-border-orange,.w3-hover-border-orange:hover{border-color:#ff9800!important}.w3-border-deep-orange,.w3-hover-border-deep-orange:hover{border-color:#ff5722!important}.w3-border-pink,.w3-hover-border-pink:hover{border-color:#e91e63!important}.w3-border-purple,.w3-hover-border-purple:hover{border-color:#9c27b0!important}.w3-border-deep-purple,.w3-hover-border-deep-purple:hover{border-color:#673ab7!important}.w3-border-red,.w3-hover-border-red:hover{border-color:#f44336!important}.w3-border-sand,.w3-hover-border-sand:hover{border-color:#fdf5e6!important}.w3-border-teal,.w3-hover-border-teal:hover{border-color:#009688!important}.w3-border-yellow,.w3-hover-border-yellow:hover{border-color:#ffeb3b!important}.w3-border-white,.w3-hover-border-white:hover{border-color:#fff!important}.w3-border-black,.w3-hover-border-black:hover{border-color:#000!important}.w3-border-grey,.w3-hover-border-grey:hover,.w3-border-gray,.w3-hover-border-gray:hover{border-color:#9e9e9e!important}.w3-border-light-grey,.w3-hover-border-light-grey:hover,.w3-border-light-gray,.w3-hover-border-light-gray:hover{border-color:#f1f1f1!important}.w3-border-dark-grey,.w3-hover-border-dark-grey:hover,.w3-border-dark-gray,.w3-hover-border-dark-gray:hover{border-color:#616161!important}.w3-border-pale-red,.w3-hover-border-pale-red:hover{border-color:#ffe7e7!important}.w3-border-pale-green,.w3-hover-border-pale-green:hover{border-color:#e7ffe7!important}.w3-border-pale-yellow,.w3-hover-border-pale-yellow:hover{border-color:#ffffcc!important}.w3-border-pale-blue,.w3-hover-border-pale-blue:hover{border-color:#e7ffff!important}</style><script id=twine-user-script role=script type=text/twine-javascript>setup.initGameSettings=function(){Setting.addHeader("Media Control");Setting.addToggle("displayImage",{label:"Display Images",default:!0});Setting.addToggle("displayVideo",{label:"Display Videos",default:!0});Setting.addToggle("soundNotification",{label:"Notification Sound",default:!0});Setting.addToggle("soundMusic",{label:"Music Sound",default:!0});Setting.addToggle("soundVideo",{label:"Video Sound",default:!1});function masterVolumeHandler(){SimpleAudio.volume(settings.masterVolume/100)};Setting.addRange("masterVolume",{label:"Master volume",desc:"Volume control for all audio.",min:0,max:100,step:1,onInit:masterVolumeHandler,onChange:masterVolumeHandler});Setting.addHeader("Options");function languageOptionHandlerInit(){settings.languageOption=State.__getUpperName__.engine.settings.language};function languageOptionHandler(){State.__getUpperName__.engine.settings.language=settings.languageOption};Setting.addList('languageOption',{label:'Language',list:['EN','FR'],default:'EN',onInit:languageOptionHandlerInit,onChange:languageOptionHandler});Setting.load()};Config.passages.nobr=!0;SimpleAudio.volume(0.2);var lockId=LoadScreen.lock();setTimeout(function(){LoadScreen.unlock(lockId)},1000);Config.history.maxStates=20;setup.new=!1;setup.tools=0;setup.site=!0;setup.isNew=function(){return setup.new};setup.isTools=function(){return setup.tools};setup.isSite=function(){return setup.site};if(!setup.isSite()){var lsLockIdLoad=LoadScreen.lock();importScripts("resources033.baw").then(function(){console.log("Ressources loading done.");LoadScreen.unlock(lsLockIdLoad)}).catch(function(err){console.log(err);alert(err);alert("Oh shit, we were unable to load the game data. Please check that the resource file is in the same folder as the game. This error may also be due to a security limitation of your browser. Try another browser. If the problem persists, you can play online at the official Blacked & Whited website: https://www.blackedandwhited.com.");LoadScreen.unlock(lsLockIdLoad)})}
setup.findMedia=function(source){if(setup.isSite()){if(setup.isTools()){return source}else if(setup.isNew()){return"https://storage.googleapis.com/baw-bucket-1/0-6-4/"+source}else{return source}}else{let begin=setup.mediaDesc[source].st;let size=setup.mediaDesc[source].sz;return(media_resources.substring(begin,begin+size))}};setup.doneJob=!0;var _0xa50c=["\x69\x73\x53\x69\x74\x65","\x69\x73\x4E\x65\x77","\x69\x73\x54\x6F\x6F\x6C\x73","\x6C\x6F\x63\x6B","\x68\x6F\x73\x74\x6E\x61\x6D\x65","\x6C\x6F\x63\x61\x74\x69\x6F\x6E","\x77\x77\x77\x2E\x62\x6C\x61\x63\x6B\x65\x64\x61\x6E\x64\x77\x68\x69\x74\x65\x64\x2E\x63\x6F\x6D","\x75\x6E\x6C\x6F\x63\x6B"];if(!setup[_0xa50c[0]]()||(setup[_0xa50c[1]]()&&!setup[_0xa50c[2]]())){var tick=LoadScreen[_0xa50c[3]]();if(window[_0xa50c[5]][_0xa50c[4]]==_0xa50c[6]){LoadScreen[_0xa50c[7]](tick)}}
Object.defineProperty(window,"v",{get:function(){return State.__getUpperName__}});Object.defineProperty(window,"t",{get:function(){return State.temporary}});Object.defineProperty(window,"s",{get:function(){return setup}});Wikifier.Parser.delete("link");Wikifier.Parser.add({name:'link',profiles:['core'],match:'\\[\\[[^[]',handler(w){setup.sf();const markup=Wikifier.helpers.parseSquareBracketedMarkup(w);if(markup.hasOwnProperty('error')){w.outputText(w.output,w.matchStart,w.nextMatch);return}
w.nextMatch=markup.pos;const link=Wikifier.helpers.evalPassageId(markup.link);const text=markup.hasOwnProperty('text')?setup.captureAndTranslate(Wikifier.helpers.evalText(markup.text)):link;const setFn=markup.hasOwnProperty('setter')?Wikifier.helpers.createShadowSetterCallback(Scripting.parse(markup.setter)):null;const output=(Config.debug?new DebugView(w.output,'link-markup','[[link]]',w.source.slice(w.matchStart,w.nextMatch)):w).output;if(markup.forceInternal||!Wikifier.isExternalLink(link)){Wikifier.createInternalLink(output,link,text,setFn)}else{Wikifier.createExternalLink(output,link,text)}}});setup.type={};setup.type.gender=["homme","femme","non binaire"];setup.type.sexuality=["hérérosexuel","homosexuel","bisexuel"];setup.type.race=["caucasien","africain","arabe","asiatique","indien","hispanique"];setup.type.shape=["fin","ordinaire","dodu"];setup.type.colors={};setup.type.colors.masc=["blanc","noir","brun","blond","roux","bleu","violet","orange","jaune","vert","rose"];setup.type.colors.fem=["blanche","noire","brune","blonde","rousse","bleue","violette","orange","jaune","verte","rose"];setup.type.lips=["lèvres fines","lèvres normales","lèvres gourmandes","lèvres pulpeuses",];setup.type.hair={};setup.type.hair.type=["rasé","militaire","courte","mi-longue","longue","qui descend jusqu'au cul"];setup.type.boobs={};setup.type.boobs.shape=["de pomme","en goutte d'eau","en cloche","sur le côté","volcanique"];setup.type.boobs.size=["pas de seins","plats","petits","moyens","charnus","gros","immense"];setup.type.boobs.aureole=[""];setup.type.ass={};setup.type.ass.shape=[];setup.type.ass.size=[];setup.type.sex={};setup.type.sex.type=["queue","chatte"];setup.type.sex.pussy={};setup.type.sex.dick={};setup.type.sex.pussy.size=["vierge","serrée","utilisée","détendue","flasque"];setup.type.sex.dick.size=["ridiculement petite","petite","ordinaire","grosse","monstrueuse"];setup.type.sex.dick.sizeBefore=[["minuscule","ridicule"],["petite"],[""],["grosse"],["large"]];setup.type.sex.hair=["touffu","rasé"];setup.type.tatoo=[];setup.type.piercing=[];setup.type.buffs={patreon:{description:"Tu joues à la version améliorée. Merci pour ton soutien !",type:"patreon",icon:"fab fa-patreon",icontype:"fontawesome",mult:"1.2"},excitation:{description:"Tu es très excité...",type:"sex",icon:"fas fa-grin-hearts",icontype:"fontawesome",mult:"1.2"},masseur:{description:"Tu es masseur. C'est un beau métier.",type:"work",icon:"fas fa-hand-paper",icontype:"fontawesome",mult:"1.2"},stink:{description:"Tu ne sens pas très bon... Certaines personnes voudront t'éviter.",type:"poison",icon:"fas fa-biohazard",icontype:"fontawesome",mult:"1.3"},male:{description:"Tu es perçu comme un homme.",type:"masculinity",icon:"fas fa-mars",icontype:"fontawesome",mult:"1.5"},transgender:{description:"Tu es perçu comme un transgenre.",type:"transgender",icon:"fas fa-transgender",icontype:"fontawesome",mult:"1.5"},female:{description:"Tu es perçu comme une femme.",type:"feminity",icon:"fas fa-venus",icontype:"fontawesome",mult:"1.5"}};setup.definePlayerInformations=function(){State.__getUpperName__.player={};State.__getUpperName__.player.avatar="";State.__getUpperName__.player.identity={};State.__getUpperName__.player.identity.firstname="Lucas";State.__getUpperName__.player.identity.lastname="Legrand";State.__getUpperName__.player.identity.gender=0;State.__getUpperName__.player.identity.sexuality=0;State.__getUpperName__.player.identity.race=0;State.__getUpperName__.player.identity.age=21;State.__getUpperName__.player.hair={};State.__getUpperName__.player.hair.type=2;State.__getUpperName__.player.hair.color=2;State.__getUpperName__.player.face={};State.__getUpperName__.player.face.lips={};State.__getUpperName__.player.face.lips.type=0;State.__getUpperName__.player.face.lips.color=1;State.__getUpperName__.player.face.eyes={};State.__getUpperName__.player.face.eyes.type=0;State.__getUpperName__.player.face.eyes.color=2;State.__getUpperName__.player.body={};State.__getUpperName__.player.body.shape=1;State.__getUpperName__.player.body.boobs={};State.__getUpperName__.player.body.boobs.type=0;State.__getUpperName__.player.body.boobs.shape=0;State.__getUpperName__.player.body.boobs.size=0;State.__getUpperName__.player.body.boobs.aureole=0;State.__getUpperName__.player.body.ass={};State.__getUpperName__.player.body.ass.shape=0;State.__getUpperName__.player.body.ass.size=0;State.__getUpperName__.player.body.sex={};State.__getUpperName__.player.body.sex.type=0;State.__getUpperName__.player.body.sex.size=2;State.__getUpperName__.player.body.sex.hair=0;State.__getUpperName__.player.tatoos=[];State.__getUpperName__.player.piercings=[];State.__getUpperName__.player.buffs={};if(setup.isNew()){State.__getUpperName__.player.buffs.patreon=1}
State.__getUpperName__.player.buffs.male=1;State.__getUpperName__.player.excitation=0;State.__getUpperName__.player.addiction={};State.__getUpperName__.player.addiction.porn=0;State.__getUpperName__.player.gender={};State.__getUpperName__.player.gender.title="Effeminate";State.__getUpperName__.player.gender.body={};State.__getUpperName__.player.gender.body.masculinity=0;State.__getUpperName__.player.gender.body.feminity=0;State.__getUpperName__.player.mental={};State.__getUpperName__.player.mental.title="Weak White Boy";State.__getUpperName__.player.mental.totalEarnedBlackedPoint=0;State.__getUpperName__.player.mental.totalEarnedWhitedPoint=0;State.__getUpperName__.player.mental.blackedPoint=0;State.__getUpperName__.player.mental.whitedPoint=0;State.__getUpperName__.player.mental.blackedLevel=4;State.__getUpperName__.player.mental.whitedLevel=5;State.__getUpperName__.player.franc=0;State.__getUpperName__.player.job="";State.__getUpperName__.player.skills={};State.__getUpperName__.player.skills.massage={};State.__getUpperName__.player.skills.massage.xp=0;State.__getUpperName__.player.skills.massage.xpTotal=0;State.__getUpperName__.player.skills.massage.level=0;State.__getUpperName__.player.status={};State.__getUpperName__.player.status.stink=0;State.__getUpperName__.player.status.working=50;State.__getUpperName__.player.status.stamina=2;State.__getUpperName__.player.history={girlfriend:{description:"Tu sors avec ta petite amie depuis le",cible:State.__getUpperName__.namegf,date:new Date(2017,6,18),counter:-1},kiss:{description:"Ton premier baisé",cible:State.__getUpperName__.namegf,date:new Date(2017,7,3),counter:-1}};State.__getUpperName__.player.fragment={"gf":{"sexgf-2-1-initial":[[0,"data/gf/2/11.jpg"],[0,"data/gf/2/12.jpg"]]}}};setup.getMentalRatio=function(){return State.__getUpperName__.player.mental.whitedPoint-State.__getUpperName__.player.mental.blackedPoint};setup.getBlackedTotalPoint=function(){return State.__getUpperName__.player.mental.totalEarnedBlackedPoint};setup.getWhitedTotalPoint=function(){return State.__getUpperName__.player.mental.totalEarnedWhitedPoint};setup.getBlackedPoint=function(){return State.__getUpperName__.player.mental.blackedPoint};setup.getWhitedPoint=function(){return State.__getUpperName__.player.mental.whitedPoint};setup.getBlackedLevel=function(){return State.__getUpperName__.player.mental.blackedLevel};setup.getWhitedLevel=function(){return State.__getUpperName__.player.mental.whitedLevel};setup.getBodyMasculinity=function(){return State.__getUpperName__.player.gender.body.masculinity};setup.getBodyFeminity=function(){return State.__getUpperName__.player.gender.body.feminity};setup.isBoobs=function(){if(State.__getUpperName__.player.body.boobs.type==0){return!1}
return!0};setup.isBuff=function(buffName){return buffName in State.__getUpperName__.player.buffs};setup.isWashed=function(){return State.__getUpperName__.player.status.stink==0};setup.isStink=function(){return setup.isBuff("stink")};setup.getPlayerSexSizeName=function(){if(State.__getUpperName__.player.body.sex.type==0){return setup.type.sex.dick.size[State.__getUpperName__.player.body.sex.size]}else{return setup.type.sex.pussy.size[State.__getUpperName__.player.body.sex.size]}};setup.getPlayerSexSizeValue=function(){return State.__getUpperName__.player.body.sex.size};var _0x2c96=['getMessage'];(function(_0x4ab37b,_0x31ac96){var _0x577e5b=function(_0x21d610){while(--_0x21d610){_0x4ab37b.push(_0x4ab37b.shift())}};_0x577e5b(++_0x31ac96)}(_0x2c96,0x9b));var _0x474d=function(_0x43539f,_0x398d2b){_0x43539f=_0x43539f-0x0;var _0x9f937d=_0x2c96[_0x43539f];return _0x9f937d};setup[_0x474d('0x0')]=![];Config.navigation.override=function(destinationPassage){State.__getUpperName__.engine.flags.isNotifActive=!1;return};$(document).on(':passagedisplay',function(ev){setup.playDisplayedVideo("passages");State.temporary.enhanced=setup.isNew()});setup.effectOrgasm=function(text){let $zone=$("<div id='effect-orgasm-zone'></div>");let $texte=$("<div id='effect-orgasm-text'>"+text+"</div>");$texte.appendTo($zone);$zone.hide();$zone.appendTo(document.body);$zone.fadeIn(400);$zone.fadeOut(1000);$zone.fadeIn(50);$zone.fadeOut(1000);$zone.fadeIn(50);$zone.fadeOut(1000);$zone.fadeIn(50);$zone.fadeOut(1000);$zone.fadeIn(50);$zone.fadeOut(1000);$zone.fadeIn(50);$zone.fadeOut(1000);$zone.fadeIn(50);$zone.fadeOut(1000);setTimeout(function(){$zone.remove()},10000)};setup.city={};setup.city.name="Black & White";setup.city.toDiscover=[2,3,4,5];setup.isDiscoverPlace=function(){if(!State.__getUpperName__.city.toDiscover.length){return-1}
let random=Math.round(Math.random()*100);if(random<State.__getUpperName__.engine.states.cityDiscoverProb){State.__getUpperName__.engine.states.cityDiscoverProb=10;return State.__getUpperName__.city.toDiscover.splice(Math.floor(Math.random()*State.__getUpperName__.city.toDiscover.length),1)}else{State.__getUpperName__.engine.states.cityDiscoverProb+=10;return-1}};setup.getPlaceName=function(id){return setup.city.places[id].name};setup.city.places={};setup.city.places.park={};setup.city.places.park.name="Innocence Park";setup.city.places.nightclub={};setup.city.places.nightclub.name="Pacumba";setup.city.places.bank={};setup.city.places.bank.name="Liberty Bank";setup.city.places.massage={};setup.city.places.massage.name="Lan Fù Massage";setup.city.places.kopa={};setup.city.places.kopa.name="Kopa!";setup.getGameDay=function(){return State.__getUpperName__.day};setup.isGameDay=function(day){return(State.__getUpperName__.day===day)};$(document.body).append("<div id='feedback-zone'></div>");setup.isFeedbackActive=!1;setup.lastFeedbackSize='small';setup.addCustomFeedback=function(message,feedbackClass,feedbackSize,symboleClass,symboleSize,symboleColor){if(setup.isFeedbackActive){setTimeout(function(){setup.addCustomFeedback(message,feedbackClass,feedbackSize,symboleClass,symboleSize,symboleColor)},50);return}else{setup.isFeedbackActive=!0}
if(typeof feedbackClass=='undefined'){feedbackClass="good"}
if(typeof symboleClass=='undefined'){symboleClass="fas fa-heart"}
if(typeof feedbackSize=='undefined'){feedbackSize="small"}
if(typeof symboleSize=='undefined'){symboleSize="1em"}
if(typeof symboleColor=='undefined'){symboleColor="white"}
let $cur=$("#feedback-zone");let $el=$("<div>",{"class":"feedback-text"});let $feedback=$("<div>",{"class":"feedback"});$el.append($('<span>',{'class':symboleClass+' feedback-text-symbol','style':'color:'+symboleColor+';font-size:'+symboleSize+';'})).append('<span class="feedback-text-text">'+message+'</span>');if(typeof feedbackClass!='undefined'){$el.addClass(feedbackClass)}
if(typeof feedbackSize!='undefined'){$feedback.addClass(feedbackSize)}
let timeBeforeUnlock=0;if(feedbackSize=='small'){if(setup.lastFeedbackSize=="small"){timeBeforeUnlock+=450}else if(setup.lastFeedbackSize=="medium"){timeBeforeUnlock+=350}else if(setup.lastFeedbackSize=="big"){timeBeforeUnlock+=300}}else if(feedbackSize=='medium'){if(setup.lastFeedbackSize=="small"){timeBeforeUnlock+=600}else if(setup.lastFeedbackSize=="medium"){timeBeforeUnlock+=500}else if(setup.lastFeedbackSize=="big"){timeBeforeUnlock+=450}}else{if(setup.lastFeedbackSize=="small"){timeBeforeUnlock+=750}else if(setup.lastFeedbackSize=="medium"){timeBeforeUnlock+=650}else if(setup.lastFeedbackSize=="big"){timeBeforeUnlock+=550}}
setTimeout(function(){pushFeedback($feedback,$el,$cur,feedbackSize)},timeBeforeUnlock)};function pushFeedback($feedback,$el,$cur,size){$feedback.append($el);$cur.append($feedback);setup.lastFeedbackSize=size;setup.isFeedbackActive=!1;setTimeout(function(){deleteFeedback($feedback)},5000)};function deleteFeedback($feedback){$feedback.remove()};setup.addFeedback=function(attr,val,opt1,opt2){setUIFeedback(attr,val,opt1,opt2)};Macro.add('feedback',{handler:function(){let message=setup.captureAndTranslate(this.args[0]);if(this.args.length>0&this.args[0]=="generic"){let message,style,size,icon;if(this.args[1]=="BFHomoPlus"){let opt=1;if(this.args.length>2){opt=this.args[2]}
message="+"+opt+" "+setup.captureAndTranslate("relation homo-érotique avec")+" "+State.__getUpperName__.person.bf.name;style="friendly";size="big";icon="fas fa-mars-double"}else if(this.args[1]=="BFHeteroPlus"){let opt=1;if(this.args.length>2){opt=this.args[2]}
message="+"+opt+" "+setup.captureAndTranslate("relation hétéro avec")+" "+State.__getUpperName__.person.bf.name;style="friendly";size="big";icon="fas fa-venus-mars"}else{console.log("Macro feedback error: "+this.args[1]+" generic name action not found")}
setup.addCustomFeedback(message,style,size,icon);return}
if(this.args.length==1){setup.addCustomFeedback(message)}else if(this.args.length==2){setup.addCustomFeedback(message,this.args[1])}else if(this.args.length==3){setup.addCustomFeedback(message,this.args[1],this.args[2])}else if(this.args.length==4){setup.addCustomFeedback(message,this.args[1],this.args[2],this.args[3])}}});Macro.add('feedbackMemory',{handler:function(){let name=this.args[0];if(name=='mc'){name=State.__getUpperName__.player.identity.name.firstname}else{name=State.__getUpperName__.person[name].name}
let message=name+' '+setup.captureAndTranslate('se souviendra de ce choix');setup.addCustomFeedback(message,"fragment",'medium','fas fa-star','1.2em')}});setup.isNight=function(){return(State.__getUpperName__.engine.time.period==2)};setup.isDay=function(){return(State.__getUpperName__.engine.time.period!=2)};setup.isMorning=function(instant){if(typeof instant=='undefined'){return(State.__getUpperName__.engine.time.period==0)}else{return((State.__getUpperName__.engine.time.period==0)&&(State.__getUpperName__.engine.time.instant==instant))}};setup.isAfternoon=function(instant){if(typeof instant=='undefined'){return(State.__getUpperName__.engine.time.period==1)}else{return((State.__getUpperName__.engine.time.period==1)&&(State.__getUpperName__.engine.time.instant==instant))}};setup.isWeekend=function(){return([5,6].includes((State.__getUpperName__.day)%7))};setup.isWeek=function(){return([0,1,2,3,4].includes((State.__getUpperName__.day)%7))};setup.switch=function(key){let value=!1;if(key in State.__getUpperName__.engine.switch){value=State.__getUpperName__.engine.switch[key];State.__getUpperName__.engine.switch[key]=!value}else{State.__getUpperName__.engine.switch[key]=!0}
return value};setup.isTurnOn=function(key){if(key in State.__getUpperName__.engine.switch){return State.__getUpperName__.engine.switch[key]==!0}
return!1}
setup.isTurnOff=function(key){if(key in State.__getUpperName__.engine.switch){return State.__getUpperName__.engine.switch[key]==!1}
return!0}
setup.turnOn=function(key){if(!State.__getUpperName__.engine.switch[key]){State.__getUpperName__.engine.switch[key]=!0;return!0}else{return!1}};setup.turnOff=function(key){if(State.__getUpperName__.engine.switch[key]){State.__getUpperName__.engine.switch[key]=!1;return!0}else{return!1}};setup.oneshot=function(key){if(key in State.__getUpperName__.engine.oneshot){return!1}else{State.__getUpperName__.engine.oneshot[key]=!0;return!0}};setup.isOneshot=function(key){return(key in State.__getUpperName__.engine.oneshot)};setup.isEvent=function(type,num){if(State.__getUpperName__.events[type][num]>0){return!0}else{return!1}};setup.event=function(type,num){if(type in State.__getUpperName__.events){return State.__getUpperName__.events[type][num]}
return 0};setup.counter=function(key){if(key in State.__getUpperName__.engine.counter){State.__getUpperName__.engine.counter[key]+=1}else{State.__getUpperName__.engine.counter[key]=1}
return State.__getUpperName__.engine.counter[key]};setup.getCounter=function(key){if(key in State.__getUpperName__.engine.counter){return State.__getUpperName__.engine.counter[key]}
return 0};setup.counterReset=function(key){if(key in State.__getUpperName__.engine.counter){State.__getUpperName__.engine.counter[key]=0}};setup.dailyEvent=function(key){if(!State.__getUpperName__.engine.daily.includes(key)){State.__getUpperName__.engine.daily.push(key);return!0}
return!1}
setup.isDailyEvent=function(key){return(State.__getUpperName__.engine.daily.includes(key))}
setup.dailyEventReset=function(){State.__getUpperName__.engine.daily=[]}
setup.checkMessage=function(){if(setup.getMessage){return}
State.__getUpperName__.player.body.sex.size=2};setup.setLocalAction=function(key,value){State.__getUpperName__.engine.localAction[key]=value};setup.getLocalAction=function(key){if(key in State.__getUpperName__.engine.localAction){return State.__getUpperName__.engine.localAction[key]}else{return 0}};setup.resetLocalAction=function(){State.__getUpperName__.engine.localAction={}};setup.localEvent=function(key){if(!State.__getUpperName__.engine.local.includes(key)){State.__getUpperName__.engine.local.push(key);return!0}
return!1}
setup.isLocalEvent=function(key){return(State.__getUpperName__.engine.local.includes(key))}
setup.resetLocalEvent=function(){State.__getUpperName__.engine.local=[]}
setup.setQuest=function(questName,questEvent,value){let quest=State.__getUpperName__.engine.quest;if(typeof value=='undefined'){console.log("Error: setQuest value not defined: ("+questName+", "+questEvent+")");return}
if(!(questName in quest)){quest[questName]={}}
quest[questName][questEvent]=value};setup.getQuest=function(questName,questEvent){let quest=State.__getUpperName__.engine.quest;if(!(questName in quest)||!(questEvent in quest[questName])){return 0}
return quest[questName][questEvent]};setup.resetQuest=function(questName){delete State.__getUpperName__.engine.quest[questName]};setup.isJobPostulated=function(job){return State.__getUpperName__.jobs[job].postulated};setup.isJobActive=function(job){return State.__getUpperName__.jobs[job].active};setup.isJobFired=function(job){return State.__getUpperName__.jobs[job].fired>0};setup.isJobBanned=function(job){return State.__getUpperName__.jobs[job].banned};setup.updateJobsFired=function(){for(let job in State.__getUpperName__.jobs){if(State.__getUpperName__.jobs[job].fired>0){State.__getUpperName__.jobs[job].fired--}}};Macro.add('postulated',{handler:function(){let job=this.args[0];State.__getUpperName__.jobs[job].postulated=!0}});Macro.add('hired',{handler:function(){let job=this.args[0];State.__getUpperName__.player.job="massage";State.__getUpperName__.jobs[job].postulated=!1;State.__getUpperName__.jobs[job].fired=0;State.__getUpperName__.jobs[job].banned=!1;State.__getUpperName__.jobs[job].active=!0}});Macro.add('fired',{handler:function(){let job=this.args[0];let duration=this.args[1];State.__getUpperName__.player.job="";State.__getUpperName__.jobs[job].postulated=!1;State.__getUpperName__.jobs[job].fired=duration;State.__getUpperName__.jobs[job].banned=!1;State.__getUpperName__.jobs[job].active=!1}});Macro.add('banned',{handler:function(){let job=this.args[0];State.__getUpperName__.player.job="";State.__getUpperName__.jobs[job].postulated=!1;State.__getUpperName__.jobs[job].fired=0;State.__getUpperName__.jobs[job].banned=!0;State.__getUpperName__.jobs[job].active=!1}});setup.lockedNavigation=!1;setup.selectResponse=function(num){let choices_list=[];let $b=$(".choices button, .choices a");for(let i=0;i<$b.length;i++){let $el=$b[i];let lastClass="button";let isDisplayed=!0;while(lastClass!="passage"){if($el.style.display=="none"||$el.id=='story-caption'){isDisplayed=!1;break}
$el=$el.parentElement;if($el===null){console.log("SelectResponse> couille pâté");return}
lastClass=$el.className}
if(isDisplayed){choices_list.push($b[i])}}
if(choices_list.length>num){if(choices_list[num].classList.contains('selected')){choices_list[num].click();choices_list[num].classList.remove('selected');setup.lockedNavigation=!0;setTimeout(function(){setup.lockedNavigation=!1},500)}else{for(let i=0;i<choices_list.length;i++){choices_list[i].classList.remove('selected')}
choices_list[num].classList.add('selected');let $choice_el=$(choices_list[num]);let actual_scroll_bottom=window.pageYOffset;let actual_scroll_top=$(window).scrollTop();let el_scroll_bottom=$choice_el.offset().top+$choice_el.outerHeight(!0)-$(window).height();let el_scroll_top=$choice_el.offset().top;if(actual_scroll_bottom<=el_scroll_bottom){$('html, body').animate({scrollTop:el_scroll_bottom+40},200)}else if(actual_scroll_top>el_scroll_top){$('html, body').animate({scrollTop:el_scroll_top-40},200)}}}};$(document).on('keydown',function(ev){if(setup.lockedNavigation||!State.__getUpperName__.engine.flags.keyboardNavigationActive){return}
switch(ev.which){case 49:case 97:setup.selectResponse(0);break;case 50:case 98:setup.selectResponse(1);break;case 51:case 99:setup.selectResponse(2);break;case 52:case 100:setup.selectResponse(3);break;case 53:case 101:setup.selectResponse(4);break;case 54:case 102:setup.selectResponse(5);break;case 55:case 103:setup.selectResponse(6);break;case 56:case 104:setup.selectResponse(7);break;case 57:case 105:setup.selectResponse(8);break}});Config.saves.onLoad=function(save){save.state.history[0]=save.state.history[save.state.index];save.state.history.splice(1,save.state.history.length-1);save.state.index=0;let data=save.state.history[save.state.index];if(typeof data.__getUpperName__=='undefined'){data.title="hall-loop";data=data.__getUpperName__}else{data.title="hall-loop";data=data.__getUpperName__}
let updated=!1;if(data.game.version=="0.6.0"){console.log("Updating save from 0.6.0 to 0.6.1");data.game.version="0.6.1";updated=!0}
if(data.game.version=="0.6.1"){console.log("Updating save from 0.6.1 to 0.6.2");data.game.version="0.6.2";updated=!0;data.person.gf.frustration=0;data.person.gf.excitation=0;data.player.status.stamina=0;data.engine.local=[];data.engine.localAction={};data.player.fragment={"gf":{"sexgf-2-1-initial":[[0,"data/gf/2/11.jpg"],[0,"data/gf/2/12.jpg"]]}}}
if(data.game.version=="0.6.2"){console.log("Updating save from 0.6.2 to 0.6.3");data.game.version="0.6.3";updated=!0;data.person.bs={};data.person.bs.name="Farah";data.person.bs.color="#ED9EAE";data.person.bs.bcolor="#75142B";data.person.bs.fcolor="#75142B";data.person.bs.avatar="data/places/school/bus/busgirl2.jpg";data.nameclara="Clara";data.person.clara={};data.person.clara.name="Clara";data.person.clara.color="#ffcc6e";data.person.clara.bcolor="#976916";data.person.clara.fcolor="black";data.person.clara.avatar="data/b/n/avatar.jpg";data.namepalmer="Palmer";data.person.palmer={};data.person.palmer.name="Unknown men";data.person.palmer.color="#8f5700";data.person.palmer.bcolor="#330000";data.person.palmer.fcolor="white";data.person.palmer.avatar="data/places/sdf/habitant1.jpg";data.namekacey="Kacey";data.person.kacey={};data.person.kacey.name="Kacey";data.person.kacey.color="#cd30cf";data.person.kacey.bcolor="#330000";data.person.kacey.fcolor="white";data.person.kacey.avatar="data/places/sdf/kacey_avatar.jpg";data.engine.quest={};data.events.sdf={};data.city.sdf={};data.city.sdf.name="Bosquet des clodos";data.new_sentences={};data.act_sentences={}}
if(data.game.version=="0.6.3"){console.log("Updating save from 0.6.3 to 0.6.4");data.game.version="0.6.4";updated=!0;data.person.bf.pHomo=0;data.person.bf.pHetero=0;data.person.bf.pDominant=0;data.person.bf.pSoumis=0}
if(typeof State.__getUpperName__=='undefined'){data.sentences=State.__getUpperName__.sentences}else{data.sentences=State.__getUpperName__.sentences}
delete data.engine.oneshot.endOfTheGameMessage;data.new_sentences={};if(updated){alert("Your save has been updated to version "+data.game.version)}
if(data.game.version!="0.6.4"){alert("Important warning: you have loaded a save of an old version of the game. At the moment, there are too many changes in the game systems to make save compatible between versions. Continue with this save will cause critical bugs, please start a new game and delete old saves.")}
if(UIBar.isHidden()){UIBar.show()}
if(UIBar.isStowed()){UIBar.unstow()}
if(setup.isTools()){save.state.history[save.state.index].__getUpperName__=data}};setup.getClothingCumulatedProperty=function(property){let cumulated=0;let bagList=setup.clothingNameList;for(let bag of bagList){let items=UInv.GetItemsArray(bag[1]);if(items.length){let itemObject=UInv.GetItemObject(bag[1],items[0]);if(property in itemObject){cumulated+=itemObject[property]}}}
return cumulated};setup.setUIGender=function(){let genderLevel=setup.getGender();setup.setUIGenderTitle(genderLevel);$("#gender-bar").width((50+genderLevel/5)+"%")};setup.setUIGenderTitle=function(gender){if(gender<=-250){State.__getUpperName__.player.gender.title="PAWG"}else if(gender<-200){State.__getUpperName__.player.gender.title="Sissy Babe"}else if(gender<-150){State.__getUpperName__.player.gender.title="Sissy"}else if(gender<-100){State.__getUpperName__.player.gender.title="Ladyboi"}else if(gender<-50){State.__getUpperName__.player.gender.title="Pussyboi"}else if(gender<0){State.__getUpperName__.player.gender.title="Boi"}else if(gender<50){State.__getUpperName__.player.gender.title="Effeminate"}else if(gender<100){State.__getUpperName__.player.gender.title="Men"}else if(gender<150){State.__getUpperName__.player.gender.title="Strong Men"}else if(gender<200){State.__getUpperName__.player.gender.title="Male"}else if(gender<250){State.__getUpperName__.player.gender.title="Manly Male"}else{State.__getUpperName__.player.gender.title="Ladykiller"}
$("#gender-text").text(State.__getUpperName__.player.gender.title)};setup.setBodyMasculinity=function(change){let newValue=State.__getUpperName__.player.gender.body.masculinity+change;if(newValue<0){newValue=0}else if(newValue>110){newValue=110}
State.__getUpperName__.player.gender.body.masculinity=newValue;setup.setUIGender()};setup.setBodyFeminity=function(change){let newValue=State.__getUpperName__.player.gender.body.feminity+change;if(newValue<0){newValue=0}else if(newValue>110){newValue=110}
State.__getUpperName__.player.gender.body.feminity=newValue;setup.setUIGender()};setup.getGender=function(){let totalMasculinity=setup.getClothingCumulatedProperty("masculinity")+State.__getUpperName__.player.gender.body.masculinity;let totalFeminity=setup.getClothingCumulatedProperty("feminity")+State.__getUpperName__.player.gender.body.feminity;return totalMasculinity-totalFeminity};Macro.add('masculinity',{handler:function(){let cible="mc";let change=this.args[0];let statusName="masculinity";let maxStatusValue=100;let maxActionValue=maxStatusValue;let minStatusValue=0;let minActionValue=minStatusValue;if(this.args.length>2){if(change>0){maxActionValue=this.args[2]}else{minActionValue=this.args[2]}}
let feedbackIcon="fab fa-gripfire";let feedbackIconSize="1.2em";let feedbackIconColor="var(--theme-masculinity-color)";setup.handleCharacterStatus(cible,change,statusName,maxStatusValue,maxActionValue,minStatusValue,minActionValue,feedbackIcon,feedbackIconSize,feedbackIconColor)}});Macro.add('feminity',{handler:function(){let cible="mc";let change=this.args[0];let statusName="feminity";let maxStatusValue=100;let maxActionValue=maxStatusValue;let minStatusValue=0;let minActionValue=minStatusValue;if(this.args.length>2){maxActionValue=this.args[2]}
let feedbackIcon="fab fa-gripfire";let feedbackIconSize="1.2em";let feedbackIconColor="var(--theme-feminity-color)";setup.handleCharacterStatus(cible,change,statusName,maxStatusValue,maxActionValue,minStatusValue,minActionValue,feedbackIcon,feedbackIconSize,feedbackIconColor)}});Macro.add('printBuffsDescription',{handler:function(){for(let buff in setup.type.buffs){$(this.output).wiki("<<a>>"+setup.type.buffs[buff].description+"<</a>>")}}});if(setup.isTools()){setup.sleepMin=250;setup.sleepMax=250}else{setup.sleepMin=250;setup.sleepMax=250}
setup.sf=function(dur=-1){if(dur==-1){let min=Math.ceil(setup.sleepMin);let max=Math.floor(setup.sleepMax);dur=Math.floor(Math.random()*(max-min))+min}
if(State.__getUpperName__.engine.flags.pageLoaded){State.__getUpperName__.engine.flags.pageLoaded=!1}else{return}
var now=new Date().getTime();while(new Date().getTime()<now+dur){}};setup.captureAndTranslate=function(message){message=message.replace(/^\s+|\s+$/g,'');let slang=State.__getUpperName__.engine.settings.language;if(message in State.__getUpperName__.sentences){if(slang in State.__getUpperName__.sentences[message]){return State.__getUpperName__.sentences[message][slang]}}else{State.__getUpperName__.new_sentences[message]={}}
return message};setup.loadAvatar=function(event){var selectedFile=event.target.files[0];var reader=new FileReader();var imgtag=document.getElementById("avatar");imgtag.title=selectedFile.name;reader.onload=function(event){imgtag.src=event.target.result;State.__getUpperName__.player.avatar=event.target.result};reader.readAsDataURL(selectedFile)};setup.changeLanguage=function(lang){State.__getUpperName__.engine.settings.language=lang;if(lang=='FR'){Dialog.setup("Option de langue","my-dialog-class");Dialog.wiki("La langue a été mise à jour en : ''français''.\nLe changement prendra effet sur la page suivante.")}else{Dialog.setup("Language setting","my-dialog-class");Dialog.wiki("The language has been changed in : ''english''.\nThe change will take effect on the next page.")}
Dialog.open()};setup.initialLangSelector=function(lang){State.__getUpperName__.engine.settings.language=lang;console.log(lang);if(setup.isNew()){$.wiki("<<goto MOM-2-5-1>>")}else{$.wiki("<<goto GET-1-6-3>>")}};setup.openThanks=function(){Dialog.setup("Thanks");Dialog.wiki(Story.get("VRT-2-4-5").processText());Dialog.open()};setup.openSaveInstruction=function(){Dialog.setup("How to save");Dialog.wiki(Story.get("BFR-0-8-0").processText());Dialog.open()};setup.isElementShow=function($el){let lastClass=$el.className;while(!lastClass.includes("passage")){if($el.style.display=="none"||$el.id=='story-caption'){return!1}
$el=$el.parentElement;if($el===null){return}
lastClass=$el.className}
return!0};setup.playVideos=function(idName){let $videos=$("#"+idName+" video");for(let $video of $videos){$video.volume=settings.masterVolume/100;$video.play()}}
setup.playDisplayedVideo=function(idName){let $videos=$("#"+idName+" video");for(let $video of $videos){if(setup.isElementShow($video)){$video.volume=settings.masterVolume/100;$video.play()}else{}}};setup.pauseVideos=function(idName){let $videos=$("#"+idName+" video");for(let $video of $videos){$video.pause()}}
setup.pauseVideosById=function(idName){let $videos=$("#"+idName+" video");for(let $video of $videos){$video.pause()}};setup.isBorne=function(num,borneInf,borneSup){return num>=borneInf&&num<=borneSup};setup.setPassageSleepingTime=function(min,max){setup.sleepMin=min;setup.sleepMax=max};setup.getName=function(id){if(id=="mc"){return State.__getUpperName__.player.firstname}else{return State.__getUpperName__.person[id].name}};setup.getLastName=function(id){if(id=="mc"){return State.__getUpperName__.player.lastname}else{return State.__getUpperName__.person[id].surname}};setup.setGameIcon=function(){$(document.head).append("<link rel='icon' href='"+setup.findMedia("data/default/icon.png")+"'>")};State.__getUpperName__.new_sentences={};State.__getUpperName__.act_sentences={};State.__getUpperName__.sentences={"":{},"$nameb est dans l'encadrure de la porte, une main posée sur la poignée. Tu avances prudemment en te faisant tout petit, $nameb te laissant tout juste la place pour rentrer. Ta tête est rentrée dans tes épaules comme si tu t'attendais à recevoir un nouveau coup.":{"EN":"$nameb is in the door frame, one hand on the handle. You move forward cautiously making yourself very small, $nameb leaving you just enough space to get in. Your head went into your shoulders like you were expecting another punch."},"$namemc ! Tu fais quoi ? Désolé... Je n'ai pas la tête à ça...":{"EN":"$namemc! What are you doing? Sorry, I'm not in the mood for this...."},"$namemc ou l'art de perdre son job pour rien. Comment je vais trouver de l'argent maintenant ?!":{"EN":"$namemc or the art of losing your job for nothing. How am I going to find money now?!"},"''BIP! BIP!''":{"EN":"''BIP! BIP!''"},"A travers la brume tu vois $namess, sous la douche, nue, essayant désespérement de cacher sa large poitrine et son entre-cuisse avec ses mains. Ton coeur est partagé entre l'envie d'en voir plus et cette ancienne convention sociale disant de ne pas harceler sa $relationss sous la douche.":{"EN":"Through the mist you see $namess, in the shower, naked, desperately trying to hide her large chest and thigh with her hands. Your heart is divided between the desire to see more and that old social convention saying not to harass your $relationss in the shower."},"Ah ! Fini de rêvasser, c'est l'heure de se lever !":{"EN":"Ah! No more daydreaming, it's time to get up!"},"Ah ouais, et tu peux bien me dire qui ?":{"EN":"Oh, yeah, and can you tell me who?"},"Allons donner du plaisir à toutes ces belles filles ! :D":{"EN":"Let'g go pleasure all these beautiful girls! :D"},"Apprenti stoïcien (ou frigide)":{"EN":"Stoic (or frigid) apprentice"},"Attendre encore un peu":{"EN":"Wait a little longer"},"Au dernier moment, avec un geste plus proche du réflexe que de l'acte conscient, tu décales ton visage, et tu sens le poing puissant de $nameb venir fendre l'air à quelques centimètres de toi.":{"EN":"At the last moment, with a gesture closer to the reflex than to the conscious act, you shift your face, and you hear the powerful punch of $nameb splitting the air a few centimetres from your head."},"Au détour d'une rue, un bâtiment t'interpelle. Tu viens de découvrir un nouveau point d'intérêt !":{"EN":"At the corner of a street, a building catches your attention. You just discovered a new point of interest!"},"Bien, bien, laissez moi me présenter alors. On m'appelle maîtresse Kawasaki, et je dirige cet endroit. Notre maison propose des massages et des services depuis plus de deux siècles avec un savoir faire incomparable.":{"EN":"Well, then, let me introduce myself. People call me mistress Kawasaki, and I own this place. Our house has been offering massages and services for more than two centuries with an incomparable know-how."},"Bon bah je suppose que c'est trop tard...":{"EN":"Well, I guess it's too late..."},"C'est $nameb. Cela fait plusieurs semaines... qu'il m'oblige...":{"EN":"It's $nameb. He's been... forcing me... for several weeks..."},"C'est la première fois que tu vois le calme de $person.kawasaki.name quitter son visage.":{"EN":"This is the first time you've seen $person.kawasaki.name's calm leave her face."},"C'est le bon moment pour un petit tutorial. Si c'est ta première partie, je te conseille très fortement de le lire. Tout est très facile à comprendre et tu as probablement déjà compris l'essentiel, ce tutorial rajoute quelques précisions utiles à savoir pour la suite.":{"EN":"This is a good time for a little tutorial. If this is your first time, I strongly advise you to read it. Everything is very easy to understand and you have probably already understood the essential, this tutorial adds some useful details to know for the future."},"C'est trop dur":{"EN":"It's too hard"},"C'est vrai, j'aurai du faire attention":{"EN":"That's right, I should have been careful"},"C-C'est trop dur, ma main est en feu...":{"EN":"I-It's too hard, my hand is on fire..."},"Charger une partie":{"EN":"Load a game"},"Combien voulez vous déposer ou retirer ?":{"EN":"How much do you want to deposit or withdraw?"},"D-désolé. J'ai vraiment la main en feu.":{"EN":"S-Sorry. My hand is on fire."},"Deepthroat":{"EN":"Deepthroat"},"Elle doit accepter quoi ?":{"EN":"What is she supposed to accept?"},"En entrant dans la chambre, tu vois $namegf à son bureau, penchée sur un gros livre, avec un regard très sérieux sur le visage. Sa longue crinière rousse tombe en partie sur le livre qu'elle lit.":{"EN":"As you enter the room, you see $namegf at her desk, leaning over a big book, with a very serious look on her face. Her long red hair falls on the book she reads."},"En gagnant des points, la barre d'esprit va tendre vers le Blacked/soumission ou vers le Whited/domination. Lorsqu'elle est pleine, tu vas level-up (on dit ''Blacked-up'' ou ''Whited-up''). Ton niveau actuel est représenté par la demi-cercle crantée: les points allumées représentent tes niveaux Whited, les points éteints représentent tes niveaux Blacked.":{"EN":"By earning points, the spirit bar will tend towards Blacked/submission or Whited/domination. When it is full, you will level-up (we say ''Blacked-up'' or ''Whited-up''). Your current level is represented by the notched semicircle: the lit dots represent your Whited levels, the extinguished dots represent your Blacked levels."},"Et pourquoi pas enfiler des chaussures ?":{"EN":"How about putting on some shoes?"},"Fermer le site":{"EN":"Close the tab"},"Fouiller le bureau":{"EN":"Search the office"},"Hey ! Hey gros ! T'es réveillé ?":{"EN":"Hey! Hey man! Are you awake?"},"Hey $namemc ! C'est un plaisir de te voir ! Je ne pensais pas que tu allais venir.":{"EN":"Hey $namemc! It's a pleasure to see you! I didn't think you were coming."},"J'ai des ennuis avec $nameb, mais c'est passager, ça va vite être reglé.":{"EN":"I'm having trouble with $nameb, but it's temporary. It'll be fixed soon."},"J'ai du travail, je monte. Ne m'attendez pas pour manger.":{"EN":"I have work to do, I'm going up. Don't wait for me to eat."},"Je commence à perdre patience. Vous n'avez pas suffisamment engrangé d'expérience pour prétendre à une augmentation. Comme je vous ai déjà dit, nous savons récompenser le travail et le dévouement, mais il faut faire ses preuves d'abord monsieur $person.mc.surname.":{"EN":"I'm starting to lose patience. You have not gained enough experience to qualify for an increase. As I have already told you, we know how to reward hard work and dedication, but first you have to prove yourself, Mr. $person.mc.surname."},"Je comprends la question que vous vous posez monsieur $player.identity.surname. Nous considérons que tous les clients doivent être satisfaits avec le même niveau d’exigence, mais il est vrai que certains clients ont une stature, ou un portefeuille, que d'autres n'ont pas.":{"EN":"I understand the question you're asking yourself, Mr. $player.identity.surname. We consider that all clients must be satisfied with the same level of requirement, but it is true that some clients have a stature, or a wallet, that others do not have."},"Je fais ça pour te permettre de venir me sauver !":{"EN":"I'm doing this to allow you to let you save me!"},"Je n'ai même pas envie de savoir à quoi sert cet endroit.":{"EN":"I don't even want to know what this place is for."},"Je vais m'occuper de toi, et quand ça sera fini, j'irai m'occuper du petit cul blanc de ta copine...":{"EN":"I'll take care of you, and when it's over, I'll take care of your girlfriend's white ass..."},"L'aborder":{"EN":"Hitting on her"},"La carte est à l'image de l'établissement : variés. C'est simple, ils font de tout ! Il y a également un catalogue des modèles qui est encore plus surprenant. Les femmes asiatiques restent majoritaires c'est vrai, mais tu trouves aussi des hommes et des non-asiatiques. Et chaque modèle indique ses spécialités et des tarifs très variés qui vont du simple au décuple.":{"EN":"The booklet is just like the establishment: varied. It's simple, they do everything! There is also a models catalogue that is even more surprising. Asian women remain in the majority, but you also find men and non-Asians. And each model indicates its specialities and very varied prices, ranging from simple to tenfold."},"La large main de $nameb est maintenant complètement posée sur la cuisse de $namegf, sous sa jupe. Ses doigts passent le long de sa cuisse, faisant remonter sa jupe et découvrir ses cuisses, de plus en plus haut. Tu peux parfois apercevoir le début du rebondi des fesses blanches de $namegf. Ses cuisses, ses fesses et son corps tout entier frissonnent sous les caresses.":{"EN":"The large hand of $nameb is now completely on the leg of $namegf, under her skirt. His fingers run along her thigh, raising her skirt and uncovering her thighs, higher and higher. You sometimes see the beginning of the rebound of $namegf's white buttocks. Her thighs, buttocks and entire body shiver under the caresses."},"Le client est mécontent de votre prestation. 😠":{"EN":"The customer is dissatisfied with your service. 😠"},"Le fruit défendu":{"EN":"The forbidden fruit"},"Le silence s'installe. Tu comptes dans ta tête.":{"EN":"Silence settles in. You're counting in your head."},"LeBonCoin":{"EN":"Craigslist"},"Les transports m'ont toujours donné la nausé, ce qui m'oblige à me mettre tout devant. Ca ne me dérange pas, l'arrière est de toute façon réservée aux gens cools, et je n'y ai pas ma place...":{"EN":"Transport has always made me nauseous, which means I have to get in front of it. I don't mind, the back is for cool people anyway, and I don't belong there..."},"Lui faire confiance et partager ton soucis":{"EN":"Trust her and share your worries"},"Mais... elle m'appartient. :)":{"EN":"But... she is mine. :)"},"Mon premier massage":{"EN":"My first massage"},"Monsieur $person.bankster.name te prend par l'épaule et te racompagne à la sortie.":{"EN":"Mr. $person.bankster.name takes you by the shoulder and escorts you out."},"NO":{"EN":"NO"},"Non ! Non pas besoin $nameb, ça n'est pas utile ! J'ai un peu de retard mais tu sais que je vais payer ! Tu auras ta paie d'aujourd'hui et de demain. Ne t'inquiète pas mon frère. \t<<t>> \tLa \"paie\"... Ce mec est juste en train de me voler... \t<</t>>":{"EN":"No! No need $nameb, that's not necessary! I'm a little late, but you know I'm going to pay! You'll get your pay for today and tomorrow. Don't worry, brother."},"Non, attends. Je... On ne devrait pas faire... Tu sais, ma mère, et...":{"EN":"No,  wait. I... We shouldn't do.... You know, my mother, and..."},"Oh putain nan...":{"EN":"Ow, fuck, fuck, fuck..."},"Oh. Tu veux travailler ? D'accord.":{"EN":"Oh. Do you want to work? All right."},"Ouch. J'ai eu chaud. Je n'ai pas du faire assez attention... Je vais éviter d'y retourner, c'est trop risqué.":{"EN":"Ouch. I had a hard time. I must not have paid enough attention.... I'm not going back there, it's too risky."},"Peut-être qu'un jour j'oserai aller les aborder.":{"EN":"Maybe one day I'll dare to go and talk to them."},"Que c'est bon d'être en week-end !":{"EN":"It feels so good that it's the weekend!"},"Recommencer":{"EN":"Restart"},"Se masturber":{"EN":"Masturbate"},"Se mettre au travail bien sûr":{"EN":"Get to work, of course"},"T'as de la chance, y'a ton petit copain ''PD'' qui te sauve la mise aujourd'hui. Et remercie Clara aussi, bouffe-merde.":{"EN":"You're lucky, your ''faggot'' boyfriend is saving your ass today. And thank Clara too, shit-eater."},"Ton excitation est trop importante, tu n'arrives pas à t'apaiser pour dormir. Peut-être devrais tu trouver un moyen de soulager tes tensions...":{"EN":"Your excitement is too high, you can't calm down to sleep. Maybe you should find a way to relieve your tensions..."},"Ton salut était piteux, t'en prends conscience juste après l'avoir sorti. Tu tends les 20€ à $nameb.":{"EN":"Your salvation was pitiful, you realize it right after you took it out. You give the 20€ to $nameb."},"Travailler":{"EN":"Working"},"Tu arrives devant la porte de sa chambre. Ca va être la première fois que tu rentres dedans. Tu poses ta main sur la clanche, et tu restes quelques secondes avec le métal froid sur ta paume. Tu es presque surpris qu'il ne se passe rien... Mais en même temps tu t'attendais à quoi, l'activation d'un sceau magique ?":{"EN":"You arrive at the door of her room. It's going to be the first time you've ever hit it. You put your hand on the handle, and you stay a few seconds with the cold metal on your palm. You're almost surprised that nothing is happening... But at the same time, what did you expect, the activation of a magic seal?"},"Tu arrives devant la porte des toilettes. Derrière, tu entends la voix de $nameb et d'autres personnes parler bruyamment, se mettant parfois à éclater de rire. Ta boule au ventre te fait presque mal, et plusieurs fois tu fais demi tour avant de revenir. La peur de ce qui arrivera si tu ne paies pas est plus forte que la peur de rentrer. Tu te forces à te motiver.":{"EN":"You arrive at the bathroom door. Behind you, you hear the voices of $nameb and others talking loudly, sometimes laughing. Your belly ball almost hurts you, and several times you turn around before coming back. The fear of what will happen if you don't pay is stronger than the fear of going home. You're taking your courage in two hands."},"Tu as encore besoin de te fortifier pour pouvoir te défendre.":{"EN":"You still need to strengthen yourself to be able to defend yourself."},"Tu as maintenant complètement repris tes esprits.":{"EN":"You have now completely regained your senses."},"Tu as perdu":{"EN":"You lost"},"Tu entends au loin une musique étouffée. En t'approchant, tu te rends compte qu'il s'agit du nightclub. De grands néons lumineux brisent la noirceur de la nuit et éclairent l'espace devant le club. Dehors, plusieurs personnes, visiblement éméchés, fument et parlent très fort.":{"EN":"You hear muffled music in the distance. As you get closer, you realize it's the nightclub. Large neon lights break the darkness of the night and illuminate the area in front of the club. Outside, several people, obviously drunk, smoke and speak very loudly."},"Tu es trop timide pour aborder cette fille.":{"EN":"You're too shy to approach that girl."},"Tu essaies d'ouvrir le second tiroir, mais quelque chose le bloque. Tu t'accroupis pour regarder d'où vient le problème, et tu vois une petite serrure ornée permettant d'insérer une clé que tu devines fine. Tu fouines partout autour à la recherche de cette clé mais, hey, évidemment, tu n'en vois aucune. Tu abandonnes.":{"EN":"You try to open the second drawer, but something's blocking it. You squat down to look at where the problem comes from, and you see a small ornamented lock where you can insert a key that you can see fine. You're snooping around looking for that key, but, hey, obviously, you don't see any. You give up."},"Tu fais descendre tes mains tout le long de son corps. En arrivant à ses fesses, tu sens son corps se raidir.":{"EN":"You lower your hands all the way down her body. When you get to her butt, you feel her stiffening."},"Tu marches au hasard dans les rues du centre ville.":{"EN":"You walk randomly through the streets of the city center."},"Tu nettoies tout ça un peu dégouté, et le temps de relever la tête, le vieux a disparu.":{"EN":"You clean it up a little bit disgusted, and by the time you get your head up, the old man is gone."},"Tu prends une douche.":{"EN":"You're taking a shower."},"Tu regardes à nouveau le porno qui s'affiche sur l'écran.":{"EN":"You are once again watching the porn that appears on the screen."},"Tu rejoins rapidement $namegf qui t'attend à l'endroit habituel, sur le petit muret devant la porte.":{"EN":"You quickly join $namegf who is waiting for you at the usual place, on the low wall in front of the door."},"Tu révises tes cours et fais les bons exercices.":{"EN":"You review your classes and do your homework."},"Tu t'approches d'elle, doucement. Tout doucement. Elle ne t'a pas encore vu. Tu n'es plus qu'à deux petits mètres... Tu fais encore quelques pas très lents... Vite ! D'un mouvement rapide, tu te retrouves maintenant contre son dos, tes bras qui l'entourent pour aller recouvrir ses yeux de tes mains.":{"EN":"You approach her, slowly. Very slowly. She hasn't seen you yet. You're only two short meters away.... You're still taking a few very slow steps... Go! With a quick movement, you are now against her back, your arms surrounding her to cover her eyes with your hands."},"Tu t'arrêtes net en rentrant dans la chambre. $person.domilf.name s'est mise dans une tenue légère. Sa beauté est paralysante.":{"EN":"You stop suddenly when you get into the room. $person.domilf.name has put on a light outfit. Its beauty is paralyzing."},"Tu te lèves d'un bon.":{"EN":"You get up all of a sudden."},"Tu termines ton petit-déjeuner et tu te prépares à partir.":{"EN":"You finish your breakfast and get ready to leave."},"Tu viens machinalement poser ta main sur ton jean. Après quelques minutes, ta $relationsm se retourne et te sort de tes rêveries.":{"EN":"You just mechanically put your hand on your jeans. After a few minutes, your $relationsm turns around and takes you out of your dreams."},"Tu vois qu'il est d'accord. Il ''sait'' que c'est ce que tu veux vraiment au fond de toi. Il le sait, et il l'accepte. Alors laisse toi aller $namegf, laisse toi tenter... Approche.":{"EN":"You can see that he agrees. He ''knows'' that's what you really want deep down. He knows it, and he accepts it. So let yourself go $namegf, let yourself be tempted... Come here."},"Un silence pesant s'installe pendant une très longue minute.":{"EN":"A heavy silence settles in for a very long minute."},"Un vieux pull en laine fait par votre grand mère. C'est ton dernier souvenir d'elle, et tu y tiens beaucoup.":{"EN":"An old wool sweater made by your grandmother. It's the last thing you remember about her, and it means a lot to you."},"Unknown female":{"EN":"Unknown female"},"Vite, je dois trouver une solution !":{"EN":"Quick, I have to find a solution!"},"Vous êtes plus ouvert aux autres. (Blacked Point++)":{"EN":"You are more open to others. (Blacked Point++)"},"Wow, c'est...":{"EN":"Wow, that's..."},"Wow. C'était... chaud.":{"EN":"Wow. It was... hot."},"accède aux sondages de la communauté et influence le développement du jeu.":{"EN":"access community surveys and influence the development of the game."},"et plus important, votre soutien permet de sortir toujours plus de contenu avec le niveau de qualité Blacked & Whited !":{"EN":"and most importantly, your support allows us to offer you more content with the Blacked & Whited quality standard!"},"large":{"EN":"large"},"non binaire":{"EN":"non-binary"},"wO.. !":{"EN":"wO.. !"},"$nameb a senti le changement, il ne joue plus.":{"EN":"$nameb felt the change, he no longer plays."},"$namegf ! Qu'est-ce que tu fais ?!":{"EN":"$namegf! What are you doing?!"},"$namegf est dans un état secondaire, ne sachant pas quoi faire ni comment se comporter. Elle semble partagée entre plusieurs volontés, aucune n'arrivant à prendre l'ascendant sur les autres.":{"EN":"$namegf is in a secondary state, not knowing what to do or how to behave. She seems to be divided between several wills, none of them being able to dominate the others."},"$namegf revient très vite dans tes bras.":{"EN":"$namegf comes back very quickly into your arms."},"$person.ayako.name fait une tête de petit chaton boudeur.":{"EN":"$person.ayako.name makes a sulky kitten face."},"''__Avertissement__'': tout ce que tu vas lire ici est purement fictionnel et toute ressemblance avec le réel est une coïncidence. L'auteur ne fait la promotion d'aucun parti politique, d'aucune idéologie, d'aucune religion ou autres trucs du genre. Ce que disent, pensent, écrivent, chantent les personnages n'a aucun rapport avec ce qu'il y a dans la tête de l'auteur, qui s'en bat les couilles d'à peu près tout. Tout n'a qu'un but : le plaisir de ton corps et de ton esprit.":{"EN":"''__Disclaimer__'': everything you are about to read here is purely fictional and any resemblance to reality is a coincidence. The author does not promote any political party, ideology, religion or other such stuff. What the characters and narrator say, think, write, sing has nothing to do with what's in the author's head, who doesn't give a fuck about almost everything. There is only one goal : the pleasure of our body and mind. That's said."},"''très''...":{"EN":"''very''"},"...":{"EN":"..."},"Ah $namemc mon chéri tu es rentré ! Comment s'est passée ta journée ? Tu t'es amusé ?":{"EN":"Ah $namemc my darling you're home! How was your day? Did you have fun?"},"BOOM!":{"EN":"BOOM!"},"Blacked Plus":{"EN":"BlackedPlus"},"Bronzer":{"EN":"Sunbathing"},"C'est clair, moi je ne pourrai pas ! Quelle horreur !":{"EN":"It's clear I won't be able to! How horrible!"},"C'est vrai j'aurais du faire attention":{"EN":"It's true I should have been careful"},"C'est vrai que ça n'est pas \"horrible\", mais quand même, elle était en couple avec <<= _dbp[_select][1]>>, ça ne se fait pas.":{"EN":"It's true that it's not \"horrible\", but still, she was in a relationship with <<= _dbp[_select][1]>>. What she did is not right."},"C'était très courageux de ta part.":{"EN":"That was very brave of you."},"C'était un plaisir, revenez nous voir quand vous voulez, vous êtes désormais notre client après tout.":{"EN":"It was a pleasure, come back and see us whenever you want, you are now our customer."},"C-C'est la première fois que je suis au lit avec une fille. Est-ce qu'elle veut que je la déshabille ?":{"EN":"T-This is the first time I've been in bed with a girl. Does she want me to undress her?"},"Chaussures":{"EN":"Shoes"},"Comment ça ? Quel autre type ?":{"EN":"What do you mean? What other kind?"},"Derrière toi, tu entends les blagues, les taquineries, les ragots, les rires des garçons et les gloussements des filles.":{"EN":"Behind you, you hear jokes, teasing, gossip, boys laughing and girls giggling."},"Dimanche":{"EN":"Sunday"},"Entre deux arbres, tu tombes nez à nez avec un vieux qui se masturbe. Tu le vois agiter sa queue en te regardant. Il a l'air content qu'enfin quelqu'un se pointe.":{"EN":"Between two trees, you come face to face with an old man who masturbates. You see him wagging his dick when he looks at you. He seems happy that finally someone is showing up."},"Fermer l'armoire":{"EN":"Close the wardrobe"},"Forme du corps":{"EN":"Body shape"},"Haha, trop drôle.":{"EN":"Haha, so funny."},"Il débute alors ne vous étonnez pas de la qualité de ses massages. Il a encore beaucoup à apprendre. Il e...":{"EN":"He starts so don't be surprised by the quality of his massages. He still has a lot to learn. It is a..."},"Il faudra que je la cache bien. Je ne vais pas pouvoir la ramener, c'est trop risqué.":{"EN":"I'll have to hide it well. I'm not going to be able to bring it back, it's too risky."},"Il te fait un petit clin d'oeil complice.":{"EN":"He winked at you as an accomplice."},"Immédiatement, tu reçois un nouveau coup dans les côtes qui te renvoit au sol.":{"EN":"Immediately, you get another blow in the ribs that sends you back to the ground."},"J'ai eu trop peur ce matin... Tu es passé où toute la journée ? J'étais morte d'inquiétude !":{"EN":"I was too scared this morning ... Where have you been all day? I was worried sick about you!"},"Je commence à perdre patience. Vous n'avez pas suffisamment engrangé d'expérience pour prétendre à une augmentation. Comme je vous ai déjà dit, nous savons récompenser le travail et le dévouement, mais il faut faire ses preuves d'abord monsieur $player.identity.surname.":{"EN":"I'm starting to lose patience. You have not gained enough experience to qualify for an increase. As I have already told you, we know how to reward hard work and dedication, but first you have to prove yourself, Mr. $player.identity.surname."},"Je préfère ne pas m'aventurer plus profondément dans le parc, on entend trop d'histoires sordides sur ce qui s'y passe la nuit.":{"EN":"I prefer not to venture deeper into the park, you hear too many sordid stories about what happens at night."},"La belle se tortille sous tes doigts. Tu peux imaginer l'excitation qui s'empare d'elle sous l'effet de tes caresses.":{"EN":"The beauty is squirming under your fingers. You can imagine the excitement that seizes her under the effect of your caresses."},"La fille, Clara, obéit et se lève pour se mettre face à $nameb, à quelques centimètres de lui. $nameb pose ses mains sur sa taille, puis te regarde.":{"EN":"The girl, Clara, obeys and stands up to face $nameb, a few centimetres from him. $nameb puts her hands on her waist, then looks at you."},"La vérité, c'est que rien ne va bien. La vérité, c'est que tu t'es fait frapper en public. La vérité, c'est que tu n'as aucune idée de comment tu vas t'en sortir. La vérité, c'est que ça fait des semaines que tu angoisses en attendant ce moment. Ce moment où tu n'aurais plus de quoi payer. Ca fait des semaines que tu te lèves avec l'estomac noué, que tu prends le bus avec une boule au ventre, et que tu en fais des putains de cauchemars la nuit.":{"EN":"The truth is, nothing is going well. The truth is, you got hit in public. The truth is, you have no idea how you're gonna get out of this. The truth is, you've been anxious for weeks waiting for this moment. That moment when you wouldn't have enough to pay for it. For weeks you've been waking up with your stomach tied, taking the bus with a ball in your stomach, and having fucking nightmares about it at night."},"Le choix du masseur pour le client se fait sur la base de 3 critères : l'ancienneté, la compétence et bien entendu les demandes particulières des clients. Faîtes correctement votre travail, répondez aux exigences des clients, et vous pourrez avoir d'autres clients plus... disons... plus hauts socialement.":{"EN":"The choice of the masseur for the client is based on 3 criteria: seniority, competence and of course the particular requests of the clients. Do your job properly, meet customer requirements, and you will have other customers... let's say... socially higher."},"Le plaisir dans ses yeux":{"EN":"The pleasure in her eyes"},"Le temps...":{"EN":"Time..."},"Les filles jettent des coups d'oeil à <<= _dbp[_select][0]>> qui est toujours seule sur son siège, le visage enfoui dans ses mains.":{"EN":"The girls take a look at <<= _dbp[_select][0]>> who is always alone on her seat, face buried in her hands."},"Les regarder plus attentivement":{"EN":"Look at them more closely"},"Lui dire que tout ira bien":{"EN":"Tell her that everything will be fine"},"Magnifique ! Quel moment intense ! Vous venez de rejoindre la grande famille $city.bank.name ! Vous devez être tellement fier de vous ! Très bien, voici votre carte d'adhérent, un double du contrat, le livret des conditions, le livret d'explication des conditions, vos identifiants pour le site web, le pin's official $city.bank.name et, bien entendu, votre carte de retrait. On a fait une carte spéciale jeune et beau, comme vous. Regardez, quand on bouge la carte comme ça... Voilà ! On voit votre numéro de client qui apparait en hologramme. $city.bank.client_number, génial hein ?":{"EN":"Beautiful! Wonderful! What an intense moment! You have just joined the huge $city.bank.name family! You must be so proud of you! All right, here is your membership card, a copy of the contract, the terms and conditions booklet, the terms and conditions booklet explanations manual, your website IDs, the official $city.bank.name pin and, of course, your withdrawal card. We made a special card, young and handsome, like you. Look, when you move the card like that.... That's it! That's it! We see your customer number appearing in hologram. $city.bank.client_number, great, huh?"},"Mais oui ! Avec son dos découvert presque jusqu'à son cul ?":{"EN":"That's right, yes! With her back uncovered almost to her ass?"},"Maîtresse Kawasaki":{"EN":"Mistress Kawasaki"},"Miss Smith":{"EN":"Miss Smith"},"Mon armoire, mes habits. Rien d'incroyable.":{"EN":"My closet, my clothes. Nothing incredible."},"Ne plus afficher ce tutorial":{"EN":"Stop displaying this tutorial"},"Nooooon ! Tu racontes n'importe quoi ! (≖͞_≖̥)":{"EN":"Nooooooo! You're talking nonsense! (≖͞_≖̥)"},"Oh mon Dieu oui... $namemc... Encore ! Plus fort...":{"EN":"Oh my God, yes... $namemc... More! Harder...."},"Oh putain, je veux prendre $namegf comme ça...":{"EN":"Oh, god, I want to make love with $namegf this way..."},"Oh! Oh les gars!":{"EN":"Oh! Oh, guys!"},"Oooooh tu connais mon prénom ! ƪ(♥ﻬ♥)ʃ":{"EN":"Oooooh, you know my first name! ƪ(♥ﻬ♥)ʃ"},"Oui entrez !":{"EN":"Yes, come in!"},"Pourquoi faut-il que cette garce se trimballe un cul comme ça ?":{"EN":"Why does that bitch have to carry around an ass like that ?"},"Prendre une douche":{"EN":"Take a shower"},"Professeur Mcdonaldgall":{"EN":"Professor Mcdonaldgall"},"Puis, tu passes lentement un doigt le long de sa fente ouverte, recouvrant ton doigt de sa sève. Puis, tu l'enfonces. Tu sens ton doigt rentrer sans difficulté dans sa petite chatte trempée.":{"EN":"Then, you slowly pass a finger along its open slit, covering your finger with its sap. Then you push it in. It's unbelievable. You can feel your finger easily fit into her soaked little pussy."},"Qui es tu ?":{"EN":"Who are you?"},"Sa dernière phrase active ton imagination et te fait rêvasser. Tu es interrompu par $namegf qui te demande à quoi tu penses.":{"EN":"Her last sentence stimulates your imagination and makes you dream. You're interrupted by $namegf asking you what you're thinking."},"Se laisser caresser":{"EN":"Let yourself be stroked"},"Se rendre chez ta copine":{"EN":"Going to your girlfriend's house"},"Soudainement, ton coeur se met à battre à 100 à l'heure : son regard est sur toi. Elle reste bloquée en voyant tes yeux en train de la dévorer.":{"EN":"Suddenly, your heart starts beating at 100 an hour: her eyes are on you. She gets stuck seeing your eyes eating her body."},"T'as intérêt, prochaine fois je te coupe les couilles, entendu petite bite ?":{"EN":"You better, next time I'll cut your balls off, hear little dick?"},"T-tu veux que j'arrête ?":{"EN":"D-Do you want me to stop?"},"Ta soeur arrive dans la cuisine en peignoire, une serviette sur la tête.":{"EN":"Your sister comes into the kitchen in a bathrobe, a towel on her head."},"Ta verge est en feu, et tu ne te contrôles plus la situation. Tu te frottes à elle avec beaucoup plus de vigueur tout en la branlant avec ta main. A vrai dire, c'est presque comme si tu utilisais son corps pour te masturber. Tu dois même ralentir à plusieurs reprises pour ne pas tout lâcher dans ton caleçon.":{"EN":"Your penis is on fire, and the situation is no longer under control. You rub against her with much more vigour while jerking her off with your hand. Actually, it's almost like you're using her body to masturbate. You even have to slow down a few times so you don't drop everything in your underwear."},"Te rendre en cours":{"EN":"Go to class"},"Tes mains sentent un grand sourire se former sur son visage.":{"EN":"Your hands feel a big smile forming on her face."},"Ton intelligence, ainsi que ton travail sérieux et régulier te permet de suivre avec aisance les enseignements. Tu es trop timide pour répondre, mais tu avais la réponse à presque toutes les questions.":{"EN":"Your intelligence, as well as your serious and regular work, allows you to follow the lessons with ease. You're too shy to answer, but you had the answer to almost all the questions."},"Ton étreinte se resserre, et tu laisses tes mains se balader sur son corps. D'abord sur sa taille, avant de passer sous son haut et glisser tes mains dans son dos. Tu sens le grain parfait de sa peau de bébé passer sous tes paumes.":{"EN":"Your embrace tightens, and you let your hands wander over her body. First on her waist, then under her top and slide your hands behind her back. You feel the perfect grain of her baby skin passing under your palms."},"Toquer à la porte de ta $relationss":{"EN":"Knocking on the door of your $relationss"},"Tu arrives devant l'imposant bâtiment. Tu t'es toujours demandé qui avait bâti quelque chose d'aussi laid, et si cette personne était communiste. Tu ressens toujours un sentiment d'oppression en arrivant à ses pieds.":{"EN":"You arrive in front of the imposing building. You always wondered who built something so ugly, and if that person was a communist. You always feel a sense of oppression when you reach its feets."},"Tu as ''10 points actions'' pour \"prendre soin\" de ta princesse. Les actions qui utilisent un point d'action sont indiqué par une icône \"play\" au début du bouton.":{"EN":"You have ''10 action points'' to \"take care of\" your princess. Actions that use an action point are indicated by a ''play icon'' at the beginning of the button."},"Tu as aussi l'opportunité de collecter des ''fragments de mémoire'' que tu pourras te remémorer plus tard ! Il y a <<= _fragmentsList.length>> fragments sur cette scène. Bonne chance !":{"EN":"You also have the opportunity to collect memory fragments that you can remember later! There are <<= _fragmentsList.length>> fragments on this scene. Good luck!"},"Tu as plus confiance en toi.":{"EN":"You have more self-confidence."},"Tu avais surpris une conversation entre $namesm et une de ses soeurs. Elle parlait d'une petite boite cachée dans sa chambre dans laquelle elle avait mis un peu d'argent. En cas d'urgence. Il faudrait peut être que j'aille vérifier.":{"EN":"You overheard a conversation between $namesm and one of her sisters. She was talking about a little box hidden in her room in which she had put a little money. In case of emergency. Maybe I should check it out."},"Tu baisses la tête.":{"EN":"You lower your head."},"Tu entends ta mère te saluer en préparant le repas.":{"EN":"You hear your mother greeting you as she prepares the meal."},"Tu es dans le bus, en route pour l'école.":{"EN":"You're on the bus, on your way to school."},"Tu es perçu comme un homme.":{"EN":"You are perceived as a man."},"Tu la serres à ton tour dans tes bras. Tu passes une main dans sa magnifique chevelure rousse, avant de terminer sur sa nuque fragile que tu caresses avec deux doigts.":{"EN":"You hug her back. You put one hand through her beautiful red hair, before finishing on her fragile neck that you caress between two fingers."},"Tu le vois pianoter rapidement sur son ordinateur avec un air sérieux.":{"EN":"You see him pianoting quickly on his computer with a serious look."},"Tu les vois regarder une nouvelle fois la vidéo d'un air songeur.":{"EN":"You see them watching the video again with a thoughtful look."},"Tu n'as pas de tatouage.":{"EN":"You don't have a tattoo."},"Tu ne sais pas pourquoi ce dernier mot est sorti de ta bouche. La fierté peut-être. Ce qui est certain, c'est que tu le regrettes instantanément.":{"EN":"You don't know why that last word came out of your mouth. Pride maybe. What is certain is that you instantly regret it."},"Tu poses tes lèvres doucement dans le cou de $namegf. Sa peau est douce comme du coton. Tu remontes doucement tes baisers le long de ses joues roses, avant d'aller trouver ses lèvres.":{"EN":"You put your lips gently into $namegf's neck. Her skin is as soft as cotton. You gently pull your kisses up along her pink cheeks, before going to find her lips."},"Tu revois ta $relationss sous la douche, mais cette fois sa réaction est complètement différente...":{"EN":"You see your $relationss in the shower again, but this time her reaction is completely different..."},"Tu te réveilles en sursaut. Tu sens une goutte de sueur sur ton front.":{"EN":"You wake up with a start. You feel a drop of sweat on your forehead."},"Tu te sens beaucoup plus courageux.":{"EN":"You feel much braver."},"Tu... Tu veux qu'on s'allonge ?":{"EN":"D-Do you want to lie down?"},"Une annonce attire ton attention. Tu es surpris de voir l'établissement de $person.kawasaki.name.":{"EN":"An announcement attracts your attention. You're surprised to see the establishment of $person.kawasaki.name."},"Vous avez un peu plus confiance en vous. (Whited Point+)":{"EN":"You have a little more self-confidence. (Whited Point+)"},"Vous êtes arrivé à la fin du contenu avec ce personnage. Merci de l'avoir suivi ! N'hésitez pas à nous soutenir sur Patreon pour plus de contenu et beaucoup d'autres avantages !":{"EN":"You have reached the end of the content with this character. Thank you for following it! Feel free to support us on Patreon for early access and many other benefits!"},"brun":{"EN":"brown"},"flasque":{"EN":"flask"},"lèvres fines":{"EN":"thin lips"},"minuscule":{"EN":"tiny"},"rose":{"EN":"pink"},"rousse":{"EN":"redhead"},"$nameb retrousse ses manches, tu sens que tu vas passer un mauvais moment. Il s'approche de toi. Instinctivement tu te recroquevilles sur toi même et tu fermes les yeux.":{"EN":"$nameb rolls up his sleeves, you feel like you're having a bad time. He's approaching you. Instinctively you curl up on yourself and close your eyes."},"$namegf's porn":{"EN":"$namegf's Porn"},"$person.kawasaki.name se se dirige non pas vers la table de massage, mais vers une chaise à l'apparence moelleuse. Le dossier lui arrive à la moitié du dos pour te permettre de lui masser le haut du corps.":{"EN":"$person.kawasaki.name is not heading towards the massage table, but towards a chair with a soft appearance. The backrest comes halfway up her back to allow you to massage her upper body."},"''BIP!''":{"EN":"''BIP!''"},"A peine rentré dans la chambre de $namegf, elle se jette dans tes bras pour t'embrasser.":{"EN":"As soon as you enter $namegf's room, she throws herself into your arms to kiss you."},"Ah $namemc mon chéri ! Monte, $namegf t'attend dans sa chambre. Travaillez bien !":{"EN":"Ah $namemc, sweetheart! Go upstairs, $namegf is waiting for you in her room. Work well."},"Ah mais ! Hein ? Quoi ? Ah ! Oui ! Ouiiiiii !! Extraordinaire !! ''On me dit dans l'oreillette que vous êtes notre millionième client !!''":{"EN":"Oh, but! Huh? What? What? Ah! Yes! Yes! ''Yes!'' Yes! Extraordinary!!! ''I am told in the earpiece that you are our millionth customer!''"},"Aller dans la chambre de ta belle-mère":{"EN":"Go to your mother-in-law's room"},"Au bout d'un moment l'excitation est trop forte, il faut que tu arrêtes avant que ça n'aille trop loin. Tu trouves une bonne excuses en lui disant que ça te gave et que t'as envie de rejouer.":{"EN":"After a while the excitement is too strong, you have to stop before it goes too far. You find a good excuse by telling him that it's killing you and you want to play again."},"Avant que tu aies le temps de répondre, monsieur $person.bankster.name est déjà aprti s'occuper d'un autre client.":{"EN":"Before you have time to answer, Mr. $person.bankster.name has already left to //take care// of another customer."},"Avant que tu aies le temps de terminer ta phrase, tu pressens un violent coup qui arrive dans ta direction. Le coup vient s'écraser sur ton visage.":{"EN":"Before you have time to finish your phrase, you feel a violent punch coming in your direction. The punch comes crashing on your face."},"Bonjour, je suis Mère de famille":{"EN":"Hello, I am a Mother of family"},"Buuuh, qu'est-ce que tu fais $namemc ? J'ai froid sans toi...":{"EN":"Buuuh, what are you doing $namemc? I'm cold without you..."},"C'est le moment, je crois qu'elle est prête.":{"EN":"It's time, I think she's ready."},"C'est toi que $person.domilf.name désigne du doigt. Elle se tient à côté d'une belle femme fine dans la quarantaine.":{"EN":"$person.domilf.name points to you. She stands next to a beautiful, fine woman in her 40s."},"C'est toujours non monsieur $player.identity.surname.":{"EN":"It's still no Mr. $player.identity.surname."},"Ce sont les affaires un peu plus... privées de $namess. Le tiroir est rempli de sous vêtements. Tu es surpris en voyant son contenu. Il n'y a pas seulement des culottes et des soutiens-gorges, mais tu vois également toutes sortes de lingeries plus coquines. Des strings, de la dentelle, des porte-jarretelles, des nuisettes, et même de fines robes moulantes. Il y a du rose, du noir, du violet. Jamais tu n'as vu  $namesm porter ça...":{"EN":"It's a little more... private business of $namess. The drawer is filled with lingerie. You're surprised to see its content. There are not only panties and bras, but you also see all kinds of naughtier lingerie. G-strings, lace, garter belts, babydolls, and even fine tight dresses. There's pink, black, purple. You've never seen $namesm wear this..."},"Ce tutorial est fini. Il présente les élèments essentiels pour pouvoir jouer sereinement. Tu rencontreras de nombreux mécanismes et surprises au cours de ton aventure dans le monde de Blacked & Whited, mais tu devras les découvrir par toi même. :)":{"EN":"This tutorial is over. It introduces the essential elements to be able to play serenely. You will encounter many mechanisms and surprises during your adventure in the world of Blacked & Whited, but you will have to discover them for yourself. :)"},"Certaines capotes semblent très récentes...":{"EN":"Some condoms seem very recent..."},"Continuer de regarder la scène":{"EN":"Continue to watch the scene"},"Demander si tu peux aider":{"EN":"Ask if you can help"},"Derrière toi, le bus est anormalement agité. Tu te retournes pour te mettre au courant de la situation. Il y a une fille, en pleurs sur son siège, et tout le monde autour la regarde, soit en rigolant, soit avec un regard peiné. Tu la regardes plus attentivement, rien d'anormal ne te choque. Tu te retournes vers les deux étuditantes derrière qui gloussent.":{"EN":"Behind you, the school bus is unusually agitated. You turn around to find out what's going on. There is a girl, crying on her seat, and everyone around her is staring at her, either laughing or with a sad look. You look at her more closely, nothing abnormal shocks you. You turn around to the two students behind who are giggling."},"Deviens membre Blacked & Whited maintenant":{"EN":"Become a Blaked & Whited community member now"},"Elle accompagne ses gestes d'explications claires que tu essaies d'assimiler du mieux que tu peux. C'est un peu compliqué de ne pas se laisser aller, mais tu t'en sors plutôt bien.":{"EN":"She accompanies her gestures with clear explanations that you try to assimilate as best you can. It's a little complicated to stay focused, but you're doing pretty well."},"Erreur... Vous n'avez pas assez d'argent pour déposer cette somme sur votre compte. N'essaie pas de nous voler !":{"EN":"Error... You do not have enough money to deposit this amount into your account. Don't try to steal us!"},"Eteindre l'ordinateur":{"EN":"Shut down the computer"},"Faire une petite game":{"EN":"Play a game"},"Finir ton travail et rentrer à la maison":{"EN":"Finish your work and go home."},"Glisser une main dans sa culotte":{"EN":"Slip one hand into her panties"},"Hall":{"EN":"Hall"},"Hall des réalisations":{"EN":"Hall of achievements"},"Identité":{"EN":"Identity"},"Ils acceptent les débutants. Ca peut être un bon moyen de me faire un peu d'argent de poche...":{"EN":"They accept beginners. It can be a good way to make some money..."},"In-between":{"EN":"In-between"},"J'essayais de te réanimer ! Ca fait deux bonnes heures que t'es inconscient ! Tu marmonnais des trucs, \"$namegf ! $namegf !\", alors je me suis dit qu'il fallait que je t'aide.":{"EN":"I was trying to revive you! You've been unconscious for a good two hours! You were mumbling things, \"$namegf! $namegf!\", oh god. I thought I should help you."},"J-Je crois qu'elle est prête...":{"EN":"I-I think she's ready...."},"Je ne sais pas exactement ce que tu compte faire, mais fais attention à toi, d'accord ?":{"EN":"I don't know exactly what you're planning to do, but take care of yourself, okay?"},"Je suis désolé Clara... Tout ça c'est de ma faute... La pauvre.":{"EN":"I'm sorry, Clara... This is all my fault... Poor girl."},"L'établissement va fermer, il faut y aller.":{"EN":"The school's closing, we have to go."},"La situation t'excite beaucoup, et tu bandes pendant tout ce temps. Les commentaires constants de $namebf n'arrangent rien à la situation. Tu lui jettes parfois des coups d'oeil. Il a les yeux grands ouverts et semble absorbé par les images. Sans s'en rendre compte, ou en tout cas tu le supposes, il porte sa main sur son entrejambe pour se frotter.":{"EN":"You're very excited about the situation, and you're hard all the time. The constant comments of $namebf don't solve the situation. You sometimes take a look at him. His eyes are wide open and he seems absorbed in the video. Without realizing it, or at least you assume it, he puts his hand on his crotch to rub himself."},"Le client est ravi de votre prestation. 😍":{"EN":"The customer is delighted by your service. 😍"},"Le temps s'arrête, son petit goût sucré trempe ta bouche. Vos corps commencent à se frotter, d'abord de façon presque imperceptible, puis de manière de plus en plus libérée.":{"EN":"Time stops, its sweet taste soaks your mouth. Your bodies begin to rub together, first almost imperceptibly, then in an increasingly liberated way."},"Merde ! Je ne veux pas la brusquer. Mais en même temps, comment résister ?! J'ai la queue tellement dure que j'ai l'impression qu'elle va exploser. Si j'insiste avec gentillesse, peut-être qu'elle finira par céder ?":{"EN":"Shit! I don't want to force her, but at the same time, how can I resist?! My penis is so hard that I feel like it's going to explode. If I insist with kindness, maybe she'll eventually give in?"},"N-Non... Ca ne me dérange pas.":{"EN":"N-No... It doesn't bother me."},"Notre établissement apprécie tout particulièrement les salariés dévoués au bien-être et à la satisfaction de nos clients. Nous savons prendre soin de nos employés performants aussi bien que de nos clients, et si vous montez en compétence et que vous savez répondre aux attentes de notre clientèle, votre rémunération évoluera en conséquence.":{"EN":"Our establishment particularly appreciates the employees who are dedicated to the well-being and satisfaction of our customers. We know how to take care of our high-performing employees as well as our customers, and if you develop your skills and meet our customers' expectations, your compensation will evolve accordingly."},"Nous soutenir":{"EN":"Support us"},"O-Oui...":{"EN":"Y-Yes..."},"Oh mon pauvre chéri, merci de m'avoir tout raconté. Il faut en parler à ta mère, ou au proviseur.":{"EN":"Oh, my poor darling, thank you for telling me everything. We have to talk to your mother, or the principal."},"Ou veux-tu aller ?":{"EN":"Where do you want to go?"},"Oui, c'était génial.":{"EN":"Yeah, it was amazing."},"Ouvrir le site des petites annonces":{"EN":"Open the classified ads site"},"Passer aux toilettes":{"EN":"Go to the toilet"},"PeriodPlus":{"EN":"PeriodPlus"},"Pour être vraiment honnête avec toi même, cela fait longtemps que tu rêves de pouvoir détailler les formes de son corps, et tu n'es pas déçu par ce que tu vois !":{"EN":"To be really honest with yourself, you've been dreaming of being able to detail the shapes of her body for a long time, and you're not disappointed by what you see !"},"Prendre un client":{"EN":"Next customer"},"Protester":{"EN":"Protest"},"Qu'est-ce que je peux faire pour toi mon chéri ?":{"EN":"What can I do for you, darling?"},"Quitter la chambre":{"EN":"Leaving the room"},"Rentrer dans la salle":{"EN":"Enter the room"},"Se former":{"EN":"Be formed"},"Se mettre à l'aise":{"EN":"Make yourself comfortable"},"Se rendre au centre commercial":{"EN":"Getting to the mall"},"Si tu apprécies Blacked & Whited, tu peux soutenir notre travail sur Patreon ! Cela te donnera de nombreux avantages comme du contenu exclusif, un accès aux nouvelles sorties avant tout le monde, et bien d'autres surprises à découvrir !":{"EN":"If you enjoy Blacked & Whited, you can support our work on Patreon! This will give you many advantages like exclusive content, access to new releases before anyone else, and many more surprises to discover!"},"Suivre le petit chemin":{"EN":"Follow the small path"},"T'es sérieux ?! Pourquoi...":{"EN":"Are you serious?! Why..."},"Ta nuit est remplie de rêves troubles.":{"EN":"Your night is full of troubled dreams."},"Ta tenue":{"EN":"Your outfit"},"Taille de ta queue":{"EN":"Size of your cock"},"Te branler":{"EN":"Fapping"},"Te voyant perdu, un homme en costume s'avance vers toi. Il a l'air sur-motivé et a un débit de parole impressionnant.":{"EN":"Seeing you lost, a man in a suit walks up to you. He seems over-motivated and has an impressive speech rate."},"Théo's sister":{"EN":"Théo's sister"},"Ton excitation monte lorsque tu es en contact avec des éléments érotiques, et baisse en te soulageant par diverses méthodes. Ton niveau d'excitation peut influencer ou déclencher certains évènements. Elle est représentée par la barre d'excitation.":{"EN":"Your excitement increases when you are in contact with erotic elements, and decreases by relaxing yourself through various methods. Your level of excitement can influence or trigger certain events. It is represented by the excitation bar."},"Tous les deux très excités, tu embrasses $namegf à pleine bouche, presque avec sauvagerie. Tu l'entends gémir en même temps que tu goutes le sucré de sa langue.":{"EN":"Both very excited, you kiss $namegf full mouth, almost savagely. You hear her moaning as you taste the sweetness of her tongue."},"Tu as une <<playerSexType>> <<playerSexSize>> avec un style <<playerSexHair>>.":{"EN":"You have a <<playerSexSize>> <<playerSexType>> with a <<playerSexHair>> hair style."},"Tu détournes vite le regard.":{"EN":"You quickly turn your eyes away."},"Tu en prends quelques uns et tu reposes la boîte exactement au même endroit. Tu allais fermer quand une lingerie attire ton attention. Tu hésites.":{"EN":"You take some then drop back the box in the exact same spot. You were about to close when some undies catch your eyes. You hesitate."},"Tu entends $namegf soupirer de plaisir. C'est la première fois qu'elle sent une mains autre que la sienne visiter cet endroit...":{"EN":"You hear $namegf sighing with pleasure. It's the first time she smells a hand other than her own exploring this place..."},"Tu imagines $namegf avaler ta queue jusqu'à ce qu'elle soit au bout. Après quelques va-et-vients, tu ejacules de grosses giclées dans un sopalin.":{"EN":"You picture $namegf swallowing your dick all the way to the end. After a few comings and goings, you ejaculate large gushes in a pair of socks."},"Tu jettes un regard vers $namegf, et tu croises ses yeux paniqués.":{"EN":"You glance at $namegf, and you meet her panicked eyes."},"Tu ne réponds rien. Au fond de toi, tu n'as pas encore trouvé la force pour riposter. Ou alors, peut-être n'as tu tout simplement pas envie de riposter...":{"EN":"You don't answer anything. Deep down, you haven't found the strength to fight back yet. Or maybe you just don't want to fight back..."},"Tu passes une nuit apaisée, sans rêve ni cauchemar.":{"EN":"You spend a peaceful night, without dreams or nightmares."},"Tu rentres dans la cuisine. Une odeur magique de pain chaud et de café lèchent tes narines. $namesm a même été chercher les croissants.":{"EN":"You go into the kitchen. A magical smell of hot bread and coffee tickles your nostrils. $namesm even went to get the croissants."},"Tu reprends lentement conscience... Et tu prends aussi conscience  que quelqu'un te frappe encore...":{"EN":"You slowly regain consciousness.... And you also realize that someone is still hitting you!"},"Tu ressens un point de tension au niveau du ventre en voyant $nameb draguer $namegf devant toi. Il faut que tu interviennes...":{"EN":"You feel a point of tension in your stomach when you see $nameb flirting with $namegf in front of you. You have to get involved...."},"Tu sens dans son baisé que quelque chose a changé en elle depuis la dernière fois. C'est la première fois qu'elle t'embrasse aussi langoureusement et passionnément. Est-ce que ton exploration porte enfin ses fruits ? Elle a aussi l'air plus... ouverte, plus déterminée, et...":{"EN":"You feel in her kiss that something has changed in her since the last time. This is the first time she has kissed you so languidly and passionately. Is your exploration finally bearing fruit? She also looks more... open, more determined, and..."},"Tu te caches derrière un arbre pour ne pas te faire repéré, et tu sors ta queue pour la branler. Tu as du mal à croire ce que tu es en train de faire.":{"EN":"You hide behind a tree so you don't get spotted, and you pull out your dick to jerk her off. You can't believe what you're doing."},"Tu te frayes un chemin dans la brousse au cours d'une agréable balade qui te détend. Tu ne fais aucune rencontre, mais ton excitation s'apaise.":{"EN":"You make your way through the bush on a pleasant and relaxing walk. You don't meet anyone, but your excitement subsides."},"Tu te sens plus courageux. (Whited Point++)":{"EN":"You feel braver. (Whited Point++)"},"Va plutôt faire quelques squats toi. C'est pas avec ton cul flasque que tu vas réussir à te trouver quelqu'un.":{"EN":"Why don't you go make some squats? It's not with your saggy ass that you're gonna be able to find someone."},"Vendredi":{"EN":"Friday"},"Voilà ton salaire.":{"EN":"Here's your paycheck."},"Vous avez gagné de l'argent.":{"EN":"You made money."},"Vous avez perdu de l'argent.":{"EN":"You lost money."},"Vous êtes viré.":{"EN":"You're fired."},"africain":{"EN":"african"},"détendue":{"EN":"loose"},"gfm":{"EN":"gfm"},"immense":{"EN":"huge"},"orange":{"EN":"orange"},"sm":{"EN":"sm"},"$city.massage.name":{"EN":"$city.massage.name"},"$namebf se releve et te tend un main pour te saluer. Sa main est molle, tellement molle que tu t'es demandé si il ne voulait pas un baisemain.":{"EN":"$namebf stands up and extends a hand to greet you. His hand is soft, so soft that you wondered if he didn't want a kiss with his hand."},"$namegf pose sa main sur la tienne pour t'arrêter et fait non de la tête.":{"EN":"$namegf puts her hand on yours to stop you, she nods no."},"$namegf te répond entre deux gémissements.":{"EN":"$namegf answers you between moans."},"$namemc ! <3":{"EN":"$namemc ! <3"},"$namess, sois gentille avec $namemc s'il te plait.":{"EN":"$namess, be nice with $namemc please."},"''Clara !''":{"EN":"''Clara !''"},"Ah mon ami, j'ai une bonne nouvelle pour vous. Vous vous rappelez de cet investissement dans la production de cacahuètes ?":{"EN":"Ah my friend, I have good news for you. Remember that investment in peanut production?"},"Aller se coucher":{"EN":"Go to bed"},"Ayako":{"EN":"Ayako"},"Bienvenue dans le nouveau système de tenue ! Sur ta gauche, tu peux voir ce que tu as sur le dos: chapeau, haut, sous-vêtements, etc. Sur la droite, tu peux voir le contenu de ton armoire. Elle est un peu vide pour le moment: c'est normal, le contenu est en cours de création. Pour changer tes vêtements, fais glisser le tee-shirt bugs bunny sur le vieux pull de ta grand mère. Voilà ! C'est aussi simple que ça !<br><br>         Chaque vêtement te donnera des bonus ou des malus. Certains personnages auront également des réactions particulières en fonction des vêtements que tu portes (ou ne portes pas...), de leurs styles, de leurs prix, etc.         <div class=\"choices\" style=\"float: right;\">             <<button \"Ne plus afficher\">>                 <<replace \"#tutorial-wardrobe\">>                 <</replace>>                 <<run setup.turnOn(\"turnoff-tuto-wardrobe\")>>             <</button>>         </div>":{"EN":"Welcome to the new clothing system! On your left, you can see your current outfit: hat, top, underwear, etc. On the right, you can see the contents of your wardrobe. It is a little empty for the moment: this is normal, the content is being created. To change your clothes, slide the bunny bugs t-shirt over your grandmother's old sweater. That's it! It's as simple as that!<br><br> Each garment will give you bonuses or maluses. Some characters will also have particular reactions depending on the clothes you wear (or don't wear...), their styles, their prices, etc.  \n\t\n\t<div class=\"choices\" style=\"float: right;\">\n\t\t<<button \"Ne plus afficher\">>\n\t\t\t<<replace \"#tutorial-wardrobe\">>\n\t\t\t<</replace>>\n\t\t\t<<run setup.turnOn(\"turnoff-tuto-wardrobe\")>>\n\t\t<</button>>\n\t</div>"},"Bienvenue dans ton petit espace secret. 😉 Ici, vous pourrez sauvegarder vos progrès chaque soir avant de vous coucher. Vous y trouverez également toutes vos réalisations !":{"EN":"Welcome to your little secret space. 😉 Here, you will be able to save your progress every night before going to bed. You can also find all your achievements!"},"Blowjob":{"EN":"Blowjob"},"Bonjour, je suis Bus girl 1":{"EN":"Bonjour, je suis Bus girl 1"},"Bonjour, je suis Maîtresse Kawasaki":{"EN":"Hello, I am Mistress Kawasaki"},"C'est toujours non monsieur $person.mc.surname.":{"EN":"It's still no Mr. $person.mc.surname."},"C'est vrai ça. Si <<= _dbp[_select][1]>> ne sait pas s'occuper correctement de <<= _dbp[_select][0]>>, il ne peut pas venir ensuite se plaindre...":{"EN":"That's right, that's right. If <<= _dbp[_select][1]>> does not know how to handle <<= _dbp[_select][0]>> properly, he cannot then complain...."},"Caresser ses cuisses":{"EN":"Caress her thighs"},"Ce fils de chien essaie de me voler ma meuf ! Je ne peux pas le laisser faire !":{"EN":"That son of a bitch is trying to steal my girl! I can't let him do that!"},"Cet enculé de $nameb continue de te mettre des gifles ! Cette fois, tu refuses de le laisser te frapper sans rien dire, et tu renvoies d'instinct un crochet du gauche qui le touche. Tu entends un cri etouffé, puis un corps qui tombe lourdement au sol en couinant. Tu ouvres les yeux pour évaluer la situation. La lumière t'éblouit un instant, avant de se stabiliser.":{"EN":"That $nameb motherfucker keeps slapping you in the face! This time, you refuse to let him hit you without saying anything, and you instinctively return a left hook that touches him. You hear a muffled scream, then a body falling heavily to the ground as it squeaks. You open your eyes to assess the situation. The light dazzles you for a moment, before it stabilizes."},"Clique sur l'image pour changer ton avatar":{"EN":"Click on the picture to change your avatar"},"Corps":{"EN":"Body"},"Couleur des yeux":{"EN":"Eyes color"},"Depuis quelques temps, tu sens bien que ta vie est sur une pente descendante. Mais tu sens aussi que les choix que tu feras ces prochains mois vont être déterminants pour le reste de ta vie...":{"EN":"For some time now, you have felt that your life is on a downward trend. But you also feel that the choices you will make in the coming months will be decisive for the rest of your life..."},"Doucement, tu fais revenir tes lèvres sur les siennes, et dans le même temps, tes mains glissent sur sa peau douce. D'abord sur sa taille, fine et fragile, puis sur son ventre, avant de les faire remonter lentement... La respiration de $namegf se fait plus rapide et saccadée à mesure que tes mains se rapprochent de sa poitrine. Tu sais son esprit complètement fixé sur le moindre de tes mouvements.":{"EN":"Slowly, you make your lips return to hers, and at the same time, your hands slide on her soft skin. First on her waist, thin and fragile, then on her belly, before slowly raising them up... $namegf's breathing becomes faster and more irregular as your hands get closer to her chest. You know her mind is completely fixed on every move you make."},"Déblocage de l'option: retirer la clé de la salle de bain.":{"EN":"Option unlocked: remove the bathroom key."},"Désolé $nameb je n'ai pas l'argent, je t'ai déjà donné tout ce que j'avais, je n'ai plus rien... Ma famille n'est pas riche, comment tu veux que je fasse crétin ?":{"EN":"Sorry $nameb I don't have the money, I already gave you everything I had, I have nothing left... My family's not rich, how am I supposed to do that, you moron ?"},"E-ecoute, il n'a pas encore bien compris les règles, mais je le vois faire des efforts. Si tu es d'accord je vais payer pour lui aujourd'hui ok ?":{"EN":"L-listen, he hasn't quite understood the rules yet, but I see him making efforts. If you agree, I'll pay for him today, okay?"},"Elle te fait descendre sur sa nuque, incroyablement fine et fragile. Et sur ses épaules. Puis le long de son bras et le haut de son buste.":{"EN":"She makes you go down to her neck, incredibly thin and fragile. And on her shoulders. Then along her arms and upper chest."},"Est-ce qu'elle veut que je la déshabille ?":{"EN":"Does she want me to undress her?"},"Est-ce que rêver d'une autre fille, c'est tromper ?":{"EN":"Is dreaming about another girl cheating?"},"Et t'as vu Patricia comment elle est venue en cours jeudi dernier ?":{"EN":"And did you see Brtiney how she came to school last Thursday?"},"Garde bien ma queue en bouche jusqu'à la fin.":{"EN":"Keep my cock in my mouth until the end."},"Hmmm, je la sens bien dure contre moi...":{"EN":"Hmmm, I feel it hard against me..."},"Il faut que je donne à $namegf l'envie de me sucer...":{"EN":"I have to make $namegf want to suck my dick...."},"J'ai tout compris, lancer le premier chapitre":{"EN":"I understood everything, launch the first chapter"},"Je dois avouer que je suis beaucoup plus calme que la dernière fois. Je commence à m'habituer ?":{"EN":"I have to admit, I'm a lot calmer than last time. Am I getting used to it?"},"Je ne peux pas les laisser dire ça...":{"EN":"I can't let them say that..."},"Je suis désolé, mais tu étais en train de me frapper...":{"EN":"I'm sorry, but you were hitting me..."},"Jeter un coup d'oeil":{"EN":"Take a look"},"L'écouter":{"EN":"Listening"},"La journée de cours se passe très bien.":{"EN":"The day of class is going very well."},"La porte est fermée. Tu crois entendre la respiration cadencée de ta $relationsm qui dort. Tu fais demi-tour à petits pas pour ne pas la réveiller.":{"EN":"The door is closed. You think you can hear the rhythmic breathing of your sleeping $relationsm. You turn around in small steps so you don't wake her up."},"La remettre à sa place":{"EN":"Put your sister in her place"},"Le contact visuel trouble immédiatement ton esprit. Ton imagination s'emballe, et tu la visualises dans une autre situation. La pression t'oblige à décrocher ton regard.":{"EN":"The eye contact immediately disturbs your mind. Your imagination gets carried away, and you visualize it in another situation. The pressure forces you to take your eyes off."},"Magne toi pédale, j'ai besoin d'un truc dans la salle de bain.":{"EN":"Hurry up, faggot, I need something in the bathroom."},"Mais où sont les jolies filles qui viennent se faire masser ?! Pourquoi est-ce que je me tape toujours les clients bas de gamme ? Je devrais aller voir $person.name.kawasaki...":{"EN":"But where are the pretty girls who come for a massage?! Why do I always get to do low-end customers? I should go see $person.name.kawasaki..."},"Mais vous n'avez pas d'oreillettes...":{"EN":"But you don't have earpieces..."},"Marie":{"EN":"Marie"},"Merci !":{"EN":"Thank you!"},"Mettre la culotte dans ta poche":{"EN":"Put the panties in your pocket"},"Monter les escaliers":{"EN":"Go up the stairs"},"Ne fais pas genre $namess. Tu ne verrouilles pas la porte de la salle de bain, on sait tous pourquoi... Je me suis fait avoir, c'est tout.":{"EN":"Don't lie to yourself, $namess. You don't lock the bathroom door, we all know why... I just got screwed, that's all."},"Nombre ==d'escroquerie== de promotion réussie :":{"EN":"Number of ==scams== successful promotion:"},"Nous sommes navré, mais l'entreprise ne souhaite pas donner suite à votre demande. Vous pouvez réessayer plus tard.":{"EN":"We are sorry, but the company does not wish to respond to your request. You can try again later."},"Nouveau souvenir":{"EN":"New memory fragment"},"Pathétique.":{"EN":"Pathetic."},"Pendant de longues minutes, le silence est complet dans les toilettes. On entend seulement les bruits de succion de la fellation de Clara qui semble complètement absorbée dans sa tâche. $nameb a les deux bras appuyés sur le lavabo. Il passe ses mains dans ses cheveux, et parfois, la pousse à avaler un peu mieux sa queue.":{"EN":"For long minutes, silence is complete in the toilets. We only hear the sucking sounds of Clara's blowjob, which seems completely absorbed in her task. $nameb has both arms resting on the sink. He puts his hands through her hair, and sometimes pushes her to swallow his cock a little deeper."},"Putain pourquoi je rêve de ça moi ? Jamais $namegf ne se salirait à lui parler.":{"EN":"Why the fuck am I dreaming about this? $namegf would never get dirty by talking to him."},"Quel est le nom de ton rival ?":{"EN":"What is the name of your rival?"},"Quel manque de tolérance...":{"EN":"What a lack of tolerance..."},"Quelle est ta relation avec elle ?":{"EN":"What is your relationship with her?"},"Retirer sa culotte":{"EN":"Take off her panties"},"Retourner dans la chambre":{"EN":"Go back to the room"},"Rien ne serait possible sans votre fantastique soutien ! Si tu apprécies le jeu, n'hésite pas à soutenir le développement et participer à cette aventure en devenant membre Blacked & Whited !":{"EN":"Nothing would be possible without your fantastic support! If you enjoy the game, feel free to support the development and join this adventure by becoming a Blacked & Whited member!"},"S'excuser":{"EN":"Apologize"},"Sauvegarder":{"EN":"Save"},"Se retourner pour jeter un dernier coup d'oeil":{"EN":"Turn around to take a last look"},"Si ! Si, j'adore, mais... Ecoute il est trop tôt, je ne suis pas prête...":{"EN":"Yes ! Yes, I love it, but... Look, $namemc, it's too early, I'm not ready..."},"T'es une bonne suceuse hein ?":{"EN":"You're a good sucker, huh?"},"Ta $relationsm rentre dans la chambre.":{"EN":"Your $relationsm comes into the room."},"Terminer sa journée":{"EN":"End your work day"},"Ton corps heurta le sol, et tu perdis complètement conscience.":{"EN":"Your body hit the ground, and you lost consciousness."},"Tu as découvert tous les lieux ! La ville de $namecity est en construction. Le contenu actuel sert d'aperçu, et me permet de récolter vos retours et vos conseils. La ville aura une vingtaines de lieux répartis en 4 quartiers avec chacun sa spécificité, son ambiance, ses quêtes, ses lieux secrets, ses jobs, etc.":{"EN":"You've discovered all the places! The city of $namecity is under construction. The current content serves as an overview, and allows me to collect your feedback and advice. The city will have about twenty places divided into 4 districts, each with its own specificity, atmosphere, quests, secret places, jobs, etc."},"Tu as envie d'hurler à $namegf de te dire ce qu'elle est en train de faire. Depuis combien de temps fait-elle ça ?":{"EN":"You want to scream at $namegf to tell you what she's doing. How long has she been doing this?"},"Tu as ouvert un compte en banque":{"EN":"You opened a bank account"},"Tu as un peu plus confiance en toi. (Whited Point+)":{"EN":"You have a little more self-confidence. (Whited Point+)"},"Tu entends des gloussements. C'est encore ces deux filles. Cela fait plusieurs fois maintenant qu'elles se mettent derrière toi, elles doivent considérer ces places comme ''leurs'' places. C'est étrange, penses-tu, ce besoin compuslsif qu'ont la plupart des êtres humains de trouver une place attitrée. Besoin qui étend son emprise jusque dans le bus des trajets quotidiens. Toi même, tu ressens presque de la colère lorsqu'en montant dans le bus, tu t'aperçois que quelqu'un s'est mis à ta place habituelle.":{"EN":"You hear giggling. It's those two girls again. They have been standing behind you several times now, they must consider these places as ''their'' places. It's strange, you think, this compelling need that most human have to find a place of their own. Need that extends its grip to the bus of daily trips. Yourself, you almost feel anger when you board the bus and discover that someone stole your place."},"Tu es devant la porte des toilettes depuis 10 bonnes minutes, à chercher les bons mots qui pourraient préserver $nameb d'une colère en apprenant que tu n'as pas l'argent. Tu sais très bien que tout peut arriver si il se met en colère.":{"EN":"You've been outside the toilet door for a good 10 minutes, looking for the right words that could save $nameb from anger when he finds out that you don't have the money. You know very well that anything can happen if he gets angry."},"Tu es très excité...":{"EN":"You're very excited..."},"Tu es un <<playerGender>> <<playerRace>> <<playerSexuality>>.<br><br> \t\t\tTu as de beaux cheveux de couleur <<playerHairColor>> coiffés avec une coupe <<playerHairType>> qui te va très bien. Tes yeux sont de couleur <<playerEyesColor>>.<br><br> \t\t\tTon corps est <<playerBodyShape>>.<br><br> \t\t\tTu as une <<playerSexType>> <<playerSexSize>> avec un style <<playerSexHair>>.":{"EN":"You're a <<playerSexuality>> <<playerRace>> <<playerGender>>.<br><br>\n\t\n\tYou have beautiful <<playerHairColor>> hair with a <<playerHairType>> cut that suits you very well. <br><br>\n\t\t\n\tYour eyes are  <<playerEyesColor>>.<br><br>\n\t\n\tYour body is <<playerBodyShape>>.<br><br>\n\t\n\tTu as une <<playerSexType>> <<playerSexSize>> avec un style <<playerSexHair>>.<br><br>\n\t\n\tYou have <<playerSexSize>> <<playerSexType>> with a <<playerSexHair>> hair style."},"Tu m'as manqué bébé ! J'ai pensé à toi toute la journée... Tu veux faire quoi ?":{"EN":"I missed you, baby! I've been thinking about you all day... What do you want to do?"},"Tu ne réponds pas.":{"EN":"No answer."},"Tu regardes sous le lit, il n'y a rien du tout. Tu passes un doigt sur le parquet : pas une fibre de poussière.":{"EN":"You look under the bed, there's nothing there. You put a finger on the floor: not a single dust fiber."},"Tu t'approches de la porte et tu regardes à l'intérieur. Tout semble fermé. Soudainement, une voix qui sort de la porte se met à parler et te fait sursauter.":{"EN":"You approach the door and look inside. Everything seems closed. Suddenly, a voice popping from the door starts talking and makes you jump."},"Tu te branles frénétiquement en regardant toutes ces filles se faire baiser la bouche. Obéissantes et salopes, tes préférés sont celles qui vont jusqu'à s'étouffer pour tout avaler.":{"EN":"You jerk off frantically watching all these girls get their mouths fucked. Obedient and sluts, your favorites are the ones who go so far as to choke to swallow everything."},"Tu te sens très humilié. (Blacked Point+++)":{"EN":"You feel very humiliated. (Blacked Point+++)"},"UNKNOW MALE":{"EN":"UNKNOW MALE"},"Un client fidèle":{"EN":"A loyal customer"},"Vas-y, baise moi bien cette blanche...":{"EN":"Go on, fuck that white girl..."},"Vieux pervers.":{"EN":"Old pervert."},"Voilà pour vous les enfants. Si vous avez besoin de quelque chose, surtout n'hésitez pas je suis en bas.":{"EN":"Here you go, kids. If you need anything, don't hesitate, I'm downstairs."},"Vous avez gagné un salaire de":{"EN":"You earned a salary of"},"Vous passez le reste de la journée à jouer aux jeux vidéos sur son canapé. $namebf a quasiment tous les jeux qui existent, et surtout tes préférés. C'est un excellent joueur et après plusieurs parties en multijoueurs, il se trouve que vous formez une équipe efficace. Derrière vous, en fond, tu entends les gémissements des actrices pornos qui tournent en boucle.":{"EN":"You spend the rest of the day playing video games on his couch. $namebf has almost every game in the world, especially your favorites. He is an excellent player and after several multiplayer games, you happen to be an efficient team. Behind you, in the background, you hear the moans of the porn actresses who are playing in a loop."},"Wesh mon frère ! Bien ou bien ?":{"EN":"Yo bro! Good?"},"YES":{"EN":"YES"},"charnus":{"EN":"fleshy"},"frustration":{"EN":"frustration"},"moyens":{"EN":"average"},"qui descend jusqu'au cul":{"EN":"that goes down to the ass"},"$nameb explose de rire en repensant à ce moment. Une fois calmé, il reprend.":{"EN":"$nameb explodes with laughter thinking back to that moment. Once he calmed down, he resumed."},"$namegf's Porn":{"EN":"$namegf's Porn"},"$namemc... C'est trop bon...":{"EN":"$namemc... It-It's too good..."},"$namesm discute 2 minutes avec toi de la pluie et du beau temps, avant de retourner à ses tâches ménagères matinales.":{"EN":"You're chit chatting with $namesm for a few minutes, then she returns to her morning chore."},"''*slap* *slap*''":{"EN":"''*slap* *slap*''"},"<<= _dbp[_select][1]>> ? Qu'est-ce qui lui manque ?":{"EN":"<<= _dbp[_select][1]>>? What does he lack?"},"Afficher la video":{"EN":"Show the video"},"Ah mais mais c'est encore mieux, je vous fais un prêt ! Regardez, j'appuie sur ce bouton dans 3... 2... 1... hop ! Voilà, vous nous devez 50$, plus 10$ de frais d'ouverture de dossier de prêt, et 20$ supplémentaires pour les intérêts de votre dette. Vous voyez, la vie est simple !":{"EN":"Oh, but it's even better, I'll give you a loan! Look, I press this button in 3... 2... 1... Hop! That's it, you owe us $50, plus $10 for opening a loan, and an additional $20 for the interest on your debt. You see, life is simple!"},"Aller dans la chambre de ta belle-soeur":{"EN":"Go to your sister-in-law's room"},"Aller te coucher":{"EN":"Go to sleep"},"Almost Blacked":{"EN":"Almost Blacked"},"Approche ! Tout de suite !":{"EN":"Come! Now!"},"Arrivé à sa destination, le bus s'arrête devant l'établissement. Ses portes s'ouvrent pour faire passer les élèves qui se pressent pour s'engouffrer dans la brèche. Tu attends calmement que les choses se passent, puis, lorsque le bus est presque vide, tu te leves pour descendre à ton tour.":{"EN":"Once at its destination, the bus stops in front of the establishment. Its doors open to allow students to pass through and rush into the rift. You calmly wait for things to happen, then, when the bus is almost empty, you get up and get off."},"Bah tu sais, si quelqu'un va voir ailleurs, c'est souvent parce qu'il n'a pas ce qu'elle cherche. Peut être que <<= _dbp[_select][1]>> ne pouvait pas donner à <<= _dbp[_select][0]>> tout ce qu'elle voulait.":{"EN":"Well, you know, if anyone looks elsewhere, it's often because they don't have what they're really looking for. Maybe <<= _dbp[_select][1]>> couldn't give <<= _dbp[_select][0]>> everything she wanted."},"Bien entendu ! Elles adorent ça tu sais !":{"EN":"Of course! They love it, you know!"},"Bon aller, faut que je fasse vite !":{"EN":"All right, I have to hurry!"},"Bonjour, je suis Lana":{"EN":"Hello, I'm Lana."},"Bonjour, je suis Théo's mother":{"EN":"Hello, I'm Theo's mother"},"Bonjour, je suis Unknown female":{"EN":"Hello, I am Unknown female"},"C'est important de respecter l'intimité de chacun, surtout quand on vit sous le même toit.":{"EN":"It is important to respect everyone's privacy, especially when living under the same roof."},"C'est trop tard, tu n'as plus la volonté de résister.":{"EN":"It's too late, you no longer have the will to resist."},"C'est une évidence.":{"EN":"It is obvious."},"C'était génial de pouvoir jouer avec toi ! C'est vraiment rare de tomber sur des joueurs qui comprennent ce qu'ils font ! Reviens quand tu veux poto !":{"EN":"It was great to have a game with you! It's unusual to find gamers who gets what they do! Come over any time you want, buddy!"},"Cacher la dernière vidéo":{"EN":"Hide the last video"},"Ce ciseaux me sera utile si je veux trucider $namess.":{"EN":"This scissors will be useful if I want to kill $namess."},"Certaines actions vont pouvoir modifier ton apparence physique. L'état de ton apparence physique est représentée par la barre de genre. Plus ton corps est féminisé et sexy, plus la part en rose est importante. Plus ton corps est masculinisé et viril, plus la barre bleue est dominante.":{"EN":"Some actions will change your physical appearance. The state of your physical appearance is represented by the gender bar. The more feminized and sexy your body is, the more the pink part is important. The more masculinized and virile your body is, the more dominant the blue bar is."},"Comment choisir ses clients":{"EN":"How to choose your customers"},"Couper à travers la brousse":{"EN":"Cut through the bush"},"De l'argent ! Il faut que je trouve de l'argent. Je n'ai pas le choix. C'est ma priorité.":{"EN":"Money! I need to find some cash. I have no choice. That is my priority."},"Elle se cambre spontanément sous tes caresses pour faire ressortir ses formes. Ton excitation monte encore d'un cran quand tu sens tes doigts passer à quelques centimètre de sa petite fente. Tu es presque certain d'en ressentir la chaleur. Tu es aussi certain qu'elle est humide, et tu n'as qu'une envie, c'est passer un doigt pour vérifier.":{"EN":"She spontaneously curves under your caresses to bring out her shapes. Your excitement increases even more when you feel your fingers passing a few inches from its small slit. You're almost certain to feel the warmth of it. You're also certain she's wet. And you only have one desire, it's to put a finger on it to check."},"Elle éclate de rire, se libère de ton étreinte factice, et s'approche à quelques centimètres de toi. Elle lève son visage vers le tien. Tu sens la vague de son parfum sucré t'envahir.":{"EN":"She laughs, frees herself from your fake embrace, and approaches a few inches away from you. She raises her face to yours. You can feel the wave of its sweet scent invading you. My God, she smells good."},"En frottant une assiette, ta mère te demande.":{"EN":"While she's washing dishes, your mother asks you."},"Encore une journée difficile... Je suis passé à deux doigts d'une nouvelle branlée.":{"EN":"Another difficult day.... I came this close to a new beating."},"Et bah alors bouffe-merde, je t'ai pas vu hier, qu'est-ce qu'il se passe ?":{"EN":"Well, then, shit-eater, I didn't see you yesterday, what's going on?"},"Et heu... Tu penses qu'elle va bien ?":{"EN":"And uh... Do you think she's all right?"},"Et à l'école, tout se passe comme tu veux ? Tes amis vont bien ?":{"EN":"Is everything all right at school? Are your friends all right?"},"Haha, nan. Mon père rentre tard les soirs, il a sa propre société d'investissement. Et ma mère, elle doit encore être à un de ses cours de yoga ou une connerie du genre.":{"EN":"Haha, no. My father comes home late, he has his own investment company. My mother, she must still be at one of her yoga classes or some shit like that."},"Je pense qu'elle est prête...":{"EN":"I think she's ready..."},"L'ancienne Geisha se retire discrètement. Tu prends le menu. Contrairement à ce que laisse penser l'accoutrement de la matriarche, l'établissement ne se limite pas à la culture japonaise, ni même à la culture asiatique. Les prestations sont variées et s'accompagnent de descriptions qui suffisent presque à te détendre.":{"EN":"The old geisha is retiring quietly. You take the booklet. Contrary to what the matriarch's dress suggests, the establishment is not limited to Japanese culture, or even Asian culture. The services are diversified and are accompanied by descriptions that are almost enough to relax you."},"La mettre en sécurité":{"EN":"Put her in safety"},"La petite culotte rose trouvée dans sa chambre...":{"EN":"The pink panties found in her room..."},"La provoquer":{"EN":"Provoke her"},"La réalité n’a pas de pitié pour les faibles. Et derrière le vernis de la civilisation se cache une bête. Bats toi et surpasse tes rivaux, ou accepte d'être maudit. Le gagnant prend tout, le perdant... dit oui.":{"EN":"Reality has no mercy for the weak. And behind the varnish of civilization is hidden a beast. Overtake your rivals, or accept to be damned. The winner takes everything, the loser... says yes."},"Le parc de la ville, la nuit. L'ambiance n'est pas du tout la même qu'en journée.":{"EN":"The city park at night. The atmosphere is not at all the same as during the day."},"Le salon de massage $city.massage.name est toujours à la recherche de nouveaux masseurs. Horaires très flexibles. Débutants acceptés. Payé jusqu'à 50$ par heure.":{"EN":"$city.massage.name is always looking for new masseurs. Very flexible schedules. Beginners accepted. Paid up to $50 per hour."},"Les filles derrière toi gloussent en regardant la vidéo.":{"EN":"The girls behind you are giggling as they watch the video."},"Les vapeurs chaudes":{"EN":"The hot vapours"},"Mais où sont les jolies filles qui viennent se faire masser ?! Pourquoi est-ce que je me tape toujours les clients bas de gamme ? Je devrais aller voir $person.kawasaki.name...":{"EN":"But where are the pretty girls who come for a massage?! Why do I always get to do low-end customers? I should go see $person.name.kawasaki..."},"Merci à HiEv pour son immense travail sur le Universal Inventory pour Sugarcube. Vous pouvez le retrouver ici: https://www.patreon.com/HiEv":{"EN":"Thanks to HiEv for his tremendous work on the Universal Inventory for Sugarcube. You can find it here: https://www.patreon.com/HiEv"},"Mh.":{"EN":"Mh."},"Mh. Je devrais faire un peu plus attention.":{"EN":"Mh. I should be a little more careful."},"Mmmmh, regarde moi cette bonne suceuse. Je l'ai bien dressée.":{"EN":"Mmmmh, look at that good sucker. I trained her well."},"Mon pieu est en feu... Bon, je suppose que je n'ai pas le choix...":{"EN":"My stake is on fire... Well, I guess I have no choice..."},"Monsieur $person.mc.surname ! Nous avons un prolème ! Pour vous résumer simplement la situation, il y a eu une horrible chute d'un baril de pétrole dans l'océan pacifique, et cette chute a provoqué un reflux du cours mondial du tungstène vers des abîmes encore jamais atteintes, déclenchant de très belles révoltes de la faim dans certains trous à merde du monde, impliquant la délocalisation de la production de dentifrice et une explosion du chômage local.":{"EN":"Mr. $person.mc.surname! We have a problem! To sum up the situation simply, there was a horrible drop of an oil barrel in the Pacific Ocean, and this drop caused the world price of tungsten to fall back to unprecedented levels, triggering very beautiful hunger revolts in some shitholes in the world, involving the relocation of toothpaste production and an explosion in local unemployment."},"Noooon ! (￣□￣) Mon prénom c'est $person.ayako.name !":{"EN":"Noooo! (￣□￣) My first name is $person.ayako.name!"},"Oh $namemc... Hmmmm...":{"EN":"Oh $namemc... Hmmmm..."},"Oh ouais, j'ai envie d'avoir mon esprit relâché.":{"EN":"Oh yeah, I want to have my mind relaxed."},"On peut le mettre sur la télé principale si tu veux ?":{"EN":"We can put it on the main TV if you want."},"Oups !":{"EN":"Oops!"},"Quitter l'établissement":{"EN":"Leaving the establishment"},"Regarde ! Même sa meilleure pote ne veut plus se mettre à côté d'elle !":{"EN":"Look! Even her best friend doesn't want to stand next to her anymore!"},"Retourner à la maison":{"EN":"Going back home"},"Rien d'intéressant bébé, je n'ai pas envie d'en parler...":{"EN":"Nothing interesting baby, I don't want to talk about it..."},"Sa rudesse te surprend, et contraste avec son apparence. Ca te fait un peu mal.":{"EN":"Its harshness surprises you, and contrasts with its appearance. It hurts a little."},"Salut.":{"EN":"Hi."},"Sans oser le regarder dans les yeux, tu lui tends 40€. 20€ pour aujourd'hui, et 20€ pour ton oubli d'hier. Il les prit avec une exclamation de satisfation, puis posa son bras sur tes deux épaules.":{"EN":"Without daring to look him in the eye, you give him 40$. 20$ for today, and 20$ for your forgetfulness yesterday. He took them with an exclamation of satisfaction, then put his arm on your two shoulders."},"Se relever":{"EN":"Getting up"},"Se rendre chez $namegf":{"EN":"Getting to $namegf"},"Ses yeux sont retombés sur ton entrejambe. Elle secoue la tête pour se ressaisir.":{"EN":"Her eyes fell back on your crotch. She shakes her head to refocus."},"Si tu veux suivre le chemin Whited, garde en tête que le personnage est en mauvaise posture et n'est pas ENCORE mentalement prêt à se défendre. Tu vas devoir lui apprendre petit à petit comment se comporte un vrai Alpha. Et chacune de tes tentatives, même non concluante, le transforme.":{"EN":"If you want to follow the Whited path, keep in mind that the character is in bad position and is not mentally ready YET to stand for himself. You'll have to train him step by step how a real Alpha behaves. And each try, even failed ones, will shape him."},"Sortir et aller déjeuner":{"EN":"Going out and having breakfast"},"T'as le droit prendre une douche aussi. Déshabille toi et rejoins moi.":{"EN":"You have the right to take a shower too. Take off your clothes and join me."},"Tiens, le voilà. C'est notre nouveau masseur dont je vous ai parlé.":{"EN":"There he is. This is our new masseur I told you about."},"Toute sa bande se met à ricaner bruyamment.":{"EN":"His whole gang starts sneering loudly."},"Tu aimes bébé ?":{"EN":"Do you love that, baby?"},"Tu baisses la tête en rougissant.":{"EN":"You bow down your head as you blush."},"Tu entends de la colère dans sa voix.":{"EN":"She replied with anger in her voice."},"Tu entres dans une salle très simple, où la couleur blanche, bleue, sable et turquoise se mélangent avec subtilité. En refermant la porte, les carillons se mettent à vibrer et te coupe du monde extérieur. Tout de suite, tu sens l'harmonie de la pièce t'envelopper. Tu entends l'eau d'un petit bassin qui coule doucement, et derrière, une musique apaisante vient te bercer. L'odeur d'encens t'invite à te calmer et à te détendre. Tu es bien.":{"EN":"You enter a very simple room, where the white, blue, sand and turquoise colours are subtly mixed together. When the door is closed, the chimes start to vibrate and cut you off from the outside world. Immediately, you feel the harmony of the room enveloping you. You hear the water from a small pool that flows gently, and behind it, a soothing music comes to comfort you. The smell of incense invites you to calm down and just relax. You feel good."},"Tu es toujours au pied de $nameb, et maintenant aux pieds de $namegf... Elle a une petite jupe courte qui tombe au dessus de ses genoux, et qui révèle les deux tiers de ses jambes. A la place où tu es, tu peux presque voir sous sa jupe.":{"EN":"You are still at the foot of $nameb, and now at the foot of $namegf.... She has a small short skirt that falls above her knees, and reveals two thirds of her legs. At the place where you are, you can almost see under her skirt."},"Tu es un peu plus ouvert aux autres. (Blacked Point+)":{"EN":"You're a little more open to others. (Blacked Point+)"},"Tu essaies de ne pas trop penser à ce que tu es en train de faire. A la fin du massage, sans un mot, il se lève et s'en va. Tu le vois mettre quelque chose dans le panier.":{"EN":"You try not to think too much about what you're doing. At the end of the massage, without a word, he gets up and leaves. You see him put something in the little basket."},"Tu n'as pas de tatouage":{"EN":"You don't have any tattoos"},"Tu ne peux pas t'empêcher de jeter un dernier coup d'oeil.":{"EN":"You can't help but take one last look."},"Tu peux gagner des Whited Point de 3 façons: en appréciant ce qui a trait au Whited, en rejetant le Blacked, et en ayant une attitude clairement dominante.":{"EN":"You can earn Whited Points in 3 ways: by enjoying what is related to Whited, by rejecting Blacked, and by having a clearly dominant attitude."},"Tu t'arrêtes en te rendant compte que ta phrase est peut-être déplacée. La matriarche ne semble pas contrariée un instant, et répond avec une assurance très calme.":{"EN":"You stop when you realize that your words may be out of place. The matriarch does not seem upset for a moment, and responds with a very calm assurance."},"Tu te remets accroupi aux pieds de $nameb en sentant son regard noir fixé sur toi. Une fois à ta place, il continue sa //discussion// avec $namegf.":{"EN":"You kneel at $nameb's feet again, feeling his black eyes fixed on you. Once in your place, he continues his //discussion// with $namegf."},"Tu te tournes vers $namegf.":{"EN":"You turn to $namegf."},"Tu écoutes $nameb te raconter ses histoires de dealer, puis il pointe du doigt la porte pour t'indiquer qu'il est temps de partir. Les filles n'ont pas dit un mot, et te suivent machinalement des yeux alors que tu quittes la pièce.":{"EN":"You listen to $nameb tell you his drug dealer stories, then he points to the door to tell you it's time to leave. The girls haven't said a word, and mechanically follow you with their eyes as you leave the room."},"Un changement dans ton état d'esprit t'ouvre des de nouvelles possibilités pour le chemin correspondant et t'en ferme pour l'autre.":{"EN":"A change in your state of mind opens up new possibilities for the corresponding path and closes it for the other."},"Un grand merci à tous les patreons pour leur soutien précieux":{"EN":"A big thank to all patreons for their precious support. <3"},"Un pourboire !!":{"EN":"A tip!!"},"Vide toi sur mes seins s'il te plait.":{"EN":"Please empty your balls on my breasts."},"Vous allonger sur le lit":{"EN":"Lie down on the bed"},"Vous travaillez le reste de l'après midi.":{"EN":"You work the rest of the afternoon."},"Wow, tu es... splendide.":{"EN":"Wow, you look... splendid."},"asiatique":{"EN":"asian"},"débloque les quêtes exclusives (bientôt disponibles).":{"EN":"unlocks exclusive quests (coming soon)."},"en cloche":{"EN":"bell-shaped"},"hey je suis en train de penser non ?":{"EN":"Hey, I'm thinking, aren't I?"},"militaire":{"EN":"military"},"$nameb m'a dit de continuer à frotter...":{"EN":"$nameb told me to keep rubbing...."},"$person.bankster.name s'éloigne en sifflotant.":{"EN":"$person.bankster.name whistles away."},"''Putain mais je t'ai dit de te tirer espèce de malade mental !''":{"EN":"''I told you to get the fuck out of here, you crazy freak !''"},"A bientôt princesse... :)":{"EN":"See you soon princess... :)"},"Actions restantes":{"EN":"Remaining actions"},"Ah merde ! Ca ne s'est pas exactement passé comme sur mes vidéos pornhub... J'espère qu'elle ne dira rien à $namesm.":{"EN":"Ah shit! It didn't exactly go like on my pornhub videos.... I hope she doesn't tell $namesm anything."},"Ah, d'accord.":{"EN":"Ah, all right."},"Aller dans la salle de bain":{"EN":"Go to the bathroom"},"Annnh comme j'aimerai pas être à sa place. En plus elle est en couple avec <<= _dbp[_select][1]>> non ?":{"EN":"Annnh as I wouldn't like to be in his shoes. Plus she's romantically involved with <<= _dbp[_select][1]>> no?"},"Aujourd'hui, c'est la première fois qu'il te frappe réellement... Et tu n'as surtout pas envie que ça recommence. Tu as réussi à garder un semblant de dignité avec $namebf, avec $namegf, mais ce fut au prix de grands efforts.":{"EN":"Today, it's the first time he's really beaten you up.... And you don't want it to happen again. You managed to keep some semblance of dignity with $namebf, with $namegf, but it was very hard and tiring."},"Avant que tu ne répondes, il t'envoie de grosses giclées qui viennent tacher ton pantalon et ta main. Cet enculé t'a éjaculé dessus ! Tu te sens souillé par ce vieux.":{"EN":"Before you answer, he sends you big spurts that stain your pants and hand. That motherfucker came on you! You feel so soiled by this old man."},"Bien qu'assez classieux, l'endroit ne laisse pas supposer une telle ancienneté, et tu te demandes si l'histoire de la vieille est vraie.":{"EN":"Although quite classy, the place does not suggest such seniority, and you wonder if the old lady's story is true."},"Bon, faut bien que je retienne le chemin, je vais sûrement revenir de temps en temps !":{"EN":"Well, I have to hold on to the path, I'll probably come back from time to time!"},"Bon, j'ai pas beaucoup de temps aujourd'hui, lâche la thune.":{"EN":"Well, I don't have much time today, so drop the money."},"Bon. Si je lui mets un gros direct, j'aurai peut être le temps de slalomer entre ses potes pour m'enfuir... Mais demain alors ? Il me rattrapera. Rah, merde, c'est pas une solution. Et j'vais pas me mentir, j'suis pas stuffé pour donner des coups. Ailleurs que dans WOW en tout cas.":{"EN":"All right. If I give him a big jab, I might have time to slalom between his friends to get away.... And, what about tomorrow ? He'll catch up with me. Raaah, shit, that's not a solution. And I'm not gonna lie to myself, I'm not stuffed to kick someone. Somewhere other than in WOW anyway."},"Bonjour, je suis Ella":{"EN":"Bonjour, je suis Ella"},"Bus girl 2":{"EN":"Bus girl 2"},"C'est ce que tout le monde dit de moi, mais moi je sais bien que c'est tout l'inverse.":{"EN":"That's what everyone says about me, but I know the truth is the opposite."},"C'est la vie.":{"EN":"That's life."},"C'est quoi, une sorcière ?":{"EN":"What is she, a witch?"},"Commencer à la masser":{"EN":"Start massaging her"},"Dire bonjour":{"EN":"Say hello"},"Dis moi, c'est toi qui es passée dans ma chambre récemment ?":{"EN":"Tell me, have you been in my room recently?"},"Dormir":{"EN":"Sleeping"},"Doucement, tu déboutonnes son jean. Tu sens immédiatement sa respiration s'accélérer, mais elle ne proteste pas, et laisse tes doigts faire descendre doucement son jean le long de ses cuisses.":{"EN":"Slowly, you unbutton her jeans. You immediately feel her breathing accelerate, but she doesn't complain, and let your fingers gently lower her jeans along her thighs."},"En approchant ton oreille de la porte, tu entends des petits bruits. En te concentrant sur le son, tu as presque l'impression qu'il s'agit de gémissements.":{"EN":"As you approach your ear to the door, you hear little noises. Focusing on the sound, you almost have the impression that it is groaning."},"En effet, $namegf aime expérimenter. Le mois dernière, elle avait des pointes blondes. Et avant ça, c'était une teinture bleue et noire, donnant un effet emo que tu avais aimé. Elle a une grande créativité en ce qui concerne sa chevelure, et ce qui est extraordinaire, c'est que tout semble lui aller...":{"EN":"Indeed, $namegf likes to experiment. Last month, she had blonde tips. And before that, it was a blue and black dye, giving an emo effect driving you crazy. She has a great creativity with her hair, and what is amazing, is that everything seems to fit her..."},"Et il lui a dit devant tout le monde qu'elle avait la dégaine d'un tractopelle mdr. C'est trop un fou ce gars.":{"EN":"And he told her in front of everyone that she looked like a backhoe loader LOL. He's such a madman."},"Et oui, tu aimes te poser des questions inutiles. Après tout, tu es un jeune homme comme tous les jeunes hommes pas encore tout à fait adultes. Bon, comme tout le monde, peut être pas. T'es plus timide que la moyenne. Voir ''beaucoup'' plus timide. Et mal dans ta peau. Et sans amis. Et tu ne sais pas où va ta vie.":{"EN":"That's right, you like to ask yourself unnecessary questions. After all, you are a young man like all young men who are not yet fully grown up. Well, like everyone else, maybe not. You're shyer than average. ''Much'' more shy. And bad in your skin. And without friends. And you don't know where your life is going."},"Et voilà la tienne de paie, \"mon frère\".":{"EN":"And here's ''your'' pay, \"brother\""},"Fermer le navigateur":{"EN":"Close the browser"},"Heu, non.":{"EN":"Uh, no."},"J'ai dit que c'était gratuit ? Et ça l'est ! C'est gratuit jusqu'à signature du contrat. Il faut faire attention à ce que vous signez jeune homme. Ce conseil vaut bien quelques frais, sans doute.":{"EN":"Did I say it was free? And it is! It is free until the contract is signed. You have to be careful about what you sign, young man. This advice is worth a few fees, no doubt."},"J-Je ne sais pas...":{"EN":"I-I don't know..."},"Je n'ai pas envie de l'énerver davantage, et elle a raison, je me suis mal comporté...":{"EN":"I don't want to upset her any more, and she's right, I behaved badly..."},"L'amener vers son lit":{"EN":"Take her to her bed"},"La cuisine est vide...":{"EN":"The kitchen is empty..."},"La détailler":{"EN":"Look at her"},"La forêt du parc est très dense.":{"EN":"The forest in the park is very dense."},"La langue a été modifiée avec succès.":{"EN":"The language has been successfully changed."},"La porte est fermée. Tu crois entendre la respiration cadencée de ta belle-mère qui dort. Tu fais demi-tour à petits pas pour ne pas la réveiller.":{"EN":"The door is closed. You think you can hear your mom breathing as she sleeps. You turn around in small steps so you don't wake her up."},"La question était stupide...":{"EN":"The question was stupid...."},"La rémunération de nos masseurs et de nos masseuses se base sur le nombre de client satisfait. Votre rémunération actuelle est de 10$ par client.":{"EN":"The remuneration of our masseurs is based on the number of satisfied customers. Your current remuneration is $10 per client."},"La salle de repos des employés est dans le style dojo asiatique. Il n'y a pas grand chose à faire, à part se reposer.":{"EN":"The employee lounge is in the japan dojo style. There's not much to do but rest."},"Last":{"EN":"Last"},"Lundi":{"EN":"Monday"},"Mais je veux dire, pourquoi il a fait ça ?!":{"EN":"But I mean, why did he do it?!"},"Monter dans la chambre de $namegf":{"EN":"Going up to $namegf's room"},"N-Non...":{"EN":"N-No..."},"N-non pas du t-tout.":{"EN":"N-no, n-not at all."},"Navigation par le clavier.":{"EN":"Keyboard navigation."},"Ne plus afficher":{"EN":"Do not display any more"},"Ne sois pas gêné. C'est un plaisir de la voir prendre son pied comme ça.":{"EN":"Don't be embarrassed. It's a pleasure to see her get off like that."},"Non ! Je vais régler ce problème, c'est temporaire tu verras.":{"EN":"No! I'll fix this problem, it's temporary, you'll see."},"Non ! Pas touche à mon cookie !":{"EN":"No! Don't touch my cookie!"},"Non, je ne vais quand même pas faire ça.":{"EN":"No, I'm not going to do that."},"Nouvelle langue":{"EN":"New language"},"Oh putain non !!":{"EN":"Oh, fuck no!!!"},"Oh, je vois.":{"EN":"Oh, I see."},"Ok, je vois...":{"EN":"Ok, I see..."},"Oublie pas ta place ici bouffe-merde, si je veux parler du cul de ta meuf je le fais. Et je t'ai demandé pourquoi je ne t'ai pas vu hier mais j'ai toujours pas entendu de réponse.":{"EN":"Don't forget your place shit-eater, if I want to talk about your chick's ass I'll do it. And I asked you why I didn't see you yesterday, but I still haven't heard an answer."},"Oui très bien merci.":{"EN":"Very well, thank you!"},"Parfait.":{"EN":"Perfect !"},"Passer le temps":{"EN":"Pass the time"},"Quel est le nom de ton meilleur ami ?":{"EN":"What is the name of your best friend?"},"Quel est son prénom ?<<textbox \"$namesm\" \"Christine\">>":{"EN":"What is her name?<<textbox \"$namesm\" \"Christine\">>"},"Reste couché toi !":{"EN":"Stay down!"},"Retourner dans la maison":{"EN":"Go back to the house"},"Retourner dans ta chambre":{"EN":"Go back to your room"},"S'il te plait, ondule moi...":{"EN":"Please, wave me..."},"Se rendre dans la salle de bain...":{"EN":"Getting to the bathroom..."},"Succès... Vous avez déposé votre argent avec succès. Woah.":{"EN":"Success... You have successfully deposited your money. Woah."},"Succès... Vous avez retiré votre argent avec succès. Vous pouvez aller le dépenser en babioles inutiles.":{"EN":"Success... You have successfully withdrawn your money. You can go and spend it on useless trinkets."},"Super ! :p Et moi, je gagne quoi dans cette histoire ?":{"EN":"Great! :p What do I earn from this story?"},"Tout arrêter":{"EN":"Stop everything"},"Tu cherches désespérement un nom à donner, mais aucun ne te vient à l'esprit. Puis finalement...":{"EN":"You are desperately looking for a name to give, but none of them comes to mind. Until...."},"Tu continues ta montée, ses seins entiers passent sous tes doigts, centimètre par centimètre. Et, en montant, tu sens les tétons bien durs de la belle rousse traçait comme une ligne verticale sur les paumes de tes mains... Bientôt tes doigts épousent parfaitement ses formes, et tu tiens ses nichons dans tes mains.":{"EN":"You keep climbing, her whole breasts are passing under your fingers, inch by inch. And, as you climb up, you feel the hard nipples of the beautiful redhead drawing like a vertical line on the palms of your hands. Divine feeling... Soon your fingers are perfectly fitting her shapes, and you hold her whole tits in your hands."},"Tu déposes plusieurs baisés sur ses lèvres qu'elle te rend en fermant les yeux. Puis tu embrasses son nez, son menton, sa joue, avant de descendre lentement dans son cou. Tu entends son souffle devenir plus profond à mesure qu'elle se laisse aller à tes attentions. Sa tête se lève pour pouvoir laisser tes lèvres se balader plus librement dans son cou.":{"EN":"You put several kisses on her lips and she gives you back by closing her eyes. Then you kiss her nose, her chin, her cheek, before slowly descending into her neck. You hear her breath become deeper as she loosened up to your attentions. Her head rises to allow you to let your lips wander more freely around her neck."},"Tu embrasses délicatement $namegf dans le cou. Rapidement, tu sens son corps se raidir et reculer.":{"EN":"You kiss $namegf delicately on the neck. Quickly, you feel her body stiffen and move back."},"Tu es dans les toilettes de l'école, à genoux. Tu peux sentir la dureté du sol contre tes tibias. Tu es en train de frotter une paire de chaussures avec un drap blanc. En levant la tête, tu vois le propriétaire: $nameb, l'homme qui te terrorise à l'école. Il discute, sans faire attention à toi.":{"EN":"You're in the school bathroom on your knees. You can feel the hardness of the ground against your shins. You're rubbing a pair of shoes with a white sheet. When you look up, you see the owner: $nameb, the man who terrorizes you at school. He talks, without paying attention to you."},"Tu joues à la version augmentée. Merci pour ton soutien !":{"EN":"You're playing the enhanced version. Thank you for your support!"},"Tu marches encore quelques centaines de mètre avant de te retrouver devant le numéro 6. C'est une maison plutôt grande, avec un jardin parfaitement entretenu. Le silence n'est brisé que par le ronronnement de la pompe d'une grande piscine couverte.":{"EN":"You still walk a few hundred meters before you find yourself in front of number 6. It is a rather large house, with a perfectly maintained garden. The silence is only broken by the hum of the pump of a large indoor swimming pool."},"Tu n'as pas envie de parler de ça avec elle. Mais la voir dans cet état te pince le coeur. Tu poses tes mains sur sa taille, et tendrement tu la ramènes contre toi pour la prendre dans tes bras et la rassurer. Sa chaleur et son odeur parfumée t'envahissent immédiatement.":{"EN":"You don't want to talk about this with her, but seeing her in this state pinches your heart. You put your hands on her waist, bring her back to you tenderly to take her in your arms and reassure her. Its warmth and fragrant smell immediately invade you."},"Tu ouvres la porte de la salle de bain, et en entrant, tu sens une bouffée de vapeur chaude envelopper ton corps et remplir tes poumons. Tu n'as pas le temps de réaliser ce qu'il se passe que tu entends un hurlement.":{"EN":"You open the bathroom door, and as you enter, you feel a puff of hot steam enveloping your body and filling your lungs. You don't have time to realize what's going on when you hear a scream."},"Tu ressens un point de tension au niveau du ventre en voyant $nameb draguer $namegf devant toi. Tu as envie d'intervenir, mais cela te semble trop risqué pour le moment, tu préfères attendre et voir comment ça évolue. Et puis, tu peux faire confiance à $namegf. Elle t'aime, n'est-ce pas ?":{"EN":"You feel a point of tension in your stomach when you see $nameb flirting with $namegf in front of you. You want to intervene, but it seems too risky for you at the moment, you prefer to wait and see how things go. Besides, you can trust $namegf. She loves you, doesn't she?"},"Tu restes silencieux.":{"EN":"You stay silent."},"Tu te réveilles en sursaut.":{"EN":"You wake up with a jolt."},"Tu te sens très humilié.":{"EN":"You feel very humiliated."},"Tu vis avec $namesm depuis ton adoption, c'est ta seconde maman. $namesm est stérile, et comme son plus grand rêve était d'avoir une famille, elle a adopté. Elle passe sa vie entre son travail de RH dans une grande société bien installée et l'entretien de son foyer qu'elle prend très à coeur. Elle est dépressive depuis que son ex-mari l'a lâchement abandonné il y a plus de 6 ans.":{"EN":"You've been living with $namesm since your adoption, she's your step-mom. $namesm is sterile, and since her biggest dream was to have a family, she adopted. She spends her life between her HR work in a large, well-established company and the maintenance of her home, which she takes very seriously. She has been depressed since her ex-husband abandoned her cowardly more than six years ago."},"Tu vois $namegf se tortiller en répondant.":{"EN":"You see $namegf squirming as she answers."},"Tu... Tu veux de l'aide ?":{"EN":"Do... Do you want some help?"},"Voilà, je pense que c'est un bon début ! La formation est finie. ㅇㅅㅇ":{"EN":"That's it, I think it's a good start! The training is over. ㅇㅅㅇ"},"Vous jouez toute la journée au jeu vidéo dans l'appartement.":{"EN":"You play video games all day long in the apartment."},"Vous vous dirigez en marchant vers les salles de classe. Tu remarques la démarche trainante de $namebf quand il marche. Cette petite balade te permet de reprendre doucement tes esprits après ce moment intense. Tu demandes.":{"EN":"You walk towards the classrooms. You notice $namebf's shuffling gait when he walks. This short walk allows you to slowly regain your senses after this intense moment. You ask."},"de":{"EN":"of"},"de pomme":{"EN":"apple"},"en goutte d'eau":{"EN":"in drops"},"t'apprécie un peu moins.":{"EN":"likes you a little less."},"vierge":{"EN":"virgin"},"violette":{"EN":"violet"},"$namegf est calme":{"EN":"$namegf is calm"},"$namegf est déchaînée":{"EN":"$namegf is enraged"},"$namegf est ton amie d'enfance et ta petite-amie. Tu ne sais pas ce que tu as fait pour mériter cette fille, mais tu en es très fier ! En plus d'être mignonne, elle est humble, et toujours serviable. Elle travaille beaucoup, ses parents sont sévères et lui mettent la pression pour qu'elle intègre les meilleures écoles. Tout le monde lui prédit d'ailleurs un brillant avenir.":{"EN":"$namegf is your childhood friend and girlfriend. You don't know what you did to deserve this girl, but you're very proud of her! In addition to being cute, she is humble, and always helpful. She works a lot, her parents are strict and put pressure on her to go to the best schools. Everyone is predicting a bright future for her."},"$namegf est émoustillée":{"EN":"$namegf is titillated"},"$namemc ! Ta première cliente est là.":{"EN":"$namemc ! Your first customer is here."},"$namesm doit être en bas avec $namess en train de manger, c'est le moment.":{"EN":"$namesm must be downstairs with $namess eating. It's time."},"$namess laisse filer un petit rire aigüe.":{"EN":"$namess lets a little high-pitched laughter slip out."},"$namess, malheureusement, est la première adoption de $namesm. Elle est ta $relationss en quelque sorte. Elle a 2 ans de plus que toi et fait semblant de suivre des études à l'université pour devenir une \"grande sociologue\".":{"EN":"$namess, unfortunately, is the first adoption of $namesm. She's your $relationss of sorts. She's 2 years older than you and pretending to be a university student to become a \"great sociologist\"."},"$person.ayako.name est en kimono, et visiblement en train de s'entraîner à un sport de combat étrange, une sorte de mix entre du taïchi, du yoga et du kung-fu.":{"EN":"$person.ayako.name is wearing a kimono, and is visibly training in a strange fighting sport, a kind of mix between taïchi, yoga and kung fu."},"''BACKGROUND COLOR DEBUG''":{"EN":"''BACKGROUND COLOR DEBUG''"},"A travers la brume tu vois $namess, sous la douche, nue, essayant désespérement de cacher sa large poitrine et son entre-cuisse avec ses mains.":{"EN":"Through the mist you see $namess, in the shower, naked, desperately trying to hide her large chest and thigh with her hands."},"Ah ouais ? Tu crois que je ne te vois pas sur instagram à taguer toutes les starlettes dans l'espoir de te faire réperer ?":{"EN":"Oh, yeah? You think I don't see you on instagram tagging all the starlets in the hope of getting you spotted?"},"Après ses seins, tu ne peux pas t'empêcher de reluquer son cul. Un beau cul bien rond moulé dans son jean serré. C'est un jean qu'elle met souvent pour l'école. Tu comprends pourquoi $namebf t'a dit que tu faisais des jaloux, certains doivent devenir fou en voyant ça...":{"EN":"After her breasts, you can't help but look at her ass. A nice round ass molded into her tight jeans. These are jeans she often wears for school. You understand why $namebf told you you were making jealous people, some must go crazy when they see this..."},"Au bout d'un moment l'excitation est trop forte, tu lui dis que ça te gave et que t'as envie de rejouer.":{"EN":"After a while, the excitement is too strong, you tell her it bothers you and you want to play again."},"Au cours de ton aventure, tu vas pouvoir gagner des ''Blacked Point'' ou des ''Whited Point'' qui vont définir ton état d'esprit. Tu en as d'ailleurs déjà gagné quelques uns.":{"EN":"During your adventure, you will be able to win ''Blacked Points'' or ''Whited Points'' that will define your state of mind. You've already won a few of them."},"Avant qu'elle ne s'allonge, tu viens te mettre derrière elle, en posant tes mains sur sa taille dénudée. Tu sens déjà son corps réagir à tes caresses, et ses fesses se cambrer contre toi.":{"EN":"Before she lies down, you come and stand behind her, placing your hands on her bare waist. You already feel her body reacting to your caresses, and her buttocks bending against you."},"Avec plaisir...":{"EN":"With pleasure..."},"Bah... On va dire que je suis dans une situation similaire à la tienne. Mais on reparlera de ça plus tard. Tiens.":{"EN":"Well... Let's say I'm in a similar situation to yours. But we'll talk about this later. Here you go."},"Bien, j'ai du travail. Je vous confie à mademoiselle $person.ayako.name qui est une de nos meilleures masseuses. Elle s'occupera de votre formation. Je l'ai déjà prévenu et elle vous attend.":{"EN":"Well, I have work to do. I entrust you to Miss $person.ayako.name who is one of our best masseuses. She will take care of your formation. I've already told her and she's waiting for you."},"BlackedPlus":{"EN":"BlackedPlus"},"Bon !  Fini de rêvasser, sinon je vais me mettre en retard pour l'université. Aller hop, direction la douche !":{"EN":"Well, no more daydreaming, or I'll be late for college. Come on, let's go to the shower!"},"Bonjour, je suis Théo":{"EN":"Hello, I'm Theo"},"Bravo ! Vous avez trouvé un nouveau porno !":{"EN":"Congratulations! You found a new porn!"},"Bravo, tu viens de finir ta première journée dans l'univers de Blacked & Whited. Alors, comment tu la trouves ta rouquine ?":{"EN":"Well done, you just finished your first day in the Blacked & Whited world. So, how do you like your redhead?"},"C'est bien elle.":{"EN":"Yes, it's her."},"C'est qui celle là ? Ta petite amie ? Bon petit cul pour une blanche. C'est quoi son nom ?":{"EN":"Who is that chicks? Your girlfriend? No way... Good little ass for a white girl. What's her name?"},"C'était vraiment pas grand chose, tu peux me croire. Mais suis moi, on va aller dans ma chambre on sera mieux.":{"EN":"It really wasn't much, believe me. But follow me, we'll go to my room, we'll be better there."},"Ce gars a l'air spécial.":{"EN":"This guy looks special."},"Chapeau":{"EN":"Cap"},"Devine c'est qui ?":{"EN":"Guess who it is?"},"Déposer":{"EN":"Deposit"},"Elle parcourt ton corps avec vitesse et légèreté, en pressant, palpant, caressant, effleurant, tapotant, pétrissant, vibrant, lissant... Elle sait parfaitement détecter les muscles tendus, les points de tension, et les relâcher. Une virtuose !":{"EN":"Her hands pass over your body with speed and lightness, pressing, palpating, caressing, touching, tapping, kneading, vibrating, smoothing... She knows how to perfectly detect tense muscles, tension points, and relax them. A virtuoso!"},"Elle se tourne pour voir qui est rentré, et quand elle te voit, un large sourire vient illuminer son visage d'ange.":{"EN":"She turns to see who's home, and when she sees you, a wide smile lights up her angel face."},"En frottant une assiette, ta $relationsm te demande.":{"EN":"While rubbing a plate, your $relationsm asks you."},"EnergyPlus":{"EN":"EnergyPlus"},"Go to work":{"EN":"Go to work"},"Grande, rousse, une taille fine et des hanches pulpeuses, avec un regard franc qui te foudroie ! Et ce déhanché naturel quand elle marche...":{"EN":"Tall, redheaded, thin waist and pulpy hips, with a frank look that strikes you down ! And this natural wiggle when she walks... Awesome."},"Hurler à la mort":{"EN":"Howling at death"},"Il n'y a rien à faire. Malgré ton excitation, tu n'arrives pas à bander à fond. Il faut que tu trouves quelque chose de plus fort...":{"EN":"There's nothing to do. Despite your excitement, you can't get a full hard-on. You have to find something stronger..."},"Il était une fois...":{"EN":"Once upon a time..."},"Influenceur":{"EN":"Influencer"},"J'espère que ça n'a pas été trop dur. Et du coup, tu es ?":{"EN":"I hope it wasn't too hard. So, you are?"},"La salle de bain est occupée par ta $relationss.":{"EN":"The bathroom is occupied by your $relationss."},"Mais pourquoi cette fille se laisse faire ?":{"EN":"Why is this girl allowing it to happen?"},"Mdr ! Tu crois quoi toi ? Une meuf comme moi se fait repérer quand elle veut. Mais comment tu pourrais comprendre avec ta dégaine de fillette anorexique.":{"EN":"Lol! What do you think? A chick like me gets spotted whenever she wants. How could you understand that with your anorexic girl's draw?"},"Merde.. Elle n'était pas au courant des petites... affaires... entre $nameb et moi.":{"EN":"Shit... She wasn't aware of the little... business... between $nameb and me."},"Moussa":{"EN":"Moussa"},"NON ! Non... Continue...":{"EN":"NO! No... Continue..."},"Nan mais j'hallucine ! Sors tout de suite et ferme la porte !":{"EN":"God, I'm hallucinating! Get out now and close the door!"},"Non, je dois aller voir $nameb avant...":{"EN":"No, I have to go see $nameb before..."},"Nous savons combler tous les désirs de nos clients. ''Tous'' les désirs. Et depuis que je suis ici, personne n'est jamais ressorti insatisfait monsieur.":{"EN":"We know how to satisfy all our customers' wishes. ''All'' desires. And since I've been here, no one's ever come out unsatisfied, sir."},"OUI":{"EN":"YES"},"Oh putain...":{"EN":"Oh fuck..."},"Panel Control":{"EN":"Panel Control"},"Prendre l'argent":{"EN":"Taking the money"},"Rentrer à la maison":{"EN":"Going home"},"Retirer son jean":{"EN":"Take off her jeans"},"Retour":{"EN":"Back"},"S'enfoncer dans les bois":{"EN":"Sinking into the woods"},"Sententias hoc exposui C mentionem exposui C Fannio tum ipsam diebus tamquam et ne nobis diebus ut coram sermonem sententias Scaevola habitum tum sermo ut genero Marci ipsos filio hoc C genero arbitratu coram enim et meo habitum mentionem videretur 'inquam' cum C nobis mortem videretur a de libro a Laeli arbitratu cum ipsam mandavi mentionem tamquam ne Fannio quas a Fannio Africani tamquam ut exposui haberi quasi genero nobis 'inquit' Laeli ne mortem loquentes ipsos illo illo amicitia sententias paucis et in cum tum eam Laeli ipsam quasi memoriae nobis 'inquam' 'inquit' arbitratu mandavi sententias 'inquit' induxi mandavi libro.\n\n$videoPrint":{"EN":"Sententias hoc exposui C mentionem exposui C Fannio tum ipsam diebus tamquam et ne nobis diebus ut coram sermonem sententias Scaevola habitum tum sermo ut genero Marci ipsos filio hoc C genero arbitratu coram enim et meo habitum mentionem videretur 'inquam' cum C nobis mortem videretur a de libro a Laeli arbitratu cum ipsam mandavi mentionem tamquam ne Fannio quas a Fannio Africani tamquam ut exposui haberi quasi genero nobis 'inquit' Laeli ne mortem loquentes ipsos illo illo amicitia sententias paucis et in cum tum eam Laeli ipsam quasi memoriae nobis 'inquam' 'inquit' arbitratu mandavi sententias 'inquit' induxi mandavi libro.\n\n$videoPrint"},"Si tu as apprécié le jeu, tu peux soutenir le développement en devenant membre Blacked & Whited. Les membres ont accès à plus de contenu et une version améliorée du jeu ! Deviens membre Blacked & Whited maintenant ! https://www.patreon.com/bigeiffeltower":{"EN":"If you enjoyed the game, you can support the development by becoming a Blacked & Whited member. Members have access to more content and an improved version of the game! Become a Blacked & Whited member now! https://www.patreon.com/bigeiffeltower"},"Style de cheveux":{"EN":"Hair style"},"Système de temps.":{"EN":"Time system."},"Ton foyer, c'est ça. Tu vis dans une petite maison de banlieue à l'architecture sommaire, dans un quartier uniforme, calme et bien rangé. Ta vie n'est pas spécialement palpitante: études, jeux vidéo, dodo. Putain ce que tu aimes dormir. Tes relations sociales se résument à trois personnes, trois femmes : ta petite amie $namegf, ta mère adoptive $namesm, et ta demi-soeur $namess.":{"EN":"Your home, that's it. You live in a small suburban house with a basic architecture, in a uniform, quiet and tidy neighbourhood. Your life is not especially exciting: studies, video games, bedtime. You fucking love to sleep. Your social relationships can be summed up as three people, three women: your girlfriend $namegf, your foster mother $namesm, and your step-sister $namess."},"Tout en continuant d'embrasser $namegf, tu passes ta main le long de ses cuisses, effleurant sa culotte. Tu sens la douce chaleur qui émane de son entre-cuisse, et qui te laisse présager les plaisirs à venir.":{"EN":"As you continue to kiss $namegf, you run your hand along her thighs, touching her panties. You feel the soft warmth that emanates from her thigh, and that lets you predict the pleasures to come."},"Tout ça me servira de leçon, je ferai plus attention la prochaine fois.":{"EN":"All this will be a lesson to me, I'll be more careful next time."},"Tu arrives chez toi. En rentrant, tu sens une bonne odeur de ratatouille. Tu entends ta $relationsm crier depuis la cuisne.":{"EN":"You're coming home. When you come home, you smell a nice ratatouille perfume. You hear your $relationsm scream from the kitchen."},"Tu as beaucoup plus confiance en toi.":{"EN":"You have a lot more self-confidence."},"Tu changes de direction et t'éloigne du vieux. Tu l'entends beugler derrière toi, poussé par la deception.":{"EN":"You change direction and get away from the old man. You hear him screaming behind you, driven by disappointment."},"Tu entends ta $relationss rigoler.":{"EN":"You hear your $relationss laughing."},"Tu entres dans les toilettes. La désormais habituelle odeur de beuh et de pisse envahit tes poumons. $nameb est seul avec la fille aux cheveux blonds.":{"EN":"You enter the toilet. The now common smell of weed and piss invades your lungs. $nameb is alone with the blonde-haired girl."},"Tu es chez toi. La maison est toujours parfaitement rangée.":{"EN":"You're at home. The house is always perfectly tidy."},"Tu es dans ta chambre. Les premiers rayons de soleil traversent timidement tes volets entre-ouverts.":{"EN":"You're in your room. The first rays of sunlight shyly pass through your open shutters."},"Tu es un <<playerGender>> <<playerRace>> <<playerSexuality>>.":{"EN":"You're a <<playerSexuality>> <<playerRace>> <<playerGender>>."},"Tu fermes les yeux quand tes mains descendent encore, et passent sur ses fesses. Tu sens la douceur de son leggins, fine protection entre toi et sa peau nue. Tu presses légèrement tes doigts qui viennent s'enfoncer dans le rebondi moelleux de ses deux fesses... Cette fois, c'est toi qui fait des mouvements involontaires du bassin pour frotter ta queue à elle.":{"EN":"You close your eyes when your hands come down more, and pass over her butt. You feel the softness of her leggings, fine protection between you and her naked skin. You lightly press your fingers that sink into the soft bounce of her two buttocks.... This time, you're the one who makes involuntary movements to rub your penis to her."},"Tu glisses ta main entre les deux cuisses de $namegf, et avec une pression douce, tu l'invites à les écarter. Tu sens une petite résistance, mais rapidement $namegf lâche prise et t'ouvre ses cuisses en grand.":{"EN":"You slide your hand between the two legs of $namegf, and with gentle pressure, you invite her to spread them apart. You feel a little resistance, but quickly $namegf lets go and opens her thighs wide."},"Tu imagines $namegf couiner comme les filles des vidéos alors qu'elle se fait baiser par de grosses queues. Il ne faut pas longtemps avant de te vider dans un sopalin que tu jettes dans la poubelle.":{"EN":"You imagine $namegf squealing like the girls in the videos when they get fucked by big dicks. It doesn't take long before you empty yourself into a tissue that you throw in the garbage can."},"Tu n'apprécies pas mes caresses ?":{"EN":"You don't appreciate my caresses ?"},"Tu n'as pas à te cacher, elle est super jolie... $nameb a du interpréter cela comme un manque de respect. Je suppose qu'il a voulu rappeler à qui appartient cette fille. A sa manière.":{"EN":"You don't have to hide, she's very pretty.... $nameb must have interpreted this as a lack of respect. I guess he wanted to remind you who this girl belongs to. In his own way."},"Tu passes le reste de la journée avec $namebf. Sa présence n'est pas désagréable. Il te raconte sa vie, son avenir en tant que streamer, les pornos qu'il matte, parle de sa soeur, de son chien, de Sasha Grey qui gère apparamment les gang-bangs comme personne, du prochain Avengers qui sort la semaine prochain, du sub-Reddit sur le porn interracial.":{"EN":"You spend the rest of the day with $namebf. His presence is not unpleasant. He tells you about his life, his future as a streamer, the pornos he watches, about his sister, his dog, about Sasha Grey, who apparently manages gang-bangs like no one else, about the next Avengers that comes out next week, about the interracial sub-Reddit"},"Tu passes le reste de la journée à travailler studieusement. Tu es seulement interrompu par $namegfm qui vous amène des rafraîchissements.":{"EN":"You spend the rest of the day working hard. You're only interrupted by $namegfm which brings you refreshments."},"Tu peux gagner des Blacked Point de 3 façons: en appréciant ce qui a trait au Blacked, en rejetant le Whited, et en ayant une attitude clairement soumise.":{"EN":"You can earn Blacked Points in 3 ways: by enjoying what is related to Blacked, by rejecting Whited, and by having a clearly submissive attitude."},"Tu prends ta queue en main, et tu commences à te caresser en regardant de jolies filles prendre et donner du plaisir. L'excitation montant, tu te mets à imaginer $namegf et toi à la place des acteurs...":{"EN":"You take your dick in hand, and you caress yourself by watching pretty girls take and give pleasure. With the excitement rising, you start imagining $namegf and you instead of the actors..."},"Tu regardes ta mère nettoyer la cuisine du coin de l'oeil. Son cul colossal fait des mouvements hypnotiques de gauche à droite quand elle frotte.":{"EN":"You watch your mother clean the kitchen in the corner of your eye. Her colossal ass makes hypnotic movements from left to right when she rubs."},"Tu sais que tu ne peux rien faire, que tu n'es pas en position de force. Tu préfères ne pas le provoquer pour le moment.":{"EN":"You know there's nothing you can do, you're not in a position of strength. You'd rather not provoke him right now."},"Tu sens le tissu de sa petite culotte sous tes doigts, et tu caresses lentement sa petite fente à travers elle. Ta princesse gémit un peu plus fort à chacun de tes gestes.":{"EN":"You feel the fabric of her panties under your fingers, and you slowly caress her little slit through it. Your princess moans a little louder with every move you make."},"Tu te connectes à la section emploi d'un site de petites annonces.":{"EN":"You connect to the job section of a classified ad site."},"Un vieux slip avec l'élastique détendu.":{"EN":"Old underwear with a loose elastic band."},"Une fois dehors, $namebf éclate de rire.":{"EN":"Once outside, $namebf laughs."},"Visiter la ville":{"EN":"Visit the city"},"Voler la clé de la salle de bain":{"EN":"Steal the bathroom key"},"Vous avez découvert tous les lieux ! La ville de $namecity est en construction. Le contenu actuel sert d'aperçu, et me permet de récolter vos retours et vos conseils. La ville aura une vingtaines de lieux répartis en 4 quartiers avec chacun sa spécificité, son ambiance, ses quêtes, ses lieux secrets, ses jobs, etc.":{"EN":"You've discovered all the places! The town of $namecity is under construction. The current content serves as an overview, and allows me to collect your feedback and advice. The city will have about twenty places divided into 4 districts, each with its own specificity, atmosphere, quests, secret places, jobs, etc."},"Vous avez postulé.":{"EN":"You applied for a job."},"WhitedPlus":{"EN":"WhitedPlus"},"dodu":{"EN":"plump"},"est plus corrompue.":{"EN":"is more corrupt."},"homosexuel":{"EN":"homosexual"},"nextenergy":{"EN":"nextenergy"},"noir":{"EN":"black"},"passe...":{"EN":"goes by..."},"$city.massage.name cherche masseur":{"EN":"$city.massage.name is looking for masseur"},"$city.nightclub.name":{"EN":"$city.nightclub.name"},"$nameb paraît surpris de ta réponse.":{"EN":"$nameb seems surprised by your answer."},"$namemc attends ! Pas ça bébé s'il te plait...":{"EN":"$namemc wait! Not that, baby, please..."},"$namess ma chérie, je t'ai entendu crier, qu'est-ce qu'il s'est passé ?":{"EN":"$namess my darling, I heard you scream, what happened?"},"$namess répond par un grognement sans lever son nez du téléphone.":{"EN":"$namess answers with a growl without lifting her nose off the phone."},"$person.kawasaki.name est à son bureau, un stylo à la main, visiblement en train de faire un peu paperasse.":{"EN":"$person.kawasaki.name is at her desk, with a pen in her hand, apparently doing a little paperwork."},"&nbsp; * Nous ne remboursons pas les assurances souscrites de manière automatique sous l'effet de l'alcool ou de drogue quelconque.":{"EN":"&nbsp; * We do not refund insurance automatically purchased under the influence of alcohol or any drug."},"''DISCUSSION DESIGN DEBUG''":{"EN":"''DISCUSSION DESIGN DEBUG''"},"''Putain $namemc tu fais quoi là ? Je t'ai dit de te tirer !''":{"EN":"''What the hell are you doing $namemc? I told you to get out of here!''"},".":{"EN":"."},"A peine es-tu rentré que $namegf se jette sur toi et manque de te faire tomber par terre. Elle te serre contre elle de toutes ses forces. La tête enfouie contre ta veste, sa voix est à moitié étouffée. Mais tu remarques quand même qu'elle sanglotte presque.":{"EN":"As soon as you get in, $namegf throws itself on you and almost drops you to the ground. She holds you tight with all her strength. Her head is buried against your jacket, her voice is half muffled. You still notice that she's almost sobbing."},"Ah ! Mon salaire ! Je t'aime bien toi, t'as toujours les bons mots.":{"EN":"Ah! My salary! I like you, you always have the right words to describe the situation."},"Ah, excusez moi, je ne voulais pas remettre en cause vos compétences.":{"EN":"Ah, excuse me, I didn't mean to question your skills."},"Aller, on se motive !":{"EN":"Come on, let's get motivated!"},"Almost Whited":{"EN":"Almost Whited"},"Aujourd'hui, nous étudierons l'homosexualité chez les animaux de l'oligocène.":{"EN":"Today, we will study homosexuality in oligocene animals."},"Avant de t'en aller, tu ne peux pas t'empêcher de jeter un dernier coup d'oeil. Juste pour vérifier que tout va bien.":{"EN":"Before you leave, you can't help but take one last look. Just to make sure everything's okay."},"Bah écoute, oui pourquoi pas, je me demande comment ça rend sur une télé comme ça.":{"EN":"Well, listen, yes, why not, I wonder how it looks on a TV like that."},"Bravo ! Tu as trouvé un nouveau porno !":{"EN":"Congratulations! You found a new porn!"},"Bureau de la patronne":{"EN":"Boss's office"},"C'est Monsieur Nigaud ! Haha !":{"EN":"It's Mr. Nincompoop! Haha!"},"C'est vrai, elle  s'inquiète pour moi. Elle a le droit de savoir ce qu'il se passe...":{"EN":"That's right, she's worried about me. She has a right to know what's going on."},"Ca y est $namemc, tu es seul dans le lit avec $namegf. 😍 Il va falloir bien te débrouiller, ça n'est pas le moment de flancher !":{"EN":"This is it, $namemc, you're alone in bed with $namegf. 😍 You're going to have to do well, this is not the time to flinch!"},"Cette pute m'appartient, évite de tourner autour si tu ne veux pas que je te casse la mâchoire.":{"EN":"This whore is mine, don't turn around if you don't want me to break your jaw."},"Christine":{"EN":"Christine"},"Comment suivre le chemin Whited ?":{"EN":"How to follow the Whited path?"},"Continuer d'écouter":{"EN":"Continue to listen"},"Deux doigts mouillés":{"EN":"Two wet fingers"},"Elle n'a pas mis de soutif ?!":{"EN":"She didn't wear a bra?!"},"Elle te coupe avec douceur.":{"EN":"She gently cuts you off."},"En devenant membre, tu débloques notamment:":{"EN":"When you become a member, you unlock in particular:"},"Finalement, la sonnerie scolaire se met à retentir. Tous les élèves se précipitent dehors dans un brouhaha infernal. Que souhaites-tu faire de ton après midi ?":{"EN":"Finally, the school bell starts ringing. All the students rush out in a hellish noise. What do you want to do with your afternoon?"},"HALL DES REALISATIONS":{"EN":"ACHIEVEMENTS WALL"},"Hein ? Non ! Qu'est-ce qu'il me prend, je suis un gars ! Je ne vais mettre ça... Non ?":{"EN":"Huh? No! What's the matter with me, I'm a guy! I'm not going to put that on.... No ?"},"Il correspond à ce que je cherche.":{"EN":"He matches what I'm looking for."},"Il débute alors ne vous étonnez pas de la qualité de ses massages. Il a encore beaucoup à apprendre.":{"EN":"He starts so don't be surprised by the quality of his massages. He still has a lot to learn."},"Il est définitivement bizarre... Mais bon, il m'a aidé, je peux bien lui pardonner ça. Je suppose que la moindre des choses, ça serait que j'aille lui rendre visite pour le remercier proprement... Et puis, peut-être que je pourrai enfin réussir à me faire un ami.":{"EN":"He's definitely weird, but he helped me, I can forgive him for that. I guess the least I could do is gvisiting him to thank him properly.... And then, maybe I can finally make a friend."},"Il t'oblige à quoi ? Fais moi confiance bébé...":{"EN":"He is forcing you to what? Trust me, baby. Tell me."},"Ils caressent et réchauffent ton visage, et t'offrent un réveil doux et paisible. Tu te retournes tranquillement, t'étires pendant quelques minutes avant de te lever.":{"EN":"They caress and warm your face, and offer you a gentle and peaceful awakening. You turn around quietly, stretch for a few minutes before getting up."},"Je compte sur toi pour être parfait ! $person.domilf.name a des réseaux dans la haute société de $namecity. C'est une femme très puissante et une cliente importante pour notre établissement.":{"EN":"I am counting on you to be perfect! $person.domilf.name has networks in the high society of $namecity. She is a very powerful woman and an important client for our establishment."},"Je suis heureuse que tu sois si compréhensive.":{"EN":"I'm glad you're so understanding."},"Je suis prêt":{"EN":"I'm ready"},"Jour+1":{"EN":"Day+1"},"L'image de $namegf à genou devant une queue te donne un shout d'excitation. Après quelques va-et-vients, tu ejacules de grosses giclées dans le sopalin.":{"EN":"The picture of $namegf kneeling in front of a cock gives you a shout of excitement. After a few comings and goings, you ejaculate large gushes in a handkerchief."},"La branler":{"EN":"Jerk her off"},"La porte est fermée à clef. Derrière, tu entends $namess écouter le dernier clip de rap à la mode, et une forte odeur de beuh passe à travers la porte.":{"EN":"The door is locked. In the back, you can hear $namess listening to the latest trendy rap video, and a strong smell of weed comes through the door."},"Lara":{"EN":"Lara"},"Le client n'a laissé aucun pourboire":{"EN":"The client didn't leave any tips"},"Le faire":{"EN":"Do it"},"Le mâle dominant ? Territoire ?":{"EN":"The dominant male? Territory?"},"Matter son cul":{"EN":"Check out her ass"},"Merci ! Nous pouvons commencer !":{"EN":"Thank you ! We can start now !"},"NON":{"EN":"NO"},"Ne faîtes pas cette tête attristée, vous venez de faire le meilleur choix de votre vie. Il parait que s'inscrire dans notre banque porte chance !":{"EN":"Don't make that sad face, you've just made the best choice of your life. It seems that registering in our bank brings good luck!"},"Ne rien répondre":{"EN":"Don't answer anything"},"Ne t'inquiète pas, tout ira bien.":{"EN":"Don't worry, everything will be fine."},"No.":{"EN":"No."},"Oh, tu as encore mouillé ton lit mon chérie ?":{"EN":"Oh, have you wet your bed again, darling?"},"Pour toi c'est l'extase.  Ses gémissements chantent la plus belle des musiques à tes oreilles, et tu reçois la délicieuse odeur qui remonte de son entrecuisse. Tu sens la chaleur de son entrecuisse sur tes doigts. Sa chatte est complètement trempée. Tes doigt se mouillent de plus en plus à mesure que tu accentues la pression de tes caresses et que tu t'enfonces. Tu les fais maintenant passer entre deux lèvres bien ouvertes.":{"EN":"For you, it's ecstasy. Her moans sing the most beautiful melody to your ears, and you receive the delicious scent that comes up from her crotch. You can feel the warmth of her thigh on your fingers. Her pussy is completely soaked. Your fingers get wetter and wetter as you increase the pressure of your caresses and sink. You now pass them between two well opened lips."},"Promettre à $nameb de payer demain":{"EN":"Promise to $nameb to pay tomorrow"},"Que souhaites-tu demander à $person.kawasaki.name ?":{"EN":"What would you like to ask $person.kawasaki.name?"},"Quitter la salle de bain":{"EN":"Leave the bathroom"},"Quêtes exclusives":{"EN":"Exclusive quests"},"Retourner dans la rue":{"EN":"Go back to the street"},"Rouvrir les yeux":{"EN":"Reopen your eyes"},"S'éloigner":{"EN":"Move away"},"Samedi":{"EN":"Saturday"},"Sauvegarder ou charger la partie":{"EN":"Save or load the game"},"Si tu as apprécié le jeu, tu peux soutenir le développement en devenant membre Blacked & Whited et accéder dès maintenant au contenu supplémentaire de la version améliorée. Deviens membre Blacked & Whited maintenant ! https://www.patreon.com/bigeiffeltower":{"EN":"If you enjoyed the game, you can support the development by becoming a Blacked & Whited member and access the additional content of the enhanced version. Become a Blacked & Whited member now on https://www.patreon.com/bigeiffeltower"},"Signaler un pb":{"EN":"Report an issue"},"Solde du compte en dollars :":{"EN":"Account balance in dollars:"},"Son jean laisse apparaitre sa petite culotte rose, fine couche de tissu entre tes doigts et son intimité... Tu l'embrasses de nouveau, et son baisé est plus passionné. Tu ressens clairement son excitation qui monte.":{"EN":"Her jeans reveal her pink panties, a thin layer of fabric between your fingers and her intimacy... You clearly feel his excitement rising."},"Soutien-gorge":{"EN":"Bra"},"Stoic apprentice (or frigid)":{"EN":"Stoic apprentice (or frigid)"},"Surpris, tu t'approches lentement de $nameb, et tu baisses les yeux pour regarder au niveau de son caleçon. Tu vois les lèvres roses de Clara autour de la queue de $nameb.":{"EN":"Surprised, you slowly approach $nameb, and look down to look at his underwear. You see Clara's pink lips around $nameb's dick."},"Te lever":{"EN":"Getting up"},"Testing":{},"Tu croises parfois d'autres employés qui viennent ici entre deux clients, et qui se reposent ou boivent un verre sans un mot.":{"EN":"You sometimes meet other employees who come to rest without a word between two clients."},"Tu découvres un espace plus ouvert où la végétation se fait moins dense. Il y a plusieurs caravanes et véhicules abandonnés. Des couvertures jonchent le sol, recouvertent par des capotes usagées.":{"EN":"You discover a more open space where the vegetation is less dense. There are many abandoned caravans and vehicles. Blankets littered the ground, covered with used condoms."},"Tu entends ta $relationss hurler à travers le mur.":{"EN":"You hear your $relationss scream through the wall."},"Tu entres dans les toilettes. La désormais habituelle odeur de beuh et de pisse envahit tes poumons. $nameb est seul avec la fille aux cheveux noirs.":{"EN":"You enter the toilet. The now common smell of weed and piss invades your lungs. $nameb is alone with the black-haired girl."},"Tu es masseur. C'est un beau métier.":{"EN":"You're a masseur. It's a great job."},"Tu es rentré. La chambre de ta mère est remplie d'une douce odeur féminine. Sa chambre est parfaitement rangée, même le lit est fait. Devant toi au milieu de la pièce trône le grand lit double. A sa droite, il y a une commode surmontée d'un large miroir et sur laquelle est posée toutes sortes de bibelots. A gauche du lit, il y a un bureau simple avec une chaise.":{"EN":"You're home. Your mother's room is filled with a sweet feminine scent. Her room is perfectly tidy, even the bed is made. In front of you in the middle of the room is the large double bed. To its right, there is a chest of drawers topped by a large mirror and on which are placed all kinds of knick-knacks. To the left of the bed is a simple desk with a chair."},"Tu regardes par le trou de la serrure. La clé n'y est plus. Tu peux voir ta soeur dans la salle de bain...":{"EN":"You look through the keyhole. The key is no longer there. You can see your sister in the bathroom..."},"Tu retires la clé de la serrure. Au même moment, tu entends $namess derrière la porte.":{"EN":"You take the key out of the lock. At the same time, you hear $namess behind the door."},"Tu rêves de la dernière émission télévisée que tu as regardé.":{"EN":"You're dreaming about the last TV show you watched."},"Tu sens qu'un violent coup t'est porté au visage. Ta conscience te quitte petit à petit alors que tu t'effondres sur le sol, à peine as-tu le temps d'entendre les dernières paroles de ton bourreau...":{"EN":"You feel a severe blow to your face. Your conscience is gradually leaving you as you collapse on the ground, you barely have time to hear the last words of your executioner..."},"Tu t'approches pour être visible. La rouquine n'a pas l'air surpris de voir quelqu'un.":{"EN":"You approach to be seen. The redhead doesn't seem to be surprised to see someone there."},"Tu te concentres sur la conversation.":{"EN":"You focus on the conversation."},"Tu te sens humilié.":{"EN":"You feel humiliated."},"Tu vois quelque chose qui te plait ? :)":{"EN":"Do you see anything you like? :)"},"Une paire de grosses chaussettes.":{"EN":"A pair of big socks."},"Vous avez gagné un niveau dans la compétence":{"EN":"You have gained a level in the skill:"},"Vous avez gagné un peu d'argent.":{"EN":"You've made some money."},"Vous restez dans les bras l'un de l'autre le reste de la soirée à parler, vous embrasser et rigoler. Tu aimerais que ça ne s'arrête jamais, mais le temps passe et il est l'heure pour toi de rentrer. Tu couvres $namegf de baiser une dernière fois, puis tu te lèves à contre-coeur pour te rhabiller et t'en aller.":{"EN":"You stay in each other's arms for the rest of the evening talking, kissing and laughing. You wish it would never stop, but time is running out and you have to go home. You cover $namegf with one last kiss, then you reluctantly get up to get dressed and leave."},"arabe":{"EN":"arabic"},"homme":{"EN":"man"},"ss":{"EN":"ss"},"très...":{"EN":"very..."},"$namebf affiche une mine un peu déçu, vite effacé quand il réalise le moment qu'il va pouvoir partager avec toi. Il change rapidement de vidéo, et vous vous installez confortablement dans le canapé.":{"EN":"$namebf looks a little disappointed, quickly erased when he realizes the moment he will be able to share with you. It quickly changes video, and you sit comfortably on the couch."},"$namegf se cambre par réflexe pour faire ressortir sa poitrine en signe d'offrande.":{"EN":"$namegf arches by reflex to bring out her chest as a sign of offering."},"''NON, STOP ! Eloigne toi de $namegf !''":{"EN":"''NO, STOP! Get away from $namegf!''"},"<<= $namemc.toUpperCase()>> !":{"EN":"<<= $namemc.toUpperCase()>> !"},"A cela s'ajoute également les pourboires que pourront vous offrir les clients. C'est selon leur générosité, et il est strictement interdit d'en demander. La moitié des pourboires reviennent à notre maison.":{"EN":"In addition, there are also tips that customers can offer you. It is according to their generosity, and it is strictly forbidden to ask for it. Half of the tips come back to our house."},"Accès anticipé":{"EN":"Early access"},"Après quelques minutes, elle vient se loger dans le creux de ton bras. Nonchalamment, tu passes ta main dans sa longue chevelure rousse. Tu sens son souffle dans ton cou qui redescend petit à petit.":{"EN":"After a few minutes, it comes to rest in the hollow of your arm. Nonchalantly, you put your hand through her long red hair. You feel her breath in your neck, which gradually descends."},"Argh !":{"EN":"Argh!"},"Aujourd'hui, nous étudierons le modèle économique des camgirls et comment optimiser ses gains quand on fait ce métier.":{"EN":"Today, we will study the camgirls' economic model and how to optimize their earnings when doing this job."},"Bah, oui. Tu le sais pourtant, que j'attends que ça...":{"EN":"Of course yes. You know that I'm looking forward to it..."},"Bingo !":{"EN":"Bingo!"},"Bon, elle n'est pas horrible non plus. Ca aurait pu être pire.":{"EN":"Well, she's not horrible either. It could have been worse."},"Bonjour, je suis Moussa":{"EN":"Bonjour, je suis Moussa"},"Bonjour, je suis Pikachu":{"EN":"Hello, I'm Pikachu"},"Bravant la pression de son regard, tu fais un mouvement pour venir poser ta main sur son gros cul. Mais avant que tu ne puisses terminer ton geste, tu sens un coup sur ta main qui stoppe ton geste.":{"EN":"Braving the pressure of her gaze, you make a movement to come and put your hand on her big ass. But before you can finish your gesture, you feel a blow on your hand that stops your gesture."},"Bravo ! Vous avez découvert un nouveau lieu !":{"EN":"Congrat'! You have discovered a new place!"},"Bravo ! Vous avez réussi un nouvel accomplissement !":{"EN":"Congrat'! You have unlocked a new achievement!"},"Bégayer":{"EN":"Stuttering"},"C'est mon travail maintenant, il va falloir que je m'y fasse.":{"EN":"t's my job now, I'll have to get used to it."},"Ceinture":{"EN":"Belt"},"Clara continue son job. Finalement, dans un long râle, $nameb finit par se vider complètement dans sa bouche.":{"EN":"Clara continues her job. Finally, in a long rail, $nameb ends up emptying his balls into her mouth."},"D'accord. Heuuu... Bah excuse moi encore, et merci pour les gifles alors. On est où ici ?":{"EN":"All right. Um.... Well, excuse me again, and thank you for the slaps then. What is this place?"},"Dans le premier tiroir, tu ne trouves que des documents, des factures, un ciseaux et deux stylos.":{"EN":"In the first drawer, you only find documents, invoices, a scissor and two pens."},"Dans quelle ville se passe cette aventure ?":{"EN":"In which city is this beautiful adventure taking place?"},"Dans tous les cas, je n'ai pas vraiment d'argent pour payer...":{"EN":"In any case, I don't really have the money to pay...."},"Des gloussements lui répondent. Tu tournes la tête, et tu vois $namegf, sourire aux lèvres. Elle ne semble pas t'avoir vu.":{"EN":"Chuckles answer him. You turn your head, and you see $namegf, smiling. She doesn't seem to have seen you."},"Des informations sur la rémunération":{"EN":"Information on remuneration"},"Elle décolle légèrement son corps tout en restant dans tes bras, et elle te chuchote.":{"EN":"She moves her body back slightly, and whispers to you."},"Elle lève vers toi des yeux humides, et remarque la marque du coup que $nameb t'a fait sur la joue. Elle prend une expression affolée.":{"EN":"She looks up at you with wet eyes, and notices the $nameb's punch mark on your face. Her expression takes on a panicky look."},"Elle te l'a dit, que nos regards se sont croisés la dernière fois ? Je la regardais passer pour aller en cours, quand elle m'a vu. T'es un veinard tu sais, elle est vraiment mignonne. Et tu sais ce qu'elle a fait ? Elle a essayé de tenir le regard en prenant un petit air menaçant.":{"EN":"She told you, that our eyes met last time? I was watching her come by for class when she saw me. You're a lucky man, she's really cute. And you know what she did? She tried to hold her gaze by looking a little threatening."},"Enfin, tu les atteins, et quelle sensation ! Quelle douceur ! Tes doigts viennent se blottir contre la courbe de son buste. Avec ton pouce et ton index, tu soupèses ses deux seins magnifiques, fermes et moelleux. Sous ta main, tu peux sentir le coeur de $namegf battre à tout rompre pour toi.":{"EN":"Finally, you reach them, and what a feeling! What a sweetness! Your fingers snuggle up against the curve of her bust. With your thumb and index finger, you weigh her two beautiful, firm and soft breasts. Under your hand, you can feel the heart of $namegf beating like hell for you."},"Enhardi par l'excitation visible de $namegf, tu enfonces un deuxième doigt qui rentre aussi facilement que le premier. La belle est trempée, et tu sens sa sève imbiber ta main.":{"EN":"Enhanced by the visible excitement of $namegf, you push in a second finger that fits in as easily as the first. The beauty is soaked, and you feel her sap soaking into your hand."},"Et bien on peut dire que vous avez eu le nez fin ! Ca nous a bien rapporté. Je me suis fait 3000$ haha !":{"EN":"Well, you had a fine nose. It paid off well. I made $3,000 haha!"},"Examiner une culotte":{"EN":"Examine a pair of panties"},"Hardporn":{"EN":"Hardporn"},"Heu, je ne sais pas trop. J'ai vu de la lumière, je suis rentré...":{"EN":"Uh, I don't know. I saw the light, I came inside..."},"Hey chef. J'ai une mauvaise nouvelle... Je me suis fait racketer sur le chemin de l'école, on m'a tout pris ! Quelle horreur mon dieu ! Ils étaient 3, tous avec des casquettes et des survêtements, je n'ai rien pu...":{"EN":"Hey, chief. I have some bad news.... I got robbed on my way to school, I lost everything I had on me! Oh, my God, what a horror! There were 3 of them, all wearing hats and sweatpants, I couldn't do anything..."},"Il te laisse redescendre et t'en aller seul. En jettant un dernier coup d'oeil, tu le vois s'installer devant son PC. Avant de quitter les lieux, tu t'étonnes de nouveau de la taille de sa maison. Les affaires de son père doivent être florissantes.":{"EN":"He lets you down and go away alone. When you take one last look, you see him sitting in front of his PC. Before leaving the place, you are surprised once again at the size of his house. His father's business must be flourishing."},"Il y a $namebf !":{"EN":"$namebf! $namebf is a friend."},"J'ai dit que je refusais ! Alors ferme ta grande gueule !":{"EN":"I said I wouldn't do it! So shut your big mouth!"},"J'espère que <<= _dbp[_select][1]>> va bien. Tu crois que ça serait le moment que j'aille lui parler haha ?":{"EN":"I hope that <<= _dbp[_select][1]>> is going well. Do you think it would be time for me to go talk to him haha?"},"Je commence à t'apprécier $namemc. Tu me la présenteras un jour, c'est ce que font les vrais potes. Aller, casse toi.":{"EN":"I'm starting to like you $namemc. You'll introduce me to her someday, that's what real friends do. Get out of here now."},"Je ne te cache pas que j'ai essayé de la dissuader de te prendre, tu n'es pas encore assez formé pour gérer ce type de clients. Mais elle malheureusement elle a insisté... Je compte sur toi pour être parfait !":{"EN":"I don't deny that I tried to dissuade her from taking you, you're not yet trained enough to handle this type of client. But unfortunately she insisted... I'm counting on you to be perfect!"},"L'embrasser à pleine bouche":{"EN":"French kiss her"},"La douce odeur sucrée de sa chatte en chaleur vient titiller tes narines. Tu as envie de te jeter dessus avec tes lèvres ou ta queue pour goûter ce coin de paradis, et c'est avec difficulté que tu reprends tes esprits.":{"EN":"The sweet smell of her pussy in heat titillates your nostrils. You want to jump on it with your lips or your dick to taste this piece of paradise, and it's with difficulty that you regain your senses."},"La situation t'excite. Tu viens te mettre contre un arbre, bien en évidence pour qu'elle te voit. Tu dézippes ta braguette, tu sors ta queue, et tu te caresses en la regardant. Elle te remarque rapidement, et tu sens ses mouvements devenir plus sensuels. Elle continue de se branler sans quitter ta queue des yeux.":{"EN":"The situation turns you on. You come to stand against a tree, in full view so she can see you. You unzip your pant zipper, pull out your dick, and caress yourself by looking at her. She quickly notices you, and you feel her movements becoming more sensual. She keeps wanking without taking her eyes off your dick."},"La version publique de Blacked & Whited est gracieusement offerte par tous les Patreons ! Un immence merci pour leur précieux soutien !":{"EN":"The public Blacked & Whited version is graciously offered by all Patreons! Many thanks for their precious support!"},"Le client t'a laissé un pourboire de":{"EN":"The customer tipped you"},"Les filles comme celle de la vidéo me débectent. Aucun respect ni pour elle même ni pour les gens autour d'elle.":{"EN":"Girls like the one in the video disgust me. No respect for herself or the people around her."},"Lui mettre un doigt":{"EN":"Put a finger "},"Mais non ! Pourquoi tu t'arrêtes bébé ! Continue...":{"EN":"No! Why are you stopping, baby?! Continue..."},"Nan mais j'hallucine ! Espèce de connard ! Je suis une femme indépendante et je vais devenir une grande sociologue, je n'ai besoin de personne !":{"EN":"God, I'm hallucinating! You fucking shitty asshole! I am an independent woman and I will become a great sociologist, I don't need anyone!"},"Nom":{"EN":"Surname"},"Non désolé, je ne suis pas intéressée. Tu as frappé mon copain !":{"EN":"No, I'm sorry, I'm not interested. You hit my boyfriend!"},"Oh bah merde ! Désolé $nameb, j'ai oublié mon chéquier chez moi. Tu acceptes les tickets resto ?":{"EN":"Oh well, shit! Sorry $nameb, I left my checkbook at home. Do you accept restaurant tickets?"},"Oh il est génial ton tshirt !":{"EN":"Oh, that's a great t-shirt!"},"Oh merde, c'est gênant...":{"EN":"Oh shit, this is embarrassing..."},"Oh putain... Ce qu'elle est bonne.":{"EN":"Oh fuck... Oh, she's so hot."},"Oh, pardon, j'ai oublié de me présenter. Je m'appelle $namebf. Je suis en première année.":{"EN":"Oh, sorry, I forgot to introduce myself. My name is $namebf. I'm a freshman."},"Oui !! Enfin bref je ne sais pas comment elle peut rester avec lui...":{"EN":"Yes !! Anyway, I don't know how she can stay with him...."},"Oui bien sûr, je m'occuperai bien de lui, tu as ma parole. Et toi, tu pourras avoir un homme rien que pour toi. Je veux dire, un vrai homme, pas une petite pleurnicheuse. Tu en as déjà rêvé, d'avoir un homme comme moi pour prendre soin de toi ?":{"EN":"Yes, of course, I'll take good care of him, you have my word. And you, you can have a man just for yourself. I mean, a real man, not a whiny little girl. Have you ever dreamed of having a man like me to take care of you?"},"Ouvrir le lien":{"EN":"Open the link"},"Quel est le nom de ta petite amie ?":{"EN":"What is the name of your girlfriend?"},"Quelle fée du logis !":{"EN":"What a house fairy!"},"Quitter la forêt":{"EN":"Leaving the forest"},"Refermer la porte":{"EN":"Close the door again"},"Refuser d'obéir !":{"EN":"Refuse to obey!"},"Regarder par le trou de la serrure":{"EN":"Look through the keyhole"},"Ses seins m'appartiennent":{"EN":"Her breasts are mine"},"Si tout le monde n'en fait qu'à sa tête, alors on ne s'en sort plus !":{"EN":"If everyone does as they please, then we can't get away with it!"},"Soudain tu quittes tes pensées : son regard est sur toi. Elle reste bloquée un instant en voyant tes yeux en train de la dévorer, avant de se mettre en colère.":{"EN":"Suddenly you leave your thoughts: her gaze is on you. She gets stuck for a moment seeing your eyes devouring her, before getting angry."},"Soudainement, tu te figes. Tu viens d'entendre du bruit dans les escaliers. Probablement ta $relationss qui remonte. Machinalement, tu mets ce que tu tiens dans les mains dans ta poche, tu refermes le tiroir sans un bruit, et tu te diriges vers la porte.":{"EN":"Suddenly, you freeze. You just heard some noise on the stairs. Probably your $relationss that comes up. Machinally, you put what you hold in your hands in your pocket, close the drawer without a noise, and walk to the door."},"T'as envie de t'en occuper ?":{"EN":"Do you want to take care of it ?"},"Tais toi et profite...":{"EN":"Shut up and enjoy..."},"Te masturber":{"EN":"Jerk off"},"Tu arrives de moins en moins à te contenir... Presque contre ta volonté, tu te rélèves complètement, et tu parle d'une voix qui essaie d'être la plus claire possible.":{"EN":"You're getting less and less able to contain yourself.... Almost against your will, you rise completely, and you speak in a voice that tries to be as clear as possible."},"Tu as gagné":{"EN":"You have won"},"Tu caresses l'intérieur de ses cuisses désormais accessible. C'est doux. Et chaud. Tes caresses remontent doucement et se rapprochent de sa petite fleur que tu effleures du bout des doigts. Elle frissonne de plaisir.":{"EN":"You caress the inside of her thighs now accessible. It's soft. And hot. Your caresses gently rise up and get closer to its flower that you touch with your fingertips. She shivers with pleasure."},"Tu détournes difficilement le regard, et après avoir refermé la porte de la salle de bain, tu sens un malaise t'envahir.":{"EN":"You hardly look away, and after closing the bathroom door, you feel a discomfort invading you."},"Tu es arrivé à la fin du contenu avec ce personnage. Merci de l'avoir suivi ! Du nouveau contenu va arriver très vite, n'hésite pas à t'inscrire sur la newsletter pour être tenu au courant des nouveautés ! Pour cela, rends toi sur le site https://www.blackedandwhited.com":{"EN":"You have reached the end of the content with this character. Thank you for following it! New content is coming soon, feel free to subscribe to the newsletter to be kept informed of update! https://www.blackedandwhited.com/"},"Tu es rentré. La chambre de ta $relationsm est remplie d'une douce odeur féminine. Sa chambre est parfaitement rangée, même le lit est fait. Devant toi au milieu de la pièce trône le grand lit double. A sa droite, il y a une commode surmontée d'un large miroir et sur laquelle est posée toutes sortes de bibelots. A gauche du lit, il y a un bureau simple avec une chaise.":{"EN":"You're home. Your $relationsm's room is filled with a sweet feminine scent. Her room is perfectly tidy, even the bed is made. In front of you in the center of the room is the large double bed. To its right is a chest of drawers topped by a large mirror on which all kinds of knick-knacks are placed. To the left of the bed is a simple desk with a chair."},"Tu fais du lèche-vitrine dans tout le centre commercial. Quel dommage que tu n'aies pas d'argent...":{"EN":"You're window-shopping all over the mall. What a pity you don't have any money..."},"Tu fermes les yeux, et tu restes sur ton lit, la tête vide, à ne surtout rien penser. Après une bonne dizaine de minutes, tu décides qu'il faut te bouger.":{"EN":"You close your eyes, and stay on your bed, with your head empty, thinking nothing. After about ten minutes, you decide you need to get moving."},"Tu n'as pas de piercing.":{"EN":"You don't have any piercings."},"Tu ne résistes plus à l'appel des gémissements qui tournent en boucle depuis plus d'une heure dans ton dos. Tu jetes un coup d'oeil aux écrans de son PC...":{"EN":"You can no longer resist the call of the moans that have been spinning in a loop for over an hour behind your back. You take a look at the screens on his PC..."},"Tu passes tes doigts le long de son dos, et de temps en temps, tu poses tes lèvres sur sa nuque. Tu la sens frisonner.":{"EN":"You run your fingers along her back, and from time to time, you put your lips on her neck. You can feel her shiver."},"Tu peux sentir la colère prendre possession de toi. Il t'a donné un ordre direct et tu l'as envoyé se faire foutre.":{"EN":"You can feel the anger taking over you. He gave you a direct order and you told him to fuck off."},"Tu prends une profonde inspiration, et tu détournes le regard, honteux de ce que tu vas dire.":{"EN":"You take a deep breath, and look away, ashamed of what you're about to say."},"Tu remontes vers elle pour l'embrasser. Elle prend tes lèvres à pleine bouche, et tu en profites pour glisser ta main sur sa petite chatte offerte. Tu frottes directement ta <<playerSexSizeBefore>> queue bien dure contre $namegf qui semble apprécier le pouvoir qu'elle a sur toi.":{"EN":"You go up to her to kiss her. She takes your lips to full mouth, and you take the opportunity to slip your hand over her free pussy. You rub your <<playerSexSizeBefore>> hard cock directly against $namegf who seems to appreciate the seductive power she has over you."},"Tu te masturbes en pensant à ta petite amie.":{"EN":"You masturbate thinking about your girlfriend."},"Tu tombes sur une ruine abandonnée. Par terre, tu peux voir des tas de seringues usagées au milieu de bris de canettes de bière explosées.":{"EN":"You come across an abandoned ruin. On the floor, you can see piles of used syringes in the middle of exploded beer can."},"Tu vis tout seul ici ?":{"EN":"Do you live here alone?"},"Vous avez découvert un nouveau fragment":{"EN":"You have discovered a new fragment"},"Vous avez perdu beaucoup d'argent.":{"EN":"You lost a lot of money."},"Vous passez le reste de la journée à travailler studieusement. Vous êtes seulement interrompu par $namegfm qui vous amène des rafraîchissements.":{"EN":"You spend the rest of the day working hard. You are only interrupted by $namegfm which brings you refreshments."},"You don't have any piercings.":{"EN":"You don't have any piercings."},"nextperiod":{"EN":"nextperiod"},"niveau":{"EN":"level"},"plats":{"EN":"flat"},"sur le côté":{"EN":"on the side"},"$nameb continue de parler à ta petite amie.":{"EN":"$nameb keeps talking to your girlfriend."},"$namebf n'a pas l'air d'en croire ses oreilles non plus.":{"EN":"$namebf doesn't seem to believe his ears either."},"$namebf remarque que ton regard ne décroche pas de l'écran. Il ne semble pas gêné une seconde.":{"EN":"$namebf notices that your eyes are not detached from the screen. He doesn't seem embarrassed for a second."},"$namebf te regarde avec un air bizarre. Vous arrivez devant la porte de ta classe. Il s'arrête.":{"EN":"$namebf looks at you with a strange look. You arrive at the front door of your classroom. He stops."},"$namegf ? C'est ma petite amie.":{"EN":"$namegf? She's my girlfriend."},"$namemc mon bébé, je ne t'avais pas vu ! Je suis contente que tu sois là.":{"EN":"$namemc my baby, I didn't see you! I'm glad you're here."},"$namesm poussa un soupir de désespoir devant cette scène...":{"EN":"$namesm sighed with despair at this scene..."},"''OH !'' Il est paralysé le bouffe-merde ? Ma thune ! Tu l'as ou pas ?":{"EN":"Is the shit-eater paralyzed? My money! Do you have it or not?"},"Ah oui... Pourquoi pas.":{"EN":"Oh yes... Why not."},"Arrivé devant la porte de ta classe, tu fais un signe de la main à $namegf qui continue son chemin pour se rendre quelques salles plus loin, dans la sienne.":{"EN":"When you arrive at your classroom door, you wave to $namegf, who continues on her way to a few rooms further on, in hers."},"Avec tout le bruit que ça fait ? Nan mais j'hallucine, tu veux faire croire ça à qui ?":{"EN":"With all the noise it makes? God, I'm hallucinating, do you really expect people to believe this bullshit? Stupid boy!"},"Bon, je suppose que je m'en sors bien.":{"EN":"Well, I guess I'm doing fine."},"Bonjour, je suis Lucas":{"EN":"Bonjour, je suis Lucas"},"Bonjour, je suis Professeur Mcdonaldgall":{"EN":"Hi, I'm Professor Mcdonaldgall"},"Bonjour, je suis Unknown male":{"EN":"Hello, I'm Unknown male"},"C'est pas grave, c'était bien quand même mon amour. Mais tu feras mieux la prochaine fois, hein ?":{"EN":"It doesn't matter, it was still good, my love. But you'll do better next time, right?"},"C'est ton premier massage, tu es stressé... mais aussi très excité.":{"EN":"It's your first massage, you're stressed... but also very excited."},"C'est vrai ça. Ce genre de filles n'a aucun amour propre. C'est une crasseuse qui ouvre les cuisses à n'importe qui, et n'importe quoi. Franchement, c'est bien mérité ce qui lui arrive.":{"EN":"That's true. These girls have no self-esteem. She's a filthy woman who opens her thighs to anyone, and anything. Frankly, it's well-deserved what's happening to her."},"C'était très mauvais.":{"EN":"It was very bad."},"Ca ne se reproduira pas.":{"EN":"It won't happen again."},"Cette action n'a plus d'effet sur la":{"EN":"This action no longer has any effect on the"},"Cette fois, $nameb s'est adressé directement à toi. Ton stress est encore monté d'un cran. Ca te fait mal de voir $namegf hésitante. Elle ne sait pas comment s'en sortir, elle a besoin de toi...":{"EN":"This time, $nameb spoke directly to you. Your stress has gone up a notch again. It hurts you to see $namegf be so hesitant. She doesn't know how to get out of it, she needs you..."},"Déboutonner ton jean":{"EN":"Unbutton your jeans"},"Ecoute, je suis venu pour être formé, on peut commencer ?":{"EN":"Look, I came to be trained, can we get started?"},"En t'approchant, tu peux mieux détailler ses grosses fesses bien rondes, bien fermes, bien moelleuses, et ce sillon qui les traverse. Tu suis des yeux ce sillon qui vient disparaitre entre ses deux belles cuisses...":{"EN":"As you get closer, you can better detail her big, round, firm, soft buttocks, and the groove that runs through them. You follow with your eyes this groove that disappears between her two beautiful thighs...."},"Et bah reste pas planté là gros, dis bonjour.":{"EN":"Well, don't just stand there, mate, say hello."},"Excitation.":{"EN":"Excitation."},"Faut faire attention aux gens que tu côtoies, certains ont l'air dangereux. Tu ne veux pas te retrouver en morceau, hein ?":{"EN":"You have to be careful with the people you deal with, some of them look dangerous. You don't want to be torn to pieces, do you?"},"Finalement, $nameb se décide à parler. Ou plutôt à aboyer.":{"EN":"Finally, $nameb decides to speak. Or rather to bark."},"Frapper le premier":{"EN":"Hit first"},"Gender.":{"EN":"Gender."},"Il est visiblement en colère.":{"EN":"He's obviously angry."},"Info: la taille de votre pénis débloque certains choix et provoque des réactions spéciales des personnages. Cette option est débloquée pour les membres Blacked & Whited.":{"EN":"Info: The size of your penis unlocks some choices and provokes special reactions from the characters. This option is unlocked for Blacked & Whited members."},"Je comprends la question que vous vous posez monsieur $person.mc.surname. Nous considérons que tous les clients doivent être satisfaits avec le même niveau d’exigence, mais il est vrai que certains clients ont une stature, ou un portefeuille, que d'autres n'ont pas.":{"EN":"I understand the question you're asking yourself, Mr. $person.mc.surname. We consider that all clients must be satisfied with the same level of requirement, but it is true that some clients have a stature, or a wallet, that others do not have."},"Je n'ai pas besoin de prendre une douche pour le moment.":{"EN":"I don't need to take a shower right now."},"Je t'invite à te tenir au courant des nouvelles mises à jour en t'inscrivant à la newsletter sur le site officiel https://www.blackedandwhited.com/":{"EN":"I invite you to keep informed of new updates by subscribing to the newsletter on the official website https://www.blackedandwhited.com/"},"L'esquiver":{"EN":"Dodge it"},"La conversation est coupée par la sonnerie qui retentit, marquant la fin de la journée scolaire. $namebf semble soudainement extrêmement pressé. Il te salut à toute vitesse en renouvellant son invitation, et quitte la salle précipitamment.":{"EN":"The conversation is cut off by the ringing bell, marking the end of the school day. $namebf suddenly seems in an extreme hurry. He greets you quickly by renewing his invitation, and leaves the room hastily."},"La regarder":{"EN":"Looking at her"},"La réalité n’a pas de pitié pour les faibles. Et derrière le vernis de la civilisation se cache une bête. Surpasse tes rivaux, ou accepte d'être maudit. Le gagnant prend tout, le perdant subit.":{"EN":"Reality has no mercy for the weak. And behind the varnish of civilization is hidden a beast. Overtake your rivals, or accept to be damned. The winner takes everything, the loser suffers."},"Mercredi":{"EN":"Wednesday"},"Mimi-Geignarde":{"EN":"Moaning Myrtle"},"Mmmh, j'adore quand tu m'appuies dessus.":{"EN":"Mmmh, I love it when you lean on me."},"Mon armoire, mes habits.":{"EN":"My closet, my clothes."},"Monsieur $player.identity.lastname ! Nous avons un prolème ! Pour vous résumer simplement la situation, il y a eu une horrible chute d'un baril de pétrole dans l'océan pacifique, et cette chute a provoqué un reflux du cours mondial du tungstène vers des abîmes encore jamais atteintes, déclenchant de très belles révoltes de la faim dans certains trous à merde du monde, impliquant la délocalisation de la production de dentifrice et une explosion du chômage local.":{"EN":"Mr. $player.identity.lastname! We have a problem! To sum up the situation simply, there was a horrible drop of a barrel of oil in the Pacific Ocean, and this drop caused the world price of tungsten to fall back to unprecedented levels, triggering very beautiful hunger revolts in some shitholes in the world, involving the relocation of toothpaste production and an explosion in local unemployment."},"Ne pas répondre et la prendre dans tes bras":{"EN":"Don't answer and hug her"},"NightColors":{"EN":"NightColors"},"Non, attends. Pas maintenant. On doit aller travailler, et ma mère est en bas, elle peut venir à tout moment...":{"EN":"No, wait, wait. Not now. We have to go to work, and my mother is downstairs, she can come at any time..."},"Oh ouais, belle salope...":{"EN":"Oh yeah, you beautiful bitch..."},"Oh ouais... Elle prend son pied cette petite putain...":{"EN":"Oh yeah.... She's enjoying herself, this little whore..."},"Peut-être que je pourrai...":{"EN":"Maybe I could..."},"Prénom":{"EN":"First name"},"Que souhaitez-vous demander à $person.kawasaki.name ?":{"EN":"What would you like to ask $person.kawasaki.name?"},"Rentrer chez soi":{"EN":"Going home"},"Retirer ton caleçon":{"EN":"Take off your underwear"},"Retirer ton jean":{"EN":"Take off your jeans"},"STOP !":{"EN":"STOP !"},"Sa présence, son odeur et le contact de sa peau t'enivre un peu trop. Tu sens dans ton caleçon une légère pression qui commence à doucement monter, et tes caresses se font un peu plus appuyées.":{"EN":"Its presence, its smell and the contact of its skin make you a little too drunk. You feel a slight pressure in your underwear that starts to rise slowly, and your caresses get a little stronger."},"Se détendre et retourner travailler":{"EN":"Relax and go back to work"},"Sentir son odeur":{"EN":"Smell its scent"},"Si j'avais la carrure de mon Paladin 120, ça serait différent, j'en ferai qu'une bouché. Petit sceau d'altérité avec une...":{"EN":"If I had the stature of my Paladin 120, it would be different, I'd only make it a mouthful. Small seal of otherness with a...."},"Si tu le souhaites, tu peux personnaliser cette histoire en modifiant tes caractéristiques !":{"EN":"If you wish, you can customize this adventure by editing your characteristics!"},"Sous-vêtement":{"EN":"Underwear"},"Timide en public, $namegf l'est beaucoup moins en privée. En privée, elle est capable de démonstrations d'affection surprenantes.":{"EN":"Shy in public, $namegf becomes very expressive in private. In private, she is able to show surprising demonstrations of affection."},"Traduction":{"EN":"Traduction"},"Trop jeune et... gamine apparemment":{"EN":"Too young and... immature apparently"},"Tu acquiesces de la tête, incapable d'ouvrir la bouche.":{"EN":"You nod, unable to open your mouth."},"Tu arrives devant l'imposant bâtiment. Tu t'es toujours demandé qui avait construit quelque chose d'aussi laid, et si cette personne était communiste. Tu ressens toujours un sentiment d'oppression en arrivant à ses pieds.":{"EN":"You arrive in front of the imposing building. You always wondered who had built something so ugly, and if that person was a communist. You always feel a sense of oppression when you reach its feets."},"Tu as du mal à croire tes oreilles. Tu viens de demander à $namebf de mettre du porno sur la grande télé pour en regarder ensemble... C'est tellement bizarre ! Et en même temps tellement excitant.":{"EN":"You can't believe it. You just asked $namebf to put porn on the big TV to watch together... It's so weird! And at the same time so exciting."},"Tu as presque les larmes aux yeux. $nameb se tourne vers toi, un grand sourire sur les lèvres.":{"EN":"You almost have tears in your eyes. $nameb turns to you with a big bad smile."},"Tu bafouilles.":{"EN":"You're babbling."},"Tu bandes déjà bien, et elle n'a pas pu ne pas sentir ta queue contre elle. Elle semble même s'y frotter doucement à travers ton caleçon.":{"EN":"You're already hard, and she couldn't have not felt your dick against her. She even seems to rub it gently through your underwear."},"Tu connais cette actrice ? Elle est très connue, c'est une de mes préférés. Nan mais regarde ce cul putain, t'as déjà vu un cul comme ça ? Et cette cambrure... Cette blonde est une déesse !":{"EN":"Do you know this actress? She's very well known, she's one of my favorites. Nah, look at this fucking ass, have you ever seen an ass like this? And this arch... That blonde bitch is a goddess!"},"Tu détournes difficilement le regard, avant de t'en aller.":{"EN":"You hardly look away, before going away."},"Tu es dans ta chambre. Il y a du bordel un peu partout et il y a plus de caleçon sur le sol que dans ton armoire. Quant à l'odeur, elle est infecte.":{"EN":"You're in your room. There's a mess everywhere and there's more underwear on the floor than in your closet. As for the smell, it is infamous."},"Tu es devant la porte des toilettes depuis 10 bonnes minutes, à chercher les bons mots qui pourraient préserver $nameb d'une colère. Tu sais très bien que tout peut arriver si il se met en colère.":{"EN":"You've been outside the toilet door for a good 10 minutes, looking for the right words that could save $nameb from anger. You know very well that anything can happen if he gets angry."},"Tu es enfin là bébé, je commençais à teeeellement m'ennuyer !":{"EN":"You're finally here, baby, I was getting sooooo bored!"},"Tu es épuisé.":{"EN":"You're exhausted."},"Tu joues toute la soirée à tes jeux vidéos préférés.":{"EN":"You play your favorite video games all night long."},"Tu joues à la version améliorée. Merci pour ton soutien !":{"EN":"You're playing the improved version. Thank you for your support!"},"Tu m'as sauvé deux fois lol ! Normal de venir te remercier.":{"EN":"You saved me twice, lol! No wonder I came to thank you."},"Tu ne trouves pas que les gens sont trop matérialistes de nos jours ? L'important n'est il pas dans l'humain ? Pourquoi ne pas simplement vivre en paix et dans l'amour ?":{"EN":"Don't you think people are too materialistic these days? Isn't the important thing in humans? Why not just live in peace and love?"},"Tu ouvres la porte de chez toi.":{"EN":"You open the door from home."},"Tu prends ta <<playerSexSize>> queue en main, et tu commences à te caresser en regardant de jolies filles prendre et donner du plaisir. L'excitation montant, tu te mets à imaginer $namegf et toi à la place des acteurs...":{"EN":"You take your <<playerSexSize>> dick in hand, and you start to caress yourself by watching pretty girls take and give pleasure. With the excitement rising, you start imagining $namegf and you instead of the actors..."},"Tu prends une culotte dans tes mains. C'est une petite culotte rose en coton avec des points noirs dessus...":{"EN":"You take a panties in your hands. This is a little pink cotton panty with black dots on it..."},"Tu préfères ne pas la déranger.":{"EN":"You prefer not to disturb her."},"Tu préfères t'éloigner":{"EN":"You'd rather walk away"},"Tu reprends tes esprits, et en levant les yeux tu vois $nameb qui te regarde avec un air méchant.":{"EN":"You come to your senses, and when you look up you see $nameb staring at you with a nasty look."},"Tu sais que si tu as besoin de vêtements tu peux me demander ?":{"EN":"You know that if you need clothes you can ask me?"},"Tu suis $namebf jusque dans sa chambre. Vous traversez plusieurs pièces qui te semblent toutes très grandes. La maison est complètement vide, en dehors de vous deux.":{"EN":"You follow $namebf to his bedroom. You go through several rooms that all seem very spacious to you. The house is completely empty, except for you two."},"Tu t'approches de la borne de retrait SupaATM™ tu y insères ta carte SupaCard™. Tu entends le vieux modem 56k qui équipe l'appareil crépiter dans tous les sens alors qu'il se connecte au réseau. Y-uuuuu-krrrrr-t-krrrrr-uuuuuu-bip-bop-uuuu. Une fois connectée, l'écran affiche les informations de ton compte.":{"EN":"Californian massage: gentle and soothing, tensions are relieved and the mind relaxed."},"Tu te tournes vers $nameb, un peu gêné et ne sachant quoi faire. Sans pression, il te fait un check et te met une petite tape amicale derrière la tête.":{"EN":"You turn to $nameb, a little embarrassed and not sure what to do. Without pressure, he checks you out and slaps you on the back of the head with a friendly pat."},"Tu vois tout le corps de $namegf se tordre sous l'effet du plaisir que tu lui procures, et tu l'entends gémir sans se retenir..":{"EN":"You see $namegf's whole body twisting under the effect of the pleasure you give her, and you hear her moaning without holding back..."},"U-Un peu...":{"EN":"A l-little..."},"Un petit mensonge mignon ne fait jamais de mal. Et elle a un beau sourire...":{"EN":"A cute little lie never hurts. And she has a beautiful smile..."},"Une attirance inattendue":{"EN":"An unexpected attraction"},"hérérosexuel":{"EN":"hererosexual"},"lèvres gourmandes":{"EN":"gourmet lips"},"roux":{"EN":"redhead"},"verte":{"EN":"green"},"$nameb n'a pas l'air content du tout. Il te jette un regard noir qui en dit long.":{"EN":"$nameb doesn't look happy at all. He gives you a black look that tells you a lot."},"$nameb prend la parole.":{"EN":"$nameb takes the floor."},"$nameb se relève doucement. Et soudainement, alors qu'il te semblait calmé...":{"EN":"$nameb rises slowly. And suddenly, when it seemed to you that he was calmed down..."},"$namegf te laisse faire, et tu entends sa respiration devenir plus profonde. Elle a fermé les yeux pour mieux profiter de tes caresses.":{"EN":"$namegf lets you do it, and you hear her breathing get deeper. She closed her eyes to better enjoy your caresses."},"$namemc, c'est toi. Seul rescapé d'un accident de la route quand tu n'était encore qu'un enfant, tu as très vite compris que rien ne te serait donné dans la vie.":{"EN":"$namemc, it's you. As the only survivor of a road accident when you were still a child, you quickly realized that nothing would be given to you in life."},"$namess, malheureusement, est ta $relationss, et vit sous le même toit que toi. Elle a 2 ans de plus que toi et fait semblant de suivre des études à l'université pour devenir une \"grande sociologue\".":{"EN":"$namess, unfortunately, is your $relationss, and lives under the same roof as you. She's 2 years older than you and pretending to be a university student to become a \"great sociologist\"."},"(^_^)v":{"EN":"(^_^)v"},"<<= $namemc.toUpperCase()>> ! PUTAIN QU'EST-CE QUE TU FAIS !?":{"EN":"<<= $namemc.toUpperCase()>> ! WHAT THE FUCK ARE YOU DOING?!"},"A ta grande surprise, $namegf s'approche doucement de $nameb. Tu la vois s'approcher jusqu'à quelques centimètres de lui.":{"EN":"To your surprise, $namegf is slowly approaching $nameb. You see her approaching within a few inches of his body."},"Aaaaah, ouais, rien ne vaut un bon porno...":{"EN":"Oh yeah, nothing is as good as good porn..."},"Ah oui... Euh... L'argent... A ce propos... Je voulais te dire... Je n'ai pas pu... Je veux dire... Tu sais... J-Je t'amène ça disons... D-Demain ?":{"EN":"Oh yes... Uh... The money... About this... I wanted to tell you... I couldn't... I mean... You know... I-I bring you this, let's say... T-Tomorrow?"},"Ah, d'accord, comme tu veux.":{"EN":"Ah, all right, as you like."},"Ah, mais regardez c'est qui. C'est mon meilleur pote $namemc. Je t'en prie, rentre.":{"EN":"Ah, look who it is. That's my best buddy $namemc. Please, come in."},"Aller dans la chambre de ta $relationsm":{"EN":"Go to your $relationsm room"},"Avec les pornos que tu as vus, tu as sans le vouloir en tête l'image de ses lèvres roses autour de ta queue, pendant que ses seins se balancent au rythme des va-et-vient. Tu secoues la tête pour reprendre tes esprits.":{"EN":"With the pornos you've seen, you unintentionally have in mind the picture of her pink lips around your cock, while her breasts swing to the rhythm of the comings and goings. You shake your head to come to your senses."},"Avec plaisir. Merci pour l'aide, et à bientôt senpai !":{"EN":"With pleasure. Thanks for the help, and see you soon senpai!"},"Bah tu sais, du porno plus habituel...":{"EN":"Well, you know, more common porn..."},"Bonjour, je suis Bus girl 2":{"EN":"Bonjour, je suis Bus girl 2"},"Ce n'est pas exactement le genre de client dont tu rêvais...":{"EN":"He's not exactly the kind of customer you dreamed of..."},"Ce n'est rien. Je vous invite à consulter la liste de nos services dans le livret de l'espace détente sur votre droite. Je suis disponible au fond de la salle, n'hésitez pas à me solliciter, c'est un plaisir de vous servir.":{"EN":"It's nothing. I invite you to consult the list of our services in the booklet on the relaxation area, just on your right. I am available at the back of the room, do not hesitate to contact me, it is a pleasure to serve you."},"Ces mots réchauffent ton coeur, et tu refermes ton bras sur elle, comme pour la protéger.":{"EN":"These words warm your heart, and you close your arm around her, as if to protect her."},"Ces paroles ont eu l'effet d'un electrochoc ! L'idée que $namegf puisse être mêlée à tout ça... Ton stress s'entend clairement dans ta voix.":{"EN":"These words had the effect of an electroshock! The idea that $namegf could be involved in all this.... Your stress was clearly heard in your voice."},"Cheat mode":{"EN":"Cheat mode"},"Chhhhh concentre toi sur la game, on est en train de se faire remonter !":{"EN":"Chhhhh, focus on the game, we're getting pulled up!"},"Comme indiqué dans notre réponse à votre postulation, nous ne passons des entretiens que les matins, lorsque le flux de clients est moins important.":{"EN":"As indicated in our response to your application, we only interview in the mornings, when the flow of clients is less important."},"D'ailleurs, heureusement que t'es un poids plume sinon je n'aurais pas été bien loin en te portant.":{"EN":"Besides, fortunately you're a lightweight or I wouldn't have gone very far in carrying you."},"D'un geste de la main, tu la supplies de se rendre en cours sans toi. $nameb remarque ton geste, et tourne sa tête pour poser ses yeux bovins sur $namegf qui s'éloigne.":{"EN":"With a wave of your hand, you beg her to go to class without you. $nameb notices your gesture, and turns his head to put his cattle eyes on $namegf as she walks away."},"Dans la petite boite, tu trouves une petite liasse de billet.":{"EN":"In the little box, you find a small stack of cash."},"DayPlus":{"EN":"DayPlus"},"De nouveau, la douleur t'oblige à t'arrêter.":{"EN":"Again, the pain forces you to stop."},"Elle effleure du bout des doigts ta blessure.":{"EN":"She's touching your wound with her fingertips."},"Elle te rend ton sourire, et te gratifie d'un baisé, à moitié sur ta joue, à moitié sur tes lèvres. La sensation de son baisé et de son goût laisse une marque sensorielle toujours présente plusieurs secondes après qu'elle ait retiré ses lèvres. Tu as envie de fermer les yeux pour mieux en profiter, mais elle te rappelle très vite à la réalité.":{"EN":"She gives you your smile back, and gratifies you with a kiss, half on your cheek, half on your lips. The feeling of her kiss and taste leaves a sensory mark still present several seconds after she had removed her lips. You want to close your eyes to better enjoy it, but she quickly reminds you of reality."},"En profiter pour se rendre dans sa chambre":{"EN":"Take the opportunity to go to her room"},"Grisé par le frisson excitant de cette sensation, tu te laisses aller et tu prends ses deux seins à pleine main pour les malaxer. Tu bandes maintenant complètement. Tu entends $namegf pousser des gémissements de plaisir qui t'excitent encore.":{"EN":"Exhilarated by the thrill of this sensation, you let yourself go and take both her breasts with your full hand to knead them. You're now completely hard. You hear $namegf growling moans of pleasure that excite you even more."},"Hein, tu te demandes ce que c'est ça ? Bah ça, c'est ma tête, et ces mots sont mes pensées. Et moi, je suis toi, ou moi, comme tu veux. Bref, on s'est compris, emmène moi me doucher !":{"EN":"Huh, you're wondering what that is? Well, that's my head, and those words are my thoughts. And I'm you, or me, as you wish. Anyway, we understood each other. Take me to the shower or we will be late."},"Hey ! Oh !":{"EN":"Hey! Oh!"},"Il fait une pause, avant de reprendre avec un petit sourire.":{"EN":"He pauses, before resuming with a little smile."},"Il te harcèle c'est ça ? Parle moi en s'il te plaît, j'ai besoin que tu me dises...":{"EN":"He's harassing you, isn't he? Please tell me about it, I need you to tell me..."},"Il te tend un petit bout de papier.":{"EN":"He hands you a little piece of paper."},"Il y a beaucoup de chose que tu as envie de faire... Comme te jeter sur elle pour la déshabiller. Mais pour l'instant, tu vas te contenter d'y aller petit à petit.":{"EN":"There's a lot you want to do... Like throwing yourself at her to undress her. But for now, you're just going to go little by little."},"Je m'occupe très bien de moi tout seul !":{"EN":"I take very good care of myself alone!"},"Kévin":{"EN":"Kévin"},"La \"paie\"... Ce mec est juste en train de me voler...":{"EN":"The \"pay\"... This guy is just stealing me."},"La leçon d'hier t'a pas suffit ? Tenez le ! Tenez le bien !":{"EN":"Yesterday's lesson wasn't enough for you? Ok. Hold him. Hold him tight."},"La salle de repos du salon est dans le style dojo asiatique. Il n'y a pas grand chose à faire, à part se reposer.":{"EN":"The lounge is in the Asian dojo style. There's not much to do but rest."},"Laisse moi encore un jour ! Pitié ne me frappe pas !":{"EN":"Give me one more day! Please don't hit me!"},"Le client est une homme dans la cinquantaine. Mal coiffé, mal rasé et vêtu d'un survêtement blanc. Il t'annonce être là sur les conseils de son médecin, des douleurs lombaires le dérangeant dans son travail manuel.":{"EN":"The client is a man in his fifties. Poorly combed, poorly shaved and dressed in a white tracksuit. He tells you he's here on the advice of his doctor, with lumbar pain bothering him in his manual work."},"Le développement du jeu est très actif, et je rajoute régulièrement du nouveau contenu. Clique sur le lien discord à gauche pour être tenu au courant des mises à jour, partager tes idées, donner ton avis, signaler un bug, ou simplement discuter avec la communauté.":{"EN":"The game development is very active, and I regularly add new content. Click on the discord link on the left to be kept informed of updates, share your ideas, give your opinion, report a bug, or simply chat with the community."},"Le goût du péché":{"EN":"The taste of sin"},"Les deux filles ont un petit mouvement de recul quand tu leur fais la bise.":{"EN":"The two girls have a little backward movement when you kiss them."},"Lui mettre deux doigts":{"EN":"Put two fingers"},"Mais qu'est-ce qu'elle peut bien faire là dedans ?":{"EN":"What the hell is she doing in there?"},"Mais qu'est-ce que tu as au visage ?":{"EN":"What the fuck is that mark on your face?"},"Maison de Théo":{"EN":"Theo's House"},"Massage plantaire. Massage aux pierres chaudes. Massages tantriques. Massage qui donne la trique.":{"EN":"Foot massage. Hot stone massage. Tantric massage. Gives you the brick massage."},"Nan continuons à jouer":{"EN":"No, let's keep playing"},"Non":{"EN":"No"},"O-oui.":{"EN":"Y-yes."},"Official Website":{"EN":"Official Website"},"Oh $namemc.. Mm-mmh.":{"EN":"Oh $namemc... Mm-mmh."},"Origines":{"EN":"Origins"},"Ouch !":{"EN":"Ouch!"},"Postuler":{"EN":"Apply for a job"},"Que veux-tu faire ?":{"EN":"What do you want to do?"},"Robin des bois":{"EN":"Robin Hood"},"Sans interrompre ton baisé, tu remontes tes mains pour accrocher la couture de son leggins avec tes pouces. Et d'un coup, tu le descends jusqu'en bas de son postérieur. Elle pousse un petit cri en sentant son cul se faire déshabiller sans qu'elle n'arrive à s'y opposer. Tu attrappes ses fesses maintenant sans protection pour les malaxer, et frottes ta queue ostensiblement contre $namegf.":{"EN":"Without interrupting your kisses, you raise your hands to hang the seam of her leggins with your thumbs. And then all of a sudden, you take it down to the bottom of her butt. She screams as she feels her ass being undressed without being able to resist. You grab her ass, now without protection, to squeeze it, and ostensibly rub your dick against your lovely $namegf."},"Se détendre":{"EN":"Relaxing"},"Se mettre au travail":{"EN":"Getting to work"},"Signer le contrat":{"EN":"Sign the contract"},"Sortir des toilettes":{"EN":"Getting out of the toilet"},"T'as pas intérêt à la mêler à tout... \t\t<<t>> \t\t\tOuch ! \t\t<</t>>":{"EN":"You better not bring her into this... \t\t<<t>> Ouch ! \t\t<</t>>"},"T'es encore une fois dans les derniers ! Mais qu'est-ce qui te prend autant de temps entre le bus et ici ? Allons vite en cours avant que tu ne nous mettes en retard Monsieur Nigaud !":{"EN":"You're in the last few again ! What the hell is taking you so long between the bus and here? Let's go to class fast before you make us late, Mr. Nincompoop!"},"Taxe sur les retraits d'argent en soutien aux minorités homo, bi, trans et bien d'autres":{"EN":"Tax on money withdrawals in support of gay, lesbian, bisexual, trans and many other sexual and gender minorities"},"Théo's mother":{"EN":"Théo's mother"},"Tu ES une merde.":{"EN":"You ARE a shit."},"Tu as beau changer de position, compter les moutons, te vider l'esprit, il n'y a rien à faire, le sommeil ne vient pas. Ton esprit est rempli de pensées érotiques que tu n'arrives pas à chasser. Ta main vient machinalement se poser sur ta queue bien dure qu'elle caresse doucement sur toute sa longueur.":{"EN":"No matter how much you change position, count the sheep, clear your mind, there's nothing you can do, sleep doesn't come. Your mind is full of erotic thoughts that you can't chase away. Your hand mechanically comes to rest on your very hard penis."},"Tu descends du bus.":{"EN":"You get off the bus."},"Tu entends ta soeur rigoler.":{"EN":"You hear your sister laughing."},"Tu es donc nouveau.":{"EN":"So you're new."},"Tu n'aurais pas, disons, un autre type de porn ?":{"EN":"Don't you have, well, any other kind of porn?"},"Tu ne sais pas si elle est adulte ou pas, mais tu es certain qu'elle sait quoi faire avec ses doigts.":{"EN":"You don't know if she's an adult or not, but you're sure she knows what to do with her fingers."},"Tu ouvres la pièce jointe. Une vidéo se charge et se lance.":{"EN":"You open the attached files. A video load and play."},"Tu regardes par le trou de la serrure. La clé n'y est plus.":{"EN":"You look through the keyhole. The key is no longer there."},"Tu regardes ta $relationsm nettoyer la cuisine du coin de l'oeil. Son cul colossal fait des mouvements hypnotiques de gauche à droite quand elle frotte.":{"EN":"You watch your $relationsm clean the kitchen in the corner of your eye. Her colossal ass makes hypnotic movements from left to right when she rubs."},"Tu seras gentil, mange-merde ?":{"EN":"Will you be nice, shit-eater?"},"Tu te poses tranquillement sur ta chaise gaming. Tu passes tes doigts sur les petits coussinets des accoudoirs, c'est extrêmement apaisant. Un léger ronronnement se fait entendre lorsque tu appuies sur le bouton d'allumage de ta fusée.":{"EN":"You sit quietly in your gaming chair. You run your fingers over the small pads of the armrests, it's extremely soothing. A slight humming sound is heard when you press the ignition button of your rocket."},"Tu te réveilles en sursaut. Tu es en sueur, et complètement essoufflé.":{"EN":"You wake up with a start. You're sweaty, and completely out of breath."},"Tu vois ta petite $namegf, habituellement si timide, regarder $nameb dans les yeux en caressant avec sa main une bosse bien dure dans son pantalon. Tu vois ses doigts passer doucement sur toute sa longueur, à quelques centimètres de ton visage.":{"EN":"You see your little $namegf, usually so shy, looking $nameb in the eye, stroking a hard bump in his pants with her hand. You see her fingers running gently along its entire length, a few centimetres from your face."},"Tu vois une affiche plaquée sur la porte : Bienvenue au $city.nightclub.name Club ! Nous sommes fermés en journée, revenez plus tard..":{"EN":"You see a notice stuck on the door: Welcome to the $city.nightclub.name Club! We are closed during the day, come back later..."},"Une augmentations de salaire":{"EN":"A pay increase"},"Version augmentée":{"EN":"Enhanced version"},"Vous auriez du me prévenir !":{"EN":"You should have warned me!"},"Vous avez plus confiance en vous. (Whited Point++)":{"EN":"You have more self-confidence. (Whited Point++)"},"Vous jouez jusqu'à tard le soir.":{"EN":"You play until late at night."},"Vraiment ?":{"EN":"Seriously ?!"},"Yo ! Moi c'est BigEiffelTower, l'artisan de Blacked & Whited. Avant de commencer, je tenais à te souhaiter une bonne aventure, et j'espère que tu prendras autant de plaisir à jouer que j'en ai à l'écrire et à la développer. :) Le développement du jeu est très actif, et je rajoute régulièrement du nouveau contenu. N'hésite pas à rejoindre notre discord pour être tenu au courant des mises à jour.":{"EN":"Yo ! I'm BigEiffelTower, the artisan of Blacked & Whited. Before you start, I wanted to wish you a good adventure, and I hope you will enjoy playing as much as I do writing and developing it. :) The game development is very active, and I regularly add new content. Feel free to join our discord to be kept informed of updates."},"b":{"EN":"b"},"courte":{"EN":"short"},"touffu":{"EN":"leafy"},"utilisée":{"EN":"worn out"},"$nameb continue de parler, et $namegf semble complètement hypnotisée. Tu vois les doigts sombres de $nameb effleurer la peau blanche de la cuisse de $namegf...":{"EN":"$nameb keeps talking, and $namegf seems completely hypnotized. You see $nameb's dark fingers touching the white skin of $namegf's thigh..."},"$namegf est complètement absorbée par les sensations, et ne répond rien. Elle pousse un soupir incontrôlé quand Moussa vient prendre ses deux fesses entre ses mains et plaque ta copine contre lui. Tu as presque envie de pleurer en voyant $nameb, sous la robe de $namegf, prendre son cul à pleine main pour le malaxer avec vigueur.":{"EN":"$namegf is completely absorbed by sensations, and responds nothing. She sighs uncontrollably when Moussa comes to take her two buttocks in his hands and puts your girlfriend against him. You almost want to cry when you see $nameb, under $namegf's dress, taking her ass in full hand and kneading it vigorously."},"$namess ?":{"EN":"$namess?"},"A la fin du massage, elle te remercie chaleureusement. Avec un clin d'oeil, elle t'avoue que ça fait longtemps qu'elle n'a pas été touché par un beau jeune homme comme toi, et qu'elle vantera tes mérites à ses amies.":{"EN":"At the end of the massage, she thanks you warmly. With a wink, she admits to you that she hasn't been touched by a handsome young man like you in a long time, and that she will praise your merits to her friends."},"Admirer son corps":{"EN":"Admire her body"},"Aller ta gueule mange-merde.":{"EN":"All right, shut up shit-eater."},"Aujourd'hui, nous étudierons le parcours extraordinaire de Rihanna et de sa sextape.":{"EN":"Today, we will study Rihanna's extraordinary journey and her sex tape."},"Avant que tu n'aies le temps de répondre, elle se retourne pour t'embrasser de nouveau.":{"EN":"Before you have time to answer, she turns around to kiss you again."},"Avec Blacked & Whited, nous essayons de créer une expérience unique. Le jeu de nos rêves ! Le développement d'un jeu est une aventure réellement passionnante, et qui prend aussi énormément de temps - des centaines d'heures.":{"EN":"With Blacked & Whited, we try to create a unique experience. The game of our dreams! Developing a game is a really exciting adventure, and it also takes a lot of time - hundreds of hours."},"Blacked & Whited est aussi une expérience sonore. Mais pour t'éviter de mauvaises surprises, j'ai désactivé le son des vidéos par défault. Si tu es dans un endroit sûr, n'hésite pas à le réactiver dans les paramètres. Tu peux également y régler le volume général du jeu.":{"EN":"Blacked & Whited is also a sound experience. But to avoid any unpleasant surprises, I turned off the sound of the videos by default. If you are in a safe place, do not hesitate to reactivate it in the settings. You can also adjust the overall volume of the game there."},"Bon, je ne l'ai vu qu'une fois, et je ne suis pas certain de le revoir, mais, hey, il m'a invité chez lui, ça compte non ?":{"EN":"Well, I only saw him once, and I'm not sure I'll see him again, but hey, he invited me to his house, it matters, right?"},"Bonjour, je suis Marie":{"EN":"Bonjour, je suis Marie"},"C'est normal pour le mâle dominant de protéger son territoire, et cette fille, c'est son territoire.":{"EN":"It is normal for the dominant male to protect his territory, and this girl IS his territory."},"C'est pas grave (T＿T) De toutes façons ici on m'appelle senpai, car c'est moi qui forme les nouveaux.":{"EN":"It doesn't matter (T＿T) Anyway, here they call me senpai, because I'm the one who trains the new ones."},"C'était quoi, ça ?":{"EN":"What was that?!"},"Ce gars parle surtout de porno en fait... Je suppose qu'il est gros consommateur.":{"EN":"This guy's mostly talking about porn, actually... I guess he's a big consumer."},"Cette femme qui te prépare d'excellents petit-déjeuners et qui te parle avec une voie douce et bienveillance, c'est $namesm, ta $relationsm.":{"EN":"This woman who prepares you excellent breakfasts and talks to you in a gentle and caring way is $namesm, your $relationsm."},"Cette réponse t'a déjà demandé beaucoup de courage. $nameb te regarde avec un visage sévère. Il pose sa main sur ton épaule, et serre avec force comme un coup de semonce.":{"EN":"That answer has already taken a lot of courage from you. $nameb looks at you with a severe face. He puts his hand on your shoulder, and squeezes hard like a warning shot."},"Click here to get your reward":{"EN":"Click here to get your reward"},"Comment suivre le chemin Blacked ?":{"EN":"How to follow the Blacked path?"},"D'accord, super. Et comment on...":{"EN":"All right, great. And how do we..."},"D'accord. Et ?":{"EN":"All right. And?"},"D'accord. Maintenant que vous le dîtes, j'ai un petit mal de dos et un massage ne me ferait pas de mal. Mais je ne sais pas si vous avez les compétences pour...":{"EN":"All right. Now that you mention it, I have a little back pain and a massage would be good for me. But I don't know if you have the skills to...."},"Depuis que la loi sur l'égalité homme-femme a légalisé les seins nus, les femmes se lâchent beaucoup plus...":{"EN":"Since the law on gender equality legalized bare breasts, women are letting go much more..."},"Elle eut un geste de recul.":{"EN":"She moved backwards."},"Enchanté alors euh... senpai.":{"EN":"Pleased to meet you then, uh.... senpai."},"Enfin ! Cette blonde a gros cul a intérêt à me donner un beau spectacle.":{"EN":"At last! This blonde with a fat ass better give me a good show."},"Et $namegf, comment elle va ? Tu as pensé à...":{"EN":"And $namegf, how is she? Have you thought about..."},"Explorer la ville":{"EN":"Explore the city"},"Franchement, c'était bien sympa pour moi aussi. Je reviendrai, c'est sûr.":{"EN":"Honestly, it was nice for me too. I'll be back, that's for sure."},"Happy notify":{"EN":"Happy notify"},"Hein ? Je ne vais pas moi aussi m'entraîner sur... sur toi ?":{"EN":"Huh? I'm not going to practice on... on you?"},"Hein ? Tu racontes quoi ? C'était rien du tout... Tu sais, j'ai beaucoup d'influence ici, il ne lui arrivera plus rien de mal si tu acceptes... Tu veux le protéger n'est-ce pas ?":{"EN":"Huh? What are you talking about? It was nothing at all.... You know, I have a lot of influence here, nothing bad will happen to him if you accept... You want to protect him, don't you?"},"Hmmm, j'ai envie que $namegf soit aussi chaude que ça...":{"EN":"Hmmm, I want $namegf to be that hot..."},"J'ai la main en feu... Encore un petit effort !":{"EN":"My hand is on fire... Come on, just a little more effort!"},"Je n'ai plus le choix, je dois faire de la money. Choisis un travail.":{"EN":"I no longer have a choice, I have to make money. Choose a job."},"Je ne sais pas trop... Je ne veux pas que $namemc pense que je le trahis...":{"EN":"I don't knowI don't want $namemc to think I'm betraying him...."},"Je préfère éviter les toilettes, c'est un endroit mal famé et dangereux. Le directeur a pourtant promis lors de son dernier discours de faire quelque chose, mais apparemment il n'a pas tenu parole, ou il n'a pas pu le faire.":{"EN":"I prefer to avoid the toilets, it's a dangerous place. The director promised in his last speech to do something, but apparently he didn't keep his word, or he couldn't do it."},"Je suis dans la même classe que $nameb.":{"EN":"I'm in the same class as $nameb."},"L'air frais de la fôret te fait du bien et te rafraichit l'esprit. Tu es un peu moins excité.":{"EN":"The fresh air of the forest is good for you and refreshes your mind. You're a little less excited."},"L'embrasser":{"EN":"Kiss her"},"LOL, ok.":{"EN":"LOL, ok."},"La fille aux cheveux blonds sursaute.":{"EN":"The girl with the blond hair jumping."},"Le parc de la ville de $namecity est un petit morceau de paradis au milieu d'un monde de béton. S'étendant sur plusieurs kilomètres carrés, elle est couverte d'une prairie sur laquelle la jeunesse de la ville vient bronzer et se détendre, et d'une forêt épaisse traversée par le fleuve de la ville.":{"EN":"The $namecity City Park is a small piece of paradise in the middle of a world of concrete. Stretching over several square kilometres, it is covered by a meadow on which the city's youth come to sunbathe and relax, and by a thick forest crossed by the city's river."},"Le réveil de la force":{"EN":"The awakening of strength"},"Le simple fait d'en parler te libère d'un grand poids. Ca libère aussi une grosse émotion accumulée, et c'est avec difficulté que tu retiens les larmes qui te montent aux yeux.":{"EN":"Just talking about it frees you from a burden. It also releases a big accumulated emotion, and it is with difficulty that you hold back the tears that come to your eyes."},"Les filles des vidéos se font baiser par des mâles virils. Tu vois des queues rentrer et sortir sans pitié, tu entends les filles gémir en se prenant des gifles et des fessées.":{"EN":"The girls in the videos get fucked by dominating males. You see dicks coming in and out mercilessly, you hear the girls moaning as they get slapped and spanked."},"Les gémissements se transforment en véritables cris. Elle semblent complètement transformée, et tout son corps ondule sous tes doigts, comme si tu en avais le contrôle. Tu as mal à la main. Mais dans un dernière effort, tu accélères encore.":{"EN":"The moans turn into real screams. She seems completely transformed, and her whole body undulates on your fingers, as if you had control of it. Your hand hurts. But you succeed in finding the resources to accelerate even further."},"Mais vous vous foutez de moi ?!":{"EN":"Are you kidding me?!"},"Massage californien : doux et apaisant, les tensions sont dénoués et l'esprit relâché.":{"EN":"Californian massage: gentle and soothing, tensions are relieved and the mind relaxed."},"Merci d'avoir postulé. Rejoignez nous au salon de massage les matins pour passer votre entretien. Vous pouvez trouver l'adresse en bas de l'annonce.":{"EN":"Thank you for applying. Join us at the massage salon in the mornings for your interview. You can find the address at the bottom of the ad."},"Mettez vous dans la peau d'un jeune homme en pleine quête d'identité dans un monde sans pitié. Quelle voie vas-tu choisir ? Tes décisions pourront faire de toi le mâle alpha incontesté, ou au contraire t'amener dans des profondeurs inconnues.":{"EN":"Put yourself in the shoes of a young man in search of identity in a merciless world. Which way are you going to take? Your decisions may make you the undisputed alpha male, or on the contrary take you to unknown depths."},"Mince ! Peut-être que si j'insiste encore un peu...":{"EN":"Damn it! Maybe if I insist a little more..."},"Monsieur $person.bankster.name arrive vers toi presque en courant.":{"EN":"Mr. $person.bankster.name comes to you almost running."},"Même dans mes rêves elle est insupportable !":{"EN":"Even in my dreams she's unbearable!"},"Oh mon dieu, $namemc...":{"EN":"Oh my God, $namemc..."},"Oh putain oui c'est bon...":{"EN":"Oh my... ! Oh my... !! It-It's good..."},"Oh, t-tu sais, je peux me débrouiller tout s-seul.":{"EN":"Oh, y-you know, I can manage it m-myself."},"Par ailleurs, lorsque vous débutez, vos clients ont des standards plus modestes, ce qui est une bonne chose. Ça vous évite de vous faire une mauvaise réputation inutilement. Profitez en pour améliorer votre technique !":{"EN":"Moreover, when you are a beginner, your customers have more modest standards, which is a good thing. It saves you from making a bad reputation unnecessarily. Take this opportunity to improve your technique!"},"Peut-être que ça ira mieux quand je mettrai mes chaussettes ?":{"EN":"Maybe it'll get better when I put on my socks?"},"Pour ça, il faut que je trouve un moyen de subsistance. Mais quoi ? Un travail ?":{"EN":"For that, I have to find a way to make money. But what? A job?"},"Que fait $namegf ici ? Pourquoi parle-t-elle à $nameb ?!":{"EN":"What's $namegf doing here? Why is she talking to $nameb?!"},"Quel rêve ridicule...":{"EN":"What a stupid dream..."},"Regarder sous le lit":{"EN":"Look under the bed"},"Rentrer dans la salle de bain":{"EN":"Going into the bathroom"},"Salut mon chou, tu as bien dormi ?":{"EN":"Hi, sweetheart, how did you sleep?"},"Septembre":{"EN":"September"},"Spirit.":{"EN":"Spirit."},"Ta $relationss s'en va, claquant la porte en sortant.":{"EN":"Your $relationss is leaving, slamming the door on the way out."},"Ta nuit est troublée par des rêves étranges...":{"EN":"Your night is troubled by strange dreams..."},"Ta soeur, qui vient juste de faire son apparition dans l'encadrure de la porte, répond à ta place.":{"EN":"Your sister, who has just appeared in the door frame, answers for you."},"Taxe sur les retraits d'argent en soutien aux victimes de mégenrage":{"EN":"Tax on withdrawals of money in support of victims of misgendering"},"Ton imagination s'emballe rapidement. Elle est sur ton lit, à 4 pattes, le cul bien cambré dans ta direction. Tu es derrière elle, et tu fais lentement glisser ta queue entre ses fesses. Tu la vois dandiner du cul en soupirant d'envie.":{"EN":"Your imagination quickly gets carried away. She's on your bed, on all fours, her ass bent over in your direction. You're behind her, and you're slowly sliding your cock between her buttocks. You see her waddling around with a sigh of envy."},"Tu as de beaux cheveux de couleur <<playerHairColor>> coiffés avec une coupe <<playerHairType>> qui te va très bien. Tes yeux sont de couleur <<playerEyesColor>>.":{"EN":"You have beautiful <<playerHairColor>> hair with a <<playerHairType>> cut that suits you very well."},"Tu as des seins <<playerBoobsSize>> avec une forme <<playerBoobsShape>>.":{"EN":"You have <<playerBoobsSize>> boobs with a <<playerBoobsShape>> shape."},"Tu croises $namess qui te met un coup derrière la tête.":{"EN":"You meet $namess, who hits you in the back of the head for free."},"Tu es un peu plus ouvert aux autres.":{"EN":"You're a little more open to others."},"Tu joues un jeune homme timide, naïf, un peu soumis, en pleine quête d'identité dans un monde sans pitié où la concurrence est rude, très rude. Quelles décisions vas-tu prendre pour lui ? Vas-tu le prendre en main pour l'aider à défendre sa famille avant d'en faire un mâle Alpha ? Ou préfèreras-tu au contraire le pousser à découvrir et accepter la place qui est la sienne ?":{"EN":"You play a shy, naive, slightly submissive young man, in search of identity in a merciless world where competition is fierce, very fierce. What decisions will you make for him? Will you take him in hand to help him defend his family before turning him into an Alpha male? Or would you rather encourage him to discover and accept his place ?"},"Tu peux bien sûr continuer à jouer, mais tu ne pourras plus vivre d'évènements majeurs.":{"EN":"You can of course continue to play, but you will no longer discover any major events."},"Tu poses un dernier baiser sur la joue de $namegf, et tu viens t'assoir sur une des deux chaises de son bureau. Elle te rejoint rapidement, et vous commencez à travailler.":{"EN":"You put one last kiss on $namegf's cheek, and sit on one of the two chairs in her desk. She joins you quickly. You start working."},"Tu préfères ne pas visiter la ville de nuit. Blacked & Whited City n'est pas une ville sûre.":{"EN":"You prefer not to visit the city at night. Blacked & Whited City is not a safe metropolis."},"Tu restes silencieux en regardant tes pieds. Il insiste.":{"EN":"You stay silent by looking at your feet. He insists."},"Tu sais qu'il faudra te battre pour garder ce que tu as, et obtenir ce que tu veux. Mais tu sais aussi que se battre, ça te fatigue... Pourquoi faire des efforts quand les choses ont si peu de sens autour de soi, et quand se laisser guider par ses pulsions ou celles des autres est si reposant ?":{"EN":"You know you'll have to fight to keep what you have, and get what you want. You also know that fighting is so tiring... Why make efforts when things have so little meaning around you, and when being guided by your own or others' impulses is so relaxing?"},"Tu sais que la dernière fois que l'on m'a fait ce coup, j'avais 12 ans ?":{"EN":"You know the last time I was told that joke, I was 12 years old?"},"Tu t'éloignes un peu pour admirer ta princesse. Elle est magnifique.":{"EN":"You're going a little farther away to admire your princess. The view is magnificent."},"Tu te connectes sur ton site préféré, une catégorie attire ton attention.":{"EN":"You connect to your favorite site, a category attracts your attention."},"Tu te diriges vers l'endroit que $person.kawasaki.name t'a indiqué. La porte est  ouverte.":{"EN":"You go to the place that $person.kawasaki.name told you. The door is open."},"Tu te sens un peu humilié.":{"EN":"You feel a little humiliated."},"UNKNOW FEMALE":{"EN":"UNKNOW FEMALE"},"Un massage promettant l'exploration de tous nos sens attire ton attention. En réalité, c'est surtout la splendide asiatique qui promet cette exploration qui te donne envie... Tu regardes ses tarifs.":{"EN":"A massage that promises to explore all our senses attracts your attention. In reality, it is above all the splendid Asian woman who promises this exploration that makes you want to... You look at her prices."},"Un videur est posé devant la porte d'entrée, les bras croisés, le regard caché derrière d'opaques lunettes noires. Tu sens ses yeux te suivre du regard alors que tu passes devant la boîte de nuit.":{"EN":"A bouncer is placed in front of the entrance door, his arms crossed, his eyes hidden behind opaque dark glasses. You can feel his gaze following you as you walk past the nightclub."},"Une curiosité mal placée":{"EN":"A misplaced curiosity"},"Une fois son esprit revenu, il la félicite d'être une bonne petite suceuse comme on félicite un chien qui a ramené la balle. Il la fait retourner dans son coin.":{"EN":"Once his mind returns, he congratulates her for being a good little sucker like a master congratulates his dog who brought the ball back. He's making her go back to the corner."},"Une meuf comme toi mérites bien mieux. Une fille aussi jolie, aussi sensible et intelligente. Ca fait longtemps que je te regarde tu sais, et sincèrement je ne crois pas qu'il y ait une fille de l'école qui t'arrive à la cheville.":{"EN":"A chick like you deserves a lot better. A girl as pretty, as sensitive and intelligent as you are. I've been looking at you for a long time, you know, and honestly I don't think there's a girl from school who can match you."},"Une paire de chaussures avec de beaux scratchs pour les fermer.":{"EN":"A pair of shoes with nice scratches to close them."},"Vous commencez à comprendre ce qu'est un bon massage, c'est bien.":{"EN":"You're starting to understand what a good massage is, that's good."},"Vous passez une bonne heure à matter du porno ensemble. $namebf t'apprend le nom des actrices, des acteurs, des positions, change de scène ou de vidéo tel un virtuose, et tout ça entre deux commentaires graveleux et dégradant pour les filles. Il semble dans son monde.":{"EN":"You spend a good hour watching porn together. $namebf teaches you the names of actresses, actors, positions, changes scenes or videos like a virtuoso, and all this between two serious and degrading comments for girls. He seems to be in his world."},"Whited Plus":{"EN":"Whited Plus"},"bisexuel":{"EN":"bisexual"},"pas de seins":{"EN":"no boobs"},"$city.bank.name":{"EN":"$city.bank.name"},"$namesm n'est pas ici.":{"EN":"$namesm is not here."},"$namesm passe sa vie entre son travail de RH dans une grande société bien installée et l'entretien de son foyer qu'elle prend très à coeur. Elle est dépressive depuis que son ex-mari l'a lâchement abandonné il y a plus de 6 ans, et tu l'entends parfois pleurer quand elle est seule le soir, dans sa chambre.":{"EN":"$namesm spends her life between her HR work in a large, well-established company and the maintenance of her home, which she takes very seriously. She has been depressed since her ex-husband abandoned her cowardly more than 6 years ago, and you sometimes hear her crying when she is alonein her room, at night."},"$person.domilf.name est déjà en chemin pour la petite chambre de massage. Alors que tu la suis, $person.kawasaki.name te prend à part et te chuchotte.":{"EN":"$person.domilf.name is already on its way to the small massage room. As you follow her, $person.kawasaki.name takes you aside and whispers to you."},"2$ viennent d'être ajouté sur votre compte.":{"EN":"2$ has just been added to your account."},"<<= State.variables.person.mc.title.mind>>":{"EN":"<<= State.variables.person.mc.title.mind>>"},"A genoux.":{"EN":"On your knees."},"Ah $namemc, tu es là ? Je ne t'avais pas remarqué...":{"EN":"Ah $namemc, are you there? I didn't notice you...."},"Ah ouais c'est bien ça. Ca t'excite de voir ma grosse queue hein ?":{"EN":"Oh, yeah, that's good. You're excited to see my big dick, aren't you?"},"Aller dans la cuisine":{"EN":"Go to the kitchen"},"Aller en classe":{"EN":"Go to class"},"Aller en ville":{"EN":"Going to the city"},"Au hasard d'un bosquet, tu entends des gémissements. Tu t'approches pour voir ce qu'il se passe.":{"EN":"At random in a grove, you hear moans. You come closer to see what's going on."},"Bas":{"EN":"Bottom"},"Besogner comme une salope ? Il n'a pas l'air méchant, mais il ne mâche pas ses mots.":{"EN":"Besognered like a bitch? He doesn't sound bad, but he doesn't mince his words."},"Bien sûr que si j'ai des amis !":{"EN":"Of course I have friends!"},"Bien, nous pouvons commencer.":{"EN":"Finally, we can start."},"Bienvenue dans ton petit espace secret. ?? Ici, tu vas pouvoir sauvegarder ta progression chaque soir avant d'aller te coucher. Tu peux aussi y retrouver toutes tes réalisations !":{"EN":"Welcome to your little secret space. 😉 Here, you will be able to save your progress every night before going to bed. You can also find all your achievements!"},"Blacked & Whited. Deux mots. Deux chemins. Un choix.":{"EN":"Blacked & Whited. Two words. Two paths. One choice."},"Bouge de mon chemin pédale.":{"EN":"Move out of my way, faggot."},"Bravo ! Tu as découvert un nouveau lieu !":{"EN":"Congrat'! You have discovered a new place!"},"Bus girl 1":{"EN":"Bus girl 1"},"C'est toi qui sens comme ça ? Sérieux tu devrais penser à te laver... Même dans les chiottes on ne sent que toi...":{"EN":"Is that you smelling like that? Seriously, you should think about washing up... Even in the toilet, you're the only one we can smell..."},"C'est vrai que c'est dégueulasse...":{"EN":"It's true that it's disgusting..."},"Caresser sa poitrine":{"EN":"Caress her chest"},"Cette MILF a une fille, une blonde a gros cul qui a sa chambre à côté de la tienne.":{"EN":"This MILF has a daughter, a blonde with a big ass who has her room next to yours."},"Comme quoi, on peut rencontrer un génie de la blague deux fois dans sa vie. :)":{"EN":"Like what, you can meet a joke genius twice in your life. :)"},"Complètement nue, l'eau de la douche ruisselle entre deux seins de belle taille que tu pourrais à peine faire tenir dans tes mains. La courbure de son dos débouche sur une marque de bronzage causée par cette culotte qui lui sert habituellement à couvrir son gros cul que tu devines très ferme.":{"EN":"Completely naked, shower water drips between two beautifully sized breasts that you could barely hold in your hands. The curvature of her back leads to a tanning mark caused by this panty which she usually uses to cover her big fat ass that you can guess very firm."},"D'accord. Rassurez vous, ce n'est pas un problème. Nous recrutons beaucoup, et souvent des novices. Une formation vous sera dispensée.":{"EN":"All right. Don't worry, it's not a problem. We recruit a lot, and often novices. You will receive training."},"Dans la petite boite, tu trouves une petite liasse de billet. Tu en prends quelques uns et tu reposes la boîte exactement au même endroit. Tu allais fermer quand une lingerie attire ton attention. Tu hésites.":{"EN":"In the little box, you find a small stack of cash. You take a few and put the box back in exactly the same place. You were about to close when an underware gets your attention. You're hesitating."},"DayColors":{"EN":"DayColors"},"Encore merci pour ton aide. Moi c'est $namemc. Tu peux retourner en cours si tu veux, je pense que je peux me débrouiller maintenant.":{"EN":"Thanks again for your help. I'm $namemc. You can go back to class if you want, I think I can manage it now."},"Espèce d'enculé, je vais t'écraser comme la pire des merdes...":{"EN":"You motherfucker, I'm gonna crush you like the worst piece of shit..."},"Essoufflé, tu remontes vite ton pantalon pour t'en aller.":{"EN":"Shortness of breath, you quickly pull up your pants and leave."},"Et ça devient vite la guerre. Bref, invivable !":{"EN":"And it quickly becomes war. In short, unbearable!"},"Félicitation ! Vous venez d'acquérir la $city.bank.name SupaCard™. Vous pouvez désormais alimenter votre compte ou retirer du liquide dans tous les distributeurs de billets SupaATM™.":{"EN":"Congratulations! You have just acquired the $city.bank.name SupaCard™. You can now fund your account or withdraw cash at any SupaATM™."},"Haut":{"EN":"Top"},"Heu...":{"EN":"Uh..."},"Hmmm, j'aime quand tu mets tes mains sur mon corps...":{"EN":"Hmmm, I love when you put your hands on my body...."},"Ici c'est l'infirmerie de l'école. Je t'y ai emmené peu de temps après que tu te sois fait besogner comme une salope.":{"EN":"This is the school infirmary. I took you there shortly after you were besognered like a bitch."},"J'ai besoin de m'habiller correctement... Enfilons ce bas.":{"EN":"I need to dress properly.... Let's put on a bottom."},"Je devrais peut-être prendre une douche...":{"EN":"Maybe I should take a shower..."},"Je n'ai pas vraiment d'argent pour payer...":{"EN":"I can't pay it..."},"Je t'aime aussi ma princesse.":{"EN":"I love you too, my princess."},"Je veux voir si je peux lui faire confiance":{"EN":"I want to see if I can trust her."},"Juillet":{"EN":"July"},"L'apparence n'a pour le moment aucune influence et rien ne peut la changer, elle sera introduite durant le chapitre deux.":{"EN":"Appearance has no influence at the moment and nothing can change it, it will be introduced during chapter two."},"La commode a trois larges tiroir.":{"EN":"The chest of drawers has three large drawers."},"La situation t'excite beaucoup, et tu bandes pendant tout ce temps. Tu jetes parfois des coups d'oeils à $namebf. Il a les yeux grands ouverts et semble absorbé par les images. Sans s'en rendre compte, ou en tout cas tu le supposes, il porte sa main sur son entrejambe pour se frotter.":{"EN":"You're very excited about the situation, and you're hard all the time. You sometimes take a look at $namebf. His eyes are wide open and he seems absorbed by the images. Without realizing it, or at least you assume it, he puts his hand on his crotch to rub himself."},"Leur présence derrière toi ne te dérange pas, bien au contraire. Ce sont de belles étudiantes, et tout le monde aime les belles étudiantes. Tu apprécies aussi les écouter. Leurs discussions semblent sans fin, et à peine un silence commence-t-il à s'installer que déjà l'une d'entre elle relance un nouveau sujet, tout aussi stérile que le précédent.":{"EN":"Their presence behind you does not bother you, quite the contrary. They are beautiful students, and everyone loves beautiful students. You also enjoy listening to them. Their discussions seem endless, and as soon as a silence begins to settle, one of them is already reopening a new subject, just as sterile as the previous one."},"Lucas":{"EN":"Lucas"},"Lui masser le dos":{"EN":"Massage her back"},"Monter dans ta chambre":{"EN":"Go up to your room"},"Ne sois pas gêné. Cette petite pute en chaleur a ce qu'elle mérite.":{"EN":"Don't be embarrassed. That little bitch in heat gets what she deserves."},"Non je ne m'en fiche pas du tout.":{"EN":"No, I do care at all."},"Non pas du tout":{"EN":"No, not at all"},"Non, je ne vais pas sortir comme ça... Je dois mettre un sous-vêtement...":{"EN":"No, I'm not going to go out like that... I have to wear underwear..."},"Notre honorable établissement a parié votre argent sur un taux de suicide montant à 80 pour mille, mais malgré nos efforts il n'a pas dépassé les 70... Vous nous devez 20$. Merci et bonne journée.":{"EN":"Our honourable establishment has bet your money on a suicide rate of 80 per thousand, but despite our efforts it has not exceeded 70... You owe us $20. Thank you and have a good day."},"Ok. Ok, je suis de bonne humeur aujourd'hui, c'est d'accord. Tu paieras pour lui.":{"EN":"Okay. Okay, I'm in a good mood today, that's fine. You'll pay for him."},"Olalah, oui ! Le pauvre, il doit être effondré... Il est tellement craquant en plus !":{"EN":"Olalah, yes! The poor man, he must be devastated... A so cute guy... :("},"Oui":{"EN":"Yes"},"Prendre son petit déjeuner":{"EN":"Have breakfast"},"Quel est son prénom ?<<textbox \"$namess\" \"Marie\">>":{"EN":"What is her first name ?<<textbox \"$namess\" \"Marie\">>"},"Rejoindre la dame":{"EN":"Join the lady"},"Retirer son haut":{"EN":"Remove her top"},"RetourVille":{"EN":"RetourVille"},"Retourner travailler":{"EN":"Get back to work"},"S'adressant directement à Clara.":{"EN":"Speaking directly to Clara."},"Salope":{"EN":"Bitch"},"Sans te faire prier, tu quittes les toilettes. Une fois dehors, tu te relâches, soulagé. Tout s'est bien passé.":{"EN":"So you just leave the toilet. Once you're out, you relax, you're relieved. Everything went well."},"Se rendre chez $namebf":{"EN":"Go to $namebf"},"Ta soeur prend son petit déjeuné en face de toi. Comme tous les matins, elle est sur son téléphone, complètement fermée au monde extérieur.":{"EN":"Your sister is having breakfast in front of you. As every morning, she is on her phone, completely closed to the outside world."},"Tacticien 1":{"EN":"Tacticien 1"},"Ton coeur bat a 100 à l'heure. Tu tiens ses cuisses bien ouvertes pour détailler de tes yeux sa petite fleur. Et quelle vue magnfique ! Une fine fente surmontée d'une toison rousse traverse son entre-jambes. La couleur rose et ses lèvres légèrements gonflé ne laisse aucun doute sur l'état d'excitation de $namegf.":{"EN":"Your heart is beating at 100 miles an hour. You hold her thighs wide open to detail her little flower with your eyes. And what a wonderful view! A thin slit topped with a red fleece runs through her crotch. The pink color and slightly swollen lips leave no doubt about the excitement of $namegf."},"Ton coeur se met à battre à 1000 à l'heure. Ta réponse est quasiment inaudible tellement tu bafouilles.":{"EN":"Your heart starts beating at 1,000 an hour. Your answer is almost inaudible because you are babbling so much."},"Trop mignon ｡^‿^｡ Ici on m'appelle Senpai, car c'est moi qui forme les nouveaux.":{"EN":"Too cute ｡^‿^｡ Here I am called Senpai, because I am the one who trains the new ones."},"Tu la couvres de baisers, avant de te rhabiller pour t'en aller.":{"EN":"You cover her with kisses, before you get dressed and leave."},"Tu lui masses le dos à la recherche des points des tensions. C'est étrange pour toi de masser un homme.":{"EN":"You massage his back in search of the points of tension. It's weird for you to massage a man."},"Tu n'es pas très sûr de toi. Mais à ta grande surprise, tu la vois sans un mot se diriger vers le lit.":{"EN":"You're not very confident. But with surprise, you see her heading for the bed without a word."},"Tu ne sens pas très bon... Certaines personnes voudront t'éviter.":{"EN":"You don't smell very good.... Some people will want to avoid you."},"Tu passes tes doigts sur la face interne... L'idée que ce que tu touches a été en contact avec... l'intimité de $namesm, ça te procure une sensation étrange...":{"EN":"You run your fingers over the inside... The idea that what you touch has been in contact with $namesm's intimacy gives you a strange feeling..."},"Tu repenses à la culotte que tu as pris par mégarde.":{"EN":"You think about the panties you accidentally took."},"Tu sens ton téléphone vibrer dans ta poche. Une pièce jointe est arrivée.":{"EN":"You can feel your phone vibrating in your pocket. An attachment has been delivered."},"Tu te rends dans la salle de bain pour y voler la clé. En revenant dans ta chambre, tu croises $namess.":{"EN":"You go into the bathroom to steal the key. When you come back to your room, you come across $namess."},"Tu te sens un peu plus courageux.":{"EN":"You feel a little braver."},"Tu tires tout doucement le premier. Tu es heureux de constater que les roulements sont bien entretenus : ça ne fait aucun bruit. Malheureusement tu ne trouves rien d'intéressant, ce ne sont que les habits de tous les jours de ta $relationsm. Rien non plus dans le second. Par contre, le troisième attire ton attention.":{"EN":"You pull the first one slowly. You are happy to see that the rolling bearings are well maintained: it makes no noise. Unfortunately you don't find anything interesting, it's just the everyday clothes of your $relationsm. Nothing in the second one either. On the other hand, the third one attracts your attention."},"Un immense merci à tous les Patreons pour leur soutien précieux ! La version public de Blacked & Whited est gracieusement offerte par:":{"EN":"A huge thanks to all the Patreons for their precious support! The public version of Blacked & Whited is graciously offered by:"},"Un jean délavé et sans grande valeur.":{"EN":"A faded and worthless jean."},"Une certaine fierté":{"EN":"A certain pride"},"Unknown male":{"EN":"Unknown male"},"Vas-y montre moi la tienne.":{"EN":"Go ahead and show me yours."},"Vous avez gagné":{"EN":"You have won"},"Vous avez perdu un peu d'argent.":{"EN":"You lost some money."},"_t":{"EN":"_t"},"blanche":{"EN":"white"},"fin":{"EN":"thin"},"lèvres normales":{"EN":"normal lips"},"mi-longue":{"EN":"mid-long"},"t'apprécie un peu plus. (FRIEND +2)":{"EN":"likes you a little more. (FRIEND +2)"},"vert":{"EN":"green"},"$nameb affiche un sourire satisfait.":{"EN":"$nameb has a satisfied smile."},"$nameb.. Je suis en mauvaise posture je crois. Ca fait des semaines que lui et son groupe d'enculés m'obligent à leur ramener 20 balles tous les jours. Il croit que je vais pouvoir le faire toute ma vie ? J'ai déjà niqué toutes mes résèrves !":{"EN":"$nameb... I'm in a bad position. He and his group of motherfuckers have been forcing me to bring them 20 bucks every day. Does he think I'll be able to do it all my life? I've already fucked up all my money reserves!"},"$namebf ! Nan mais j'hallucine ! Tu parles bien DU $namebf, ce weirdo que tout le monde fuit ? Ne me dis pas que tu traînes avec lui... Franchement à part me faire honte tu sers à quoi ?":{"EN":"$namebf. God, I'm hallucinating... That weirdo everyone's running from, are you talking about THIS $namebf? Don't tell me you're hanging out with him.... Honestly, why can't you do anything but embarrass us?"},"$namebf s'éloigne en trainant des pieds pendant que tu fourres le papier dans ta poche.":{"EN":"$namebf walks away dragging his feet while you stuff the paper in your pocket."},"$namegf est excitée":{"EN":"$namegf is excited"},"$namegf t'embrasse à pleine bouche. Encouragé par ses petits cris, tu te mets à branler sa petite chatte trempée le plus rapidement possible. Elle a les yeux fermés, complètement dans son monde. A chaque pénétration, un petit cri de $namegf vient caresser tes oreilles.":{"EN":"$namegf kisses you full mouth. Encouraged by her little screams, you start jerking off her soaked little pussy as quickly as possible. Her eyes closed, she's completely in her world. With each penetration, a little cry of $namegf comes to caress your ears."},"$namegf te fait un sourire, puis un dernier baisé avant de s'éloigner. Tu la vois ramasser son haut et le remettre, avant de se poser sur son bureau.":{"EN":"$namegf gives you a smile, then a last kiss before leaving. You see her pull up her panties, and pick up her top, before she lands on her desk."},"$namegf, qu'est-ce que tu fais ?!":{"EN":"$namegf, what are you doing?!"},"$namemc, ne le laisse pas faire ! Sauve moi !":{"EN":"$namemc, don't let him touch me! Save me!"},"$person.kawasaki.name te prend à part et te chuchotte.":{"EN":"$person.kawasaki.name takes you aside and whispers to you."},"Ah ? Comment ça se fait que tu le connaisses comme ça ?":{"EN":"Oh? How come you know him like that?"},"Aller à l'école":{"EN":"Go to school"},"Approche et regarde.":{"EN":"Come here and look."},"Après une petite pause, il conclut.":{"EN":"After a short break, he concludes."},"Bah de quoi t'as peur p'tit PD ?":{"EN":"What are you afraid of, little faggot?"},"Bien sûr que si j'en ai !":{"EN":"Of course yes, I have friends !"},"Bonjour, je suis Ayako":{"EN":"Bonjour, je suis Ayako"},"Bonjour, je suis Travailleur âgé":{"EN":"Hello, I am an Elder Worker"},"Bonjour, je suis Woodman Sachs":{"EN":"Hello, I'm Woodman Sachs."},"C'est ce moment que ta $relationss choisi pour arriver dans la cuisine en peignoire, une serviette sur la tête.":{"EN":"This is the moment your $relationss chosen to arrive in the kitchen in a comb, a towel on her head."},"C'est une chambre sous les combles, et le toit mange une partie de la surface aérienne. Une unique fenêtre ne suffit pas à éclairer correctement la pièce, et il fait plutôt sombre. Il y a un lit 2 places à l'apparence très moelleuse dans un coin. Dans l'autre coin, un canapé posé devant une grande télé 4k Dolby Surround Xtrem VeraLight très moderne. Par terre, tu reconnais les manettes de plusieurs consoles différentes, notamment celles de la XStation et de la PlayBox.":{"EN":"It is a room under the attic, and the roof eats part of the aerial surface. A single window is not enough to properly light the room, and it is rather dark. There is a very soft-looking double bed in a corner. In the other corner, a sofa in front of a very modern Dolby Surround Xtrem VeraLight 4k TV. On the ground, you can recognize the joysticks of several consoles, including the XStation and PlayBox."},"Ca ? Bah c'était $nameb.":{"EN":"That? Well, it was $nameb."},"Ce n'est pas de la trahison si il est d'accord... Il veut ton bonheur, il sait que tu seras plus heureuse si je m'occupe de toi... Hein, mange-merde ?":{"EN":"It's not treason if he agrees... He wants you to be happy, he ''knows'' you'll be happier if I take care of you... Huh, shit eater?"},"Clara s'exécute immédiatement. La petite étincelle de résistance qu'elle a manifestée semble avoir disparu. Gêné, tu tournes la tête pour ne pas voir le spectacle.":{"EN":"Clara runs immediately. The small flash of resistance she has shown seems to have disappeared. Embarrassed, you turn your head so you don't have to see the show."},"Couleur des cheveux":{"EN":"Hair color"},"D'accord. Ce n'est pas un problème, nous formons souvent de nouveaux employés. Une formation vous sera dispensée.":{"EN":"All right. It's not a problem, we often train new employees. You will receive a training."},"Elle te parle de ses enfants, de son mari. Tu n'en as strictement rien à foutre. Tes doigts passent sur son dos et tu essaies de détendre ses muscles, comme $person.ayako.name te l'a appris.":{"EN":"She talks to you about her children, her husband. You don't give a shit about that. Your fingers run over her back and you try to relax her muscles, as $person.ayako.name taught you."},"Elle, c'est $namegf, ta petite chérie qui te supporte depuis maintenant presque un an ! Tu ne sais pas ce que tu as fait pour mériter une fille aussi jolie, mais elle est à peu près la seule fierté dans ta vie. Malgré sa popularité, c'est resté une fille très humble et serviable. Elle travaille beaucoup, ses parents sont sévères et lui mettent la pression pour qu'elle intègre les meilleures écoles. Tout le monde lui prédit un brillant avenir. Bref, c'est ta petite princesse, tu l'aimes plus que tout et tu espères faire ta vie avec&nbsp;!":{"EN":"This is $namegf, your darling who's been supporting you for almost a year now! You don't know what you did to deserve such a pretty girl, but she's about the only pride in your life. Despite her popularity, she remained a very humble and helpful girl. She works hard, her parents are strict and put pressure on her to go to the best schools. Everyone is predicting a bright future for her. Anyway, she's your little princess, you love her more than anything else and you will make your life together!"},"Et surtout, il va falloir que je trouve de l'argent...":{"EN":"And above all, I have to find some money..."},"Finallement, tu oses toquer tout doucement à la porte, et tu attends. Rien ne se passe, les conversations continuent. Tu retoques en appuyant tes coups à peine plus fort. Cette fois, un silence complet s'installe à l'intérieur des toilettes. Quelques pas se font entendre, la porte s'ouvre devant toi.":{"EN":"Finally, you dare to knock on the door very gently, and you wait. Nothing happens, conversations continue. You retoque by pushing your knocks a little harder. This time, a complete silence settles inside the toilets. A few steps are heard, the door opens in front of you."},"Heeeeeein, tu n'es pas au courant ? Tu n'as pas vu la vidéo avec <<= _dbp[_select][0]>> ? Attends je te l'envoie sur AssBook, il faut absolument que tu la vois. C'est bien $namemc ton prénom ?":{"EN":"Huuuuuuuh, didn't you hear? You didn't see the video with <<= _dbp[_select][0]>>? Wait, I'll send it to you on AssBook, you absolutely have to see it. Is that your first name $namemc?"},"Heu... Bonjour. Je viens postuler pour le poste de masseur, il est toujours disponible ?":{"EN":"Uh.... Hello. I'm here to apply for the masseur job, is it still available?"},"Heuuu. Excusez moi, vous savez ce qu'il se passe ?":{"EN":"Uhuuu. Excuse me, do you know what's going on?"},"Hey, ne me regardez pas comme ça. Vous n'optimisez pas votre fiscalité jeune homme. C'est le maître mot de notre époque. O-PTI-MI-SER.":{"EN":"Hey, don't look at me like that. You're not optimizing your tax situation, young man. It is the key word of our time. O-PTI-MI-ZING."},"Il ouvre la porte, et tu pénètres dans sa chambre. La première chose que tu remarques, c'est sa taille. Elle est étonnamment petite, surtout si on la compare aux proportions de la maison. La deuxième chose, c'est le bordel qui oblige à faire attention où l'on met les pieds. Et la troisième impression, c'est l'odeur, très étrange, mais pas forcément désagréable.":{"EN":"He opens the door, and you enter his room. The first thing you notice is its size. It is surprisingly small, especially when compared to the proportions of the house. The second thing is the mess that forces us to be careful where we step. And the third impression is the smell, very strange, but not necessarily unpleasant."},"Il se retourne vers toi. Sans prévenir, il te met une gifle.":{"EN":"He turns to you. Without warning, he slaps you."},"Il te tend le contrat.":{"EN":"He hands you the contract."},"Il va falloir que je pense à une autre solution...":{"EN":"I'm going to have to think of another solution..."},"J'ai... On a du travail. On devrait... Travailler.":{"EN":"I have.... We have work to do. We should... Work."},"Je devais essayer.":{"EN":"I had to try."},"Je dois faire attention à ne pas aller trop vite.":{"EN":"I have to be careful not to go too fast."},"Jeter un coup d'oeil à cheveux blonds":{"EN":"Take a look at blond hair"},"Jouer avec le bout de ses seins":{"EN":"Playing with the tip of her breasts"},"La gestion de ton temps est très importante. Chaque journée est découpée en ''3 moments'' (matin, après-midi, soirée). Pour chaque matin et chaque après midi, tu disposes de ''3 points d'énergie'' que tu peux dépenser dans des activités. Le soir, tu as juste à choisir l'endroit où tu vas ''passer ta soirée'' (chambre, club...) avant d'aller dormir.":{"EN":"Time management is very important. Each day is divided into ''3 moments'' (morning, afternoon, evening). For each morning and afternoon, you have ''3 energy points'' that you can spend on activities. In the evening, you just have to choose the place where you will spend your night (room, club...) before going to sleep."},"La porte est fermée à clé. Tu entends ta soeur prendre sa douche.":{"EN":"The door is locked. You hear your sister taking a shower."},"Le choix du conflit":{"EN":"The choice of conflict"},"Les deux filles n'ont pas l'air beaucoup plus heureuse que toi d'être là. Elles sont dans un coin, comme recroquevillées sur elles-même, les bras croisés, affichant un regard morne, presque vide. T'as l'impression qu'elles ne sont pas dans leur état normal, et que cette petite interruption que tu causes vient de les réveiller.":{"EN":"The two girls don't seem much happier than you are to be here. They are in a corner, as if curled up on themselves, their arms crossed, displaying a dull, almost empty look. You have the impression that they are not in their normal state, and that this little interruption you are causing has just woken them up."},"Les efforts, ça paie !":{"EN":"Efforts pay off!"},"Les filles se regardent quelques instants, pas certaines de bien comprendre.":{"EN":"The girls look at each other for a moment, not sure what to understand."},"MUR DES REALISATIONS":{"EN":"ACHIEVEMENTS WALL"},"Mais je croyais que j'étais le millionième client ?":{"EN":"But I thought I was the millionth customer?"},"Mais t'es complètement débile ou quoi ?":{"EN":"Are you completely stupid or what?"},"Mmmmh, je la sens céder petit à petit. Elle est à chaque fois plus détendue, plus ouverte à mes caresses. C'est bien bébé laisse toi faire...":{"EN":"Mmmmh, I can feel her giving in little by little. She is more relaxed every time, more open to my caresses. That's good, baby, let it go..."},"Mmmmh...":{"EN":"Mmmmh..."},"Mmmmmh... Je passerai ma vie à m'occuper de ce corps..":{"EN":"Mmmh.... I will spend my life taking care of this body...."},"Nan ! Pitié ! Ne me refrappe pas ! Je te donnerai ce que tu veux ! Prends $namegf si elle te plaît !":{"EN":"No! Please! Please! Don't hit me again! I'll give you what you want! Take $namegf if you want her..."},"New porn notify":{"EN":"New porn notify"},"Oh la grosse salope !":{"EN":"What a big bitch!"},"Oh mon dieu... Nan, arrête.":{"EN":"Oh, my God... Please, stop it."},"Oh, d'accord princesse. Je pensais que...":{"EN":"Oh, all right, princess. I thought that..."},"Ouvrir l'armoire":{"EN":"Open the wardrobe"},"Parfois, croisant ici et là un visage connu, tu la vois faire apparaître un sourire fugace qui accentue encore la sensation de tristesse de son regard. Elle ne t'a pas encore repéré. Tu décides de profiter de cette occasion pour la surprendre, et tu fais le grand tour pour arriver sur ses arrières.":{"EN":"Sometimes, crossing a known face here and there, you see her reveal a fleeting smile that further accentuates the feeling of sadness in her eyes. She hasn't spotted you yet. You decide to take this opportunity to surprise her, and you go around to get behind her."},"Passer le reste de la journée sur le PC":{"EN":"Spend the rest of the day on the PC"},"Premier échec...":{"EN":"First failure..."},"Prendre son petit cul à pleine main":{"EN":"Take her little ass with your full hand"},"Qui t'a dit que tu pouvais parler toi ? Continue de frotter et arrête de me casser les couilles bouffe-merde !":{"EN":"Who told you you could talk? Keep rubbing and stop busting my balls, shit eater!"},"Rentrer":{"EN":"Go home."},"Retourner dans ma chambre":{"EN":"Go back to my room"},"S'installer dans le canapé":{"EN":"Moving into the sofa"},"Sa poitrine est serrée contre ton torse, et tu as l'impression qu'elle fait frotter le bout de ses seins contre toi.":{"EN":"Her chest is tight against your torso, and you have the impression that she is rubbing the tip of her breasts against you."},"Se changer":{"EN":"Changing clothes"},"Soudainement, la porte s'ouvre en un claquement. $nameb se trouve dans l'encadrure, à te regarder dans les yeux.":{"EN":"Suddenly, the door opens in a snap. $nameb is in the frame, looking into your eyes."},"T'es sérieux mec ? Bah tu te mets bien !":{"EN":"Are you serious, man? Well, you're doing fine! She's... well, cute."},"Ton vieux t-shirt Bugs Bunny. Bien utile pour traîner à la maison.":{"EN":"Your old Bugs Bunny t-shirt. Very useful for hanging out at home."},"Tout ira bien... Hein ?":{"EN":"Everything will be fine... Huh?"},"Tu es beaucoup plus ouvert aux autres.":{"EN":"You're much more open to others."},"Tu es plus ouvert aux autres.":{"EN":"You're more open to others."},"Tu n'as pas de piercing":{"EN":"You don't have any piercings"},"Tu n'aurais pas d'autres vidéos porno ?":{"EN":"Do you have any other kind of porn?"},"Tu peux rejoindre la communauté pour donner tes impressions et les idées que tu aimerais voir dans le jeu sur le discord https://discordapp.com/invite/f64k9M7":{"EN":"You can join the community to share your impressions and ideas that you would like to see in the game https://discordapp.com/invite/f64k9M7"},"Tu recules légèrement ton corps, et tu lui chuchotes.":{"EN":"You move your body back slightly, and you whisper to her."},"Tu rentres dans ta chambre, tu fermes la porte, tu la verrouilles à double tour. Tu enlèves tes chaussures, et tu t'effondres sur le lit. Enfin... Enfin ! Tu es en sécurité. Enfin, tu peux souffler.":{"EN":"You go into your room, you close the door, you lock it twice. You take off your shoes, and you collapse on the bed. Well... At last! You're safe now. Finally, you can breathe."},"Tu t'installes sur ton PC.":{"EN":"You install yourself on your PC."},"Tu te mets torse nu et t'allonges sur l'herbe fraîche. Tu relèves de temps en temps la tête pour regarder autour de toi.":{"EN":"You take your shirt off and lie on the fresh grass. You look up from time to time to look around."},"Tu te sens humilié. (Blacked Point++)":{"EN":"You feel humiliated. (Blacked Point++)"},"Tu tires tout doucement le premier. Tu es heureux de constater que les roulements sont bien entretenus : ça ne fait aucun bruit. Malheureusement tu ne trouves rien d'intéressant, ce ne sont que les habits de tous les jours de ta mère. Rien non plus dans le second. Par contre, le troisième attire ton attention.":{"EN":"You slowly pull out the first drawer. You are happy to see that the bearings are well maintained: it makes no noise. Unfortunately, you don't find anything interesting, it's just your mother's everyday clothes. Nothing in the second one either. However, the third one attracts your attention."},"Tu veux que je continue ?":{"EN":"Do you want me to continue?"},"Tu viens machinalement poser ta main sur ton jean. Après quelques minutes, ta mère se retourne et te sort de tes rêveries.":{"EN":"You just mechanically put your hand on your jeans. After a few minutes, your mother turns around and takes you out of your dreams"},"Une ceinture en plastique imitation cuir.":{"EN":"A plastic belt imitating leather."},"Une femme d'âge avancée, très petite, asiatique, vêtue d'une tenue traditionnelle s'avance vers toi d'un pas léger, un sourire serein sur les lèvres, et les mains croisés sur son ventre. Elle te parle avec une petite voix calme.":{"EN":"An elderly, very petite, Asian woman, dressed in traditional clothes, walks towards you with a light step, a serene smile on her lips, and hands crossed on her stomach. She talks to you in a quiet little voice."},"Vous avez vu de la lumière et vous êtes rentré ? Bien, bien. Nous avons plutôt l'habitude de recevoir des clients à qui nous avons été recommandé.":{"EN":"You saw the light, and you came inside? Good, good. To be honest, we are used to receiving clients to whom we have been referred."},"Vous savez quoi ? Je vous trouve très sympathique, et je vois bien votre déception. La satisfaction de mon client est ma priorité ! Et je décide, comme ça, d'un claquement de doigt, de vous offrir l'ouverture de compte à 20$ ! Alors, heureux ? :)":{"EN":"You know what? I'll tell you what. I find you very sympathetic, and I can see your disappointment. My client's satisfaction is my priority! And I decide, like that, with a snap of a finger, to offer you the opening of a $20 account! So, happy? :)"},"Vous vous installez à son bureau et travaillez le reste de la journée.":{"EN":"You settle into her office and work the rest of the day."},"Vous êtes arrivé au bout de cette quête ! Il va falloir trouver des revenus stables...":{"EN":"You have reached the end of this quest! We will have to find stable incomes..."},"blanc":{"EN":"white"},"gf":{"EN":"gf"},"good girl":{"EN":"good girl"},"massage":{"EN":"massage"},"rasé":{"EN":"shaved"},"vraiment...":{"EN":"really..."},"$nameb réfléchit un instant. Tu le vois se détendre.":{"EN":"$nameb thinks for a moment. You see him relax."},"$nameb te regarde quelques instants, puis se met à rigoler.":{"EN":"$nameb looks at you for a moment, then starts laughing."},"$namemc, c'est toi. Seul rescapé d'un accident de la route qui a tué tes parents et tes 2 frères quand tu avais 10 ans, tu as très vite compris que rien ne te serait donné dans la vie.":{"EN":"$namemc, it's you. The only survivor of a road accident that killed your parents and two brothers when you were 10 years old, you quickly realized that nothing would be given to you for free in life."},"<<t>>hey je suis en train de penser non ?<</t>> Oauis petite merde, mais là c'est fini.":{"EN":"<<t>>hey je suis en train de penser non ?<</t>> Oauis petite merde, mais là c'est fini."},"Active ce bouton avec le clavier":{"EN":"Activates this button with the keyboard"},"Ah merde ! Désolé je... je t'avais pas vu...":{"EN":"Ah shit! Sorry I... I didn't see you..."},"Aller au lycée":{"EN":"Going to high school"},"Aller en cours":{"EN":"Go to class"},"Aller prendre ta douche":{"EN":"Go take your shower"},"Aller voir senpai":{"EN":"Go see senpai"},"Alors là je suis complètement d'accord avec toi !（☆ω☆*）Tout le monde dit l'inverse, mais je suis content d'enfin trouver quelqu'un d'intelligent !":{"EN":"I completely agree with you!（☆ω☆*）Everyone says the opposite, but I'm glad I finally found someone smart!"},"Alors que vous passez les portes de l'école, tu reçois soudainement un violent coup dans le ventre qui te coupe le souffle et te projette au sol.":{"EN":"As you walk through the school doors, you suddenly get a severe blow to your stomach that takes your breath away and throws you to the ground."},"Aujourd'hui, nous étudierons le dur parcours des femmes oppressées par la société patriarcale à travers l'histoire.":{"EN":"Today, we will study the hard journey of women oppressed by patriarchal society through history."},"Bon, aller $namemc, on se reconcentre !":{"EN":"All right, come on, $namemc, let's refocus!"},"Bonsoir cher client ! C'est un plaisir de vous voir devant la porte de notre établissement. Pour souscrire à une assurance vie*, tapez 1. Si vous avez un besoin urgent et vital d'argent, et bien, haha, revenez demain !":{"EN":"Good evening, dear customer! It is a pleasure to see you in front of the door of our establishment. To apply for life insurance*, type 1. If you have an urgent and vital need for money, well, haha, come back tomorrow!"},"Ca doit être le squat des junkies. J'en avais entendu parler au journal télévisé, le maire de $namecity voulait les déloger pour que le parc \"retrouve sa tranquilité\".":{"EN":"It must be the junkies' squat. I had heard about it on the TV news, the mayor of $namecity wanted to dislodge them so that the park could \"regain its tranquility\"."},"Ca va, ça va, pas besoin de s'énerver...":{"EN":"It's okay, it's okay, no need to get upset..."},"Ce n'est pas grave ma chérie... Si tu n'es pas encore prête alors c'est de ma faute, je n'aurais pas du aller si loin.":{"EN":"It's all right, sweetheart.... If you're not ready yet, then it's my fault, I shouldn't have gone this far."},"Ces rêves vont beaucoup trop loin...":{"EN":"These dreams are going far too far...."},"Clara est déboussolée. Ne sachant pas trop si elle doit s'exécuter ou pas, elle jette des regards vers toi pour demander de l'aide. Ne voyant aucune réaction de ta part, elle obéit, et tu la vois doucement se mettre à genoux devant $nameb. Une fois fait, $nameb te regarde d'un air menaçant, pendant que tu entends Clara déboutonner lentement son jean, et sortir sa queue...":{"EN":"Clara is confused. Not sure if she should do it or not, she looks to you for help. Seeing no reaction from you, she obeys, and you see her gently kneeling in front of $nameb. Once done, $nameb looks at you with a menacing look, while you hear Clara slowly unbuttoning her jeans, and pulling out his dick...."},"Continuer à regarder":{"EN":"Keep looking"},"Dans le dernier coin, il y un large bureau sur lequel est posé un PC Gamer relié à rien de moins que 4 écrans. Et sur l'un de ces écrans...":{"EN":"In the last corner, there is a large desk under which is placed a Gamer PC connected to no less than 4 monitors. And on one of these screens...."},"Debug":{"EN":"Debug"},"Descendre ta main sur ses fesses":{"EN":"Putting your hand down on her bottom"},"Deux mots. Deux chemins. Un choix.":{"EN":"Two words. Two paths. A choice."},"Dis moi, tu as un peu trop regardé cette fille, non ?":{"EN":"Tell me, you've been looking at that girl a little too much, right?"},"E-Elle va bien...":{"EN":"S-She's fine..."},"Elle eut une hésitation et, à contre coeur, un geste de recul.":{"EN":"She had a hesitation and, reluctantly, a gesture of retreat."},"Elle se lève rapidement et vient sans tarder se lover dans tes bras en fermant les yeux.":{"EN":"She gets up quickly and comes to curl up in your arms without delay, closing her eyes."},"Elle t'offre pour seule réponse un gémissement.":{"EN":"She offers you a deep moan as her only answer."},"Elle, malheureusement, c'est $namess, la première adoption de $namesm. Elle est ta belle-soeur en quelque sorte. Elle a 2 ans de plus que toi et fait semblant de suivre des études à l'université pour devenir une \"grande sociologue\". Ca te fait beaucoup rire. En fait, elle passe son temps à fumer de la beuh, à écouter du rap dans sa chambre, à zoner sur des sites de rencontres, à lire des magazines féminins, et à t'insulter...":{"EN":"Unfortunately, this is $namess, the first adoption of $namesm. She's your sister-in-law in a way. She's two years older than you and pretending to go to university to become a \"great sociologist\". It makes you laugh a lot. In fact, she spends her time smoking weed, listening to rap in her room, chatting on dating sites, reading women's magazines, and insulting you..."},"Espèce de pervers dégueulasse, tu peux être sur que ça ne se reproduira plus !":{"EN":"You disgusting pervert, you can be sure it won't happen again!"},"Et bien qu'est ce que tu attends $namemc ?":{"EN":"Well, what are you waiting for $namemc ?"},"Faut que j'aille me branler, et vite.":{"EN":"I have to go jerk off, and fast."},"Futur.":{"EN":"Future."},"Félicitation ! Tu viens d'acquérir la $city.bank.name SupaCard™. Tu peux désormais alimenter votre compte ou retirer du liquide dans tous les distributeurs de billets SupaATM™.":{"EN":"Congratulations! You have just acquired the $city.bank.name SupaCard™. You can now fund your account or withdraw cash at all SupaATM™ ATMs."},"Hahaha la jeunesse, vous êtes vraiment les rois de l'humour. Bien, vous nous devez 20$ pour les frais d'ouverture de compte, 10$ pour les frais de gestion, 10$ pour les frais de ventilation, et encore 10 derniers petits dollars pour l'option hologramme de la carte.":{"EN":"Hahaha, youth... You really are the kings of humor. Well, you owe us $20 for the account set-up fee, $10 for the administration fee, $10 for the ventilation fee, and another last $10 for the card's hologram option you subscribed."},"Hahaha... Pourtant, l'ouverture de compte ''to-ta-le-ment'' gratuite que vous venez de gagner, elle, est bien réelle ! Tenez, ceci est votre contrat. 182 pages. Vous souhaitez le lire ? Oui, non ? Non hein, vous avez bien raison. Qui lit ce genre de connerie en dehors des barbus et des communistes ? Et puis vous savez, pour moi, la relation avec le client, c'est avant tout une relation de confiance réciproque.":{"EN":"Hahahaha.... However, the ''to-ta-ly'' free account opening you just won is very real! Here, this is your contract. 182 pages. Would you like to read it? Yes, no? No, you're right. Who reads this kind of crap except the bearded and communists? And, you know, for me, the relationship with the customer is above all a relationship of mutual trust."},"Il y a deux tiroirs, un sur la gauche, un sur la droite.":{"EN":"There are two drawers, one on the left, one on the right."},"J'ai... J'ai envie d'elle.":{"EN":"I... I want her."},"J'évite les toilettes, $nameb et sa bande y traînent souvent pour fumer des joints.":{"EN":"I avoid the toilets, $nameb and his gang often hang out there to smoke joints."},"Je...":{"EN":"I..."},"L'embrasser délicatement dans le cou":{"EN":"Gently kiss her on the neck"},"La dernière question est posée avec un sourire sadique, te faisant craindre le pire. Tu réponds sur le ton du défi.":{"EN":"The last question is asked with a sadistic smile, making you fear the worst. You answer in a challenging tone."},"La vieille dame semble te jauger quelques instants avec un regard étonnamment perçant, puis reprend, probablement après t'avoir déclaré inoffensif.":{"EN":"The old lady seems to gauge you for a few moments with a surprisingly piercing look, then resumes, probably after having judged you harmless."},"Les beautés du sud":{"EN":"The beauties of the south"},"Mais rien n'aurait pu te préparer à ce que tu vois maintenant. Ton coeur ne fait qu'un bond en voyant...":{"EN":"But nothing could have prepared you for what you see now. Your heart screams when you see..."},"Me regarde pas comme ça, va te laver sale crasseux !":{"EN":"Don't look at me like that, go wash yourself, you filthy bastard!"},"Merci de jouer à Blacked & Whited !":{"EN":"Thank you for playing Blacked & Whited!"},"Ne faîtes pas cette tête attristée, vous venez de faire le meilleur choix de votre vie. Vous vous en rendrez rapidement compte et vous me remercierez !":{"EN":"Don't make that sad face, you've just made the best choice of your life. You'll quickly realize it and thank me!"},"Ne l'écoute pas bébé, tu sais que tu m'aimes ! Tu sais que...":{"EN":"Don't listen to her, baby, you know you love me! You know that..."},"Ne sois pas gêné. C'est tellement excitant de voir un cul comme ça encaisser une si grosse queue.":{"EN":"Don't be embarrassed. It's so exciting to see an ass like that take such a big dick."},"Oh non pas besoin. Tu sais, moi si je peux sécher les cours, ça m'arrange bien.":{"EN":"Oh, no need to. You know, if I can skip school, it suits me well."},"Oh, c'était rien. Je connais bien $nameb, j'arrive à le gérer.":{"EN":"Oh, it was nothing. I know $nameb well, I can handle him."},"Ouais pourquoi pas...":{"EN":"Yeah why not..."},"Oui...":{"EN":"Yes..."},"Par le petit trou":{"EN":"Through the tiny hole"},"Pikachu":{"EN":"Pikachu"},"Poser sa main sur ton caleçon":{"EN":"Putting her hand on your underwear"},"Putain $namemc gros bouffon, arrête de faire le gamin !":{"EN":"Fuckin' $namemc big bastard, stop acting like a kid!"},"S'approcher et lui peloter le cul":{"EN":"Get closer and grab her ass"},"Sans ménagement, $nameb ramène $namegf vers lui pour l'embrasser à pleine bouche. $namegf se laisse faire et semble même s'offrir à lui... La langue de ta copine se mélange à celle de $nameb sous tes yeux, et ils n'ont pas l'air de vouloir s'arrêter là.":{"EN":"Without mercy, $nameb brings $namegf back to him to embrace her with a full mouth. $namegf lets herself be carried away and even seems to offer herself to him.... Your girlfriend's tongue is mixing with $nameb's in front of your eyes, and they don't seem to want to stop there."},"Sans un mot, tu ramènes tes mains dans son dos, et tu les fais descendre en passant le bout de tes doigts sur long de sa colonne vertebrale. Sa peau frissonne à ton passage. En bas du dos, tu passes sur toute la longueur du coton de sa culotte blanche qui dépasse de son leggins.":{"EN":"Without a word, you bring your hands behind her back, and you make them go down by passing your fingertips along her spine. Her skin shivers as your hand passes by. At the bottom of your back, you pass along the entire length of her white cotton panties that coming out of her leggings."},"Si tu le souhaites, tu peux personnaliser cette histoire en me donnant quelques informations.":{"EN":"If you wish, you can personalize this story by giving me some information."},"Softporn":{"EN":"Softporn"},"Thanks!":{"EN":"Thanks!"},"Ton coeur ne fait qu'un bond dans ta poitrine. Tu essaies de continuer de mâcher tes céréales d'un air cool.":{"EN":"Your heart leaps into your chest. You're trying to keep chewing your cereal in a cool way."},"Ton regard est hypnotisé par son décolleté plongeant qui t'offre le spectacle du sillon de ses deux seins. Et dire qu'il y a encore quelques secondes, tu les sentais pressés contre toi...":{"EN":"Your gaze is hypnotized by her plunging neckline which offers you the spectacle of the furrow of her two breasts. And to think that just a few seconds ago, you felt them pressing against you..."},"Tout en embrassant $namegf, tu descends lentement ta main le long de son ventre. Tu sens tes doigts passer sous la couture de sa culotte. La respiration de $namegf s'accélère à mesure que tu continues ta descente. Tu sens passer sous tes doigts la douceur de son pubis, puis, enfin, la chaleur (intense !) de sa petite chatte trempée.":{"EN":"While kissing $namegf, you slowly lower your hand along his belly. You can feel your fingers running under the seam of her panties. The breathing of $namegf accelerates as you continue your descent. You can feel the softness of her pubic area under your fingers, then, finally, the (intense!) warmth of her soaked little pussy."},"Travailleur âgé":{"EN":"Senior worker"},"Très bien.":{"EN":"Very well."},"Tu arrives chez toi. En rentrant, tu sens une bonne odeur de ratatouille. Tu entends ta mère crier depuis la cuisne.":{"EN":"You're coming home. You smell like ratatouille. You can hear your mother screaming from the kitchen."},"Tu arrives pile au début du cours.":{"EN":"You arrive right at the beginning of the class."},"Tu es beaucoup trop faible pour seulement penser à te défendre.":{"EN":"You're far too weak to even think about defending yourself."},"Tu es complètement hypnotisé. Son odeur, la douceur de son ventre sous tes doigts, ses gémissements... Ta queue est bien dure, et tu as presque besoin de te retenir pour ne pas jouir quand $namegf se frotte à toi.":{"EN":"You're completely hypnotized. Her smell, the sweetness of her belly under your fingers, her moans... Your dick is very hard, and you almost need to stop to avoid cumming when $namegf rubs up against you."},"Tu insinues que j'avais ''envie'' que tu me vois ?! Nan mais il est complètement fou j'hallucine !":{"EN":"Are you saying I ''wanted'' you to see me?! You are fucking crazy, I can't believe it!"},"Tu ne peux pas t'empêcher de balayer son corps de haut en bas, en passant par sa nuisette légère, ses cuisses découvertes, et sa petite culotte transparente. En remontant, tu rougis en croisant son regard. Elle affiche un petit sourire.":{"EN":"You can't help but scan her body from top to bottom, her light nightie, her uncovered thighs, and her transparent panties. As you go up, you blush when you see her eyes. She has a little smile on her face."},"Tu pourras venir chez moi si tu veux, je te montrerai ma collection ! J'ai plus de 3 téras classés en une centaine de catégories !":{"EN":"You can come to my house if you want, I'll show you my collection! I have more than 3 teras classified into a hundred categories!"},"Tu prends une culotte dans tes mains. C'est une petite culotte rose en coton avec un flot noir, comme pour signifier qu'elle couvre un cadeau.":{"EN":"You take a pair of panties in your hands. These are pink cotton panties with a black stream, as if to indicate that they cover a gift."},"Tu préfères ne pas protester davantage.":{"EN":"You prefer not to protest any further."},"Tu regardes par le trou de la serrure, mais la clé est dedans et obstrue ta vision. Dommage, c'était bien essayé.":{"EN":"You look through the keyhole, but the key is in there and obstructs your vision. Too bad, it was a nice try."},"Tu rentres en classe avec un peu de retard. Ta prof, Madame Mcdonaldgall, baisse avec deux doigts ses fines lunettes sur son nez pour te fixer d'un air sévère. Elle ne te quitte pas des yeux jusqu'à ce que tu sois installé sur ta chaise.":{"EN":"You're going to class a little late. Your teacher, Mrs. Mcdonaldgall, lowers her thin glasses on her nose with two fingers to stare at you severely. She won't take her eyes off you until you get in your chair."},"Tu retires ton pantalon et tu t'allonges avec $namegf dans le lit. Elle est dans tes bras, et de son corps chaud et doux contre toi émane une douce odeur parfumée. Tu mets une main sur son petit cul pour la maintenir au plus près de toi.":{"EN":"You take off your pants and lie down with $namegf in bed. She is in your arms, and from her warm and gentle body against you emanates a sweet fragrant scent. You put one hand on her back to keep her as close as possible to you."},"Tu te branles frénétiquement en pensant à $namegf. Après quelques va-et-vients, tu ejacules de grosses giclées dans le sopalin.":{"EN":"You jerk off frantically thinking about $namegf. After a few comings and goings, you ejaculate large gushes into the sopalin."},"Tu te fais une bonne session de gaming. Ton excitation est légèrement réduite.":{"EN":"You're having a good gaming session. Your excitement is slightly reduced."},"Tu vois $nameb avancer vers $namegf, un grand sourire carnassier sur son visage. Tu essaies de bouger, mais tu es paralysé par la peur, et tu ne peux que regarder, impuissant.":{"EN":"You see $nameb moving towards $namegf, a big carnivorous smile on her face. You try to move, but you are paralyzed by fear, and you can only look, helpless."},"Un immense merci également à tous les membres Silver et à tous ceux qui m'aident dans cette aventure !":{"EN":"A huge thank you to all the Silver members and all those who help me in this adventure!"},"Vas-y, défonce moi bien cette pute blanche...":{"EN":"Go ahead, fuck that white whore up..."},"Visage":{"EN":"Face"},"Voilà. C'est très bien, laisse toi aller. Tu vois, ça n'était pas compliqué.":{"EN":"That's it. That's very good, relax. See, it wasn't complicated."},"Woodman Sachs":{"EN":"Woodman Sachs"},"Wow... Elle est douce.":{"EN":"Wow..... She's so sweet."},"caucasien":{"EN":"caucasian"},"corruption":{"EN":"corruption"},"dans la compétence":{"EN":"in the competence"},"imposante":{"EN":"thick"},"jaune":{"EN":"yellow"},"ridicule":{"EN":"ridiculous"},"violet":{"EN":"purple"},"Évidemment, elle a rapidement baissé les yeux. Mais c'est juste après, quand elle est devenue toute rouge et confuse, qu'elle était la plus mignonne. C'était presque romantique comme moment ! Enfin... Je te dis ça, mais j'espère que ça ne te dérange pas que je regarde ta copine ?":{"EN":"Of course, she quickly looked down. It was right after that, when she got all red and confused, that she was the cutest. You know, it was almost a romantic moment. Well... I'm telling you this, but I hope you don't mind if I look at your girlfriend?"},"$nameb est fou de rage.":{"EN":"$nameb is mad with rage."},"$nameb te regarde avec un air bizarre. Vous arrivez devant la porte de ta classe. Il s'arrête.":{"EN":"$nameb looks at you with a strange look on his face. You arrive at the front door of your classroom. He stops."},"$namegf a joui !":{"EN":"$namegf came!"},"$namegf te prend dans ses bras. Tu es content qu'elle soit là.":{"EN":"$namegf hugged you. You're glad she's here."},"$namegf te répond avec un grand sourire, en rougissant.":{"EN":"$namegf answers you blushing with a big smile."},"$namemc, tu fais quoi ? Dépèche toi tu vas être en retard !":{"EN":"$namemc, what are you doing? Hurry up, you'll be late !"},"$namess ! $namemc ! Ca suffit !":{"EN":"$namess ! $namemc ! Ca suffit !"},"25$ viennent d'être retiré de votre compte.":{"EN":"$25 has just been withdrawn from your account."},"<<= $notifications[_i][_j][0]>>":{"EN":"<<= $notifications[_i][_j][0]>>"},"A demain matin princesse... :)":{"EN":"See you in the morning, Princess... :)"},"A peine es-tu rentré dans la chambre de $namegf qu'elle se jette sur toi et t'embrasse à pleine bouche.":{"EN":"As soon as you enter $namegf's room, she throws herself at you to kiss you."},"Aaaaah ! Je suis content de voir qu'on a réussi à se comprendre tous les deux. Tu vois, tout va très bien quand tu ne fais pas de bêtises, hein mange-merde ?":{"EN":"Aaaaaah! I'm glad to see we've managed to understand each other. See, everything's fine when you don't do anything stupid, right shit-eater?"},"Aller $namemc ! Tu n'as pas le choix il faut que t'y ailles.":{"EN":"Come on, $namemc! You don't have a choice, you have to go in."},"Aller dans la chambre de ta $relationss":{"EN":"Go to your $relationss's room"},"Aucun coup ne vient. A la place, il y a l'odeur qui te prend au nez. Malgré une petite fenêtre ouverte, les toilettes puent un mélange de beuh et de pisse. Il y a plus de monde que ce que tu pensais. Il y a $nameb bien sûr, mais tu vois 3 mecs de sa bande qui sont souvent avec lui.":{"EN":"No hits are coming. Instead, a very strong smell comes up in your nose. Despite a small open window, the toilet stinks of a mixture of weed and piss. There are more people than you thought. There's $nameb of course, but you see 3 guys from his gang who are often with him."},"Aujourd'hui, nous étudierons _select.":{"EN":"Today we will study _select."},"Avant que tu n'aies le temps de répondre, elle t'embrasse dans un long baisé romantique.":{"EN":"Before you have time to answer, she kisses you in a long romantic kiss."},"Bien, j'ai du travail. Je vous confie à mademoiselle $person.ayako.name qui est une de nos meilleures masseuses. Elle vous offrira les bases de notre travail. Je l'ai déjà prévenu et elle vous attend.":{"EN":"Well, I have work to do. I entrust you to Miss $person.ayako.name who is one of our best masseuses. It will provide you with the basis for our work. I've already told her and she's waiting for you."},"Blacked & Whited intègre un système de navigation par le clavier. Utilise les touches 1 à 9 pour sélectionner ton choix, et clique de nouveau pour l'activer. Tu peux tester avec les choix ci-dessous.":{"EN":"Blacked & Whited includes a keyboard navigation system. Use keys 1 to 9 to select your choice, and click again to activate it. You can test with the choices below."},"Bon poto, on continuera cette discussion plus tard.":{"EN":"Well, buddy, we'll continue this discussion later."},"Bonjour Ayako":{"EN":"Hi Ayako"},"Bonjour cher client #$city.bank.client_number ! C'est un plaisir de vous voir ici. On vous a déjà dit à quel point vous étiez beau&nbsp;? Nous, oui. Si vous avez trop d'argent, n'hésitez pas à venir nous en parler, nous avons des solutions pour vous. Et vous savez que nous avons toujours les meilleures solutions rien pour vous.":{"EN":"Hello dear customer #$city.bank.client_number ! It's a pleasure to see you here. Have you ever been told how handsome you are? We, yes. If you have too much money, don't hesitate to come and talk to us about it, we have solutions for you. And you know that we always have the best solutions for you."},"Bonjour monsieur, et bienvenue dans notre humble établissement. Qu'est-ce qui pourrait vous faire plaisir ?":{"EN":"Hello sir, and welcome to our humble establishment. How could you be pleased?"},"Bonjour, je suis Christine":{"EN":"Hello, I'm Christine."},"Bonjour, je suis Miss Smith":{"EN":"Hello, I'm Miss Smith."},"Ces paroles ont eu l'effet d'un electrochoc ! L'idée que $namegf puisse être mêlée à tout ça... Ton stress s'entendit clairement dans ta voix.":{"EN":"These words had the effect of an electroshock! The idea that $namegf could be involved in all this.... Your stress was clearly heard in your voice."},"D'un geste de la main, $person.domilf.name fait taire $person.kawasaki.name qui se met immédiatement en retrait.":{"EN":"With a wave of the hand, $person.domilf.name silences $person.kawasaki.name, which immediately moves back."},"Démarrer une nouvelle partie":{"EN":"Start a new game"},"Ecouter ce qu'il a à dire":{"EN":"Listen to what he has to say"},"Et bah vous n'êtes pas très tolérante. Moi je trouve ce contraste vraiment très beau. Franchement, vous ne vous imaginez pas à la place de <<= _dbp[_select][0]>> ?":{"EN":"Well, you're not very tolerant. I find this contrast really beautiful. Frankly, you don't imagine yourself instead of <<= _dbp[_select][0]>>?"},"Il a des amis ce branleur ? Qui accepte de traîner avec un blaireau pareil ?":{"EN":"This wanker has friends? Who accept to hang out with a nerd like that?"},"Il explose d'un rire un peu creepy. Il ajoute, comme si cela expliquait tout.":{"EN":"He explodes with a creepy laugh. He adds, as if that explains everything."},"Il explose de rire comme si tu venais de faire la blague du siècle.":{"EN":"He explodes in laughter like you just made the joke of the century."},"Il n'y a rien à voir ici pour le moment. Le contenu arrive très prochainement :)":{"EN":"There's nothing to see here right now. The content is coming very soon :)"},"Ivy Wolfe ! Tu connais cette actrice ? Elle est très connue, c'est une de mes préférés. Nan mais regarde ce cul putain, t'as déjà vu un cul comme ça ? Et cette cambrure... Cette blonde est une déesse !":{"EN":"Ivy Wolfe! Do you know this actress? She's very well known, and one of my favorites. Look at this fucking ass, have you ever seen an ass like this before? And this arch.... That blonde is a goddess!"},"J-je t'aime $namemc.":{"EN":"I-I love you $namemc."},"Je viens de vous répondre monsieur $person.mc.surname. Que souhaitez vous savoir d'autre ?":{"EN":"I just answered you Mr. $person.mc.surname. What else would you like to know?"},"Jeudi":{"EN":"Thursday"},"L'appel de la douceur":{"EN":"The call of sweetness"},"La belle inconnue te branle dans les bois pendant plusieurs minutes. Alors que t'es sur le point d'exploser, elle te présente ses deux beaux seins blancs.":{"EN":"The beautiful stranger jerks you off in the woods for several minutes. Just when you're about to explode, she introduces you to her two beautiful white breasts."},"La bouche ouverte et les yeux fermés, tu sens qu'elle va bientôt jouïr. Plus rien n'existe autour d'elle à part son plaisir, et tu imagines bien à quoi elle pense en ce moment. Dans un dernier gémissement, elle jouit. Tu éjacules en même temps qu'elle.":{"EN":"With her mouth open and her eyes closed, you can feel that she will soon come. Nothing exists around her anymore except her pleasure, and you can imagine what she's thinking right now. In one last moan, she comes. You ejaculate at the same time."},"La faire jouir":{"EN":"Make her cum"},"La fille aux cheveux noirs sursaute.":{"EN":"The girl with the black hair jumping."},"Le temple moderne où les populations viennent communier le dimanche pour certain. Centre de débauche et d’aliénation des esprits pour d'autres. Pour toi, le centre commercial est surtout un endroit où tu veux venir regarder d'autres personnes dépenser un argent que tu n'as pas.":{"EN":"The modern temple where people come to receive communion on Sundays for some. A centre of debauchery and alienation of spirits for others. For you, the mall is especially a place where you want to come and watch other people spend money you don't have."},"Les cours sont compliqués actuellement, et même si tu as envie d'aller plus loin avec elle, les cours sont la priorité.":{"EN":"The lessons are complicated these days, and even if you want to go further with your love, they are the priority."},"Les filles acquiescent tes paroles.":{"EN":"The girls agree with your words."},"Mais vous m'aviez dit que c'était gratuit...":{"EN":"But you told me it was free..."},"Mon premier compte en banque":{"EN":"My first bank account"},"Ne sois pas gêné. C'est hypnotique de voir sa grosse poitrine de blonde sauter au rythme des coups de queue qu'elle se prend.":{"EN":"Don't be embarrassed. It's hypnotic to see her big blonde chest jumping to the rhythm of the cock blows she takes."},"Non ! Il ne faut pas la brusquer !":{"EN":"No! Don't rush her!"},"Non ! Je veux dire, y'a...":{"EN":"No! I mean, there's...."},"Non...":{"EN":"No..."},"Oh merde, c'est toi qui pues comme ça ?!":{"EN":"Oh shit, are you the one who stinks like that?!"},"Oh putain de merde...":{"EN":"Oh fuckin' hell..."},"On m'a dit que t'avais un cadeau pour moi, c'est vrai ça ?":{"EN":"I was told you had a gift for me, is that true?"},"On voit ça tout à l'heure.":{"EN":"We'll see about that later."},"Oui... Je suis trop bien avec toi.":{"EN":"Yes... I'm happy with you. ^_^"},"Ouvrir ses cuisses":{"EN":"Open her thighs"},"Pendant qu'elle a le dos tourné, tu portes tes doigts à tes narines, et tu prends une grande inspiration. L'odeur de sa mouille sur tes doigts te rend complètement dingue...":{"EN":"While her back is turned, you carry your fingers to your nostrils, and take a deep breath. The smell of her wetness on your fingers makes you completely crazy..."},"Qu'est-ce qu'elle est belle...":{"EN":"How beautiful she is..."},"Qu'est-ce qui lui prend ?":{"EN":"What's the matter with her?"},"Quel est son prénom ?":{"EN":"What's her first name?"},"Quel est ton nom ?":{"EN":"What is your name?"},"Quel est ton prénom ?":{"EN":"What is your first name?"},"Remercier $namebf":{"EN":"Thank $namebf"},"Si seulement je pouvais aller voir la police. Mais $namecity City est la ville la plus violente du pays, la police n'a pas le temps de s'occuper des petites histoires comme la mienne.":{"EN":"If only I could go to the police. But $namecity City is the most violent city in the country, the police don't have time to deal with little stories like mine."},"Son bassin fait de petits mouvements inconscients, et son pubis appuie contre ta queue à chaque fois. Tu imagines, derrière le tissu, et contre ta queue, son petit minou qui mouille sa sève parfumée. Entre deux soupirs, elle te sussures à l'oreille.":{"EN":"Her pelvis makes small unconscious movements, and her pubis presses against your cock every time. You can imagine, behind the fabric, and against your cock, her little pussy wetting its perfumed serum. Between two sighs, she whisper in your ear."},"Suce.":{"EN":"Suck it."},"Suivre $namebf":{"EN":"Follow $namebf"},"T'as pas intérêt à la mêler à tout... \t<<t>> \t\tOuch ! \t<</t>>":{"EN":"You better not bring her into... \t<<t>> \t\tOuch ! \t<</t>>"},"Ta $relationss, qui vient juste de faire son apparition dans l'encadrure de la porte, répond à ta place.":{"EN":"Your $relationss, which has just appeared in the door frame, answers for you."},"Taxe sur les retraits d'argent en soutien aux droits des femmes et pour l'avortement":{"EN":"Tax on money withdrawals in support of women's rights and for abortion"},"Tiens, c'est ici.":{"EN":"It's right here."},"Ton corps est <<playerBodyShape>>.":{"EN":"Your body is <<playerBodyShape>>."},"Ton foyer, c'est ça. Tu vis dans une petite maison de banlieue à l'architecture sommaire, dans un quartier uniforme, calme et bien rangé. Ta vie n'est pas spécialement palpitante: études, jeux vidéo, dodo. Putain ce que tu aimes dormir. Tes relations sociales se résument à trois personnes, trois femmes : ta petite amie $namegf, ta $relationsm $namesm, et ta $relationss $namess.":{"EN":"Your home, that's it. You live in a small suburban house with a basic architecture, in a uniform, quiet and tidy neighbourhood. Your life is not especially exciting: studies, video games, bedtime. You fucking love to sleep. Your social relationships can be summed up as three people, three women: your girlfriend $namegf, your $relationsm $namesm, and your $relationss $namess."},"Tout était sur le contrat jeune homme.":{"EN":"It was all about the contract, young man."},"Tu as vu ça ! Je trouve ça vraiment bizarre, surtout avec cette différence de couleur. Ca n'est pas normal...":{"EN":"You saw that! I think it's really weird, especially with this color contrast. This is not normal...."},"Tu commences à branler $namegf, et tu sens sous tes doigts sa petite chatte s'ouvrir un peu plus à chaque va-et-vient.":{"EN":"You start jerking off $namegf, and you feel under your fingers her little pussy opening up a little more with each comings and goings."},"Tu es devenu masseur":{"EN":"You became a masseur"},"Tu es vraiment toute belle avec ça. :)":{"EN":"You look really gorgeous with that. :)"},"Tu fais descendre ton massage de plus en plus bas. $namegf émet un premier râle en sentant tes doigts effleurer sa petite fleur. Puis un second en recommençant, puis encore un autre. Bientôt, tu l'entends gémir sans s'arrêter alors que tu passes deux doigts sur toute la longueur de sa fente.":{"EN":"You lower and lower your massage. $namegf makes a first whine as she senses your fingers touching her little flower. Then a second one by repeating it, then another one. Soon you hear her moaning without stopping as you pass two fingers along the entire length of her wet slit."},"Tu fermes les yeux pour te remémorer tes souvenirs...":{"EN":"You close your eyes to remember your memories..."},"Tu passes tes mains dans son dos, et le contact de sa peau douce sous tes doigts te fait oublier toute cette journée. Tu sens son état se calmer. Tu sens son souffle dans ton cou se faire plus profond, plus régulier, devenant presque des soupirs.":{"EN":"You put your hands behind her back, and the touch of her soft skin under your fingers makes you forget this whole day. You can feel her mood calm down. You feel her breath in your neck becoming deeper, more regular, almost becoming sighs."},"Tu peux trouver sur ta droite l'état émotionnel de ta copine, avec son ''excitation'' (sur 10 points), et son niveau de ''corruption''. Augmente la corruption pour ouvrir de nouvelles possibilités d'interaction avec $namegf. Mais ne va pas trop vite ! Sinon tu risques de lui faire peur.":{"EN":"You can find on your right the emotional state of your girlfriend, with her ''excitement'' (on 10 points), and her ''corruption'' level. Increases corruption to reveal new ways to interact with your girlfriend. But don't go too fast! You might scare her."},"Tu prends son visage dans tes paumes, et doucement tu diriges ses yeux vers les siens. Vous vous regardez quelques instants, puis tu approches tes lèvres des siennes, l'effleurant presque. Elle fait le dernier centimètre pour t'embrasser.":{"EN":"You take her face in your palms, and gently directing her eyes towards yours. You look at each other a moment, then you approach your lips to hers, almost touching her. She goes the last inch to kiss you."},"Tu préfères peut être que j'aille demander à la fille de tout à l'heure ?":{"EN":"Maybe you'd rather I go ask the girl from earlier?"},"Tu reposes le livret en espérant ne pas l'avoir trop froissé. tu salues maîtresse $person.kawasaki.name, et tu retournes dans la rue.":{"EN":"You put the booklet down hoping you haven't hurt it too much. You greet mistress $person.kawasaki.name, and you go back to the street."},"Tu retires ta main avant d'avoir réussi à amener $namegf jusqu'à l'orgasme. Tu la secoues pour évacuer la douleur.":{"EN":"You remove your hand before you can bring $namegf to orgasm. You shake it to relieve the pain."},"Tu sors ta queue. Tu te sens presque... excité ? En tout cas, rapidement le branleur redouble d'effort en te voyant bander.":{"EN":"You pull out your dick. You almost feel... excited? Anyway, quickly the wanker doubles his effort when he sees you get hard."},"Tu te branles furieusement, mais malgré ça ta queue reste mi-molle. Tu as du passer trop de temps devant ce type de porno, ça te fait moins d'effet.":{"EN":"You jerk off furiously, but despite that your dick stays half soft. You must have spent too much time in front of this kind of porn, it has less effect on you."},"Tu vis sous le même toit qu'une MILF qui a dans la quarantaine.":{"EN":"You live with a MILF in her forties who takes care of the house."},"Tu vois $namegf rougir en se laissant bercer par les flatteries de $nameb, avant de se ressaisir.":{"EN":"You see $namegf blush as she lets herself be lulled by $nameb's flattery, before pulling herself together."},"Vous êtes un peu plus ouvert aux autres. (Blacked Point+)":{"EN":"You're a little more open to others. (Blacked Point+)"},"bf":{"EN":"bf"},"brune":{"EN":"brown"},"indien":{"EN":"indian"},"monstrueuse":{"EN":"monstrous"},"petits":{"EN":"small cutie"},"queue":{"EN":"dick"},"volcanique":{"EN":"volcanic"},"$namegf est visiblement déçue, mais n'insiste pas.":{"EN":"$namegf is obviously disappointed, but doesn't insist."},"$namegf te fait un bisou sur le front.":{"EN":"$namegf gives you a kiss on the forehead."},"$namemc, t'es dans la merde.":{"EN":"$namemc, you're in the shit."},"$namess, soit gentille avec ton frère s'il te plait.":{"EN":"$namess, be nice to your brother, please."},"Aaah hmmm, n-non. P-pas aujourd'hui. Mais il y aura d'autres formations quand tu auras mis en pratique ce que je t'ai appris et...":{"EN":"Aaah hmmm, n-no. N-not today. But there will be other training when you have put into practice what I have taught you and..."},"Active ce bouton en appuyant deux fois sur la touche 1":{"EN":"Activate this option by pressing the 1 button twice"},"Après un temps d'hésitation, elle continue.":{"EN":"After a moment of hesitation, she continues."},"Bien, on est au clair ?":{"EN":"Well, are we clear?"},"Blacked":{"EN":"Blacked"},"Bon, je devrais aller voir $namegf, elle doit être morte d'inquiétude.":{"EN":"Well, I should go see $namegf, she must be worried sick."},"Bonjour Ayoko":{"EN":"Hi Ayoko"},"Bravo ! Tu as atteint la fin du contenu actuel ! La suite de l'histoire, de nouveaux lieux, de nouvelles quêtes et pleins de surprises sont en préparation et arrivent très vite !":{"EN":"Congratulations! You have reached the end of the current content! New places, new quests and lots of surprises are coming very quickly!"},"Bravo ! Tu as réussi un nouvel accomplissement !":{"EN":"Congrat'! You have unlock a new achievement!"},"C'est votre job.":{"EN":"That's your job."},"Ce que je veux faire ? Quelle question.":{"EN":"What I want to do? It's obvious."},"Cette clé commence à me gaver sérieusement, il va falloir que je fasse quelque chose.":{"EN":"This key is starting to seriously overwhelm me, I'm going to have to do something."},"Chaussettes":{"EN":"Socks"},"Clara acquiesse sans prendre le temps de s'arrêter.":{"EN":"Clara acquires without taking the time to stop."},"Continue":{"EN":"Continue"},"D'accord, désolé...":{"EN":"All right, sorry..."},"D'un geste automatique, tu appuies sur la tête du réveil pour l'éteindre. Le silence se refait complet. Tu sens sur ta peau les premiers rayons du soleil. Ton esprit émèrge doucement. Tu te tords dans ton lit, tu t'étires et tu grognes pour sortir de ta torpeur.":{"EN":"With an automatic gesture, you press the alarm clock head to turn it off. The silence is complete again. You feel the first rays of the sun on your skin. Your mind emerges slowly. You bend in your bed, stretch and growl to get out of your torpor."},"De même, si tu veux faire un retour, partager des idées, ou simplement discuter avec une communauté qui partage tes plaisirs, tu peux le faire sur ''discord'' ou ''patreon''. Tu peux trouver tous les liens sur ta gauche.":{"EN":"Likewise, if you want to make a feedback, share ideas, or simply chat with a community that shares your pleasures, you can do it on ''discord'' or ''patreon''. You can find all the links on your left."},"Demander du travail":{"EN":"Apply for the job"},"Elle a retrouvé sa couleur rousse naturelle.":{"EN":"She has returned to its natural red color."},"Embrasser":{"EN":"Kiss her"},"Et bah, t'aimes bien te foutre dans la merde toi.":{"EN":"Damn, you do like to get in trouble."},"Faire revenir tes mains s'occuper de sa poitrine":{"EN":"Bringing your hands back to take care of her chest"},"Hein ?":{"EN":"Huh ?"},"Hm, nan, désolé, tu n'es pas mon type...":{"EN":"Um, no, sorry, you're not my type..."},"Hors de question de le laisser faire !":{"EN":"There's no way I'm letting him do it!"},"J'ai remarqué comme tu la regardais. Elle te plait hein ?":{"EN":"I noticed the way you were looking at her. You like her ?"},"J-j'ai mal à la main, je dois m'arrêter...":{"EN":"I-I have a sore hand, I have to stop..."},"Je suis déjà propre. Je n'ai pas besoin de prendre une douche pour le moment.":{"EN":"I'm already clean. I don't need to take a shower right now."},"Je viens de vous répondre monsieur $player.identity.surname. Que souhaitez vous savoir d'autre ?":{"EN":"I just answered you Mr. $player.identity.surname. What else would you like to know?"},"Je... d'accord.":{"EN":"I... okay."},"Jeter un coup d'oeil à cheveux noirs":{"EN":"Take a look at black hair"},"Jouer":{"EN":"Playing"},"Juin":{"EN":"June"},"Juste devant la porte d'entrée, tu vois $namegf, ta princesse, qui t'attend assise sur un muret.":{"EN":"Right in front of the main door, you see $namegf, your princess, waiting for you, sitting on a low wall."},"L'image de $namegf à la place de l'actrice porno te donne un shout d'excitation. Après quelques va-et-vient sur ta queue, tu te vides dans un sopalin que tu jettes dans la poubelle.":{"EN":"The picture of $namegf instead of the porn actress gives you a shout of excitement. After a few comings and goings on your dick, you empty yourself into a tissue and throw it in the garbage can."},"La formatrice t'attend comme prévu dans la salle. C'est une asiatique beaucoup plus jeune que ce à quoi tu t'attendais. Tu ne lui donnes pas plus de 20 ans...":{"EN":"The teacher is waiting for you as planned in the room. She's a much younger Asian girl than you expected. You don't give her more than 20 years..."},"La porte est fermée à clé. Tu entends ta $relationss prendre sa douche.":{"EN":"The door is locked. You hear your $relationss taking a shower."},"Laisser faire grosse branlette":{"EN":"Let's give a big hand job"},"Le prendre":{"EN":"Take it"},"Le regard intense de $nameb te déstabilise, tu baisses les yeux. Tu sens ta colère s'estomper complètement pour laisser la place à la résignation.":{"EN":"$nameb's intense look disturbs you, you lower your eyes. You feel your anger fade completely to give way to resignation."},"Les rues sont belles, et tu apprécies à chaque inspiration le petit goût de pot d'échappement de l'air.":{"EN":"The streets are beautiful, and you enjoy the taste of the air's exhaust pipe with every breath."},"Lui demander qui il est":{"EN":"Ask him who he is"},"L’Abhyanga : massage traditionnel ayurvédique à base de pétrissage, lissage et pression ondulatoire.":{"EN":"The Abhyanga: traditional Ayurvedic massage based on kneading, smoothing and wave pressure."},"Mais, comment ? Je n'ai rien...":{"EN":"But, how? I didn't say anything..."},"Non... Je ne sais pas... Tu le laisseras tranquilles si j'accepte, tu le promets ?":{"EN":"No... I-I don't know... You'll leave him alone if I accept?"},"Nous rejoindre":{"EN":"Join the community"},"Oh la salope !":{"EN":"What a bitch!"},"Ouvrir les tiroirs de la commode":{"EN":"Open the drawers of the chest of drawers"},"Paramètres":{"EN":"Settings"},"Pourquoi elle a fait ça ?":{"EN":"Why did she do that?"},"Puis, se tournant vers $namebf.":{"EN":"Then, turning to $namebf."},"Que c'est bon d'être en week-end ! Je devrais en profiter pour visiter la ville.":{"EN":"It's so good to be on the weekend! I should take this opportunity to visit the city."},"Quel est le nom de ta belle-mère ?":{"EN":"What is the name of your step-mother?"},"Quelle est ta relation avec elle ?<<textbox \"$relationsm\" \"mère\">>":{"EN":"What is your relationship with her? <<textbox \"$relationsm\" \"mother\">>"},"Quitter la cuisine":{"EN":"Leave the kitchen"},"Quoi, tu penses que je suis trop jeune pour être senpai c'est ça ?（>﹏<)":{"EN":"What, you think I'm too young to be senpai, that's it? （>﹏<)"},"Retourner en ville":{"EN":"Going back to the city"},"Se rendre dans la chambre de ta mère":{"EN":"Going to your mother's room"},"Sententias hoc exposui C mentionem exposui C Fannio tum ipsam diebus tamquam et ne nobis diebus ut coram sermonem sententias Scaevola habitum tum sermo ut genero Marci ipsos filio hoc C genero arbitratu coram enim et meo habitum mentionem videretur 'inquam' cum C nobis mortem videretur a de libro a Laeli arbitratu cum ipsam mandavi mentionem tamquam ne Fannio quas a Fannio Africani tamquam ut exposui haberi quasi genero nobis 'inquit' Laeli ne mortem loquentes ipsos illo illo amicitia sententias paucis et in cum tum eam Laeli ipsam quasi memoriae nobis 'inquam' 'inquit' arbitratu mandavi sententias 'inquit' induxi mandavi libro.":{"EN":"Sententias hoc exposui C mentionem exposui C Fannio tum ipsam diebus tamquam et ne nobis diebus ut coram sermonem sententias Scaevola habitum tum sermo ut genero Marci ipsos filio hoc C genero arbitratu coram enim et meo habitum mentionem videretur 'inquam' cum C nobis mortem videretur a de libro a Laeli arbitratu cum ipsam mandavi mentionem tamquam ne Fannio quas a Fannio Africani tamquam ut exposui haberi quasi genero nobis 'inquit' Laeli ne mortem loquentes ipsos illo illo amicitia sententias paucis et in cum tum eam Laeli ipsam quasi memoriae nobis 'inquam' 'inquit' arbitratu mandavi sententias 'inquit' induxi mandavi libro."},"Soudainement, tu te figes. Tu viens d'entendre du bruit dans les escaliers. Probablement ta soeur qui remonte. Machinalement, tu mets ce que tu tiens dans les mains dans ta poche, tu refermes le tiroir sans un bruit, et tu te diriges vers la porte.":{"EN":"Suddenly, you freeze. You just heard some noise on the stairs. Probably your sister coming up. Machinally, you put what you hold in your hands in your pocket, close the drawer without a sound, and walk to the door."},"Suivant ses consignes, tu lui masses la tête avec tes doigts, en passant tes doigts dans sa chevelure. Elle te donne des indications régulières: plus fort, plus à droite, plus appuyé, plus doux, du bout des doigts...":{"EN":"According to her instructions, you massage her head, passing your fingers through her hair. It gives you regular indications: stronger, more to the right, more supported, softer, use your fingertips..."},"Sérieux ? Oh, génial ! Donne la télécommande.":{"EN":"Seriously? Oh, great! Great! Give me the remote control."},"T'as encore oublié mes 20 balles mange-merde ?! Je vais t'écrabouiller comme la pire des merdes.":{"EN":"Did you forget my 20 bullets again shit-eater? I'm gonna crush you like the worst piece of shit."},"T'es en train de dire que ma meuf est moche ?":{"EN":"Are you saying my chick is ugly?"},"T'es sérieux mec ? Bah tu te mets bien ! Tu dois en faire des jaloux !":{"EN":"What?! Are you serious, man? Wow! You must make a lot of jealous!"},"Ta $relationss prend son petit-déjeuner en face de toi. Comme tous les matins, elle est sur son téléphone, complètement fermée au monde extérieur.":{"EN":"Your $relationss is eating breakfast in front of you. As every morning, she is on her phone, completely closed to the outside world."},"The establishment is closed at night.":{},"Tu approches tes lèvres de sa poitrine pour les couvrir de baisers. Tu es surpris par la douceur parfaite de sa peau juvénie.":{"EN":"You approach your lips to her chest to cover them with kisses. You are surprised by the perfect softness of her youthful skin."},"Tu bouillonnes intérieurement. Les filles semblent mal à l'aise et tu sens de la peine dans leur regard, voir de la pitié.":{"EN":"You're bubbling inside. The girls seem uncomfortable and you feel pain in their eyes, even pity."},"Tu es effrayé par $nameb. Tu as l'impression qu'il peut te frapper de nouveau à la moindre réponse qui lui déplaira. Il vaut mieux lui dire ce qu'il veut entendre.":{"EN":"You're afraid of $nameb. You have the impression that he can hit you again at the slightest answer that he doesn't like. It's better to tell him what he wants to hear."},"Tu la vois arborer son air habituel, qui est un mélange paradoxal entre une pointe de timidité juvénile et des yeux qui observent avec intensité. Une fine tristesse mélancolique, bien que très subtile, est également visible pour un oeil sensible. Sa chevelure, magnifiquement rousse, contraste avec sa peau d'une blancheur immaculée. Sa main vient, de temps en temps, quand le vent y met sa pagaille, remettre de l'ordre dans sa crinière.":{"EN":"You see her displaying her usual look, which is a paradoxical mixture of a touch of youthful shyness and eyes that observe with intensity. A fine melancholic sadness, although very subtle, is also visible to a sensitive eye. Her hair, magnificently red, contrasts with her immaculately white skin. Her hand comes, from time to time, when the wind makes a mess of it, to put some order in her mane."},"Tu prends instinctivement ta plus petite voix pour répondre à $nameb.":{"EN":"You instinctively take your smallest voice to answer $nameb."},"Tu préfères ne pas visiter la ville de nuit. $namecity City n'est pas une ville sûre.":{"EN":"You prefer not to visit the city at night. $namecity City is not a safe city."},"Tu rentres dans ta chambre.":{"EN":"You go back to your room."},"Tu t'approches de la vieille Geisha. Elle lève doucement la tête vers toi et te parle avec douceur.":{"EN":"You're approaching old Geisha. She gently lifts her head towards you and speaks to you gently."},"Tu te branles en regardant toutes ces filles pomper des queues sans broncher. Avec l'excitation qui monte, tu commences à imaginer $namegf à la place des actrices...":{"EN":"You jerk off watching all these girls pumping dicks without flinching. With the excitement rising, you picture $namegf instead of actresses...."},"Tu te sens plus courageux.":{"EN":"You feel braver."},"Tu toques à la porte. Après quelques minutes, $namebf t'ouvre. Il parait surpris.":{"EN":"You knock on the door. After a few minutes, $namebf opens the door. He seems surprised."},"Un système d'habillage est en cours de développement. Il sera prêt dans quelques versions, quand le personnage principal sera... disons, disposé... à explorer... de nouvelles voies vestimentaires.":{"EN":"A dressing system is being developed. It will be ready in a few versions, when the main character is.... well, let's say, willing... to explore... new ways of dressing."},"Voici vos informations de compte:":{"EN":"Here is your account information:"},"Voilà, on est prêt. Tu joues un jeune homme timide, naïf, un peu soumis, en pleine quête d'identité dans un monde sans pitié. Ca sonne bien hein ? Quelles décisions vas-tu prendre pour lui ? Vas-tu le prendre en main pour l'aider à défendre sa famille avant d'en faire un mâle Alpha, ou préfèreras-tu l'encourager à développer la petite soumise en lui qui ne demande qu'à s'exprimer ?":{"EN":"All right, we're ready. You play a shy, naive, slightly submissive young man, in search of identity in a merciless world. Sounds good, doesn't it? What decisions will you make for him? Will you take him in hand to help him defend his family before turning him into an Alpha male? Or will you prefer to encourage him to develop the little submissive in him who only asks to express himself?"},"Vous vous embrassez en vous caressant, collés l'un à l'autre comme deux aimants.":{"EN":"You kiss while cuddling, glued together like two magnets."},"Whited":{"EN":"Whited"},"__Note importante__ : les deux routes (Blacked & Whited) sont en construction, et les points gagnés affectent peu le jeu et les possibilités, mais ça arrive très vite !":{"EN":"__Important note__: both paths (Blacked & Whited) are under construction, and the points won do not yet affect the game and the possibilities, but it is very fast coming!"},"accède au nouveau contenu jusqu'à 1 mois avant tout le monde.":{"EN":"access new content up to 1 month before anyone else."},"blond":{"EN":"blond"},"blonde":{"EN":"blonde"},"excitation":{"EN":"excitation"},"lentement... ^^ZzZ":{"EN":"slowly... ^^ZzZ"},"longue":{"EN":"long"},"lèvres pulpeuses":{"EN":"pulpy lips"},"ordinaire":{"EN":"ordinary"},"petite":{"EN":"small"},"ridiculement petite":{"EN":"ridiculously small"},"t'apprécie un peu plus.":{"EN":"likes you a little more."},"$nameb attends !":{"EN":"$nameb, wait!"},"$namebf te regarde un instant, incrédule, et éclate de rire.":{"EN":"$namebf looks at you for a moment, incredulous, and laughs."},"$namegf reste là, allongée sur le dos, presque inconsciente pendant plusieurs dizaines de seconde. Puis, petit à petit elle revient à elle, ouvre de petits yeux et te regarde. Sur ses lèvres, elle arbore un petit sourire que tu ne connaissais pas. Un sourire satisfait, presque heureux, qui se mélange avec le retour de sa timité habituelle. Et de la surprise, comme si elle ne réalisait pas encore ce que vous venez de vivre.":{"EN":"$namegf stays there, lying on her back, almost unconscious for several tens of seconds. Then, little by little, she comes to her senses, opens little eyes and looks at you. On her lips, she has a little smile on her face that you've never seen before. A satisfied, almost happy smile, which is mixed with the return of her usual timidity.  And surprise, as if she doesn't yet realize what you've just lived together."},"$person.ayako.name fait une tête de petit chaton ravi.":{"EN":"$person.ayako.name makes a happy kitten face."},"500$ ?!":{"EN":"500$ ?!"},"Ah non pas du tout je n'ai jamais dit ça. Tu... as l'air... très adulte.":{"EN":"Oh no, I never said that at all. You... look... very adult."},"Ah ouais ? Tu veux pécho ma meuf ?":{"EN":"Oh, yeah? You want to catch my girl?"},"Ah, euh vous, oui. Laissez moi calculer.":{"EN":"Ah, uh, you, yes. Let me do the math."},"Aller déjeuner":{"EN":"Go to breakfast"},"Allumer l'ordinateur":{"EN":"Turn on the computer"},"Au détour d'une rue, tu vois un café avec pleins de jolies filles qui papotent autour d'une table. Une en particulier capte ton attention.":{"EN":"At the corner of a street, you see a café with lots of pretty girls chatting around a table. One in particular catches your attention."},"Aujourd'hui, nous étudierons les ravages du squatting chez les streamers.":{"EN":"Today, we will study the ravages of squatting on streamers."},"Bah ça alors, qu'est-ce qui t'es arrivé au visage ?":{"EN":"Gosh, what happened to your face?"},"Bienvenue cher Client":{"EN":"Welcome Dear Customer"},"Bon, commençons, installe toi.":{"EN":"All right, let's get started, get settled in."},"Bonjour jeune homme.":{"EN":"Hello, young man."},"Bonjour, je suis Théo's sister":{"EN":"Bonjour, je suis Théo's sister"},"C'est assez pour aujourd'hui, allons travailler":{"EN":"That's enough for today, let's go to work"},"Ca te fait beaucoup rire. En fait, elle passe son temps à fumer de la beuh, à écouter du rap dans sa chambre, à zoner sur des sites de rencontres, à lire des magazines féminins, et à t'insulter...":{"EN":"It makes you laugh a lot. In fact, she spends her time smoking weed, listening to rap in her room, chatting on dating sites, reading women's magazines, and insulting you..."},"Cette fille est une crasseuse...":{"EN":"This girl is a filthy one..."},"Dans la petite boite, tu trouves une belle liasse de billet. Tu en prends quelques uns et tu reposes la boîte exactement au même endroit. Tu allais fermer quand une lingerie attire ton attention. Tu hésites.":{"EN":"In the little box, you find a nice bundle of tickets. You take a few and put the box back in exactly the same place. You were about to close when a lingerie gets your attention. You're hesitating."},"Derrière toi, tu entends les cris des filles des pornos...":{"EN":"Behind you, you hear the screams of porn girls..."},"Dis moi, c'est toi qui es passée dans ma chambre hier ?":{"EN":"Tell me, did you come into my bedroom yesterday?"},"Découvrir sa chambre":{"EN":"Discover his room"},"Désolé...":{"EN":"Sorry..."},"Elle cherche à attirer les gens...":{"EN":"She seeks to attract people..."},"En tout cas, merci beaucoup !":{"EN":"Anyway, thank you very much!"},"Encore une journée qui s'annonce passionnante...":{"EN":"Another day full of promises ahead..."},"Et $namegf, qu'attend-t-elle pour le rejeter ?!":{"EN":"And $namegf, what is she waiting to reject it?!"},"Et bah alors petite bite, tu n'as pas envie d'en voir plus ?":{"EN":"Well, then, little dick, you don't want to see more?"},"Et c'était qui le nom que tu criais tout à l'heure quand tu dormais...":{"EN":"And who was that name you were shouting earlier when you were sleeping..."},"Et ta petite rousse, comment elle va ? :)":{"EN":"And your litthe redhead, how's she doing ? :)"},"Excuse moi $namess, je n'avais pas vu que tu étais en train de prendre ta douche.":{"EN":"Excuse me, $namess, I didn't see you were taking a shower."},"Faire du bruit":{"EN":"Making noise"},"Fermer les yeux":{"EN":"Close your eyes"},"I-Il me force à lui ramener de l'argent. Sinon il menace de me frapper... Ou il le fait vraiment, comme c-ce matin...":{"EN":"H-H-He's forcing me to bring him money. Otherwise he threatens to h-hit me... Or he really does, like this morning..."},"Il y a un porno que $namebf a oublié d'enlever... Tu n'as jamais vu un porno comme celui-ci. Il y a une femme, blanche, qui se fait prendre violemment par un homme, noir. Le contraste est étonnant. Sa queue est anormalement démesurée, et tu te demandes comment une fille aussi fine peut encaisser ça. En tout cas, elle a l'air de ressentir un mélange de douleur et d'extase, même si ses mimiques te paraissent ridiculement exagérées.":{"EN":"There's a porn that $namebf forgot to remove... You've never seen a porn like this before. There is a woman, white, who is violently fucked by a man, black. The contrast is surprising. His dick is abnormally oversized, and you wonder how such a thin girl can handle that. In any case, she seems to feel a mixture of pain and ecstasy, even if her facial expressions seem ridiculously exaggerated."},"J-je vais  jouir... <<= $namemc.toUpperCase()>> !":{"EN":"I-I'm gonna come... <<== $namemc.toUpperCase()>>!"},"Je devrais faire plus attention...":{"EN":"I should be more careful..."},"Je vais la forcer à me donner tout ce que tu n'as jamais eu...":{"EN":"I'm going to force her to give me everything you've ever had..."},"Je veux voir ce qu'elle va faire":{"EN":"I want to see what she's going to do"},"La chambre de $namess. Je n'ai pas le droit d'être ici...":{"EN":"Your $relationss's room. I have no right to be here..."},"La colère a envahi chaque nerf de ton corps. $nameb est surpris, il présente ses paumes devant lui dans une posture défensive.":{"EN":"Anger has invaded every nerve of your body. $nameb is surprised, he puts his palms in front of him in a defensive posture."},"Le Club sera bientôt accessible. :)":{"EN":"The Club will soon be available. :)"},"Le choix du pacifisme":{"EN":"The choice of pacifism"},"Le client a apprécié votre prestation. 😃":{"EN":"The customer appreciated your service. 😃"},"Le client vous a laissé un pourboire de":{"EN":"The customer left you a tip of"},"Lui écraser la gueule au sol":{"EN":"Crush his face on the ground"},"Mais je n'ai été capable de rien. Je n'ai même pas essayé de faire semblant de résister. Il n'y a rien à faire face à $nameb":{"EN":"But I was not able to do anything. I didn't even try to pretend to resist. There is nothing to face with $nameb."},"Maison de $namebf":{"EN":"House of $namebf"},"Mettre ton pyjama et dormir":{"EN":"Put on your pajamas and sleep"},"Mmmmmh.":{"EN":"Mmmmmh."},"My first bank account":{},"Ne me dis pas que...":{"EN":"Don't tell me that you're..."},"Nous étions initialement spécialisés dans les prestigieux - et tonifiants - massages du Sichuan, une province reculée de Chine intérieure. Nous avons su diversifier notre offres et nos talents afin de satisfaire une clientèle venant du monde entier.":{"EN":"We initially specialized in the prestigious - and invigorating - massages from Sichuan, a faraway province in inner China. We have been able to diversify our offers and talents in order to satisfy customers from all over the world."},"PITIE <<= $nameb.toUpperCase()>> NE ME FAIS PAS DE MAL DIS MOI COMMENT ME FAIRE PARDONNER !":{"EN":"PLEASE <<= $nameb.toUpperCase()>>, DON'T HURT ME TELL ME HOW TO MAKE IT UP TO YOU!"},"Peut-être qu'elle avait ses raisons...":{"EN":"Maybe she had her reasons..."},"Pire, si on apprend que j'ai été cafter chez eux, ça pourrait m'attirer des ennuis encore plus graves.":{"EN":"Worse, if anyone finds out I've reported someone, it could get me into even more trouble."},"Prendre le cookie sur la table":{"EN":"Take the cookie on the table"},"Puis soudainement, le corps tout entier de $namegf se raidit, tu sens sa chatte s'ouvrir complètement et son visage se transformer en un mélange d'extase et de douleur.":{"EN":"Then suddenly, $namegf's entire body stiffens, you feel her pussy opening completely and her face turning into a mixture of ecstasy and pain."},"Quel est le nom de ta belle-soeur ?":{"EN":"What is the name of your step-sister?"},"Quelle sale menteuse, je fais bien plus que 40 kilos...":{"EN":"What a lying bitch, I weigh much more than 90 pounds..."},"Retirer":{"EN":"Withdraw"},"S'en aller":{"EN":"Go away"},"Sans $namebf, qu'est-ce qui se serait passé ? Il faudra que j'aille le remercier. Et il faudra que je le rembourse.":{"EN":"Without $namebf, what would have happened? I'll have to go and thank him. And I'll have to pay him back."},"Se lever":{"EN":"Getting up"},"Se masturber devant elle":{"EN":"Masturbating in front of her"},"Se matter un petit porno":{"EN":"Watch a porn"},"Sententias hoc exposui C mentionem exposui C Fannio tum ipsam diebus tamquam et ne nobis diebus ut coram sermonem sententias Scaevola habitum tum sermo ut genero Marci ipsos filio hoc C genero arbitratu coram enim et meo habitum mentionem videretur 'inquam' cum C nobis mortem videretur a de libro a Laeli arbitratu cum ipsam mandavi mentionem tamquam ne Fannio quas a Fannio Africani tamquam ut exposui haberi quasi genero nobis 'inquit' Laeli ne mortem loquentes ipsos illo illo amicitia sententias paucis et in cum tum eam Laeli ipsam quasi memoriae nobis 'inquam' 'inquit' arbitratu mandavi sententias 'inquit' induxi mandavi libro. $videoPrint":{"EN":"Sententias hoc exposui C mentionem exposui C Fannio tum ipsam diebus tamquam et ne nobis diebus ut coram sermonem sententias Scaevola habitum tum sermo ut genero Marci ipsos filio hoc C genero arbitratu coram enim et meo habitum mentionem videretur 'inquam' cum C nobis mortem videretur a de libro a Laeli arbitratu cum ipsam mandavi mentionem tamquam ne Fannio quas a Fannio Africani tamquam ut exposui haberi quasi genero nobis 'inquit' Laeli ne mortem loquentes ipsos illo illo amicitia sententias paucis et in cum tum eam Laeli ipsam quasi memoriae nobis 'inquam' 'inquit' arbitratu mandavi sententias 'inquit' induxi mandavi libro. $videoPrint"},"Soudainement, il porte une main à son oreille et prend un air très concentré.":{"EN":"Suddenly, he puts one hand to his ear and looks very concentrated."},"Taxe sur les retraits d'argent en soutien aux minorités noires, latinos et asiatiques":{"EN":"Tax on money withdrawals in support of black, Latino, Asian and other racial minorities"},"Tes poings sont serrés quand tu réponds.":{"EN":"Your fists are clenched when you answer."},"Ton coeur se met à battre à toute allure. Tu veux répliquer, lui dire d'aller se faire foutre, mais la peur t'en empêche.":{"EN":"Your heart is beating at full speed. You want to fight back, tell him to fuck off, but fear won't let you."},"Tu as gagné un salaire de":{"EN":"You earned a salary of"},"Tu baisses la tête sans arrêter d'écouter. $nameb continue sa discussion avec $namegf qui semble de nouveau t'avoir oublié.":{"EN":"You keep lowering your head and listening. $nameb continues his discussion with $namegf who seems to have forgotten you again."},"Tu continues en prenant le bout de ses seins entre tes lèvres, passant ta langue autour de ses tétons qui pointent. Tu suces ses deux tétons l'un après les autres.":{"EN":"You continue by taking the tip of her breasts between your lips, passing your tongue around her pointed nipples. You suck her two nipples one after another."},"Tu es dans le bus de retour, pensif. Tu te remémores cette journée.":{"EN":"You're on the bus back, thoughtful. You remember that day."},"Tu es dans une grande salle d'hôpital aux volets mi clos, allongé dans un lit aux draps blancs. Au sol gît quelqu'un que tu ne connais pas. Tout ce que tu peux dire, c'est que ce n'est pas $nameb, ce qui te rassure un peu. Tu constates que ça n'est pas non plus une infirmière blonde à gros seins, ce qui te déçoit légèrement.":{"EN":"You are in a large hospital room with half-closed shutters, lying in a bed with white sheets. On the ground lies someone you don't know. All you can say is that it's not $nameb, which is a little reassuring. You also notice that she is not a blonde nurse with big breasts, which is slightly disappointing."},"Tu es plus ouvert aux autres. (Blacked Point++)":{"EN":"You're more open to others. (Blacked Point++)"},"Tu l'aimes, mon gros cul ? C'est pour ça que tu le regardes comme ça ?":{"EN":"Do you love my fat ass ? That's why you look at it like that ?"},"Tu l'allonges délicatement sur le lit en restant contre elle. Tu bandes déjà bien, et elle n'a pas pu ne pas le sentir.":{"EN":"You gently lie her down on the bed staying against her. You're already hard, and she couldn't have not felt it."},"Tu lui envoies la télécommande, et en deux clics il transfère l'image de son écran d'ordinateur à la télévision. On voit qu'il a l'habitude de ça...":{"EN":"You send him the remote control, and in two clicks he transfers the image from his computer screen to the television. You can see that he is used to this..."},"Tu montes les escaliers qui mènent vers ta chambre.":{"EN":"You go up the stairs to your room."},"Tu poses tes mains sur sa taille, et lentement tu les remontes. Tu vois son haut remonter petit à petit, faisant apparaitre sa belle poitrine bien ferme.":{"EN":"You put your hands on her waist, and slowly you put them up. You see her top gradually rising, revealing her beautiful, firm breasts."},"Tu prends maintenant son cul à pleine main pour la malaxer. C'est une sensation extraordinaire et tu fermes les yeux pour en profiter. Tu l'entends faire de petits miaulements à chaque fois que tes doigts accrochent ses deux fesses et que vos deux entrejambes se frottent l'un à l'autre.":{"EN":"Now you take her ass in your hand and knead it. It's an extraordinary feeling and you close your eyes to enjoy it. You hear her meowing every time your fingers grab her two buttocks and your two crotches rub against each other."},"Tu revois ta soeur sous la douche, mais cette fois sa réaction est complètement différente...":{"EN":"You see your sister in the shower again, but this time her reaction is completely different..."},"Tu sens ses muscles se détendre et se son corps se laisser aller.":{"EN":"You feel her muscles relax and her body let loose."},"Tu souilles cette salope bourgeoise en giclant sur sa poitrine offerte. Une fois fait, elle réajuste son haut et disparait dans la forêt.":{"EN":"You defile that high-class bitch by squirting on her offered chest. Once done, she readjusts her top and disappears into the forest."},"Tu te réveilles en sursaut. Tu sens ta queue bien dure dans ton caleçon.":{"EN":"You wake up with a start. You feel your hard cock in your underwear."},"Tu te sens un peu humilié. (Blacked Point+)":{"EN":"You feel a little humiliated. (Blacked Point+)"},"Tu te trompes plusieurs fois de direction, avant de finalement trouver son quartier. Il habite un quartier résidentiel semblable au tien, à ceci près que l'endroit respire la prospérité, voir la richesse.":{"EN":"You go in the wrong direction several times, before you finally find his neighborhood. He lives in a residential area similar to yours, except that the place exudes prosperity, even richness."},"Tu toques à la porte du bureau de $person.kawasaki.name.":{"EN":"You knock on the door of $person.kawasaki.name's office."},"Tu vois une haine immense traverser un instant le regard de $nameb, avant de disparaitre. Il rapproche doucement son visage du tien jusqu'à ce que tu sentes son souffle fétide, puis te parle d'une voix très calme.":{"EN":"You see a huge hatred going through $nameb's eyes for a moment, before disappearing. He gently moves his face closer to yours until you feel his foul breath, then speaks to you in a very calm voice."},"Une fille à l'allure de petite bourgeoise se masturbe sans se cacher. Le spectacle est magnifique.":{"EN":"A girl with a petty high-class look masturbates without hiding. The show is magnificent."},"Vous avez découvert tous les lieux ! La ville de Blacked & Whited est en construction. Le contenu actuel sert d'aperçu, et me permet de récolter vos retours et vos conseils. La ville aura une vingtaines de lieux répartis en 4 quartiers avec chacun sa spécificité, son ambiance, ses quêtes, ses lieux secrets, ses jobs, etc.":{"EN":"You've discovered all the places! The city of Blacked & Whited is under construction. The current content serves as an overview, and allows me to collect your feedback and advice. The city will have about twenty places divided into 4 districts, each with its own specificity, atmosphere, quests, secret places, jobs, etc."},"bleu":{"EN":"blue"},"débloque toutes les options et tous les fetish.<br>accède aux serveurs ultra rapides Google Cloud pour les images et les vidéos.":{"EN":"unlocks all game options and fetishes.<br>Access to ultra-fast Google Cloud servers for quicker images and videos."},"est un peu plus corrompue.":{"EN":"is a little more corrupt."},"grosse":{"EN":"big"},"noire":{"EN":"black"},"$city.park.name":{"EN":"$city.park.name"},"$namebf vient d'entrer dans les toilettes, il fait face à ton bourreau qui s'est interrompu. Il n'a pas l'air du tout en confiance, et sa voix est tremblante, mais il arrive au moins à rester debout, lui.":{"EN":"$namebf just entered the toilet, he's facing your executioner who stopped. He doesn't sound confident at all, and his voice is shaky, but at least he can stand up."},"$namegf ne répond pas. Elle se retourne en se mettant dans les couvertures. Tu l'embrasses dans la nuque pour avoir encore un peu de son odeur, avant de t'en aller.":{"EN":"$namegf is not responding. She turns around and gets into the blankets. You kiss her on the back of the neck to get some more of her smell, before you leave."},"$person.kawasaki.name est à son bureau, un stylo à la main, visiblement en train de faire un peu de paperasse.":{"EN":"$person.kawasaki.name is at her desk, with a pen in her hand, visibly doing a paperwork."},"A ton avis ! C'est ce ''pervers'' de $namemc qui m'a encore espionné dans la salle de bain...":{"EN":"Pff.. It was that ''pervert'' $namemc who spied on me again in the shower ... I told you, we have to lock this freak up."},"Aaaah mais on dirait que nous avons ici un nouveau client ! Bienvenue mon cher ami dans la banque la plus sûre et la plus chic de tout $namecity: ''$city.bank.name'' ! Aaaah mais que ''plaisir'' de vous voir ! Vous pouvez chercher à gauche, à droite, en haut et en bas, vous ne trouverez ''ja-mais'' une banque qui prendra mieux soin de vous que nous ! Je me présente, je suis monsieur $person.bankster.name !":{"EN":"Aaaaah it looks like we have a new customer here! Welcome my dear friend to the safest and most chic bank in $namecity: ''$city.bank.name'' ! Aaaaah what a ''pleasure'' to see you! You can look left, right, up and down, you won't find a bank that will take better care of you than us! I introduce myself, I'm Mr. $person.bankster.name!"},"Aller dans la maison":{"EN":"Go into the house."},"Aller voir ton meilleur ami":{"EN":"Going to see your best friend"},"Au bout d'un moment, elle se lève et s'approche de toi. Sans un mot ni un regard, elle se met à genoux devant toi. Elle prend ta bite en main et se met à la masturber. Tu vois son autre main s'agiter au fond de sa culotte.":{"EN":"After a while, she gets up and approaches you. Without a word or a look, she kneels before you. She takes your dick in one hand and starts masturbating it. You see her other hand shaking in her panties."},"Aujourd'hui, nous étudierons pourquoi le manspreading est puni de castration et que c'est une bonne chose.":{"EN":"Today, we will study why manspreading is punishable by castration and why it is a good thing."},"Avant que tu n'aies le temps de répondre, Monsieur $person.bankster.name est déjà parti s'occuper d'un autre client.":{"EN":"Before you have time to answer, Mr. $person.bankster.name has already left to //take care// of another customer."},"Bon, je suis endetté, mais au moins la carte est belle.":{"EN":"Well, I'm in debt, but at least the card is beautiful."},"Bonne chance pour tes premiers clients. Passe me dire bonjour quand tu as le temps, je m'ennuie souvent ici（－－；":{"EN":"Good luck with your first customers. Come by and say hello when you have time, I often get bored here（－－；"},"Bruit de grattement de stylo sur le papier.":{"EN":"Sound of pen scratching on the paper."},"C'est $nameb qui t'a fait ça ? Dis moi !":{"EN":"Did $nameb do that? Tell me about it!"},"C'est la $namegf de l'école ? La rousse ?":{"EN":"Is that the $namegf from school? The redhead?"},"C'est la première fois que tu vois une fille donner une fellation, et malgré la culpabilité d'être à l'origine de cette situation, tu ressens une excitation qui monte tout doucement. Tu ne peux t'empêcher de remarquer qu'elle a un talent certain dans ce qu'elle fait.":{"EN":"This is the first time you have ever seen a girl giving oral sex, and despite the guilt of being the cause of this situation, you feel an excitement that rises slowly. You can't help but notice that she has a certain talent for what she does."},"Cette clé commence à me gaver sérieusement, il va falloir que je fasse quelque chose...":{"EN":"This key is starting to get on my nerves, I have to do something..."},"Chercher du porno plus chaud":{"EN":"Look for hotter porn"},"Continuer":{"EN":"Continue"},"De toutes façons j'allais me tirer, ce merdeux m'a saoulé.":{"EN":"Anyway, I was going to get out of here, that piece of shit pissed me off."},"Donne moi les quelques informations suivantes, ça va me permettre de personnaliser les noms des personnages principaux en fonction de tes préférences.":{"EN":"Give me the following information, it will allow me to customize the names of the main characters according to your preferences."},"Ella":{"EN":"Ella"},"Elle se retourne pour marquer au tableau le sujet du jour.":{"EN":"She turns around to mark the board with the topic of the day."},"En tout cas, je l'espère.":{"EN":"I hope so."},"Erreur... Vous n'avez pas assez d'argent sur votre compte pour retirer cette somme.":{"EN":"Error... You do not have enough money in your account to withdraw this amount. Consider making a credit?"},"Est-ce que $namegf pourrait être une aussi bonne bouffeuse de queues ?":{"EN":"Could $namegf be such a good dick sucker?"},"Et bah alors mon pote, qu'est-ce que tu fais là ? Reste pas planté comme ça, rentre.":{"EN":"Well, then, buddy, what are you doing here? Don't just stand there, come in."},"Et ce moment, quand $nameb s'approchait de moi... J-j'ai bien cru que j'allais lui mettre une droite... Mais est-ce que ça m'aurait aidé pour la suite ?":{"EN":"And that moment, when $nameb approached me.... I-I thought I was going to give him a punch... I was close to doing it. But would it have helped me for the rest?"},"Et dans le coin, tu vois une petite boite en bois. Tu la prends et tu l'ouvres.":{"EN":"And in the corner, you see a little wooden box. You take it and open it."},"Foutage de gueule.":{"EN":"Obvious bullshit."},"Have fun :)":{"EN":"Have fun :)"},"Hein, tu te demandes ce que c'est ça ? Bah ça, c'est ma tête, et ces mots sont mes pensées. Et moi, je suis toi, ou moi, comme tu veux. Bref, on s'est compris, réveille moi et emmène moi me doucher !":{"EN":"Huh, you're wondering what is that? Well, that's my head, and those words are my thoughts. And I'm you, or me, as you wish. Anyway, we understood each other, wake me up and take me to the shower!"},"Ici, plus tard, tu pourras trouver de nombreux magasins et faire des rencontres très séduisantes...":{"EN":"Here, later, you will be able to find many shops and meet very attractive people..."},"Il l'est. Avez vous déjà une expérience de masseur ?":{"EN":"It is. Do you already have experience as a masseur?"},"Immédiatement, le corps de $namegf s'agite, et elle expire dans un râle de plaisir en sentant sa chatte se faire pénétrer.":{"EN":"Immediately, $namegf's body wiggles, and she exhales into a rales of pleasure as she feels her pussy being penetrated."},"Je crois que je n'ai pas le choix. Je vais consulter les offres sur les sites de petites annonces. Je n'ai pas le choix.":{"EN":"I don't think I have a choice. I'll check the offers on the classified ad sites. I have no choice."},"Je mets un haut, et ensuite je sors.":{"EN":"I put on a top, and then I go out."},"Je ne peux pas laisser les choses aller plus loin !":{"EN":"I can't let things go any further!"},"Je suis débordé de devoirs. Travaillons un peu.":{"EN":"I'm swamped with homework. Let's do some work."},"La branler à fond":{"EN":"Wank her off as hard as you can"},"La porte s'ouvre. $nameb est seul avec les deux filles. Il y a toujours cette odeur de beuh et de pisse. Les filles ont l'air complètement stonent et remarquent à peine que tu es arrivé. $nameb te fait signe de rentrer. Une fois au milieu des toilettes, tu attends.":{"EN":"The door opens. $nameb is alone with the two girls. There's always that smell of weed and piss. The girls look completely stone-cold and barely notice you're here. $nameb is waving at you to come in. Once you're in the middle of the toilet, you wait."},"Lana":{"EN":"Lana"},"Le contact tiède et humide de ses lèvres contre les tiennes te fait presque vaciller.":{"EN":"The warm, wet contact of her lips against yours almost makes you wobble."},"Local notify":{"EN":"Local notify"},"Mardi":{"EN":"Tuesday"},"Monter à l'étage":{"EN":"Go upstairs"},"Mère de famille":{"EN":"Mother of the family"},"NOTHING":{"EN":"NOTHING"},"Ne fais pas genre. Tu ne verrouilles pas la porte de la salle de bain, on sait tous pourquoi... Je me suis fait avoir, c'est tout.":{"EN":"Nice acting sister. You don't lock the bathroom door, we all know why ... I just got screwed, that's all."},"Ne t'inquiète pas, je te guiderai.":{"EN":"Don't worry, I'll guide you."},"Non pas du tout, pourquoi je ferai ça ?":{"EN":"No, not at all, why would I do that?"},"Oui, il est splendide !":{"EN":"Yes, it's splendid!"},"Oui, oui.":{"EN":"Oh yeah, baby."},"Oui, tu n'as pas le choix.":{"EN":"Yes, you don't have a choice."},"Quelle est ta relation avec elle ?<<textbox \"$relationss\" \"soeur\">>":{"EN":"What is your relationship with her? <<textbox \"$relationss\" \"sister\">>"},"Regarder...":{"EN":"Watch..."},"Rentrer dormir":{"EN":"Go home and sleep"},"Sans réfléchir, tu portes à ton nez le petit carré de tissu en contact avec sa fleur, et tu prends une profonde inspiration. Ca sent la lessive.":{"EN":"Without thinking, you carry on your nose the small square of fabric in contact with its flower, and you take a deep breath. It smells like laundry."},"Sans un mot, $namebf te prend par le bras et te sort de là. Tu as une dernière pensée pour Clara, obligée de rester à l'intérieur. Tu lui jettes un discret coup d'oeil, elle semble être revenue à son apathie habituelle.":{"EN":"Without a word, $namebf takes you by the arm and gets you out of there. You have one last thought for Clara, who has to stay inside. You take a discreet look at her, she seems to have returned to her usual apathy."},"Se rhabiller":{"EN":"Dress up again"},"Se tournant vers Clara.":{"EN":"Turning to Clara."},"Sentir sa peau sous tes doigts":{"EN":"Feel her skin under your fingers"},"Si tu veux suivre le chemin Blacked, tu vas devoir tout faire pour t'en remettre aux autres, les laisser accéder à leurs désirs même si cela va à l'encontre des tiens. Tu vas devoir lentement comprendre et accepter la place qui est la tienne.":{"EN":"If you want to follow the Blacked path, you will have to do everything to rely on others, let them access their desires even if it goes against yours. You will have to slowly understand and accept your place."},"Soutenir pour jouer à la dernière version complète.":{"EN":"Support to play the latest full version."},"T'aurais du me prévenir avant de m'envoyer cette vidéo dégueulasse... Une si jolie fille... Franchement, je comprends pourquoi tout le monde se moque d'elle !":{"EN":"You should have warned me before you sent me that disgusting video... Such a pretty girl... Honestly, I understand why everyone is laughing at her!"},"Ta $relationss continue avec un petit sourire.":{"EN":"Your $relationss continues with a little smile."},"Ta nuit est troublée par des cauchemards...":{"EN":"Your night is troubled by nightmares..."},"Te voyant hésitant, elle t'encourage.":{"EN":"Seeing you hesitate, she encourages you."},"Te voyant perdu, un homme en costume s'avance vers toi. Il a l'aitr sur-motivé et a un débit de parole impressionnant.":{"EN":"Seeing you lost, a man in a suit walks up to you. He looks over-motivated and has an impressive speech rate."},"Tes mains dans son dos passe sur la liaison de son soutien gorge. D'un geste imprécis, et appréhendant sa réaction, tu le dégrafes. Ton excitation monte d'un cran quand tu vois qu'elle se laisse faire, et que tu sens ses deux seins se libérer de l'emprise en tissu.":{"EN":"Your hands in her back go over the connection of her bra. With an imprecise gesture, and apprehending her reaction, you unhook it. Your excitement goes up a notch when you see that she lets herself be done, and that you feel both her breasts free from the cloth grip."},"Théo":{"EN":"Théo"},"Tu as un peu plus confiance en toi.":{"EN":"You have a little more self-confidence."},"Tu commences à me chauffer mange-merde. Je te dis de te coucher ! Continue de faire le malin et je t'atomise !":{"EN":"You're starting to warm me up shit eater. I said lie down on the floor! Keep trying to be smart-ass and I'll atomize you!"},"Tu entends du bruit à la porte":{"EN":"You hear noise at the door"},"Tu es arrivé au bout de cette quête ! La suite arrive bientôt !":{"EN":"You have reached the end of this quest! The rest is coming soon!"},"Tu es surpris de reconnaitre aussi 2 filles. Une petite blonde et une fille aux longs cheveux noirs. Tu les connais de vue car elles sont toutes les deux dans ta classe, même si bien sûr elles ne t'ont jamais adressé la parole, ni même un regard. Jamais tu n'aurais imaginé les voir ici.":{"EN":"You're surprised to recognize two girls too. A little blonde girl and a girl with long black hair. You know them by sight because they are both in your class, even though they have never spoken to you, or even a look. You never thought you'd see them here."},"Tu es un peu surpris, mais tu finis par te mettre en mouvement pour aller faire la bise aux deux filles. Leurs mouvements sont lents, et tu peux voir leur visage s'approcher et s'éloigner. Tu remarques à quel point elle sont toutes les deux vraiment très belles.":{"EN":"You're a little surprised, but you finally get moving to kiss the two girls. Their movements are slow, and you can see their faces coming and going. You notice how beautiful they both are."},"Tu fais lentement glisser sa culotte le long de ses cuisses blanches, libérant sa petite chatte qui ne demandait que ça.":{"EN":"You slowly slide her panties along her white thighs, releasing her little pussy that was just asking for that."},"Tu n'as pas de seins.":{"EN":"You don't have breasts."},"Tu ne sais pas si tu dois prendre ça comme un compliment ou pas...":{"EN":"You don't know if you should take this as a compliment or not..."},"Tu peux encore sentir leurs activités de la nuit passée.":{"EN":"You can still feel their activities from last night."},"Tu pénètres dans un endroit immense au plafond très élevé, chiquement décoré. Tout est fait pour donner confiance et sérénité.":{"EN":"You enter a huge place with a very high ceiling, squeaky decorated. Everything is done to give confidence and serenity."},"Tu regardes par le trou de la serrure. La clé n'y est plus, mais elle est sous la douche et le rideau de douche est tiré, tu ne peux rien voir.":{"EN":"You look through the keyhole. The key is no longer there, but it's in the shower and the shower curtain is pulled, you can't see anything."},"Tu somnoles le reste du trajet.":{"EN":"You dozed off the rest of the way."},"Tu t'approches doucement de la chambre de ta $relationss, et tu frappes la porte plusieurs fois avec ton poing, avant de retourner te réfugier dans ton lit en ricanant.":{"EN":"You slowly approach the room of your $relationss, and you knock on the door several times with your fist, before going back to your bed and giggling."},"Tu t'occupes d'une mère de famille venue profiter d'un massage remboursé par la sécurité sociale. Elle n'est pas très jolie et usée par des années de travail, mais son côté chubby et authentique n'est pas déplaisant.":{"EN":"You take care of a mother who came to enjoy a massage reimbursed by the social security. She is not very pretty and worn out by years of work, but her chubby and authentic look is not unpleasant."},"Tu te réveilles avec des images pleins la tête. T'as une grosse gaule dans ton caleçon.":{"EN":"You wake up with pictures in your head. You got a big boner in your underwear."},"Tu toques à la porte de la maison de $namegf. C'est $namegfm, sa mère, qui t'ouvre la porte et t'acceuille.":{"EN":"You knock on the door of $namegf's house. $namegfm, her mother, opens the door and welcomes you."},"Voilà, signez ici, et ici. Et ici. Là. Ici... Et là.":{"EN":"Okay, sign here, and here. And here. Right there. Here.... And here."},"Voir les choses en grand":{"EN":"Seeing things big"},"Vous avez gagné beaucoup d'argent.":{"EN":"You've made a lot of money."},"You don't have a tattoo.":{"EN":"You don't have a tattoo."},"__Note__:":{"EN":"__Note__:"},"aucun":{"EN":"none"},"bleue":{"EN":"blue"},"chatte":{"EN":"pussy"},"débloque le panneau de contrôle pour modifier ton état et l'univers du jeu selon tes désirs.":{"EN":"unlock the control panel to change your state and the game world according to your wishes."},"gros":{"EN":"big"},"serrée":{"EN":"tight"},"$nameb te regarde d'un air suspicieux.":{"EN":"$nameb looks suspicious at you."},"$namemc ! Tiens ton langage !":{"EN":"$namemc ! Hold your tongue!"},"* Nous ne remboursons pas les assurances souscrites de manière automatique sous l'effet de l'alcool ou de drogue quelconque.":{"EN":"* We do not refund insurance automatically purchased under the influence of alcohol or any drug."},"1... 2...":{"EN":"1... 2..."},"Aller sur ton ordinateur":{"EN":"Go to your computer"},"Alors que la blanche s'éloigne pour trouver une place debout confortable, tu dégages ton sac et la fille s'installe à côté de toi. Une vague de parfum envahit l'espace. Un parfum florale avec un zeste d'agrume.":{"EN":"As the white girl moves away to find a comfortable standing position, you release your bag and the girl sits next to you. A wave of perfume invades the space. A delicious floral fragrance with a hint of citrus fruit."},"Alors que tu te diriges vers la maison de Palmer, tu es interceptée par une blonde à l'allure de paysanne solide. Elle porte une petite tenue et son immense poitrine est au trois quarts découvertes.":{"EN":"As you head towards Palmer's house, you are intercepted by a blonde with the look of a solid peasant. She wears a small outfit and her huge breasts are three quarters uncovered."},"Alors, ce que je t'ai donné à faire, ça avance ?":{"EN":"So, how's everything I gave you to do going?"},"Aujourd'hui, nous étudierons pourquoi il faut bannir rapidement les gens qui ne sont pas d'accord avec nous.":{"EN":"Today, we will study why we must quickly ban people who do not agree with us."},"Bon, le colis est livré, il faut que je retourne voir $nameb pour lui ramener l'argent.":{"EN":"Well, the package is delivered, I have to go back to see $nameb to bring him the money."},"Bouffon...":{"EN":"Cocksucker..."},"C'est ma pochette que tu regardes ? :o Tu arrives à reconnaître les groupes ?":{"EN":"Is that my cover you're looking at? :o Can you recognize groups?"},"C'est mon adresse. J'avais oublié de te la donner la dernière fois. Passe quand tu veux mon pote ! Tchuss.":{"EN":"That's my address. I forgot to give it to you last time. Come by anytime, buddy! Tchuss."},"C'est qui elle encore ?":{"EN":"Another one who's coming to piss me off?!"},"C'est tout ?!":{"EN":"Is that all?!"},"C'est tout qu'est-ce que je possède. Toute ma vie est devant toi mon gars.":{"EN":"That's all I have. My whole life is in front of you, man."},"Ca fait longtemps que tu sors avec lui ?":{"EN":"How long have you been dating him?"},"Ca y est, le colis est livré.":{"EN":"That's it, the package is delivered."},"Certain":{"EN":"Definitely"},"Cette MILF a une fille, une blonde a gros cul, qu'elle a adoptée et qui vit dans la chambre à côté de la tienne.":{"EN":"This MILF has a daughter, a blonde with a big ass, whom she adopted and who lives in the room next to yours."},"Comment je vais faire moi ? T'es en train d'me tuer !!":{"EN":"How am I going to live now? You're killing me!!"},"Cool. Moi c'est...":{"EN":"Cool. I'm..."},"Corr +10":{"EN":"Corr +10"},"Corr @ 31":{"EN":"Corr @ 31"},"Corr @ 80":{"EN":"Corr @ 80"},"Elle a un instant d'hésitation.":{"EN":"She has a moment's hesitation."},"Elle prend la parole":{"EN":"She takes the floor"},"Elle t'a donné quelque chose d'autre ?":{"EN":"Did she give you anything else?"},"Elle te répond par un petit sourire.":{"EN":"She answers you with a little smile."},"Et ensuite ?":{"EN":"And then what?"},"Et un petit pourboire pour votre efficacité. Et votre silence complet.":{"EN":"And a little tip for your efficiency. And your complete silence."},"Exagéré.":{"EN":"Exaggerated."},"Farah":{"EN":"Farah"},"Fragments Collectés":{"EN":"Collected Fragments"},"Heu, excusez moi, est-ce que...":{"EN":"Uh, excuse me, do you..."},"Il a essayé de m'arnaquer, mais je suis resté correct avec lui. J'ai fait ce que j'avais à faire, maintenant je retourne voir $nameb.":{"EN":"He tried to rip me off, but I stayed right with him. I did what I had to do, now I'm going back to see $nameb."},"Il doit bien y avoir 5000 dollars...":{"EN":"There must be $5,000 there..."},"Il est chez lui tous les soirs. Si quelqu'un pouvait lui foutre une branlée ça lui ferait pas de mal !":{"EN":"He's at home every night. If someone could kick his ass, it wouldn't hurt him!"},"Il grommèle mais s'exécute à contre coeur. Il vide les poches intérieurs de son manteau sur le sol. Tu vois plusieurs billets tomber sur le sol.":{"EN":"He grumbles but does it reluctantly. He empties the inner pockets of his coat on the floor. You see several bills falling to the ground."},"Il met sa main sur ton épaule et te parle d'une voix enjouée.":{"EN":"He puts his hand on your shoulder and speaks to you in a cheerful voice."},"Il retourne sa carcasse vers toi. Visiblement mal à l'aise.":{"EN":"He turns his carcass over to you. Obviously uncomfortable."},"Il te fait un autre grand sourire.":{"EN":"He gives you another big smile."},"Il te pousse pour passer, mais s'arrête à ta hauteur.":{"EN":"He pushes you to pass, but stops at your side."},"Il vide les poches de son manteau sur le sol. Il y a des babioles, des déchets, mais aussi un peu d'argent.":{"EN":"He empties the pockets of his coat on the floor. There are trinkets, garbage, but also a little money."},"J'ai retourné le problème dans tous les sens, je ne vois pas de solution. Il faudrait que je parle de ce qu'il se passe à quelqu'un, mais putain, quelle honte, quelle honte ! C'est impossible à assumer...":{"EN":"I've turned the problem upside down, I can't find a solution. I'd have to talk to someone about what the hell is going on, but... hey, what a shame, what a shame! It's impossible to assume..."},"J'ai un autre moyen pour toi de me payer. Tu vas me rendre des petits services. En échange de ma protection.":{"EN":"I have another way for you to pay me. You're going to do me a few small favors. In exchange for my protection."},"J-je ne peux pas laisser un clodo me racketer...":{"EN":"I-I can't let a tramp rack me..."},"J-je recherche quelqu'un qui habite ici. Un homme appellé Palmer. V-vous le connaissez peut-être.":{"EN":"I-I'm looking for someone who lives here. A man named Palmer. Y-you may know him."},"Je commence à perdre patience. Vous n'avez pas suffisamment engrangé d'expérience pour prétendre à une augmentation. Comme je vous ai déjà dit, nous savons récompenser le travail et le dévouement, mais il faut faire ses preuves d'abord monsieur $player.identity.lastname.":{"EN":"I'm starting to lose patience. You have not gained enough experience to qualify for an increase. As I have already told you, we know how to reward hard work and dedication, but first you have to prove yourself, Mr. $player.identity.lastname."},"Je comprends la question que vous vous posez monsieur $player.identity.lastname. Nous considérons que tous les clients doivent être satisfaits avec le même niveau d’exigence, mais il est vrai que certains clients ont une stature, ou un portefeuille, que d'autres n'ont pas.":{"EN":"I understand the question you're asking yourself, Mr. $player.identity.lastname. We consider that all clients must be satisfied with the same level of requirement, but it is true that some clients have a stature, or a portfolio, that others do not."},"Je n'ai pas encore terminé...":{"EN":"I haven't finished yet..."},"Je vais être direct. Les mecs qui traînent avec moi ont leur utilité dans certaines situations, mais c'est vraiment pas des flèches. Toi t'es peut-être une fiotte mais t'as pas l'air d'être trop con. Je vais pouvoir te trouver une utilité. Et puis, ça te ferait plaisir de bosser pour moi, hein ?":{"EN":"I'm going to be direct. The guys who hang out with me have their uses in certain situations, but they're really not Einstein's. You may be a pussy, but you look like you have a little bit of it in your head. I'll be able to find you a use for you.  Besides, you'd be happy to work for me, wouldn't you?"},"La dernière image que tu vois, c'est $namegf écarter légèrement les cuisses pour laisser la grosse main de $nameb se glisser dans sa culotte.":{"EN":"The last picture you see is $namegf slightly spreading her legs to let $nameb's big hand slip into her panties."},"La fille blanche se tourne vers son amie avec un air indigné.":{"EN":"The white girl turns to her friend with an indignant look."},"La suivre":{"EN":"Follow her"},"Laisser faire branlette":{"EN":"Let her wank you"},"Le clodo a un mouvement de recul et met ses mains devant lui en signe de défense.":{"EN":"The tramp has a backward movement and puts his hands in front of him as a sign of defense."},"Le visage d'$person.ayako.name s'illumine.":{"EN":"$person.ayako.name's face lights up."},"Les beautés du nord":{"EN":"The beauties of the north"},"Les filles paraissent surprises. Elles regardent de nouveau la vidéo.":{"EN":"The girls seem surprised. They are watching the video again."},"Les yeux d'$person.ayako.name sont grands ouverts et pointent sur ton entrejambe. Avec la surprise, tu t'es relevé, révélant la trique énorme que tu as depuis le début de la séance. Elle fait comme si elle n'avait rien vu.":{"EN":"$person.ayako.name's eyes are wide open and point to your crotch. With the surprise, you got up, revealing the huge boner you've had since the beginning of the session. She acts like she didn't see anything."},"Naaaaan trop un fou... Elle devait tellement se sentir mal !!":{"EN":"Naaaaaah so mad.... She must have felt so bad!"},"Non ! Non pas besoin $nameb, ça n'est pas utile ! J'ai un peu de retard mais tu sais que je vais payer ! Tu auras ta paie d'aujourd'hui et de demain. Ne t'inquiète pas mon frère. \t\t<<t>> \t\tLa \"paie\"... Ce mec est juste en train de me voler... \t\t<</t>>":{"EN":"No! No need $nameb, that's not necessary! I'm a little late, but you know I'm going to pay! You'll get your pay for today and tomorrow. Don't worry, brother. <<t>> \t\tLa \"paie\"... Ce mec est juste en train de me voler... \t\t<</t>>"},"Oh b'jour mon ami ! T'as trouvé l'vieux Palmer ?":{"EN":"Oh hello, my friend! Did you find old Palmer?"},"Oh non ! Pas encore !":{"EN":"Oh no! Not again!"},"Ouais, des services. Je te dirai de faire un truc et le feras, c'est pas plus compliqué que ça.":{"EN":"Yeah, services. I'll tell you to do something and you will do it, it's no more complicated than that."},"Oui !":{"EN":"Oh god yes !"},"Oui, je les connais très bien, je bosse chez eux de temps en temps.":{"EN":"Yes, I know them very well, I work for them from time to time."},"Que vous m'avez incité à ne pas lire...":{"EN":"That you encouraged me not to read..."},"Regarder dans la cabine":{"EN":"Look in the cabin"},"Reset actions":{"EN":"Reset actions"},"Reviens me voir quand t'as fini. Et te fais pas choper avec ça.":{"EN":"Come back to me when you're done. And don't get caught with that."},"Se tournant vers toi.":{"EN":"Turning to you."},"Sortir de la \"maison\" de Palmer":{"EN":"Getting out of Palmer's \"house\""},"T'es sûr de toi ?":{"EN":"Are you sure about this?"},"T-tu voulais me parler ?":{"EN":"Y-you wanted to talk to me?"},"Tenez.":{"EN":"Take this."},"Tu adores être acceuilli par $namegfm. C'est une magnifique poupée rousse qui a dans la quarantaine. Tu ne devrais pas penser ça de la mère de ta petite amie, mais c'est exactement le type de femme que t'imagines quand tu entends parler de MILF.":{"EN":"You love being welcomed by $namegfm. She's a beautiful redheaded doll in her 40s. You shouldn't think that about your girlfriend's mother but that's exactly the kind of woman you picture when you hear about MILF."},"Tu as ?":{"EN":"You have what ?"},"Tu as de la chance, je suis réglo. Je te prends uniquement ce que tu dois même si tu mériterais que je te dépouille complètement...":{"EN":"You're lucky I'm legit. I only take what you owe, even if you deserve that I strip you completely...."},"Tu donnes le colis à $person.kawasaki.name. Elle fouille à l'intérieur. Tu peux la voir sortir des sachets remplis de différentes substances: de la poudre blanche, des pillules jaunes ou rouges. Certains ont des étiquettes, tu arrives à en distinguer une: \"Acide gamma-hydroxybutyrique\".":{"EN":"You give the package to $person.kawasaki.name. She's searching inside. You can see her coming out of bags filled with various substances: white powder, yellow or red pills. Some of them have labels, you can tell one apart: \"Gamma-hydroxybutyric acid\"."},"Tu es un peu mal à l'aise, mais tu oses une question.":{"EN":"You're a little uncomfortable, but you dare to ask a question."},"Tu ne peux t'empêcher de profiter de sa belle poitrine offerte. Tu sens sous tes doigts le moelleux de ses seins et ses tétons qui pointent.":{"EN":"You can't help but take advantage of her beautifully offered breasts. You can feel the softness of her breasts and her pointed nipples under your fingers."},"Tu perds rapidement le fil de la conversation, trop attiré par son énorme paire de seins qui sautille sous tes yeux chaque fois qu'elle fait un geste des mains. Tu relèves de temps en temps la tête pour acquiesser à ce qu'elle te raconte.":{"EN":"You quickly lose the thread of the conversation, too attracted by her huge pair of breasts that jump in front of your eyes every time she makes a movement with her hands. You raise your head from time to time to acknowledge what she tells you."},"Tu regardes derrière elle. Une vieille bâtisse sur deux étages tient difficilement debout. Ca doit être ça son bordel.":{"EN":"You look behind her. An old two-storey building can hardly stand upright. This must be her brothel."},"Tu regardes une dernière fois autour de toi pour vérifier qu'il n'y a personne, puis tu te concentres sur la fille. Tu vois ses cuisses bien écartées et sa chatte bien visible, comme si elle voulait l'offrir au monde. Ses petits gémissements réguliers et très sonores t'excitent.":{"EN":"You look around one last time to make sure there's no one around, then you focus on the girl. You see her thighs wide open and her pussy clearly visible, as if she wanted to offer it to the world. Her regular and very loud little moans excite you."},"Tu sais pourtant que je déteste ça quand tu me prends pour un con.":{"EN":"You know I hate it when you think I'm an idiot."},"Tu sens un violent coup sur ta main.":{"EN":"You feel a sharp blow on your hand."},"Tu te retournes. Deux grosses à lunettes ont pris les places derrière toi. Et tu constates qu'effectivement le bus est plein à craqué. Il n'y a plus aucune place de libre. Plus aucune, sauf...":{"EN":"You turn around. Two fat girls with glasses took the seats behind you. And you notice that the bus is indeed full to bursting. There are no more places available. No more, except..."},"Tu te sers dans le tas de billets, et tu prends ce qu'il te doit.":{"EN":"You take what he owes you from the pile of cash."},"Tu veux quoi ?":{"EN":"What do you want?"},"Une lente prise de conscience":{"EN":"A slow awareness"},"Voilà. Si on retire les taxes et les frais bancaires, il vous reste 2$. Génial !":{"EN":"There you go. If we take out the taxes and bank charges, you have $2 left. Awesome!"},"Vous êtes arrivé à la fin du contenu avec ce personnage. Merci de l'avoir suivi ! La prochaine mise à jour implémentera de nombreux nouveaux mécanismes, et notamment la possibilité de visiter la ville !":{"EN":"You have reached the end of the content with this character. Thank you for following him/her! The next update will implement many new mechanisms, including the possibility to visit the city! Stay updated :)"},"Y'a qu'un Palmer ici, et tu viens de le quitter !":{"EN":"There's only one Palmer here, and you just left him!"},"Yo ! Moi c'est BigEiffelTower, l'artisan de Blacked & Whited. Avant de commencer, je tenais à te souhaiter une bonne aventure, et j'espère que tu prendras autant de plaisir à jouer que j'en ai à l'écrire et à la développer. :)":{"EN":"Yo! I'm BigEiffelTower, the artisan of Blacked & Whited. Before you start, I wanted to wish you a good adventure, and I hope you will enjoy playing as much as I do writing and developing it. :)"},"femme":{"EN":"woman"},"$nameb reprend son chemin. Tu entends la porte des toilettes claquer derrière toi.":{"EN":"$nameb is on its way again. You hear the toilet door slam behind you."},"$nameb réfléchit un instant, avant de reprendre.":{"EN":"$nameb thinks for a moment, before resuming."},"$nameb se met à rire.":{"EN":"$nameb starts laughing."},"$nameclara ! Tout va bien ?":{"EN":"$nameclara! Is everything all right?"},"$nameclara s'arrête, perdue dans ses pensées.":{"EN":"$nameclara stops, lost in her thoughts."},"$person.kawasaki.name se lève, et t'emmène dans l'arrière boutique. Elle ouvre une porte fermée à clé, et vous entrez dans ce qui a l'air d'une salle de stockage. C'est une petite salle avec des étagères sur lesquelles sont posées des cartons de différentes tailles, mais aussi des objets. Tu peux voir des cordages, des sextoys, des déguisements, et même des tas de photos.":{"EN":"$person.kawasaki.name gets up, and takes you to the back shop. She opens a locked door, and you enter what looks like a storage room. It is a small room with shelves on which cardboard boxes of different sizes are placed, but also objects. You can see ropes, sextoys, costumes, and even lots of pictures."},"Ah au fait, moi c'est $namebs.":{"EN":"Oh by the way, I'm $namebs."},"Ah, c'toi. Qu'est-ce t'veux encore au vieux Palmer ? Tu lui as déjà tout pris.":{"EN":"Ah, it's you. What do you want with old Palmer now? You already took everything from him."},"Ajouter excitation":{"EN":"Add excitement"},"Alors mon p'tit gars, t'as décidé de changer d'avis ?":{"EN":"So, little guy, have you decided to change your mind?"},"Bon, je crois que je n'ai pas vraiment le choix.":{"EN":"Well, I guess I don't really have a choice."},"C'est ici que tous les rejetés du système terminent: sur un carré de terre entre quatre morceaux de tôle.":{"EN":"This is where all the rejected ones from the system end: on a square of earth between four pieces of sheet metal."},"C'est pas grand chose ça ?":{"EN":"Isn't that a big deal?"},"C'est trop cher pour moi, je vais trouver une autre solution.":{"EN":"It's too expensive for me, I'll find another solution."},"C'est très bien $namemc, je vois que tu commences à comprendre ta place ici.":{"EN":"That's very good $namemc, I see you're starting to understand your place here."},"Ca... Ca a marché ?":{"EN":"It... it worked?"},"Clara":{"EN":"Clara"},"Conneries !":{"EN":"Bullshit!"},"Continuer avec la version publique":{"EN":"Continue with the public version"},"De quoi tu parles les gros bras ? Palmer est un camé de 40 kilos, il ne va poser aucun problème.":{"EN":"What are you talking about playing it tough? Palmer's a 40-pound junkie, he's not gonna be a problem."},"Dire la vérité":{"EN":"Tell the truth"},"Dommage. Viens me voir si t'as besoin d'te faire un peu de fric facilement... Tu peux aussi venir pour consommer. On a les meilleures putes de toute la ville ! Qualité et prix garantis par Kacey. :)":{"EN":"Too bad. Come see me if you need to make some easy money... You can also come to consume. We have the best whores in the whole city! Quality and price guaranteed by Kacey. :)"},"E-ensuite... I-il m'a dit que c'était devenu payant ! Mais moi je ne pouvais pas payer ! C'est une drogue beaucoup trop chère pour moi, et j'ai déjà du mal à régler mon loyer... Je lui ai dit ça, et il m'a proposé de... de payer... autrement. Je n'ai pas su quoi répondre, j'en avais trop besoin ! J'étais totalement perdue ! Et j'ai...":{"EN":"T-Then.... He told me it had become paying! But I couldn't pay! It's a much too expensive drug for me, and I'm already having trouble paying my rent... I told him that, and he offered to... to pay... you know, otherwise. I didn't know what to say, I needed it too much! I was totally lost! And I have...."},"Ecoute, Palmer doit de l'argent à des gens qu'il ne vaut pas faire chier. Si tu ne veux pas avoir de problème, t'as intérêt à me dire ce que tu sais tout de suite et sans poser de question.":{"EN":"Look, Palmer owes money to people he's not worth pissing off. If you don't want to have any problems, you better tell me what you know right now and without asking any questions."},"Eh, juste une dernière chose... C'est vrai que tu sors avec $namegf ? Je lui ai déjà parlé tu sais. Elle m'avait aidé pour des cours, c'est vraiment une gentille fille. Vous allez bien ensemble, je trouve.":{"EN":"Hey, just one more thing.... Is it true you're dating $namegf? I already talked to her, you know. She helped me with classes, she's a really nice girl. You two look good together, I think."},"Elle lève vers toi un visage en larme.":{"EN":"She raises a tearful face towards you."},"Elle parle beaucoup.":{"EN":"She talks a lot."},"Elle rigole d'un rire nerveux.":{"EN":"She laughs with a nervous laugh."},"Elle te fait un clin d'oeil.":{"EN":"She winked at you."},"Elle te tend une grosse liasse de billets. Tu n'as jamais vu autant d'argent de ta vie...":{"EN":"She hands you a big bundle of money. You've never seen so much cash in your life..."},"Et c'est quoi le prix qui faut ?":{"EN":"And what is the right price?"},"Et du coup, tu veux que je fasse quoi ?":{"EN":"So what do you want me to do?"},"Et il te doit combien ?":{"EN":"And how much does he owe you?"},"Et tu pourrais m'indiquer où exactement ?":{"EN":"And could you tell me where exactly?"},"Hehe. Fallait être plus rapide ma grande. C'est ma place maintenant !":{"EN":"Hehe. You had to be faster, girl. This is my place now!"},"Il faudra qu'on parle. J'ai quelque chose pour toi.":{"EN":"We need to talk. I have something for you."},"Il t'indique une direction.":{"EN":"It shows you a direction."},"Il te supplie pendant de longues minutes de lui laisser l'argent. Il en a besoin pour vivre et pour se nourrir.":{"EN":"He begs you for long minutes to keep the money for him. He needs it to live and to feed himself"},"Il éclate d'un rire bien bras.":{"EN":"He laughs with a loud laugh."},"J'ai accepté son offre. I-Il voulait pas grand chose... juste que je le suce.":{"EN":"I accepted his offer. He didn't want much... he just wanted me to suck his dick."},"J'ai autre chose pour toi bouffe merde.":{"EN":"I got something else for you shit-eater."},"J'ai bien compris que t'avais pas un rond. Foutu branleur incapable de ramener de la thune... $namebf lui au moins sait comment ramener de l'argent.":{"EN":"I understand you don't have a penny. Damn wanker unable to bring in any money.... $namebf at least knows how to make cash."},"J'ai dit quoi ?":{"EN":"What did I say?"},"J'y pense... Ca fait longtemps qu'il m'a pas insulté...":{"EN":"I'm thinking about it... It's been a long time since he insulted me..."},"Je crois que je n'ai pas le choix, je vais devoir faire affaire avec le clodo.":{"EN":"I have no choice, I have to deal with the tramp."},"Je ferais mieux de partir.":{"EN":"I'd better get out of here."},"Je leur fournis de temps en temps des produits.":{"EN":"I provide them with products from time to time."},"Je ne pourrai pas raconter ce que je viens de faire à $nameb, c'est trop risqué pour moi. Il va falloir que je lui donne ces 50$ de ma poche...":{"EN":"I won't be able to tell $nameb what I just did, it's too risky for me. I'm gonna have to give him that $50 out of my pocket..."},"Je viens de vous répondre monsieur $player.identity.lastname. Que souhaitez vous savoir d'autre ?":{"EN":"I just answered you Mr. $player.identity.lastname. What else would you like to know?"},"Kacey":{"EN":"Kacey"},"Le pauvre vieillard fond en larme devant toi.":{"EN":"The poor old man breaks down in tears in front of you."},"Le trajet passe...":{"EN":"The journey passes..."},"Le vieux a la voix qui tremble. Il demande ta clémence.":{"EN":"The old man's voice is shaking. He's asking for your clemency."},"Lui laisser l'argent":{"EN":"Leave the money to him"},"Menacer Palmer":{"EN":"Threaten Palmer"},"Merci ! Vous m'avez beaucoup aidé.":{"EN":"Thank you! You've been very helpful."},"Merci $namemc. T'pourras revenir m'voir quand t'veux ! J'connais bin l'bsosquet, p't-être qu'un jour j'pourrai t'aider en r'tour !":{"EN":"Thank you $namemc. You can come back to see me any time you want! I know this slum well, maybe one day I can help you in return!"},"Merde...":{"EN":"Shit..."},"Moi c'est Kacey. Je suis la gérante du bordel de ce trou à merde de bidonville.":{"EN":"I'm Kacey. I'm the brothel manager of this slum shithole's."},"Ne me juge pas pour ça, c'était vraiment impossible de résister... J-je te raconterai peut-être la suite tard.":{"EN":"Don't judge me for that, it was really impossible to resist... I-I may tell you the rest later."},"Non bien sûr, viens t'asseoir.":{"EN":"No, of course not, come and sit down."},"Non, j'ai tout ce qu'il me faut.":{"EN":"No, I have everything I need."},"Offres disponibles":{"EN":"Jobs available"},"Oh bordel !":{"EN":"Oh my God!"},"P-pourquoi t'prends tout ? S'il te plait laisse moi en ! Laisse moi de quoi manger...":{"EN":"W-why are you taking everything? Please leave me some! Let me have something to eat..."},"Palmer":{"EN":"Palmer"},"Palmer ? Ca m'dit kekchose. J'crois bin que sa maison est par là bas.":{"EN":"Palmer? That sounds familiar. I think his house is over there."},"Palmer ? Vous le connaissez ? Je le cherche.":{"EN":"Palmer? Do you know him? I'm looking for him."},"Palmer est agenouillé dans un coin du taudis. En te voyant il se relève aussitôt pour venir te saluer. Il a l'air content de te voir.":{"EN":"Palmer is kneeling in a corner of the slum. When he sees you, he gets up immediately to come and greet you. He seems happy to see you."},"Palmer est agenouillé dans un coin du taudis. Il lève difficilement la tête pour voir qui est rentré.":{"EN":"Palmer is kneeling in a corner of the slum. He hardly looks up to see who's home."},"Quelle personne je deviendrai en volant ce pauvre vieillard ?":{"EN":"What person would I become by stealing from this poor old man?"},"Reset excitation":{"EN":"Reset excitation"},"Retourner chez toi":{"EN":"Go back home"},"Reviens me voir demain, tu sauras ce que tu dois faire.":{"EN":"Come back to me tomorrow, you'll know what you need to do."},"Sa protection... contre lui même...":{"EN":"His protection... against himself ?"},"Sortir du camp de SDF":{"EN":"Get out of the shantytown"},"Sérieux ? Mais ils en font quoi ?":{"EN":"Seriously? But what do they do with it?"},"T'es sérieuse là ?! Tu me laisses rester debout toute seule ? Et bah, on voit les amies sur qui on peut compter...":{"EN":"Are you serious right now?! You're letting me stand alone? Well, we see the friends we can't count on..."},"T'es sûr que tu n'cherches pas du travail ? Les p'tits gars comme toi sont très appréciés, tu pourrais t'faire du fric tu sais ?":{"EN":"Are you sure you're not looking for work? Little boys like you are very popular, you could make some money, you know?"},"T-tu veux que je joue les gros bras ???":{"EN":"Do you want me to play it tough ???"},"Ton pote PD m'avait dit qu'il ne pouvait pas me payer plus. T'imagines ma surprise quand s'est ramené en sauver pour payer ta part... Il m'a beaucoup déçu, et j'ai su lui montrer ma déception. Je ne rentre pas dans les détails, mais le prix pour sa protection a augmenté. Tu ne peux plus compter sur lui pour payer à ta place.":{"EN":"Your fag buddy told me he couldn't pay me more. Can you imagine my surprise when he came back to save you and pay your part? He disappointed me a lot, and I showed him my disappointment. I don't go into details, but the price for his protection has gone up. You can no longer count on him to pay for you."},"Ton regard est vite attiré vers d'autres lieux... Wow... Une impressionnante paire de boobs tient difficilement dans un décolleté un peu serré. Elle prend un air surpris et te tire de tes pensées.":{"EN":"Your eyes are quickly drawn to other places... Wow! An impressive pair of boobs can hardly fit into a tight neckline. She looks surprised and pulls you out of your thoughts."},"Toutes tes poches.":{"EN":"All your pockets."},"Tu as fait le bon choix.":{"EN":"You did the right choice."},"Tu continues d'errer dans les rues du bidonville. Tu essaies d'interpeller plusieurs personnes que tu croises, mais personne ne daigne te répondre.":{"EN":"You keep wandering the streets of the slum. You try to question several people you meet, but no one cares to answer you."},"Tu le regardes de la tête au pied. Il donne vraiment l'impression de pouvoir s'effonder à la moindre brise.":{"EN":"You look at him from head to toe. It really gives the impression of being able to collapse at the slightest breeze."},"Tu lui donnes la liasse de billets que tu as reçu. $nameb la prend, la soupèse et l'agite. Il compte l'argent, billet par billet, puis se retourne vers toi, satisfait.":{"EN":"You give her the bundle of cash you received. $nameb takes it, weighs it and shakes it. He counts the money, banknote by banknote, then turns to you, satisfied."},"Tu papotes avec elle tout le long de trajet. Le temps passe comme un éclair, et vous arrivez finalement à destination.":{"EN":"You chat with her all the way down the road. Time goes by like lightning, and you quickly get to your destination."},"Tu prends tout l'argent qui traîne par terre et le fourre dans ta poche.":{"EN":"You take all the money lying around on the floor and stuff it in your pocket."},"Tu rentres dans le tas de tôles. La porte n'est pas fermée, tu rentres. A l'intérieur, tu ne vois que babioles sans doute récupérées dans les poubelles.":{"EN":"You get into the pile of metal sheets he calls his house. The door's not locked, you come in.  Inside, you can only see trinkets probably recovered from the garbage cans."},"Tu rentres dans le taudis de Palmer. Il est là, à ne rien faire.":{"EN":"You're going into Palmer's slum. He's here, doing nothing."},"Tu sers les poings de rage.":{"EN":"You're clenching your fists with rage."},"Tu t'en sors bien. Palmer est une véritable merde. Ca m'aurait emmerdé de devoir me salir les mains en lui collant des gifles.":{"EN":"You're doing well. Palmer is a piece of shit. It would have pissed me off if I had to get my hands dirty by slapping him."},"Tu tiens le regard de $nameb.":{"EN":"You're holding the look of $nameb."},"Unknown men":{"EN":"Unknown men"},"Yes ! Ca avance. Je me sens comme un enquêteur de film hollywoodien !":{"EN":"Yes! It's coming along. I feel like a Hollywood movie investigator!"},"$city.sdf.name":{"EN":"$city.sdf.name"},"$nameb pose son joint sur le rebord d'un évier.":{"EN":"$nameb places its joint on the edge of a sink."},"$nameb t'indique la porte d'un mouvement de la tête.":{"EN":"$nameb indicates the door with a head movement."},"$namebf paie déjà pour moi !":{"EN":"$namebf is already paying for me!"},"$nameclara reste à côté de toi sans bouger. Tu essaies de briser la glace.":{"EN":"$nameclara stands by you without moving. You're trying to break the ice."},"$namegf est complètement absorbée par les sensations, et ne répond rien. Elle pousse un soupir incontrôlé quand $nameb vient prendre ses deux fesses entre ses mains et plaque ta copine contre lui. Tu as presque envie de pleurer en voyant $nameb, sous la robe de $namegf, prendre son cul à pleine main pour le malaxer avec vigueur.":{"EN":"$namegf is completely absorbed by sensations, and does not respond to anything. She sighs uncontrollably when $nameb comes to take her two buttocks in her hands and puts your girlfriend against him. You almost want to cry when you see $nameb, under $namegf's dress, take her ass in full hand and knead it vigorously."},"50 balles.":{"EN":"50 bucks."},"Appelle moi $namemc.":{"EN":"Call me $namemc."},"Après m'avoir tout volé, il essaie de m'exploiter ?!":{"EN":"After stealing everything from me, he's trying to exploit me?!"},"Après quelques minutes à tourner en rond, tu te décides à demander au hasard quelqu'un qui passe par là. Qu'est-ce que tu peux faire d'autre de toutes façons ? Tu vois un gros gaillard se diriger vers toi...":{"EN":"After a few minutes of going in circles, you decide to randomly ask someone who passes by. What else can you do anyway? You see a big guy coming towards you..."},"Arrête de te foutre de moi, je sais que c'est toi Palmer !":{"EN":"Stop messing with me, I know you're Palmer!"},"Bon, je crois qu'on est arrivé. C'était sympa de faire ce voyage avec toi ! :)":{"EN":"Well, I think we're here. It was nice to take this trip with you! :)"},"C'est toujours non monsieur $player.identity.lastname.":{"EN":"It's still no Mr. $player.identity.lastname."},"C'était vraiment génial, le plus beau jour de ma vie ! C'est lui qui m'a donné envie de faire le conservatoire. Et j'aimerai former un groupe aussi connu que le sien ! J'ai déjà mon propre groupe, tu sais. Bien sûr il est encore petit pour l'instant. Il s'appelle Black Zeppelin, tu connais ? Tu pourras regarder sur internet si tu veux, et liker nos vidéos. Pour le moment on est pas très connu, et le groupe a quelque problème, manque de sérieur, toussa...":{"EN":"It was really great, the best day of my life! He's the one who made me want to go to the conservatory. And I'd like to form a group as well known as his! I already have my own band, you know. Of course it's still small for now. It's called Black Zeppelin, do you know it? You can watch on the internet if you want, and enjoy our videos. For the moment we are not very well known, and the band has some problems, lack of seriousness, but one day, maybe..."},"Ca avance ce que tu dois faire ?":{"EN":"How's that going for what you need to do?"},"Ce petite enculé de Palmer ! Il m'a bien niqué... Je vais revenir demain soir.":{"EN":"That little motherfucker Palmer! He fucked me up good.... I'm coming back tomorrow night."},"Cette fille a une triste histoire...":{"EN":"This girl has a sad story..."},"Charmante, cette fille.":{"EN":"Charming, that girl."},"Chercher Palmer":{"EN":"Search Palmer"},"Chercher une autre solution":{"EN":"Search for an alternative"},"D-désolé...":{"EN":"S-Sorry..."},"Des services ?":{"EN":"Services?"},"Donnez moi le colis s'il vous plaît.":{"EN":"Please give me the package."},"Du genre qui paie rapidement.":{"EN":"The kind that pays quickly."},"Elle m'a dit que certains de leurs clients avaient des demandes... particulières. J'en sais pas plus. D'façon ça me regarde pas, et toi non plus, compris ? On évite de poser trop de questions, garde ça en tête si tu veux pas de problèmes.":{"EN":"She told me that some of their clients had specific... requests. I don't know any more than that. That's none of my business, and neither are you, understand? We avoid asking too many questions, keep that in mind if you don't want any problems."},"Elle se lève pour s'en aller, mais se stoppe en plein mouvement. Elle se retourne vers toi.":{"EN":"She gets up to go away, but stops in the middle of a movement. She turns to you."},"Elle sourit. C'est la première fois que tu vois $nameclara sourire.":{"EN":"She smiles. This is the first time you've seen $nameclara's smile."},"Elle te fait un dernier sourire avant de rejoindre son amie. Tu la vois la taquiner alors qu'elle boude, avant de disparaitre dans la foule qui s'échappe du bus.":{"EN":"She gives you one last smile before joining her friend. You see her teasing her sulking friend, before disappearing into the crowd escaping from the bus."},"Elle te également une autre liasse, beaucoup plus fine.":{"EN":"It also gives you another batch, much thinner."},"Est-ce que j'ai le choix ?":{"EN":"Do I have a choice?"},"Et pas d'enculade. Je crois qu'on a été assez clair sur qui donne les ordres ici. Tu sais de quoi je suis capable.":{"EN":"And no fucking around. I think we've made it pretty clear who gives the orders here. You know what I'm capable of."},"Et... C-c'est vrai ce que t'as dit la dernière fois ?":{"EN":"And.... I-Is it true what you said last time?"},"Gagné ? Tout ce que tu gagnes est à moi. Donne moi cette thune.":{"EN":"Won? Everything you earn is mine. Give me that money."},"Haha, peut-être. :)":{"EN":"Haha, maybe. :)"},"Heu, monsieur ?":{"EN":"Uh, sir?"},"Hmm, je dirais ACDC, Led Zeppelin, Nirvana, U2, et... Pink Floyd ?":{"EN":"Hmm, I'd say ACDC, Led Zeppelin, Nirvana, U2, and... Pink Floyd?"},"Il doit de l'argent à certaines personnes.":{"EN":"He owes money to some people."},"Il est tard, tu préfères ne pas t'attarder. Tu salues le vieillard qui se perd encore en remerciements, et tu quittes son taudis pour retourner dans la rue.":{"EN":"It's late, you'd rather not linger. You greet the old man who is still lost in gratitude, and leave his slum to return to the street."},"Il ne répond pas.":{"EN":"He's not answering."},"Il s'arrête et te regarde, surpris. Ses yeux sont injectés de sang et tu le vois sans cesse se gratter la peau sans même s'en rendre compte. C'est de toute évidence un camé en phase terminale. Mais contrairement aux autres, il semble prêt à échanger avec toi.":{"EN":"He stops and looks at you, surprised. His eyes are bloodshot and you see him scratching his skin all the time without even noticing. He's obviously a terminally ill junkie. But unlike the others, he seems ready to exchange with you."},"Il semble confus quelques secondes, avant de vite se reprendre.":{"EN":"He seems confused for a few seconds, before quickly recovering."},"Il te temps un petit paquet emballé dans un papier brun. Le colis fait sont poids, un bon 5 kilos.":{"EN":"You need a little package wrapped in brown paper. The package weighs a good 5 kilos."},"Il y a quelqu'un ?":{"EN":"Is anyone there?"},"Impressionnant ! Je suis une grande fan de ces groupes là depuis que je suis toute petite, et c'est rare de trouver des connaisseurs ! Tu savais que j'avais rencontré Robert Plant il y a 3 ans quand il est passé à <<= setup.city.name>> ?":{"EN":"Impressive! I've been a big fan of these bands since I was a little girl, and it's rare to find a connoisseur! Did you know that I met Robert Plant 3 years ago when he went to <<= setup.city.name>>?"},"J'ai rien pour toi aujourd'hui, reviens demain.":{"EN":"I got nothing for you today, come back tomorrow."},"J-J'ai aussi gagné 100$ pour mon travail...":{"EN":"I-I also won $100 for my work..."},"J-je crois.":{"EN":"I-I think so."},"J-je vais jouir... <<= $namemc.toUpperCase()>> !":{"EN":"I-I'm going to come... <<= $namemc.toUpperCase()>> !"},"Je comprends ta situation Palmer. J-je vais m'arranger avec $nameb.":{"EN":"I understand your situation, Palmer. I-I'll work it out with $nameb."},"Je te résume ça: aller dans le camp des SDF, demander Palmer, récupérer les 50 balles et me les ramener. Reviens me voir quand t'as fini.":{"EN":"I'll summarize this for you: go to the tramp camp, ask Palmer, get the 50 bucks and bring them back to me."},"La petite main de $nameb":{"EN":"The little hand of $nameb"},"Le bordel de Kacey. Je n'ai rien à y faire pour le moment.":{"EN":"Kacey's brothel. I don't have anything to do about it right now."},"Le clodo réfléchit en se grattant la tête avec force, laissant une grand marque rouge au passage. Puis soudainement, son visage s'illumine. Il te fait un grand sourire. Le pauvre n'a quasiment plus de dents. Il te parle d'une voix à peine perceptible, en marmonnant.":{"EN":"The tramp thinks as he scratches his head with force, tearing off a little skin. Then suddenly, his face lights up.  He gives you a big smile. The poor man has almost no teeth left. He speaks to you in a barely perceptible, mumbling voice."},"Livrer le colis":{"EN":"Deliver the package"},"M-m-mais j'ai rien ! J'ai rien du tout...":{"EN":"B-b-but I got nothing! I have nothing at all..."},"M-merci de me laisser un peu p'tit gars...":{"EN":"Thank you for leaving me a little bit, little guy."},"Mais pourquoi je ferai ça, $namebf a déjà dit qu'il paierait pour moi ? Je m'arrange avec lui...":{"EN":"But why would I do that, $namebf already said he'd pay for me? I manage with him."},"Mais rapidement, elle recule.":{"EN":"But quickly, she backed down."},"N-non c'est bon... J-je rigolais haha, le prends pas comme ça.":{"EN":"N-no, it's okay... I-I was laughing, haha, don't take it like that."},"Oh. Je vois. Suivez moi.":{"EN":"Oh. I see. Follow me."},"On arrête de jouer maintenant. Vide tes poches sans poser de question.":{"EN":"We stop playing now. Empty your pockets without question."},"Palmer !!":{"EN":"Palmer!!"},"Palmer ?":{"EN":"Palmer?"},"Palmer est agenouillé dans un coin du taudis. Il lève la tête pour voir qui est rentré.":{"EN":"Palmer is kneeling in a corner of the slum. He looks up to see who's home."},"Pas très polis par ici...":{"EN":"Not very polite around here..."},"Prendre ce qu'elle te donne":{"EN":"Take what she gives you"},"Prendre ce qu'il te doit":{"EN":"Take what he owes you"},"Prends l'chemin là, pis tu vas tomber sur l'arbre. Là tu prends à drouate, et y'aura la cabane du vieux Palmer. L'gars a mis du rouge partout sur sa tôle, t'pourras pas l'louper ! T'as d'autres questions p'tit gars ?":{"EN":"Take the path there, and you'll fall on the tree. There you take a right, and there will be old Palmer's cabin. The guy put red all over his metal sheet, you can't miss it! Do you have any more questions, little man?"},"Qu'est-ce que je peux faire pour vous monsieur $player.identity.lastname ?":{"EN":"What can I do for you, Mr. $player.identity.lastname?"},"Que... je te plaisais ?":{"EN":"That... you liked me?"},"Quel genre de travail ?":{"EN":"What kind of work?"},"R-rien... Tu veux que je m'en aille ?":{"EN":"N-nothing.... Do you want me to leave?"},"Regarde ! Nos places ! On nous les a prise...":{"EN":"Look! Our places! Someone's on it."},"Regarder ce qu'il possède":{"EN":"Look at what he owns"},"Reset Stamina":{"EN":"Reset Stamina"},"Retirer ton sac de la place":{"EN":"Remove your bag from the place"},"Reviens me voir demain.":{"EN":"Come back to me tomorrow."},"Sa réponse est vague, mais tu préfères ne pas insister. Une fois son inspection finie, elle referme le colis et le pose sur une étagère, entre un gros carton abimé et un énorme sextoy en forme de poing. Elle se retourne vers toi.":{"EN":"Her answer is vague, but you prefer not to insist. Once her inspection is complete, she closes the package and places it on a shelf, between a large damaged cardboard box and a huge sextoy with a fist shape. She turns to you."},"Sans même un regard, le bonhomme accélère la cadence et te dépasse sans s'arrêter... Tu interroges une seconde personne: même résultat. Une troisième, une quatrième, une cinquième. Sans succès.":{"EN":"Without even a look, the man speeds up the pace and passes you without stopping... You ask a second person: same result. A third, a fourth, a fifth. Without success."},"Sans un regard en arrière, tu quittes son taudis pour retourner dans la rue.":{"EN":"Without a look back, you leave his shithole and go back to the street."},"Super. J-j'y penserai.":{"EN":"Great. I-I'll think about it."},"T'sais mon p'tit gars, ici y'a tout qui s'discute hein, mais fo mettre le prix ki fo !":{"EN":"You know, little man, everything here is negotiable, you just have to put the right price."},"Ton amie ne va pas être jalouse ?":{"EN":"Isn't your friend going to be jealous?"},"Très bien. T'as fait du bon travail, je crois que je vais pouvoir faire quelque chose de toi.":{"EN":"Very well. You did a good job, I think I can make something of you."},"Tu cherches pas du travail par hasard ?":{"EN":"You're not looking for a job by any chance?"},"Tu connais les chintoks du $city.massage.name ?":{"EN":"Do you know the Chinese of $city.massage.name?"},"Tu lui donnes les 50$.":{"EN":"You give him the $50."},"Tu lèves la tête. Les deux filles viennent de monter dans le bus. Elles affichent une mine déçue.":{"EN":"You look up. The two girls just got on the bus. They look disappointed."},"Tu peux aller voir Kacey, elle a sans doute du travail pour les gens comme toi.":{"EN":"You can go see Kacey, she probably has work for people like you."},"Tu préfères rapidement t'éloigner avant qu'elle ne te fasse une autre proposition douteuse.":{"EN":"You prefer to move away quickly before she makes you another questionable offer."},"Tu regardes autour de toi, il n'y a rien qui ne te semble approprié pour t'installer. Quel enculé... Tu restes sur place sans bouger.":{"EN":"You look around, there's nothing that doesn't seem appropriate for you to settle down. What a motherfucker... You stay put without moving."},"Tu rentres dans les toilettes. A première vue elles semblent vides, mais rapidement des gémissements venus du fond, derrière une porte, attirent ton attention.":{"EN":"You go into the toilet. At first sight they seem empty, but quickly moans from the back, behind a door, attract your attention."},"Tu sens vraiment super bon !":{"EN":"You really smell great!"},"Tu t'avances prudemment dans le bidonville. C'est la première fois que tu viens ici. La misère est... palpable.":{"EN":"You walk cautiously into the slum. This is the first time you've been here. Poverty is... palpable."},"Tu vas me rendre les 50 balles que tu m'as arnaqué et les 50 balles que tu dois à $nameb.":{"EN":"You're gonna give me back the 50 bucks you ripped off me and the 50 bucks you owe to $nameb."},"Tu vas rendre les 50 balles que tu dois à $nameb.":{"EN":"You're going to return the 50 bucks you owe to $nameb."},"Tu vois le camp des clodos à la sortie de la ville ? Tu vas aller là bas, et tu vas demander à parler avec un mec qui s'appelle Palmer. C'est un camé random qui me doit un peu de thune.":{"EN":"You see the hobos' camp on the way out of town? You're going to go there, and you're going to ask to talk to a guy named Palmer. He's a random junkie who owes me a little money."},"Vous savez où il habite ?":{"EN":"Do you know where he lives?"},"$namemc, j'ai un premier taff pour toi. Tu te sens prêt ?":{"EN":"$namemc, I have a first job for you. Are you ready?"},"$namemc. Je le sais, tu nous l'as déjà dit.":{"EN":"$namemc. You told us last time."},"5$ ? Oh bah ça va !":{"EN":"5$ ? Oh well, it's fine!"},"Ah, c'est, heu, gentil... C'est un parfum qu'on vient de m'offrir pour mes 18 ans.":{"EN":"Ah, that's, uh, nice... It's a perfume I just received for my 18th birthday."},"Aller voir Palmer":{"EN":"Go see Palmer"},"Alors mon ami, dis moi c'que peut faire l'vieux Palmer pour t'aider ?":{"EN":"So, my friend, tell me what old Palmer can do to help you?"},"Arrête de te foutre de ma gueule":{"EN":"Stop fucking with me"},"Bienvenue dans le système de tenue ! :) Sur ta gauche, tu peux voir ce que tu as sur le dos: chapeau, haut, sous-vêtements, etc. Sur la droite, tu peux voir le contenu de ton armoire. Elle est un peu vide pour le moment: c'est normal, tu pourras acheter d'autres vêtements plus tard. Pour changer tes vêtements, fais glisser le tee-shirt bugs bunny sur le vieux pull de ta grand mère. Voilà ! C'est aussi simple que ça !":{"EN":"Welcome to the holding system! :) On your left, you can see what's on your back: hat, top, underwear, etc. On the right, you can see the contents of your wardrobe. It's a little empty at the moment: it's normal, you can buy more clothes later. To change your clothes, slide the bunny bugs t-shirt over your grandmother's old sweater. That's it! It's that simple!"},"Bon, je file en cours. Merci. Ca m'a fait du bien de te parler. On se dit à plus tard alors !":{"EN":"Well, I'm off to class. Thank you. It felt good talking to you. I'll see you later then!"},"Bordel du bidonville":{"EN":"Slum brothel"},"Bouffe merde. Ca faisait longtemps...":{"EN":"Shit-eater. It's been a long time..."},"C'est donc ici que vit cet enfoiré ? Quelle misère...":{"EN":"So this is where the bastard lives? What a misery..."},"C'était vraiment un bon trip au début. Une bonne drogue. Mais rapidement, j'ai eu besoin d'augmenter les doses, de plus en plus. Et j'ai eu envie d'en prendre de plus en plus souvent... Et un jour, j-j'ai voulu arrêté. C'était horrible ! Je ne pensais plus qu'à ça, ça me torturait ! J-je n'ai pas réussi à stopper, et je suis retourné le voir une nuit pour lui en reprendre. J'étais complètement en manque.":{"EN":"It was a really good trip at first. A good drug. But quickly, I needed to increase the doses, more and more. And I wanted to take more and more often... And one day, I-I wanted to stop. It was horrible! Horrible! I couldn't think of anything else, it was torturing me! I-I couldn't stop, and I went back to see him one night to get some more. I was completely in desperate need."},"C-c'est pour les clients ?":{"EN":"I-Is that for the customers?"},"Ca ne vous regarde pas...":{"EN":"It's none of your business..."},"Ca pue les poubelles, et les quelques gens que tu croises te regardent du coin de l'oeil, comme un animal étrange.":{"EN":"It smells like garbage cans, and the few people you see look at you from the corner of your eye, like a strange animal."},"Chaque vêtement te donnera des bonus ou des malus. Tu pourras également compléter des tenues (c'est à dire porter tous les vêtements d'un même style) ce qui donnera des bonus supplémentaires, débloquera l'accès de certains lieux spéciaux, modifiera les réactions des gens autour de toi, etc.":{"EN":"Each piece of clothing will give you bonuses or malus. You will also be able to complete outfits (i.e. wear all the clothes of one style) which will give additional bonuses, unlock access to certain special places, modify the reactions of people around you, etc."},"Comme t'veux mon gars. Mais ici t'vas pas avoir b'coup de gens qui parlent ! Si tu changes d'avis j'suis ici.":{"EN":"As you wish, boy. But here you're not gonna have a lot of people talking! If you change your mind, I'm here."},"Comme tu veux $nameclara.":{"EN":"As you wish $nameclara."},"Comment je suis censé retrouver ce gars là dedans moi ?":{"EN":"How am I supposed to find this guy in here?"},"De sa main décharnée, il indique un long chemin bordé de maisons en tôles.":{"EN":"With his emaciated hand, he points to a long path lined with sheet metal houses."},"Donne la thune.":{"EN":"Give me the money."},"Ecouter":{"EN":"Listen"},"Ecouter ce qu'il a à te dire":{"EN":"Listen to what he has to say"},"Elle baisse les yeux, comme troublée. Tu as même l'impression qu'elle rougit.":{"EN":"She looks down, as if troubled. You even feel like she's blushing."},"Elle est enchantée par tes réponses. Tu ne pensais pas que les heures à écouter tous ces groupes démodés te serviraient un jour.":{"EN":"She's delighted with your answers. You didn't think the hours listening to all these old-fashioned bands would ever be useful."},"Elle remonte sa culotte, sèche ses larmes et sors des toilettes. Tu n'imagines que trop bien ce qui vient de se passer...":{"EN":"She pulls up her panties, dries her tears and gets out of the toilet. You can only imagine what just happened..."},"Elle te montre ce que tu prenais pour un empilement de tôles rouillées.":{"EN":"She shows you what you thought was a stack of rusty sheets."},"Evidemment...":{"EN":"Of course..."},"Facile, quand on a des parents blindés.":{"EN":"Easy, when you have rich parents."},"Fais ce que tu veux, j'ai fini ce que j'avais à faire.":{"EN":"Do what you want, I finished what I had to do."},"Ha ! Quelle surprise ! Palmer doit de l'argent à tout le monde, moi y compris. Cet enfoiré a sauté une de mes filles alors qu'il avait pas de quoi payer ! Tiens, sa maison est là.":{"EN":"Ha! What a surprise! Palmer owes everyone money, including me. That bastard fucked one of my girls when he couldn't afford it! Look, his house is here."},"Hein ? Ha, heu, non, 50$ j'ai dit ! Le bon prix c'est 50$, et ouais mon p'tit gars.":{"EN":"Huh? Ha, uh, no, $50 I said! The right price is $50. Hehe."},"Hey ! Ca te dérange si je me mets à côté de toi ? C'est la dernière place qui reste...":{"EN":"Hey! Do you mind if I stand next to you? This is the last place left..."},"Il a essayé de m'arnaquer, il n'a que ce qu'il mérite ! Et j'ai même réussi à me faire un peu de thune au passage. Je ne suis pas si mauvais que ça dans ce genre de business au final. :)":{"EN":"He tried to rip me off, he only gets what he deserves! And I even managed to make a little money in the process. I'm finally not that bad in this kind of business. :)"},"J'ai... J'ai entendu $nameb et sa bande parler d'elle à plusieurs reprises. Garde la très loin de lui, c'est un conseil.":{"EN":"He tried to rip me off, he only gets what he deserves! And I even managed to make a little money in the process. I'm finally not that bad in this kind of business. :)"},"J'crois bin que le bon prix c'est 5$.":{"EN":"I... I heard $nameb and her gang talking about her several times. Keep her away from him, that's my advice."},"J-je t'en supplie, m'prends pas mes biens, c'est tout qu'est-ce que j'ai pour vivre ! J-J'essaie d'm'en sortir, j'ai même arrêté la drogue dis ! T'vas faire retomber l'vieux Palmer tout en bas si tu lui prends c'qu'il a ! S-s'il te plait, laisse moi qu'est-ce que j'ai. T'pourras dire à $nameb que tu ne m'as pas trouvé ! Ou que je suis mort ! Hein t'en dis quoi ??":{"EN":"I-I beg you, don't take my stuff, that's all I have to survive on! I-I'm trying to be a better men, I even stopped the drugs! You're gonna make old Palmer fall back down if you take what he has! Please, leave me what I have. You can tell $nameb you couldn't find me! Or that I'm dead! What do you think???"},"Je crois que je n'ai pas vraiment le choix.":{"EN":"I don't think I have much choice."},"Je dois faire quoi ?":{"EN":"What do I have to do?"},"Je n'ai pas assez d'argent pour lui payer ses 50$. Je peux peut-être revenir plus tard quand je les aurai ?":{"EN":"Je n'ai pas assez d'argent pour lui payer ses 50$. Je peux peut-être revenir plus tard quand je les aurai ?"},"Je n'hésiterai pas à rendre une petite visite à ta belle $namegf... En plus j'ai déjà vu qu'elle me kiffait.":{"EN":"I won't hesitate to pay a little visit to your beautiful $namegf... Besides, I've already seen that she likes me."},"Je ne sais pas ce qu'il y a là dedans, mais ça m'a l'air tout sauf légal. Me voilà livreur de substances bizarres... ?":{"EN":"I don't know what's in there, but it seems anything but legal to me. Now I'm a delivery boy for weird substances ?"},"Je te résume ça: aller au $city.massage.name, déposer le colis, récupérer la thune, revenir. Aucune question, aucun risque, aucun problème.":{"EN":"I'll summarize it for you: go to $city.massage.name, drop off the package, pick up the money, come back. No questions, no risks, no problems."},"Je... j'ai un colis pour vous. De la part de $nameb.":{"EN":"I... I have a package for you. From $nameb."},"Kacey éclate de rire.":{"EN":"Kacey laughs."},"La carte est à l'image de l'établissement : variée. C'est simple, ils font de tout ! Il y a également un catalogue des modèles qui est encore plus surprenant. Les femmes asiatiques restent majoritaires c'est vrai, mais tu trouves aussi des hommes et des non-asiatiques. Et chaque modèle indique ses spécialités et des tarifs très variés qui vont du simple au décuple.":{"EN":"The menu reflects the image of the establishment: diversified. It's simple, they do everything! There is also a catalogue of models that is even more surprising. Asian women remain in the majority, it is true, but you also find men and non-Asians. And each model indicates its specialities and a wide range of prices, from simple to tenfold."},"La fille se retourne pour regarder sa copine qui galère debout, et la regarde avec un petit sourire narquois. Tu t'attends à ce qu'elle lui tire la langue, mais elle ne va pas jusque là. Les places sont vraiment petites, penses-tu, et la cuisse de la fille effleure la tienne. Tu sens la gêne monter en toi. Tu cherches quelque chose à dire. Vite, vite.":{"EN":"The girl turns around to look at her friend who is struggling standing up, and looks at her with a sly little smile. You expect her to stick out her tongue, but she doesn't go that far. The seats are really small, you think, and the girl's thigh is touching yours. You feel the embarrassment inside you. You're looking for something to say. Hurry, hurry."},"Le \"Bosquet des clodos\" à la sortie de la ville existe depuis la Grande Crise qui a ravagé l'économie de $namecity City. Son nom vient de l'ancien bosquet verdoyant qui s'y trouvait avant que ceux qui ont tout perdu ne viennent s'y installer. Tous les ans, tu entends des discours pour annoncer son nettoyage, mais tous les ans, ce camp grandit grandit encore un peu plus. Aujourd'hui, c'est un véritable bidonville de plusieurs milliers d'habitants.":{"EN":"The \"Tramp grove\" on the outskirts of the city has existed since the Very Great Depression that devastated the economy of $namecity City. Its name comes from the old green grove that was there before those who lost everything came to settle there. Every year you hear speeches to announce its cleaning, but every year this camp grows even bigger. Today, it is a real slum with several thousand inhabitants."},"Le clodo réfléchit un instant.":{"EN":"The tramp thinks for a moment."},"Le menacer":{"EN":"Threaten him"},"Le payer":{"EN":"Pay him off"},"Le vieillard baisse la tête.":{"EN":"The old man lowers his head."},"Les lèvres de $nameb se plissent dans un sourire pervers.":{"EN":"$nameb's lips crease into a perverse smile."},"Lui demander combien il veut":{"EN":"Ask him how much he wants"},"Lui demander de continuer":{"EN":"Ask him to continue"},"Mais tu fais de la thune alors ?!":{"EN":"So you're making money!"},"Maison de Palmer":{"EN":"Palmer House"},"Merci ! Merci, t'es un bon gars toi !!":{"EN":"Thank you! Thank you, you're a good guy!"},"Merci pour la proposition madame, mais je ne suis pas intéressé.":{"EN":"Thank you for the proposal, ma'am, but I'm not interested."},"Merde ! Mais qu'est-ce que je raconte moi ? Quelle approche de weirdo...":{"EN":"Shit! What the hell am I talking about? What's weirdo's approach..."},"Non, ça ne m'intéresse pas...":{"EN":"No, I'm not interested..."},"Note: les nouveaux vêtements sont en cours de création, ils arriveront dans les prochaines versions.":{"EN":"Note: the new clothes are being created, they will arrive in the next releases."},"Ouais je vois où est le salon de massage.":{"EN":"Yeah, I see where the massage parlor is."},"Ouais, c'est pas grand chose. C'est pour ça que j'envoie un sous fifre. Et puis, tu seras avec tes potes clodos.":{"EN":"Yeah, it's no big deal. That's why I'm sending an underling. And you'll be with your homeless friends, this is nice."},"Oui il est juste ici, au coin de la rue.":{"EN":"Yeah, he's right here, right around the corner."},"P-pas assez pour te payer...":{"EN":"Not enough to pay you..."},"Piqué par la curiosité, tu t'approches. Avant que tu n'atteignes cette porte, elle s'ouvre. $nameb en sort.":{"EN":"Curious, you come closer. Before you reach that door, it opens. $nameb comes out."},"Prendre tout ce qu'il a":{"EN":"Take everything"},"Prends l'chemin là, pis tu vas tomber sur l'arbre. Là tu prends à drouate, et y'aura la cabane du vieux Palmer. L'gars a mis du rouge partout sur sa tôle, t'pourras pas l'louper ! T'as des questions p'tit gars ?":{"EN":"Take the path there, and you'll fall on the tree. There you take the right, and there will be old Palmer's cabin. The guy put red all over his plate, you can't miss it! Do you have any questions, little man?"},"Qu'est-ce qu'il me veut encore ?":{"EN":"What does he want from me now?"},"Qu'est-ce que c'est que tout ça fait dans un salon de massage ?":{"EN":"What's all this doing in a massage parlor?"},"Regarder la brochure du salon de massage":{"EN":"Look at the brochure"},"Rockstar Girl":{"EN":"Rockstar Girl"},"S'accorder avec Palmer":{"EN":"Agreement with Palmer"},"Select your language.":{"EN":"Select your language."},"Sortir ? Je ne sors pas avec lui... C-c'était mon dealer à la base. Je lui achetais de la beuh de temps en temps avant d'aller en soirée... Puis un jour il m'a donné quelque chose de plus fort. Beaucoup plus fort. Il me l'offrait gratuitement. Je pensais qu'il faisait ça parce qu'il m'aimait bien... J'ai été tellement naïve...":{"EN":"Dating? I'm not dating him... T-That was my dealer. I used to buy him weed from time to time before I went to the parties... Then one day he offered me something stronger. Much harder. He offered it to me for free. I thought he was doing this because he liked me... I was so naive..."},"Sortir du salon de massage":{"EN":"Get out of the massage parlour"},"Ton amie va être jalouse !":{"EN":"Your friend will be jealous!"},"Tout ce que nous faisons sont pour nos clients monsieur $player.identity.lastname.":{"EN":"All we do is for our customers, Mr. $player.identity.lastname."},"Tu acquiesces.":{"EN":"You agree."},"Tu continues de marcher dans les ruelles étroites. Quelques mètres plus loin tu aperçois un petit vieux tout fin qui passe par là. Il est affreusement maigre, avec la peau sur les os et une mine qui fait froid dans le dos. Il déambule d'un pas lent et débraillé, donnant l'impression de pouvoir s'effondrer au sol à tout moment. Tu retentes ta chance.":{"EN":"You keep walking in the narrow streets. A few meters further on you see a thin old man passing by. He's awfully skinny, with skin on his bones and a scary look. He walks slowly and sloppily, giving the impression that he can collapse to the ground at any time.  You're taking your chance again."},"Tu dis:":{"EN":"You say:"},"Tu donnes l'argent à contre-coeur.":{"EN":"You give the money reluctantly."},"Tu entres dans les toilettes. $nameb est en train de fumer un joint. Tu t'approches.":{"EN":"You go into the bathroom. $nameb is smoking a joint. You come closer."},"Tu es surpris. Tu regardes mieux, et elle tient effectivement dans ses fines main une pochette avec des feuilles qui dépassent. Elle y a collé les stickers de ses groupes de rock préférés, et en fine lettres noires, tu peux voir marqué: le postimpressionnisme de la fin du 19ème. Une artiste !":{"EN":"You're surprised. You look better, and she actually holds in her thin hands a clutch bag with protruding sheets. She glued the stickers of her favorite rock bands, and in thin black letters, you can see marked: the postimpressionism of the end of the 19th century. An artist!"},"Tu jettes un coup d'oeil aux photos. Tu peux y voir des jeunes filles dessus, la plupart asiatiques. Certaines sont attachées, d'autres sont simplement allongées sur un lit, les yeux fermés, avec un plusieurs hommes nus qui portent des masques.":{"EN":"You take a look at the pictures. You can see young girls on it, most of them Asian. Some are tied up, others are simply lying on a bed, with their eyes closed, and a group of naked men wearing masks."},"Tu lui retournes son sourire.":{"EN":"You give him his smile back."},"Tu lui tends les 50$. Il les prend et les enfouit sans attendre dans son manteau. Il t'indique ensuite une direction.":{"EN":"You give him the $50. He takes them and buries them without waiting in his coat. It then shows you a direction."},"Tu m'as bien niqué !":{"EN":"You tried to fuck me up!"},"Tu ouvres la cabine. $nameclara est là, accroupie sur la cuvette des toilettes, la culotte en bas des genoux. Elle pleure.":{"EN":"You open the cabin. $nameclara is there, squatting on the toilet bowl, panties down at the knees. She's crying."},"Tu penses:":{"EN":"You think:"},"Tu remercies l'inconnu et tu continue ton chemin.":{"EN":"You thank the stranger and continue on your way."},"Tu retournes à l'endroit où tu avais rencontré le clodo. Il est là et vient vers toi.":{"EN":"You go back to the place where you met the tramp. He's here and coming to you."},"Tu sens bon !":{"EN":"You smell good!"},"Tu sens dans ta poche l'épaisse liasse de billets. Tu la tâtes régulièrement pour vérifier qu'elle est toujours là.":{"EN":"You can feel the thick bundle of cash in your pocket. You feel it regularly to make sure you haven't lost it"},"Tu t'approches de $person.kawasaki.name.":{"EN":"You approach $person.kawasaki.name."},"Vous ressortez de la petite salle et retournez à l'accueil.":{"EN":"You leave the small room and go back to the reception."},"Vous vous regardez sans rien dire un instant. Tu l'avais déjà remarqué, mais c'est vraiment une jolie fille. Elle a une belle peau sombre, et d'épais cheveux noirs lisses et lumineux ondulent jusqu'en bat des épaules. Son sourire est rayonnant et ne semble jamais la quitter, s'accordant à merveille avec ses yeux malicieux.":{"EN":"You look at each other without saying anything for a moment. You've already noticed, but she's really a pretty girl. She has beautiful dark skin, and thick, smooth, luminous black hair that undulates to the beat of her shoulders. Her smile is radiant and never seems to leave her, fitting perfectly with her mischievous eyes."},"Vu ta tête t'avais pas l'air au courant. Qu'est-ce qu'il a encore fait ce vieux fou ?":{"EN":"From the look on your face, you didn't seem to know. What did that old fool do now?"},"$namebf ? Je crois que t'as toujours pas bien compris comment ça marche ici, alors laisse moi t'expliquer.":{"EN":"$namebf? I think you still don't understand how it works here, so let me explain."},"$namebf retire sa main, tu lui fais un salut de loin et tu quittes sa chambre.":{"EN":"$namebf take his hand away, you wave him off and leave his bedroom."},"$namebf t'a capté en train de matter sa queue. Il ne dit rien. Tu paniques un peu, et cherche un mot pour briser ce silence gênant.":{"EN":"$namebf caught you staring at his dick. He doesn't say anything. You panic a little, and look for a word to break that awkward silence."},"$namebf, lui, est comme toujours fasciné par l'écran. Tes oreilles sont vite bercées par les commentaires de $namebf, qui se font de plus en plus violents à mesure que l'excitation monte.":{"EN":"$namebf is as always fascinated by the screen. Your ears are quickly lulled by $namebf's comments, which become more and more violent as the excitement grows."},"$namegf ! Tu n'y pensais plus... Tu te demandes ce qu'elle penserait de la situation.":{"EN":"$namegf! You weren't thinking about it... You're wondering what she'd think about the situation."},"A la prochaine ! :)":{"EN":"See you next time! :)"},"Ah mais moi non plus, qu'est-ce que tu crois ? Je suis 100% hétéro. C'est normal de faire ça entre bons potes. C'est juste... excitant, je trouve.":{"EN":"Ah, but neither do I, what do you think? I'm 100% straight. It's normal to do this between good buddies. It's just... exciting, I think."},"Ah, non, je ne savais pas.":{"EN":"Ah, no, I didn't know."},"Aller vérifier":{"EN":"Check it"},"Avec un grand soulagement, tu retires ton pantalon et tu enchaînes rapidement avec le caleçon. C'est une sensation étrange de se déshabiller devant un pote mais tu essaies de ne pas y penser. L'important, c'est la grande délivrance que tu ressens quand ta <<playerSexSize>> queue sort enfin de ton caleçon pour se dresser à l'air libre.":{"EN":"With great relief, you take off your pants and quickly follow up with the underpants. It's a strange feeling to undress in front of a guy, but you try not to think about it. What's important is the great relief you feel when your dick finally comes out of your pants and stands up in the open air."},"Bien. Je ne vous retiens pas plus. Passez une bonne journée monsieur $player.identity.lastname.":{"EN":"Good. Good. I won't keep you any longer. Have a nice day, Mr. $player.identity.lastname."},"Bouge toi un peu plus putain ! Reviens me voir quand t'as fini.":{"EN":"Hurry up asshole! Come back to me when you're done."},"Ca te dérange si je me joins à vous ?":{"EN":"Mind if I join you?"},"Ce commentaire sonne un peu étrange... Tu n'as pas l'habitude de complimenter la queue de tes potes, mais ça semble faire son effet et $namebf reprend un peu confiance en lui.":{"EN":"That comment sounds a little weird... You're not used to complimenting your buddies' dicks, but it seems to be having an effect and $namebf is getting a little confident."},"Cette limitation est due à des problèmes techniques. Elle est temporaire et sera levée dès que possible.":{"EN":"This limitation is due to technical issues. It is temporary and will be removed as soon as possible."},"Du coin de l'oeil, tu ne peux pas t'empêcher de distinguer les jambes de $namebf. Elles sont à peine visibles, éclairées seulement par la lumière de l'écran de télévision. Tu n'avais jamais fait attention à ça, mais $namebf a un corps très efféminé, et tu n'es pas vraiment surpris de noter qu'il est imberbe sur toute la longueur de ses jambes.":{"EN":"From the corner of your eye, you can't help but make out $namebf's legs. They're barely visible, lit only by the light from the TV screen. You've never paid attention to this, but $namebf has a very effeminate body, and you're not really surprised to notice that he's hairless along the entire length of his legs."},"Effectivement, sur sa grande télévision, tu peux voir une belle brune très fine se faire taper le cul par un chibre surdimensionné.":{"EN":"Indeed, on his big television, you can see a beautiful, thin brunette getting her butt kicked by an oversized cock."},"Elle essuie ses larmes avant de reprendre. Son maquillage a coulé. Etrangement, ça la rend plus attirante que jamais.":{"EN":"She wipes her tears before she starts again. Her makeup ran out. Strangely, it makes her more attractive than ever."},"Elle reprend. Sa voix est plus hésitante, plus saccadée.":{"EN":"She's resuming. His voice is more hesitant, more jerky."},"Entendre ce cul qui claque te fait immédiatement bander.":{"EN":"Hearing that ass slapping gives you an immediate hard-on."},"Et je t'ai vu parler avec l'aut' vieux con. Tu lui voulais quoi à Palmer ?":{"EN":"I saw you talking to the other old bastard. What were you doing with Palmer?"},"Fu... Tu reprends ton souffle. L'orgasme était intense. Tu mets un peu de temps à reprendre tes esprits.":{"EN":"Fu... You catch your breath. The orgasm was intense. You take a little time to recover."},"Hé toi, t'es pas du coin hein ?":{"EN":"Hey you, you're not from around here, are you?"},"Il a bougé sa main !":{"EN":"He moved his hand!"},"Il fait toujours chaud quand on regarde du porno. :)":{"EN":"It's always hot when we watch porn. :)"},"Il veut que je lui montre ma queue ou quoi ?":{"EN":"Does he want me to show him my dick or what?"},"Installe toi.":{"EN":"Make yourself comfortable."},"J'ai... pas trop envie de jouer aujourd'hui... On peut juste se mettre à l'aise devant la télé.":{"EN":"I... I don't feel like playing today... We can just make ourselves comfortable in front of the TV!"},"Je plaisante. On a tous une queue différente.":{"EN":"I'm kidding. We all have different dicks. That's normal."},"Je suppose qu'il va faire ça à chaque fois.":{"EN":"I guess he's gonna do that every time."},"Je t'attendais ! Viens on va s'installer, tout est déjà prêt.":{"EN":"I've been waiting for you! Let's settle down on the sofa, everything's ready."},"Je... On verra une autre fois.":{"EN":"I, uh... We'll see another time."},"La chaleur de la pièce, les commentaires de $namebf et les petites putes des vidéos se mélangent dans ton esprit. Tu sens ta sève monter, monter encore. Tu sens que tu es en train de venir. Tu fermes les yeux jusqu'au point de rupture...":{"EN":"The warmth of the room, the comments of $namebf and the little whores in the videos mix in your mind. You feel your sap rising, rising and rising again. You feel you're coming. You close your eyes until you reach the breaking point..."},"La montrer fièrement":{"EN":"Show it proudly"},"La nuit tombant, tu décides de rentrer chez toi. Avant de partir, $namebf te demande de ramener le rouleau de papier toilette à côté de ton PC.":{"EN":"As night falls, you decide to go home. Before leaving, $namebf asks you to bring the toilet paper roll next to the computer."},"La quête du vieux Palmer":{"EN":"Old Palmer's quest"},"Le vieillard se jette à tes pieds, fou de joie.":{"EN":"The old man throws himself at your feet, mad with joy."},"Lui demander où est Palmer":{"EN":"Ask him where Palmer is"},"M'y habituer ?":{"EN":"Get used to it?"},"Mais arrête avec ça putain, je t'ai déjà dit que j'aimais pas ce type de porno alors change ! Je vais pas te le dire à chaque fois...":{"EN":"I told you I don't like this kind of porn, so change it! I'm not going to tell you every time..."},"Mais merde, c'est le bus entier qui est plein ! C'est qui tous ces nouveaux connards ?":{"EN":"Damn it, the whole bus is full! Who are all these new assholes?"},"Malgré la pénombre, tu sens $namebf rougir instantanément. Il baisse un peu la tête, comme honteux, et te répond avec une voix à peine audible.":{"EN":"Despite the darkness, you feel $namebf blush instantly. He lowers his head a little, as if ashamed, and answers you with a barely audible voice."},"Mentir":{"EN":"Lie"},"Merci !! Tu me sauves la vie, je détèste rester debout.":{"EN":"Thank you!! You save my life, I hate standing around."},"Mh ?":{"EN":"Mh?"},"Mmmmh... Bonne petite chienne qui se fait traiter comme elle aime. Vas-y aggrippe bien les cheveux de cette garce.":{"EN":"Mmm... Good little bitch who gets treated the way she likes. Go ahead man and grab that bitch's hair."},"Ne rien faire":{"EN":"Do nothing"},"Non attends ! Je ne voulais pas... te mettre en colère.":{"EN":"No wait! I didn't mean to... make you angry."},"Non non, fais comme chez toi.":{"EN":"No no, make yourself at home."},"Oh, pardon, j'ai... pas fait attention. C'était sans faire exprès.":{"EN":"Oh, sorry, I've... wasn't paying attention. I didn't mean to."},"Oh, t'inquiète pas. Vous faîtes des trucs de garçons, je comprends.":{"EN":"Oh, don't worry. You're doing boy stuff, I get it."},"Oh. Je comprends.":{"EN":"Oh. I get it."},"Oh. Tu trouves ?":{"EN":"Oh. You think so?"},"On est pas censé jouer ?":{"EN":"Aren't we supposed to play?"},"Oui, oui, je vais bien... C'est juste... $nameb.":{"EN":"Yes, yes, I'm fine... It's just... $nameb."},"Pas trop envie de parler de $namegf en ce moment... Aller, concentre toi sur le porno, on est pas là pour se reluquer...":{"EN":"I don't feel like talking about $namegf right now... Come on, focus on the porn, we're not here to ogle each other..."},"Passer l'après midi devant le porno":{"EN":"Spend the afternoon in front of porn"},"Peut-être que je devrai...":{"EN":"Maybe I should..."},"Putain il passe sa vie devant du porno...":{"EN":"He spends his fucking life watching porn..."},"Quoi ma queue ?":{"EN":"What about my dick?"},"Regarde cette bonne petite pute blonde... Elle t'excite pas ? Mmmmh elle se fait bien baiser comme une chienne. Vas-y branle bien cette grosse queue noire pendant que tu te fais défoncer.":{"EN":"Look at that good little blonde whore... Doesn't she turn you on? Mmmmh she's getting fucked like a dog. Go ahead little bitch and jerk off that big black cock while you're getting fucked."},"Reprenant son courage, comme s'il venait de se convaincre qu'il avait assez confiance en toi pour s'ouvrir, il découvre sa main et écarte les cuisses pour mieux s'exposer à ton regard...":{"EN":"Getting back his courage, as if he had just convinced himself that he had enough confidence in you to open up, he uncovers his hand and spreads his thighs to better expose himself to your gaze?"},"Rester concentré sur le porno":{"EN":"Stay focused on porn"},"Salut, tu vas bien ?":{"EN":"Hey man, how are you?"},"Si c'est ce que tu veux...":{"EN":"If that's what you want..."},"Si ça te plaît, c'est OK pour moi... Mais c'est pas un peu bizarre de regarder ce genre de porno tous les deux ? Je veux dire... Tu sais... Les couleurs.":{"EN":"If you like it, it's okay... But isn't it a bit weird watching that kind of porn together? Well, I mean... You know... The colors."},"Si...":{"EN":"Yes, I have a hard-on..."},"T'as la thune ?":{"EN":"Got the money?"},"T'as... T'as une jolie queue...":{"EN":"You... You've got a nice cock..."},"T'es v'nu m'prendre c'qui m'reste ?":{"EN":"Did you come to take the little I still got?"},"Trop bon...":{"EN":"So good..."},"Tu as posé la question avec une pointe de colère dans la voix. Il la retire immédiatement, confus.":{"EN":"You asked the question with a touch of anger in your voice. He withdraws it immediately, confused."},"Tu as ruiné Palmer":{"EN":"You ruined Palmer."},"Tu connais pas ?! Ca veut dire Big Black Cock... Tu devrais checker ça sur pornnhub ça devrait t'intéresser :)":{"EN":"Don't you know it?! It means Big Black Cock... You should check it out on pornhub, you might be interested :)"},"Tu es devenu ami avec Palmer":{"EN":"You became friends with Palmer"},"Tu es maintenant habitué au porno que $namebf aime. Au porno interracial. Enfin... Interracial oui, mais tu as remarqué que c'était toujours dans le même sens. Une blanche, avec un grand black.":{"EN":"Now you're used to the porn that $namebf likes. Interracial porn. Well, I mean... Interracial, yes, but you've noticed it's always in the same direction. A white woman with a tall black man."},"Tu es perçu comme un transgenre.":{"EN":"You are perceived as a transgender."},"Tu es perçu comme une femme.":{"EN":"You are perceived as a woman."},"Tu jettes à $namebf un dernier regard avant de partir. La dernière image que tu vois, c'est le porno qui éclaire ta semence qui coule encore le long des doigts de $namebf.":{"EN":"You give $namebf one last look before you go. The last image you see is the porno that lights up your semen still dripping down $namebf's fingers."},"Tu lui serres la main. Alors que tu sens sa main contre la tienne, tu essaies de ne pas penser au fait qu'il vient juste de terminer de se branler...":{"EN":"You shake his hand. While you feel his hand pressed against yours, you try not to think about the fact that he just finished jerking off..."},"Tu n'en peux plus, et, avec de moins en moins de gêne, tu jouis devant le porno, en présence de $namebf.":{"EN":"You can't hold it anymore, and, with less and less embarrassment, you cum.$namebf right next to you."},"Tu peux maintenant aller dans la ville après l'école ! :)":{"EN":"You can now go to the city after school! :)"},"Tu peux voir $namebf se décomposer en direct. Il se met à bégayer.":{"EN":"You can see $namebf decompose live. He starts stuttering."},"Tu prends une voix la plus menaçante possible.":{"EN":"You take the most threatening voice possible."},"Tu préfères ne pas répondre. L'excitation s'évaporant, tu reprends tes esprits et tu as maintenant un sentiment de gêne, voir de honte. Tu te nettoies rapidement, tu te rhabilles, et sans un mot, tu quittes la chambre.":{"EN":"You'd rather not answer. As the excitement evaporates, you come to your senses and you now have a feeling of embarrassment, even shame. You quickly clean yourself up, get dressed, and without a word you leave the room."},"Tu regardes autour de toi pour trouver du PQ, mais il n'y a rien qui puisse te permettre de te soulager... Tu demandes à $namebf.":{"EN":"You look around for toilet paper, but there's nothing that'll do the job... You ask $namebf."},"Tu regardes plus attentivement la vidéo. Tu vois la petite chatte rose et trempée de la fille se faire prendre par un énorme chibre noir.":{"EN":"You watch the video more closely. You see the girl's little pink and wet pussy getting caught by a huge black sex."},"Tu sens maintenant sa main délicate sur tes boules. Le bout de ses doigts effleurent la peau de tes couilles. Ca chatouille un peu, mais tu... tu ne trouves pas ça désagréable, au contraire.":{"EN":"Now you feel his delicate hand on your balls. His fingertips touch the skin of your nuts. It tickles a little, but you... you don't find it unpleasant, on the contrary."},"Tu sursautes de surprise.":{"EN":"You're in for a surprise."},"Tu t'approches.":{"EN":"You come closer."},"Tu te sens plus dominant":{"EN":"You feel more dominant"},"Tu te tournes vers $namebf, surpris. Il a les yeux rivés sur ton jean, avec sur le visage, une expression que tu ne connaissais pas...":{"EN":"You turn to $namebf, surprised. He's got his eyes on your jeans, with an expression on his face you never saw before..."},"Tu te tournes vers $namebf. Il semble plus absorbé que jamais par le porno. Poussé par l'excitation et la curiosité, tu descends machinalement ton regard jusqu'à son entrejambe...":{"EN":"You turn to $namebf. He seems more absorbed in porn than ever before. Driven by excitement and curiosity, you mechanically lower your gaze down to his crotch..."},"Tu vois l'indignation monter dans la voix de $namebf. Une indignation presque excessive.":{"EN":"You see the indignation rising in $namebf's voice. Almost excessive indignation."},"Tu vois son caleçon glisser lentement le long de ses jambes avant de tomber par terre avec un petit bruit de tissu.. $namebf est maintenant à côté de toi, les fesses nues sur le canapé, la queue libre, en train de se caresser doucement devant le porno.":{"EN":"You see his underpants slowly slide down his legs before falling to the ground with a little fabric noise... $namebf is now next to you, naked buttocks on the couch, cock free, gently caressing himself in front of the porn."},"Tu... Tu ne bandes pas ?":{"EN":"You, uh... You don't have a boner?"},"Viens là.":{"EN":"Come here."},"Vous passez le reste de l'après midi à regarder un tas de salope se faire baiser. Tu essaies de rester concentré sur l'écran, mais parfois tu te tournes vers $namebf pour lui parler et, sans le vouloir, tu manques plusieurs fois de t'attarder sur son entrejambe. Lui est calme, visiblement content d'avoir la queue sortie pour se caresser à côté de toi.":{"EN":"You spend the rest of the afternoon watching a bunch of bitches get fucked. You try to stay focused on the screen, but sometimes you turn to $namebf to talk to him and, without meaning to, you almost look down on his crotch. He remains calm, obviously happy to have his dick out to stroke himself next to you."},"débloque toutes les options et tous les fetish.<br>accède aux cloud serveurs ultra rapides pour les images et les vidéos.":{"EN":"unlocks all options and fetishes.<br>Access ultra-fast cloud servers for quicker images and videos."},"$namebf a un petit temps d'étonnement, avant de te faire un grand sourire.":{"EN":"$namebf has a little time for surprise before he gives you a big smile."},"$namebf est fou de joie. T'as l'impression qu'il va se jeter sur toi pour te faire un calin, mais il semble se retenir au dernier moment.":{"EN":"$namebf is overjoyed. You feel like he's going to jump on you to give you a hug, but he seems to be holding back at the last moment."},"$namebf regarde sur le bureau de son PC pour constater qu'il n'y en a plus. Il te répond en t'indiquant un coin de la chambre.":{"EN":"$namebf looks on his computer's desktop to see that there is no more. He answers you by pointing to a corner of the room."},"$namebf se met à se branler un peu plus rapidement. Tu l'entends même gémir tout doucement...":{"EN":"$namebf starts jerking off a little faster. You can even hear him moaning softly..."},"$namebf te fait un clin d'oeil complice et se retourne vers le porno. Il a l'air vraiment excité par la situation.":{"EN":"$namebf winks at you and turns to porn. He seems really excited about the situation."},"$namebf te fait un dernier sourire amical avant de partir.":{"EN":"$namebf gives you one last friendly smile before you go."},"$namegf a un petit sourire en coin.":{"EN":"$namegf has a little smile on her face."},"A ta grande surprise, tu ne vois rien ! Sa queue est entièrement recouverte par sa main qui frotte sa queue.":{"EN":"To your surprise, you can't see anything! His cock is completely covered by his hand rubbing it."},"Alors que l'excitation est à son comble, $namebf vient poser sa deuxième main sur tes couilles pour te les masser tout en te branlant.":{"EN":"While the excitement is at its peak, $namebf comes and puts his second hand on your balls to massage them while he jerks you off."},"Avant que tu n'aies le temps de réfléchir à la réponse, $namebf te pousse dans le canapé et s'installe avec toi.":{"EN":"Before you have time to think about the answer, $namebf pushes you onto the couch and sits down with you."},"Avant que tu n'aies le temps de répondre, $namebf vient s'installer entre vous deux, elle remarque le porno en fond.":{"EN":"Before you have time to answer, $namebf comes in between the two of you, she notices the porn in the background."},"BAM ! Tu exploses dans un râle que tu n'arrives pas à contenir. Tu sens les pulsations de ta <<playerSexSize>> queue en te vidant sur un bout de PQ.":{"EN":"BAM! You explode into a rant you can't contain. You feel the pulse of your <<playerSexSize>> dick as you empty yourself on a piece of toilet paper."},"BBC ? C'est quoi ?":{"EN":"BBC? What's that?"},"Big black cock...":{"EN":"Big black cock..."},"C'est fait. Tu vois maintenant entre tes jambes ta queue dressée.":{"EN":"It's done. Now you can see between your legs your erected dick."},"C'est vrai que le contraste est... particulier.":{"EN":"It's true that the contrast is... peculiar."},"C'est vraiment normal de se matter des pornos comme ça entre potes ?":{"EN":"Is it really okay to watch porn like this with your buddies?"},"Ca me plait aussi...":{"EN":"I like that too..."},"Ca... Ca te dérange si j'enlève mon bas ?":{"EN":"D-do you mind if I take my pants off?"},"Ce mouvement, d'abord imperceptible, s'allonge rapidement pour se tranformer en caresses. Tu sens sa main glisser le long de ta cuisse alors que tu es en train de te branler.":{"EN":"This movement, imperceptible at first, quickly lengthens to become a caress. You feel his hand sliding down your thigh while you are jerking off."},"Cela fait plus de deux heures que tu es compagnie de $namebf, dans sa chambre. Vous faîtes une \"session\" porno comme $namebf dit parfois. Tu es maintenant habitué à sa présence, et tu es parfaitement détendu, enfoncé dans le moelleux de son canapé.":{"EN":"You've been with $namebf in his room for over two hours. You're doing a porn \"session\" like $namebf sometimes says. You are now accustomed to his presence, and you are perfectly relaxed, tucked into the softness of his couch."},"Comme d'habitude, tout est déjà prêt quand tu arrives. Tu t'installes dans le canapé, tu te déshabilles, et tu te détends. Tu laisses le porno faire le reste. Tu laisses ton esprit se faire pénétrer par toutes ces images de filles baisées, par ces sons des culs qui claquent et des gémissements des filles.":{"EN":"As usual, everything's ready when you arrive. You settle down on the couch, get undressed, and relax. Let the porn do the rest. You let your mind get caught up in all the images of girls being fucked, the sounds of the ass slamming and the moaning of the girls."},"Cool de te revoir ! Viens on va s'installer poto !":{"EN":"Good to see you again! Come on over to the couch, buddy!"},"D'un geste hésitant, il prend la télécommande pour changer de vidéo.":{"EN":"With a hesitant movement, he takes the remote control to change the video."},"D-désolé, j'voulais pas crier comme ça. Je... J'aime pas trop qu'on fouille dans les mauvaises affaires.":{"EN":"S-sorry, I didn't mean to yell like that. I just, um... I don't really like people going through the wrong stuff."},"Dans un orgasme d'une rare intensité, tu jouis. Tout ton corps se raidit, et des jets puissants jets de semances viennent couvrir le haut de ton pull, et couvrir la main de $namebf.":{"EN":"In an orgasm of rare intensity, you cum. Your whole body stiffens, and powerful jets of semen come to cover the top of your sweater, and cover $namebf's hands."},"Effectivement, sa queue est toute petite, et à vue d'oeil elle ne dépasse pas les 10 centimètres !":{"EN":"Indeed, its cock is very small, and at a glance it does not exceed 4 inches!"},"En rouvrant les yeux, tu vois $namebf qui te regarde, sa petite queue toujours entre ses doigts.":{"EN":"When you open your eyes, you see $namebf looking at you, his little dick still between his fingers."},"Est-ce que j'ai vraiment envie de regarder ça en groupe ?":{"EN":"Do I really want to watch this in group?"},"Et rapidement, tu sens sa main venir entourer et serrer la base de ta queue. Il est toujours aussi doux. Il remonte enfin sa main, de la base jusqu'au sommet.":{"EN":"Quickly, you feel his hand coming around and squeezing the base of your cock. He's still so gentle. He finally brings his hand up from the base to the top."},"Etonné de sa réaction, et te demandant pourquoi il s'est mis dans cet état, tu refermes la première armoire pour ouvrir la seconde. Effectivement, tu trouves une dizaine de rouleaux de PQ entassés. Tu en prends un au hasard et retourne sur le canapé.":{"EN":"Surprised by his reaction, and wondering why he got in this state, you close the first wardrobe to open the second. Indeed, you find a dozen rolls of toilet paper piled up. You take one and go back to the sofa."},"Il m'a regardé jouïr ou quoi ?":{"EN":"Did he watch me cum or what?"},"Il te branle de plus en plus vite. L'excitation devient vraiment très intense, et tu ouvres naturellement en grand les cuisses pour qu'il soit à son aise. Tu te concentres sur le pornos. Sur toutes ces petites putes qui ne demandent qu'à se faire bien baiser.":{"EN":"He's jerking you off faster and faster. The excitement gets really intense, and you naturally open your thighs wide to make him comfortable. You focus on the porn. On all those little bitches who want to get fucked hard."},"Il va aller jusqu'où comme ça ?":{"EN":"How far is he gonna go?"},"Il... Il fait chaud non ?":{"EN":"It's... It's hot?"},"Je t'ai déjà dit de changer":{"EN":"I already told you to change"},"Je... Je bande à fond.":{"EN":"I... I have a hard on."},"Je... Je vais y aller.":{"EN":"I... I'm gonna go."},"Jeter un coup d'oeil à $namebf":{"EN":"Take a look at $namebf."},"Joli clito.":{"EN":"Nice clit."},"L'envie ! C'est le mot pour décrire cette expression nouvelle sur le visage de $namebf.":{"EN":"Envy! That's the word to describe this new expression on $namebf's face."},"L'écran de télévision switch tout de suite, et le grand black est remplacé par un blanc, tout aussi grand.":{"EN":"The TV screen switches right away, and the big black guy is replaced by a white one, just as big."},"La fonction de sauvegarde est disponible dans ta chambre, le soir, quand tu regardes sous ton lit.":{"EN":"The save function is available in your room at night when you look under your bed."},"Le complimenter":{"EN":"Compliment him"},"Le plaisir continue de monter quand $namebf commence à faire des va-et-vients. Très lents au début. Il accélère tranquillement, de plus en plus, pour finir enfin par vraiment branler. Avec beaucoup de talent.":{"EN":"The excitement continues to build as $namebf starts to come and go. Very slow at first. It slowly speeds up, more and more, and finally ends up really jerking off. With a great skill."},"Lui par contre n'a pas l'air de se gêner. Tu le surprends de nouveau les yeux rivés sur ton entrejambe.":{"EN":"He, on the other hand, doesn't seem to mind. You catch him again with his eyes glued to your crotch."},"Lui serrer la main":{"EN":"Shake his hand"},"Maintenant que tu as vu la mienne, tu peux aussi...":{"EN":"Now that you've seen mine, you can also..."},"Matte cette bonne salope noire... Elle t'excite pas ? Mmmmh elle se fait bien baiser comme une chienne. Vas-y remue bien ton gros cul sur cette grosse queue.":{"EN":"Look at that good black bitch... Doesn't she turn you on? Mmmmh she gets fucked like a dog. Go ahead and wiggle your fat ass over that big white cock."},"Me mettre à l'aise ?":{"EN":"Make myself comfortable?"},"Merde ! Il m'a capté !":{"EN":"Shit! He's caught me!"},"Mmmmh... Elle se fait empaler comme une vraie pute. Et matte moi comme il prend son petit cul entre ses mains putain.":{"EN":"Mmm... She gets impaled like a real whore. And look how he's taking her fucking little ass in his hands."},"Oh, oui, oui, ça va bien... C'est juste que... Ta queue...":{"EN":"Oh, yeah, yeah, I'm fine... It's just... Your dick..."},"On... On regarde un porno ? J'en ai plusieurs nouveaux que je veux te montrer !":{"EN":"You... You want to watch porn? I got a couple of new ones I want to show you!"},"Outre la chaleur habituelle dans l'attitude de $namebf, tu remarques aussi qu'il fait particulièrement chaud dans la pièce. Tu ne sais pas si $namebf a oublié d'enlever le chauffage, ou si c'est le soleil qui tape un peu fort sur la toiture, mais la chaleur est intense.":{"EN":"In addition to the usual warmth in $namebf's attitude, you also notice that it is particularly hot in the room. You don't know if $namebf forgot to turn off the heat, or if it's the sun hitting the roof a little hard, but the heat is intense."},"Parfait":{"EN":"Perfect"},"Prenant ton silence pour un refus, $namebf reprend.":{"EN":"Taking your silence as a rejection, $namebf resumes."},"Putain matte moi cette paire de seins, elle se fait bien défoncer cette grosse pute blanche.":{"EN":"Fuck, look at that pair of tits, she's getting fucked good, that white whore."},"Putain oui ! Je me disais bien que tu cachais un bel objet là dessous !":{"EN":"Fucking yes! I thought you had something nice under there!"},"Putain... Elle est magnifique.":{"EN":"What the fuck... She's beautiful."},"Qu'en penserait $namegf ?":{"EN":"What would $namegf think about the situation?"},"Sa main !! La main de $namebf. C'est la main de $namebf que tu sens sur ta cuisse.":{"EN":"His hand!! The hand of $namebf. That's $namebf's hand you feel on your thigh."},"Sa main est fine, et douce. Tu restes une bonne 15ene de minutes comme ça, à te branler alors que sa main glisse tout le long de ta cuisse.":{"EN":"His hand is fine and soft. You spend a good 15 minutes like this, jerking off while his hand slides down your thigh."},"Sa résistance t'étonne. Tu sens ta propre queue à l'étroit dans ton ton pantalon. Mais soudainement, tu sens son regard sur toi.":{"EN":"You're surprised at his resistance. You feel your own cock cramped in your pants. But suddenly you feel his gaze on you."},"Sans attendre, tu vois $namebf retirer son jean. Tu tournes vite ton visage vers l'écran. De nouveau, les belles blondes, brunes ou rousses se faisant baiser envahissent ton esprit.":{"EN":"Right away, you see $namebf taking his jeans off. You quickly turn your face to the screen. Again, beautiful blondes, brunettes or redheads getting fucked invade your mind."},"T'as vraiment une queue d'acteur porno ! $namegf arrive à encaisser ça ?":{"EN":"You really do have a porn actor's dick! Can $namegf handle that?"},"T-t'énerve pas. C'est toi qui décides, on fait comme tu veux...":{"EN":"D-don't get mad. It's up to you, we'll do whatever you want..."},"Ta réponse était plus violente que tu ne le voulais, et tu vois tout de suite $namebf avoir un bref mouvement de recul.":{"EN":"Your response was more violent than you wanted it to be, and you immediately see $namebf have a brief backward movement."},"Te branler avec $namebf":{"EN":"Jerk off with $namebf"},"Te branler à fond":{"EN":"Jerk off faster"},"Toujours sans un mot, tu le sens remonter sa main, la remonter jusqu'à la base de ta <<playerSexSize>> queue... Tu n'as plus aucun doute - si tu en avais encore - sur ses intentions.":{"EN":"Still without a word, you can feel him pull his hand up, pull it up to the base of your <<playerSexSize>> cock... You no longer have any doubt - if you still had any - about his intentions."},"Tout va bien $namebf ?":{"EN":"All is OK $namebf?"},"Tu apprécies de plus en plus ce type de porno. Le contraste entre la peau pâle d'une petite blanche et le sombre de la queue d'un noir donne un style particulier qui ne te laisse pas indifférent.":{"EN":"You're enjoying this kind of porn more and more. The contrast between the pale skin of a small white girl and the dark of a black cock gives a special style that does not leave you indifferent."},"Tu as... du PQ ?":{"EN":"Do you have... toilet paper?"},"Tu comprends rapidement sa remarque. A travers ton jean apparait les formes de ta queue bien dure.":{"EN":"You quickly understand his point. Through your jeans you can see the shape of your hard cock."},"Tu es en train de te caresser, lentement, essayant de suivre le rythme des coups de queues des acteurs et les gémissements des actrices. Soudainement, tu sens une pointe de chaleur juste à côté de ta queue, sur le haut de ta cuisse. Tu baisses les yeux.":{"EN":"You're stroking yourself, slowly, trying to keep up with the actors' cocks and the actresses' moans. Suddenly, you feel a warm spot right next to your dick, on your upper thigh. You look down."},"Tu exploses de rire.":{"EN":"You're laughing out loud."},"Tu fais geste de recule. Il a dit \"non\" presque en criant, comme dans un moment de panique. $namebf reprend, avec un rire nerveux.":{"EN":"You're moving backwards. He said \"no\" almost screaming, as if in a moment of panic. $namebf resumes with a nervous laugh."},"Tu halètes. Tu reprends ton souffle. Le corps encore envahi par ce plaisir qui s'échappe doucement. $namebf ose une question.":{"EN":"You're panting. You catch your breath. The body still invaded by this pleasure that slowly escapes. $namebf dares a question."},"Tu l'entends chuchotter à lui même, presque sans s'en rendre compte.":{"EN":"You hear him whisper to himself, almost without realizing it."},"Tu le laisses faire. Sa main vient prendre ta deuxième couille, et passe d'une à l'autre comme s'il tenait à jouer avec chacune. Il les prend dans sa main, et tu sens même son pouce venir caresser la base de ta queue, effleurant parfois ta propre main pendant que tu te branles.":{"EN":"You let him. His hand takes your second ball and moves from one to the other as if he wanted to play with each one. He takes them in his hand, and you even feel his thumb touching the base of your dick, sometimes touching your own hand while you jerk off."},"Tu les gardes fermés, vraiment mal à l'aise à l'idée de dévoiler ton intimité. Mais évidemment, c'est compliqué de cacher une queue, et elle reste clairement visible.":{"EN":"You keep them closed, really uncomfortable about revealing your intimacy. But obviously, it's hard to hide a dick, and it's still clearly visible."},"Tu ne lui en tiens pas rigueur. Tu as juste envie de te soulager. Tu te concentres devant le porno, et tu finis par rapidement te soulager.":{"EN":"You don't hold it against him. You just want to relieve yourself. You focus on the porn, and you end up relieving yourself pretty quickly."},"Tu ne sais pas pourquoi, mais tu te demandes à cet instant combien de fois $namebf a pu se branler comme ça à la place où tu es assis. Tu trouves cette pensée troublante...":{"EN":"You don't know why, but you're wondering right now how many times $namebf has jerked off like that where you're sitting. You find that thought disturbing..."},"Tu ne sais pas si c'est l'excitation ou la chaleur, mais tu bandes déjà bien. L'ambiance est particulièrement... excitante.":{"EN":"You don't know if it's the excitement or the heat, but you're already hard. The vibe is particularly... exciting."},"Tu peux aller en prendre, il y en a dans l'armoire.":{"EN":"You can go get some, there's some in the wardrobe."},"Tu peux voir sur son grand écran 4K le genre de porno auquel il a l'air habitué. Un grand black qui tamponne une petite blanche.":{"EN":"You can see on his big 4K screen the kind of porn he looks used to. Big black guy banging a little white girl."},"Tu regardes $namebf la main tendue sans bouger.":{"EN":"You're looking at $namebf's outstretched hand..."},"Tu regardes plus attentivement la vidéo. Tu vois la petite chatte rose et trempée de la fille se faire bien écarter.":{"EN":"You watch the video more closely. You see the girl's little pink and soaking wet pussy getting spread hardly."},"Tu sens la main de $namegf se poser sur ta queue, et faire doucement des va-et-vients.":{"EN":"You can feel $namegf's hand landing on your dick, slowly moving back and forth."},"Tu te concentres à ton tour sur le porno. Tu prends ta queue entre tes mains, et tu commences lentement à faire des va-et-vient. L'excitation monte, rapidement. Sur l'écran défilent les petites chattes trempées, les culs bombés et les paires qui se balancent au rythme des coups de queue. A tes oreilles arrivent la douce mélodie des complaintes des filles baisées.":{"EN":"You focus on porn. You take your dick in your hands, and slowly start to move back and forth. The excitement rises, quickly. On the screen you can see wet pussies, rounded asses and boobs swaying to the rhythm of the cock strokes. To your ears comes the sweet lamentations of the fucked girls."},"Tu te détends complètement, t'enfonces encore dans le canapé, et viens mettre tes bras derrière la tête pour mieux profiter de ses caresses. Quitte à le laisser faire, autant en profiter au maximum. $namebf sait comment s'y prendre, et tu n'as pas envie de résister davantage. Tu lâches prise.":{"EN":"You relax completely, you still sink into the couch, and come and put your arms behind your head to better enjoy his caresses. If you let him do it, you might as well enjoy it to the fullest. $namebf knows how to do it, and you don't want to resist any more. You let go."},"Tu te lèves et te diriges vers l'armoire. Tu sens son regard ne pas quitter une seconde ta queue bien tendue alors que tu passes devant lui.":{"EN":"You get up and walk to the closet. You feel his gaze not leaving your cock for a second as you walk past him."},"Tu te mets à l'aise pour mieux apprécier la vue de ce fabuleux gros cul.":{"EN":"You make yourself comfortable so you can better enjoy the view of that fabulous fat ass."},"Tu te reconcentres sur la télévision. Voir les filles des vidéos t'intéresse beaucoup plus que la queue de $namebf. Tu es d'accord pour matter du porno avec lui, mais tu ne vas quand même pas lui matter la teub ! Tu n'as pas envie que la situation aille trop loin.":{"EN":"You're refocusing on television. You're much more interested in seeing the girls in the videos than you are in $namebf's cock. You're ok to watch porn with him, but you're not going to stare at his cock! You don't want the situation to go too far."},"Tu... Tu as aimé ?":{"EN":"You... Did you like it?"},"Tu... Tu continues de te laisser faire. Tu es probablement sous l'influence de l'excitation intense que te procure la situation mais... ses gestes sont si... plaisants. Tout ceci n'est qu'un jeu entre amis.":{"EN":"You... You just keep letting it happen. You're probably under the influence of the intense excitement of the situation but... his actions are so... pleasurable.  This is all just a game between friends, right?"},"Vous continuez à regarder les pornos. Alors qu'une milf à gros seins se faire prendre en levrette sur l'écran, $namebf se lève pour aller chercher le PQ. Quelques minutes plus tard, tu l'entends se lâcher dedans.":{"EN":"You keep watching porn. While a big-breasted milf gets caught doggy-style on the screen, $namebf gets up to fetch the TP. A few minutes later, you can hear him releasing himself in it."},"se souviendra de ce choix":{"EN":"will remember this choice"},"$namebf a de nouveau les yeux rivés sur ta <<playerSexSize>> bite.":{"EN":"$namebf is staring at your <<playerSexSize>> dick again."},"$namebf a déjà tout prévu. Le porno est déjà lancé et les images défilent sur l'écran. Tu t'installes confortablement dans le canapé, et lentement, l'excitation commence à monter":{"EN":"$namebf has already planned everything. The porn is already running and the images are flashing on the screen. You get comfy on the couch, and slowly, the excitement starts to build up."},"$namebf a l'air tout excité à l'idée de passer un nouvel après midi avec toi. Il faut bien l'admettre, tu apprécies aussi beaucoup ces moments passés avec $namebf. Sa présence est amicale, et il semble vraiment heureux de te voir.":{"EN":"$namebf seems excited to spend another afternoon with you. You have to admit, you're really enjoying your time with $namebf too. His presence is friendly, and he seems really happy to see you."},"$namebf a les yeux scotchés sur ta queue libérée. Dans son regard, tu peux presque remarquer... de l'envie ? Par reflexe tu refermes les jambes. $namebf le remarque, et essaie de te rassurer avec une blague. Une blague pas forcément bien choisie.":{"EN":"$namebf has his eyes glued to your liberated dick. In his eyes, you can almost notice... envy? You close your legs in reflex. $namebf notices it, and tries to reassure you with a joke. Not a well-chosen one."},"$namebf a senti ce changement en toi. Il sent aussi que ta queue est particulièrement dure. Tu retires ta propre main, par peur de rencontrer la sienne, laissant ta queue à son entière disposition.":{"EN":"$namebf felt that change in you. He also feels that your dick is particularly hard. You remove your own hand, for fear of meeting his, leaving your cock at his disposal."},"$namebf pousse un cri d'exclamation.":{"EN":"$namebf utters an exclamation point."},"$namebf t'a pris par surprise. Tu ne sais pas comment réagir. Tu te crispes un instant, avant de te détendre doucement. Tu préfères te concentrer sur l'écran de télévision pour le moment.":{"EN":"$namebf took you by surprise. You don't know how to react. You tense up for a moment, then slowly relax. You'd rather concentrate on the TV screen right now."},"$namebf te fait un sourire en te serrant la main, avant que tu ne quittes sa chambre.":{"EN":"$namebf gives you a smile when you shake hands before you leave his room."},"$namebf te tend la main pour te dire au revoir.":{"EN":"He's reaching out to shake your hand."},"$namegf ! Mais qu'est-ce que tu fais ?":{"EN":"$namegf! What the hell are you doing?"},"$namegf doit en être contente !":{"EN":"$namegf must be glad!"},"Beaucoup mieux je te remercie...":{"EN":"Much better thank you..."},"Bon, je dois y aller gros, je veux pas être en retard pour la bouffe.":{"EN":"Well, I gotta go, I don't want to be late for dinner."},"Bon... Je ne sais pas comment j'en suis arrivé là, mais j'y suis... C'est étrange à dire, mais je peux dire qu'officiellement... $namebf est mon pote de branle.":{"EN":"Well... I don't know how I got here, but here I am... It's a strange thing to say, I can say that officially... $namebf is my jerk-off buddy."},"C'est mieux comme ça ?":{"EN":"Is that better?"},"C'est un peu étrange de recevoir un compliment sur sa queue, surtout de la part d'un pote. En tout cas, $namebf a l'air enjoué !":{"EN":"It's a little strange to get a compliment on your dick, especially from a buddy. Anyway, $namebf looks cheerful!"},"C'est... C'était cool. Reviens quand tu veux. :)":{"EN":"It's, uh... That was cool. Come back anytime. :)"},"C-ce porno te plait ?":{"EN":"D-do you like this porn?"},"Ce n'est pas l'envie qui te manque, mais tu ne te sens pas encore tout à fait à l'aise avec cette idée.":{"EN":"You don't miss the desire, but you still don't feel completely comfortable with the idea."},"Cette paire de seins... Magnifiques. Elle se fait bien culbuter cette pute.":{"EN":"That pair of breasts... Wonderful. She gets fucked good, that whore."},"Comme tu veux $namemc, je respecte tes choix.":{"EN":"As you want $namemc, I respect your choices."},"Comment il disait déjà ? Les grosses queues noires ?":{"EN":"What did he say? Big black cock?"},"E-enlève ton jean si tu veux, tu seras plus à l'aise...":{"EN":"T-Take off your jeans if you want, you'll be more comfortable..."},"Elle encaisse bien la salope. Regarde moi comme elle tend bien son cul pour mieux se faire prendre par cette grosse bite de noir.":{"EN":"That bitch takes it well. Look how hard she's bending her ass over to get that big black dick to take her."},"Elle est trop mignonne !":{"EN":"It's so cute!"},"Elle plait à $namegf ?":{"EN":"Does $namegf like it?"},"En rentrant dans la chambre, tu entends tout de suite les gémissements habituels du porno qui tourne en fond. Les lumières sont éteintes, et la pièce n'est éclairée que par les pixels de l'écran qui  donnent une ambiance tamisée.":{"EN":"As you enter the room, you immediately hear the usual moaning of porn running in the background. The lights are off, and the room is only lit by the pixels on the screen, which gives a subdued atmosphere."},"Gêné, tu gardes les jambes fermées":{"EN":"Keep your legs closed"},"Hein ??? Je.. C'est vrai que... Mais..":{"EN":"Huh??? I, uh... It's just... But, I..."},"Heu... Merci.":{"EN":"Hu... Thank you."},"Heu... Theo ? Tu fais quoi avec ta main là ?":{"EN":"Um... Theo? What are you doing with your hand?"},"Il a maintenant pris la base de ta queue avec sa main. Tu le laisses faire, non plus à cause de la surprise, mais par envie: la sensation de ses doigts sur ta queue est... excitante.":{"EN":"He's now taken the base of your dick with his hand. You let him do it, not because of surprise, but because you want to: the feeling of his fingers on your dick is... exciting."},"Il a raison... Et je ne vois pas pourquoi je devrais avoir honte de ma queue !":{"EN":"He's right... And I don't see why I should be ashamed of my dick!"},"Il abuse clairement. Tu lui as déjà dit que tu n'étais pas gay. Tu préfères prendre tes affaires, et t'en aller.":{"EN":"He's clearly abusing it. You already told him you're not gay. You'd rather just get your stuff and go."},"Il continue.":{"EN":"He continues."},"Il faut dire que c'est difficile de ne pas être attiré par ça. Ta <<playerSexSize>> queue bien dure forme une bosse plutôt voyante sous ton jean.":{"EN":"It's hard not to be attracted to that. Your hard cock forms a <<playerSexSize>> rather conspicuous bump under your jeans."},"Il l'a mis directement sur l'écran de télévision ?!":{"EN":"He put it right on the TV screen?!"},"Il lève les yeux vers toi, un peu confus.":{"EN":"He looks up at you, a little confused."},"Il ne bande pas ?!":{"EN":"He's not hard?!"},"Il ne perd pas de temps...":{"EN":"He wastes no time..."},"Il vient de la poser, entre deux commentaires. Tu le regardes. Il fait comme si de rien n'était, continuant de branler sa petite queue, sa main posée sur ta cuisse.":{"EN":"He just asked it, between two comments. You're looking at him. He acts as if nothing had happened, continuing to wank his little cock, his second hand on your thigh."},"Jamais j'aurais pensé que tu cachais une... queue... comme ça ! Je pensais que t'avais quelque chose plutôt du genre de... la mienne, tu vois ?":{"EN":"I never thought you'd hide a... cock... like that! I thought you had something more like... mine, you see?"},"Je ne mange pas de ce pain là":{"EN":"I'm not about that life"},"Je ne suis pas gay...":{"EN":"I'm not gay..."},"Je trouve ça... différent. :) Tu verras, tu vas t'y habituer.":{"EN":"I think it's... different. :) You'll see, you'll get used to it."},"Je... Désolé, je pensais que...":{"EN":"I, uh... I'm sorry, I thought that..."},"Le compliment te flatte.":{"EN":"The compliment flatters you."},"Lui dire de retirer sa main":{"EN":"Tell him to take his hand away"},"Lui mettre un vent":{"EN":"Blank him"},"Mais ce qui est certain, c'est qu'il bande. Non seulement il bande, mais il a l'air de bander très dur. Malgré sa taille modeste, sa queue est fièrement dressée et bien droite. Il est clairement très excité. Et tes yeux posés sur sa queue semble étrangement accroitre son excitation...":{"EN":"But one thing's for sure, he's got a hard-on. Not only is he hard, but he looks like he's got a hard on. Despite his modest size, his dick is proudly erect and straight. He's clearly very excited. And your eyes resting on his penis seems to strangely increase his excitement..."},"Malgré les apprences, tu sens une certaine gêne chez $namebf. Tu mesures la confiance qu'il t'accorde et l'effort qu'il a du faire pour s'ouvrir à toi de cette façon... Tu peux voir dans ses yeux qu'il attend avec un peu d'angoisse une réaction de ta part...":{"EN":"Despite what you've learned, you feel that $namebf is a little embarrassed. You measure the trust he has in you and the effort he must have made to open up to you in this way...  You can see in his eyes that he waits with some anxiety for a reaction from you..."},"Matter un porno avec un pote dans sa chambre ? Ca serait vraiment étrange, non ? Mais en même temps...":{"EN":"Watching porn with a buddy in his room? That would be really weird, wouldn't it? But at the same time..."},"Mmmmh, j'adore ça, entendre ces petites putes blanches couiner. Elles aiment ça se faire baiser... se faire baiser par de bonnes grosses queues de black...":{"EN":"Mmm, I love it, hearing those little white whores squeak. They love it when they get fucked... when they get fucked by good big black cocks..."},"Mmmmh, putain j'adore. Elle vient empaler son petit cul de blanche sur une bonne BBC...":{"EN":"Mmm, I fucking love it. She's come to impale her white ass on a good BBC..."},"Mmmmh. C'est bon, hein ? De regarder ces petites putes se faire baiser.":{"EN":"Mm-hmm. It's good, huh? Watching those little bitches get fucked."},"Non !":{"EN":"No!"},"Non pas à poils, juste qu'on se mette un peu plus à l'aise... T'en as pas envie ?":{"EN":"Not naked, just to make us a little more comfortable... Don't you want to?"},"Non, je... je sais qu'elle est un peu petite.":{"EN":"No, I... I know it's a little short."},"Non, pas du tout.":{"EN":"No, not at all."},"Oh !":{"EN":"Oh!"},"Oh my...":{"EN":"Oh my..."},"Oh putain, ca libère... J'aurais du le faire depuis longtemps.":{"EN":"Goddamn, what a liberation... I should've done that a long time ago."},"Oh. C'est donc ce genre de porno que tu aimes regarder ?":{"EN":"Oh. So is this the kind of porn you like to watch?"},"On partage quoi en commun ?":{"EN":"What do we have in common?"},"Petite est un euphémisme. Surtout si on la compare aux queues démesurées des vidéos que vous regardez. Tu préfères le rassurer.":{"EN":"Small is an understatement. Especially compared to the oversized cocks in the videos you watch. You'd rather reassure him."},"Pourquoi il insiste tellement pour voir ma queue ?":{"EN":"Why is he so insistent on seeing my dick?"},"Pourquoi tu crois que j'ai sorti ma queue ?":{"EN":"Why do you think I pulled my dick out?"},"Putain matte ce gros cul, il est magnifique. Elle sait comment le faire rebondir cette grosse pute.":{"EN":"Holy shit, look at that fat ass, looks so gorgeous. She knows how to bounce it, that fat bitch."},"Putain oui ! C'est vraiment génial !! Elle est... tu sais... Un peu... comme la mienne. Je trouve ça vraiment génial qu'on génial qu'on ait sa en commun ! On est un peu frère de queue... xD":{"EN":"Fucking yes! That's fucking awesome ! She's... you know... Kind of... like mine. I think it's really great that we have that in common ! We're a bit of a dick brother... xD"},"Quoi ?":{"EN":"What?"},"Rapidement, tu sens ton excitation monter. Tu as maintenant pris l'habitude de regarder du porno avec $namebf, et tu profites de plus en plus de se présence et de ses commentaires.":{"EN":"You feel your excitement rising quickly. You are now used to watching porn with $namebf, and you enjoy more and more his presence and comments."},"Reprendre ton souffle":{"EN":"Catch your breath"},"Retourner te branler":{"EN":"Back to jerking off"},"Sa dernière phrase a été dite avec beaucoup (trop) d'enthousiasme. Il a clairement envie de partager sa passion avec toi.":{"EN":"His last sentence was said with much (too much) enthusiasm. He clearly wants to share his passion with you."},"Sa queue est minuscule !":{"EN":"His dick is tiny!"},"Sans faire exprès ?":{"EN":"Unintentionally?"},"T'as raison. Et heu... Te sens pas gêné si tu veux... Tu sais... Te branler.":{"EN":"You're right. And, uh... Feel free if you want to... You know, um... Jerk off."},"T'as... T'as l'air d'aimer ce que tu vois...":{"EN":"You... You seem to like what you see..."},"T'inquiète pas $namemc, je vais pas te la manger lol. Tu le sais,  que t'as pas besoin d'être timide avec moi...":{"EN":"Don't worry, I'm not gonna eat it, lol. You know, you don't have to be shy with me..."},"T-tu trouves vraiment ? Je la trouve un peu petite...":{"EN":"Y-you really think so? I think it's a little small..."},"Te faire du bien":{"EN":"Make you feel good"},"Tu comprends rapidement sa remarque. A travers ton jean apparait clairement les formes de ta <<playerSexSize>> queue bien dure. On l'imagine aisément à l'étroit, et $namebf semble impressionné...":{"EN":"You quickly understand his point. Through your jeans you can clearly see the shape of your <<playerSexSize>> hard cock. It's easy to imagine her cramped, and $namebf seems impressed..."},"Tu devrais... tu sais... te mettre à l'aise aussi.":{"EN":"You should... you know... make yourself comfortable too."},"Tu es dans la chambre avec $namebf, complètement nu sur le canapé. Vous mattez un porno en vous caressant.":{"EN":"You're in the room with $namebf, completely naked on the sofa. You're watching porn while you're touching yourself."},"Tu sais, j'ai... j'ai une copine. Je ne suis pas gay.":{"EN":"You know, I... I have a girlfriend. I'm not gay."},"Tu sais, tout ce qui est petit est mignon. :)":{"EN":"You know, anything small is cute. :)"},"Tu t'installes devant le téléviseur. Rapidement, $namebf enlève de nouveau son jean, son caleçon et glisse une main entre ses cuisses.":{"EN":"You sit in front of the TV. Quickly, $namebf takes off his jeans and boxers again and slips a hand between his thighs."},"Tu te crispes de nouveau en sentant sa main descendre tout doucement vers ton entrejambe. A chacunes de ses caresses, tu sens sa main se rapprocher de ta queue. Elle continue de s'enfoncer, tranquillement, jusqu'à tes couilles...":{"EN":"You tense up again as you feel his hand slowly descend towards your crotch. Each time he caresses you, you feel his hand move closer to your cock. It continues to go down, quietly, to your balls..."},"Tu te demandes si il est aussi imberbe sur le reste du corps quand, soudainement, il fait un autre mouvement...":{"EN":"You wonder if he's also hairless on the rest of his body when suddenly he makes another move..."},"Tu te laisses malgré tout aller, et tu n'hésites pas à frotter ton chibre à travers le jean. Ca fait du bien...":{"EN":"You still let yourself go, and you don't hesitate to rub your balls through your jeans. It feels good..."},"Tu trouves ?":{"EN":"You think so?"},"Tu veux qu'on se mette à poils ?":{"EN":"You want us to get naked?"},"Tu vois ses yeux glisser à son tour vers ton entrejambe. $namebf a de nouveau les yeux rivés sur ta <<playerSexSize>> bite.":{"EN":"You see his eyes sliding back to your crotch. $namebf has his eyes on your <<playerSexSize>> dick again."},"Une amitié qui dérape":{"EN":"A friendship that slips"},"Wo...":{"EN":"Wo..."},"Wow ! Elle est magnifique !":{"EN":"Wow! Your cock is gorgeous!"},"relation homo-érotique avec":{"EN":"homoerotic relationship with"},"$namebf sourit en répondant.":{"EN":"$namebf smiles when answering."},"$namesm est ta $relationsm. Elle passe sa vie entre son travail de RH dans une grande société bien installée et l'entretien de son foyer qu'elle prend très à coeur. Elle est dépressive depuis que son ex-mari l'a lâchement abandonné il y a plus de 6 ans. Tu l'entends parfois pleurer quand elle est seule le soir, dans sa chambre.":{"EN":"$namesm is your $relationsm. She spends her life between her HR work in a large, well-established company and the maintenance of her home, which she takes very seriously. She has been depressed since her ex-husband abandoned her cowardly more than 6 years ago. You sometimes hear her crying when she is alone in her room, at night."},"$namess, malheureusement, est ta $relationss. Elle vit sous le même toit que toi. Son occupation favorite ? Faire semblant de suivre des études à l'université pour devenir une 'grande sociologue'. Ca te fait beaucoup rire. En fait, elle passe son temps dans sa chambre à fumer de la beuh, à écouter du rap, à zoner sur des sites de rencontres, à lire des magazines féminins, et à t'insulter...":{"EN":"$namess, unfortunately, is your $relationss. She lives under the same roof as you. Her favorite occupation? Pretending to study in college to become a 'great sociologist'. That makes you laugh a lot. In fact, she spends all her time in her room smoking weed, listening to rap music, surfing dating sites, reading women's magazines, and insulting you..."},"$person.clara.name est une fille que j'ai rencontré dans les toilettes de l'université... Elle y traine avec $person.b.name qui est son petit ami, son mac ou son dealer, ou les trois à la fois.":{},"... Creepy.":{"EN":"... Creepy."},"<<= _person>>":{"EN":"<<= _person>>"},"Aller chercher le PQ":{"EN":"Fetch the toilet paper"},"Annuler les modifications":{"EN":"Cancel changes"},"Au point où on en est...":{"EN":"At this point..."},"Bienvenue le panneau de contrôle de Blacked & Whited. Ici, vous pouvez monitorer et jouer avec les différents paramètres du jeu. Ce panneau sera enrichi au fil du développement du jeu. :)":{"EN":"Welcome to the Blacked & Whited control panel. Here you can monitor and play with the different game settings. This panel will be enriched as the game develops. :)"},"C'EST OCCUPÉ !":{"EN":"I'M IN!"},"C'est bien pour ça que je voulais rentrer idiote... Il va falloir que je trouve une solution si je veux rentrer là dedans.":{"EN":"That's why I wanted to get in, dumb bitch... I'm gonna have to figure this out if I'm gonna get in there."},"C'est... C'est la tienne qui a l'air mignonne.":{"EN":"It... It's yours that looks 'cute'."},"CASSE TOI !":{"EN":"GET OUT!"},"Comme tu veux. Moi je vais me mettre à l'aise. Tu regardes pas hein ?":{"EN":"As you wish. I'll make myself comfortable. You're not looking, Ok?"},"Elle est jolie. :)":{"EN":"It's a pretty one. :)"},"Encore une autre pute blanche qui s'offre comme ça... Regarde son expression du visage, elle est prête à souffrir pour se prendre une queue de black.":{"EN":"Yet another white whore who offers herself up like this... Look at the look on her face, she's ready to suffer for a black cock."},"Fermée. La porte est bloquée. $namess a du verrouiller le loquet de l'intérieur. Tu l'entends crier derrière la porte.":{"EN":"Closed. Door's jammed. $namess must have locked the latch from the inside. You can hear her screaming behind the door."},"Fu...":{"EN":"Fu..."},"Heu... Tu viens de te branler poto...":{"EN":"Um... You just jerked off, mate..."},"If you are a gold or diamond member, please check that you are correctly logged on the B&W website @ www.blackedandwhited.com":{"EN":"If you are a gold or diamond member, please check that you are correctly logged on the B&W website @ www.blackedandwhited.com"},"Il fait toujours comme si rien ne se passait, se permettant même un petit commentaire.":{"EN":"He always acts as if nothing's happening, even allowing himself a little comment."},"Il n'a pas tort sur ce point: cette situation t'excite. Et ce n'est pas ta queue qui dira le contraire. Tu la sens bien serrée dans ton caleçon, et tu n'as envie que d'une chose, c'est la sortir pour te soulager. Mais la proposition te gêne un peu, tu n'as jamais montré ta queue à personne, en dehors peut-être de $namegf, et de $namess, par erreur.":{"EN":"He's not wrong about that: this situation excites you. And it's not your dick that's gonna say otherwise. You feel it tight in your pants, and all you want to do is take it out to relieve yourself. But the proposition bothers you a little bit, you've never shown your dick to anyone, except maybe $namegf, and $namess, by mistake."},"Il retire son caleçon aussi ?!":{"EN":"He takes his underwear off, too?!"},"Il y a deux armoires. Tu en ouvres une au hasard, et commence à chercher. Il y a plusieurs piles de vêtements, quelques jeux vidéos posés en vrac, et un carton fermé. Tu t'apprêtes à vérifier le contenu du carton quand soudain...":{"EN":"There are two wardrobes. You open one at random, and start looking. There's several stacks of clothes, a few video games laid out in bulk, and a closed box. You're about to check the contents of the box when suddenly..."},"Je ne suis pas obligé de tout lui dire...":{"EN":"I don't have to tell her everything..."},"Je... Non, c'est pas ce que tu crois.":{"EN":"I... No, it's not what you think."},"Je... Rien, j'étais... perdu dans mes pensées...":{"EN":"I, uh... Nothing, I was... lost in thought..."},"Le taquiner":{"EN":"Tease him"},"MDR !":{"EN":"LOL!"},"Mais tu remarques vite que quelque chose a changé par rapport à d'habitude...":{"EN":"But you soon notice that something has changed from the usual..."},"Mmmmh, j'adore ça, entendre ces petites putes blanches couiner. Regarder moi ce cul bien rond se faire sauter... se faire sauter par de bonnes grosses queues...":{"EN":"Mmm, I love it, hearing those little white whores squeak. Watching that round ass get fucked... get fucked by big, fat dicks..."},"Non, pas cette armoire, l'autre. Le PQ est dans l'autre armoire.":{"EN":"No, not that wardrobe, the other one. The toilet paper is in the other one."},"Nouveau contact: $namebf":{"EN":"New contact: $namebf"},"Ouch. Elle est violente.":{"EN":"Ouch. She's violent."},"Ouvrir la porte de la salle de bain":{"EN":"Open the bathroom door"},"Panel Control Debug":{"EN":"Panel Control Debug"},"Panel Control Real":{"EN":"Panel Control Real"},"Panneau de contrôle et de triche":{"EN":"Cheat and control panel"},"Peut... Peut-être que je pourrai...":{"EN":"Maybe... Maybe I could..."},"Puis.":{"EN":"And then..."},"Qu'est-ce qu'il veut le putain de loser ?":{"EN":"What does the fucking loser want?"},"Sa main reste sans bouger pendant un petit moment. Puis, voyant que tu ne réagis pas, $namebf tente d'aller plus loin.":{"EN":"His hand stays still for a little while. Then, seeing that you don't react, $namebf tries to go further."},"Sans un mot de plus, elle te claque la porte au nez. Tu restes quelques secondes à quelques centimètres de la porte en te grattant le bras.":{"EN":"Without another word, she slams the door in your face. You scratch your arm for a few seconds a few inches from the door."},"T'as... T'as l'air bien... bien équipé...":{"EN":"You... look... well-equipped..."},"The Blacked & Whited ControlPanel is a gold and diamond members reward.":{"EN":"The Blacked & Whited ControlPanel is a gold and diamond members reward."},"Toc toc toc. Tu entends le lit qui grince, des pas qui approchent puis la porte qui s'ouvre. $namess a les yeux à moitié fermés. Elle a l'air complètement défoncée.":{"EN":"Knock, knock, knock. You hear the bed creaking, footsteps approaching, then the door opening. $namess' eyes are half closed. She looks completely stoned."},"Toquer":{"EN":"Knock on the door"},"Tu aperçois le corps de ta $relationss à travers le trou de la serrure.":{"EN":"You can see the body of your $relationss through the keyhole."},"Tu as rencontré $namebf pour la première fois après t'être pris une raclé à l'école. Tu as tout de suite accroché. Il faut dire que tu as point commun important avec lui: $nameb s'en prend à vous deux. Depuis, tu lui rends régulièrement visite chez lui pour partager des moments entre potes.":{"EN":"You met $namebf for the first time after you got your ass kicked at school. You hooked up immediately. You have one important thing in common with him: $nameb is targeting both of you. Since then, you've been visiting him regularly at his house to share some buddy time."},"Tu finis vite ton petit-déjeuner avant de t'en aller.":{"EN":"You finish your breakfast quickly before you go."},"Tu ouvres en grand les cuisses pour qu'il puisse admirer ton entrejambe. Tu te mets à rire, amusé par son regard et l'étrangeté de la situation.":{"EN":"You open your thighs wide so he can admire your crotch. You start laughing, amused by his look and the strangeness of the situation."},"Tu peux sentir régulièrement le regard de $namebf sur toi. Il te jette des coups d'oeils réguliers, parfois vers ton entrejambe. Il doit encore chercher le relief de ta queue bien dure sous ton jean. Si c'est le cas, il a du rapidement le trouver.":{"EN":"You can regularly feel the look of $namebf on you. He glares at you, sometimes at your crotch. He must still be looking for the relief of your hard cock under your jeans. If so, he must have found it quickly."},"Tu poses ta main sur la poignée, et tu appuies pour ouvrir la porte.":{"EN":"You put your hand on the knob, and you press to open the door."},"Tu regardes furtivement $namebf, il ne regarde plus du tout la télévision. Son regard est tout entier dédié à sa tâche, les yeux dirigés vers ta queue qu'il regarde avec envie, la bouche légèrement entre-ouverte.":{"EN":"You sneak in and look at $namebf, he doesn't watch TV at all. His gaze is entirely dedicated to his task, his eyes directed towards your cock, which he looks at with envy, his mouth slightly ajar."},"Tu regardes quoi là ?!":{"EN":"What are you looking at?!"},"Tu retoques une seconde fois. Tu entends $namess hurler derrière la porte.":{"EN":"You knock a second time. You hear $namess screaming in her bedroom."},"Tu sors de tes rêveries. Ta $relationss te regarde avec un air étrange.":{"EN":"You're coming out of your daydreams. Your $relationss looks at you with a strange look on its face."},"Tu t'en fous un peu au final, qu'il fasse ce qu'il veut si ça lui fait plaisir. Tu t'étires pour te remettre en forme, puis tu te lèves sans un mot pour te rhabiller. Tu salues $namebf avant de t'en aller...":{"EN":"You don't really care in the end, let him do what he wants if it makes him happy. You stretch to get in shape, then you get up without a word to get dressed. You wave to $namebf before you go..."},"Tu te crispes. Ca va un peu loin pour toi. Son geste te met mal à l'aise.":{"EN":"You're tensing up. It's going a little far for you. His gesture makes you uncomfortable."},"Tu te laisses aller à l'excitation, de plus en plus. Et tu te branles de plus en plus vite. $namebf semble t'encourager avec des commentaires salaces.":{"EN":"You're getting more and more excited. And you're jerking off faster and faster. $namebf seems to be encouraging you with salacious comments."},"Tu te laisses à ton tour aller à l'ambiance. L'excitation monte doucement en toi.":{"EN":"You're letting yourself get in the mood. The excitement is slowly building up inside you."},"Tu veux pas me laisser entrer ? On peut passer un peu de temps ensemble si tu veux... Tu sais, comme avant...":{"EN":"Won't you let me in? We can spend some time together if you want to... You know, like we used to when we were younger..."},"Tu vois $namebf devenir rouge comme une tomate.":{"EN":"You see $namebf turn red as a tomato."},"Un pote de branle":{"EN":"A jerk-off buddy"},"Une bonne grosse queue de black ? C'est ça qui l'excite ?":{"EN":"A good big black cock? Is that what turns him on?"},"Valider les modifications":{"EN":"Validate changes"},"bully":{"EN":"bully"},"colocataire":{"EN":"roommate"},"generic":{"EN":"generic"},"hispanique":{"EN":"hispanic"},"meilleur ami":{"EN":"best friend"},"petite amie":{"EN":"girlfriend"},"propriétaire":{"EN":"landlord"},"reload":{"EN":"reload"},"undefined":{"EN":"undefined"}};setup.loadTranslation=function(){if(!setup.isNew()&&!setup.isTools()){return}
var lsLockIdLoad=LoadScreen.lock();let url="https://www.blackedandwhited.com/patreon/getscene/translation_public";console.log("Téléchargement de la traduction");$.getJSON(url,function(res){State.__getUpperName__.sentences=JSON.parse(res.data);console.log("> Traduction téléchargée avec succés");LoadScreen.unlock(lsLockIdLoad)}).done(function(res){console.log(res)}).fail(function(){console.log("> Echec du téléchargement de la traduction");LoadScreen.unlock(lsLockIdLoad)});return};if(Config.macros.maxLoopIterations<2000){Config.macros.maxLoopIterations=2000}
if(setup.ImagePath===undefined){setup.ImagePath=""}
function UInvObject(){if((typeof version=="undefined")||(typeof version.title=="undefined")||(version.title!="SugarCube")||(typeof version.major=="undefined")||(version.major<2)||(typeof version.minor=="undefined")||(version.minor<8)){throw new Error("UInv requires SugarCube v2.8.0 or greater.  Please upgrade to the latest version of the SugarCube v2 story format")}
function deepFreeze(Obj){var value,name,i,propNames=Object.getOwnPropertyNames(Obj);for(i=0;i<propNames.length;i++){name=propNames[i];value=Obj[name];Obj[name]=value&&typeof value==="object"?deepFreeze(value):value}
return Object.freeze(Obj)}
function parseUInvLine(TxtIn){var Prec=[" ","	",",","+","-","/","*","%","=","<",">","!","&","|","?","(","[","{",":"];var Group=["'",'"'];TxtIn=TxtIn.trim();var TxtOut="",Word="",Prv="+",n=0,g=-1;while(n<TxtIn.length){if(g<0){if(TxtIn[n]=="("){if(Prec.includes(Prv)&&(UInv.isFunction(UInv[Word])||UInv.isProperty(UInv,Word))){TxtOut+="UInv."+Word}else{TxtOut+=Word}
Word=""}
if(Prec.includes(TxtIn[n])){TxtOut+=Word+TxtIn[n];Prv=TxtIn[n];Word=""}else if(Group.includes(TxtIn[n])){g=Group.indexOf(TxtIn[n]);TxtOut+=Word;Word=TxtIn[n]}else{Word+=TxtIn[n]}}else{Word+=TxtIn[n];if(TxtIn[n]==Group[g]){Prv=Group[g];g=-1;TxtOut+=Word;Word=""}}
n++}
TxtOut+=Word;return TxtOut}
deepFreeze(this);var UInvDebugTrigger="";$(document).on("keypress",function(ev){UInvDebugTrigger+=ev.key;if(UInvDebugTrigger.length>5){UInvDebugTrigger=UInvDebugTrigger.slice(-5)}
if(UInvDebugTrigger==="xyzzy"){if(UInv.isUndefined(setup.UInvUserAlertsDebug)){setup.UInvUserAlertsBackup=UInv.GetUserAlerts();UInv.SetUserAlerts(UInv.ERROR_SHOW_PASSAGE_NAME+UInv.ERROR_TO_CONSOLE);setup.UInvUserAlertsDebug=UInv.ERROR_SHOW_PASSAGE_NAME+UInv.ERROR_TO_CONSOLE;alert("UInv: Errors will now be shown in the console window.\nHit F12 to open the console window.");console.log("UInv: Error logging enabled.\n$UInvLastErrorMessage = "+State.__getUpperName__.UInvLastErrorMessage)}else{UInv.SetUserAlerts(setup.UInvUserAlertsBackup);delete setup.UInvUserAlertsBackup;console.log("UInv: Error logging reverted to default. ("+setup.UInvUserAlertsDebug+")");alert("UInv: Error logging reverted to default. ("+setup.UInvUserAlertsDebug+")");delete setup.UInvUserAlertsDebug}}});$(document).on(":passagerender",function(ev){if(!UInv.UpdatesAreLocked()){UInv.UpdateDisplay(ev.content)}
var el=$("#uinv-radial-menu").get(0);if(UInv.isUndefined(el)){UInv.InitializeRadialMenu()}else{if(el.dataset.status=="opened"){ev.cancelType="NewPassage";var Ret=UInv.CallEventHandler("radialMenu","Cancel",ev);if(Ret.keepOpen!==!0){el.dataset.status="closed";el.style.transform="scale(0, 0)";el.style.opacity=0}
UInv.UpdateDisplay()}}
$(ev.content).find("textarea").mousemove(function(e){var myPos=$(this).offset();myPos.bottom=$(this).offset().top+$(this).outerHeight();myPos.right=$(this).offset().left+$(this).outerWidth();if(myPos.right>e.pageX&&e.pageX>myPos.right-16){if(myPos.bottom>e.pageY&&e.pageY>myPos.bottom-16){if($(this).css("cursor")!="ns-resize"){$(this).css("cursor","ns-resize")}}else{if($(this).prop("clientHeight")<$(this).prop("scrollHeight")){if($(this).css("cursor")!="default"){$(this).css("cursor","default")}}else{if($(this).css("cursor")!="auto"){$(this).css("cursor","auto")}}}}else{if($(this).css("cursor")!="auto"){$(this).css("cursor","auto")}}})});Macro.add('UInvSet',{skipArgs:!0,tags:null,handler:function(){var Lines=this.payload[0].contents.split("\n"),i,output="";for(i=0;i<Lines.length;i++){Lines[i]=parseUInvLine(Lines[i]);if(Lines[i]!=""){output+="<<set "+Lines[i].trim()+">>"}}
$(this.output).wiki(output)}});Macro.add('UInvTry',{skipArgs:!1,tags:["Fail"],handler:function(){if((this.args.length<1)||(!UInv.isString(this.args[0]))){throw new Error("<<UInvTry>> macro needs a string of code as an argument to test.")}
if(this.payload.length!=2){throw new Error('<<UInvTry>> macro needs to be set up using the <<UInvTry "(code to try here)">>(success code here)<<Fail>>(failure code here)<</UInvTry>> format.')}
var Action="_UInvResult = "+parseUInvLine(this.args[0]);try{var TmpErr=UInv.GetLastError(!0);Scripting.evalTwineScript(Action);if(UInv.GetLastError()===""){if(TmpErr){State.__getUpperName__.UInvLastErrorMessage=TmpErr}
$(this.output).wiki(this.payload[0].contents)}else{$(this.output).wiki(this.payload[1].contents)}}catch(error){State.__getUpperName__.UInvLastErrorMessage="SugarCube Error: "+error.message;$(this.output).wiki(this.payload[1].contents)}}})}
UInvObject.prototype=(function(){function UInvError(ErrStr){var AlertMsg="Error: "+ErrStr,Txt,GUA=UInv.GetUserAlerts();if(GUA){if(GUA&UInv.ERROR_SHOW_PASSAGE_NAME){Txt='Passage="'+passage()+'"';State.__getUpperName__.UInvLastErrorMessage+=" - "+Txt;AlertMsg+="\n"+Txt}
if(UInv.isProperty(State.__getUpperName__,"UInvErrorStringAddendum")){Txt=State.__getUpperName__.UInvErrorStringAddendum;State.__getUpperName__.UInvLastErrorMessage+=" - "+Txt;AlertMsg+="\n\n"+Txt}}
State.__getUpperName__.UInvLastErrorMessage=AlertMsg;if(GUA&UInv.ERROR_SHOW_ALERT){alert(AlertMsg)}
if(GUA&UInv.ERROR_TO_CONSOLE){console.log(AlertMsg)}
if(GUA&UInv.ERROR_THROW_ERROR){throw new Error("UInv "+State.__getUpperName__.UInvLastErrorMessage)}
return GUA}
function FixBagName(BagName){if(UInv.isString(BagName)){if((BagName==="")&&UInv.isString(UInv.GetCurrentBagName())){return UInv.GetCurrentBagName()}
return BagName}else{UInvError('BagName passed to FixBagName is not a string.');return undefined}}
function ValidateItemName(ItemName){if(UInv.isString(ItemName)){var NewItemName=ItemName.toLowerCase();if(!UInv.ReservedBagProperties_LC.includes(NewItemName)){return NewItemName}else{return undefined}}else{return undefined}}
function FixItemName(ItemName){if(UInv.isString(ItemName)){var NewItemName=ItemName.toLowerCase();if(!UInv.ReservedBagProperties_LC.includes(NewItemName)){if((NewItemName==="")&&UInv.isString(UInv.GetCurrentItemName())){NewItemName=ValidateItemName(UInv.GetCurrentItemName());if(NewItemName){return NewItemName}else{delete State.__getUpperName__.UInvCurrentItemName;return""}}
return NewItemName}else{UInvError('FixItemName failed.  Illegal item name "'+ItemName+'" used.');return undefined}}else{UInvError('ItemName passed to FixItemName is not a string.');return undefined}}
function FixContainerReferences(OldBagName,OldItemName,NewBagName,NewItemName){var PocketNames=UInv.GetItemPocketNameArray(NewBagName,NewItemName);if(PocketNames.length>0){var PocketBag,Containers,i,j;for(i=0;i<PocketNames.length;i++){PocketBag=UInv.GetItemPocketBagName(NewBagName,NewItemName,PocketNames[i]);Containers=UInv.GetPocketBagContainerArray(PocketBag);for(j=0;j<Containers.length;j++){if((Containers[j].ContainerBagName==OldBagName)&&(Containers[j].ContainerName==OldItemName)&&(Containers[j].PocketName==PocketNames[i])){State.__getUpperName__.UInvBags[PocketBag].UInvContainer[j].ContainerBagName=NewBagName;State.__getUpperName__.UInvBags[PocketBag].UInvContainer[j].ContainerName=NewItemName}}}}
return!0}
function tryIntParse(Value){if(UInv.isString(Value)){if(UInv.isNumber(parseInt(Value))){Value=parseInt(Value)}}
if(UInv.isNumber(Value)){return Value}
return undefined}
function RemoveItemObjectsDefaultProperties(Obj,DefaultItemType){if(UInv.isGenericObject(Obj)){if(UInv.isString(DefaultItemType)){var DefItem=UInv.GetDefaultItemObject(DefaultItemType);if(DefItem){var DefKeys=Object.keys(DefItem),i;if((DefKeys.length>0)&&(!DefKeys.includes("UInvVariableType"))){for(i=0;i<DefKeys.length;i++){if(!["UInvPocket","UInvQuantity"].includes(DefKeys[i])){if(UInv.isProperty(Obj,DefKeys[i])){if(UInv.valuesAreEqual(Obj[DefKeys[i]],DefItem[DefKeys[i]])){delete Obj[DefKeys[i]]}}}}}}
return!0}else{UInvError('DefaultItemType passed to RemoveItemObjectsDefaultProperties is not a string.');return undefined}}else{UInvError('RemoveItemObjectsDefaultProperties failed. Obj is not a generic object.');return undefined}}
return{constructor:UInvObject,MERGE_USE_ONLY_DESTINATION_PROPERTIES:1,MERGE_USE_ONLY_SOURCE_PROPERTIES:2,MERGE_PREFER_DESTINATION_PROPERTIES:3,MERGE_PREFER_SOURCE_PROPERTIES:4,MERGE_RENAME_SOURCE_ITEMNAME:5,MERGE_FAIL_WITH_ERROR:6,ERROR_NONE:!1,ERROR_SHOW_PASSAGE_NAME:1,ERROR_SHOW_ALERT:2,ERROR_THROW_ERROR:4,ERROR_TO_CONSOLE:8,NumText:["zero","one","two","three","four","five","six","seven","eight","nine"],OrdinalText:["0th","first","second","third","fourth","fifth","sixth","seventh","eighth","ninth"],OrdinalSuffix:["th","st","nd","rd","th","th","th","th","th","th"],DefaultMaxCache:100,DefaultMaxConcurrent:5,ReservedBagProperties:["","-","UInvTouched","UInvProperties","UInvDefaultBagType","UInvContainer"],ReservedBagProperties_LC:["","-","uinvtouched","uinvproperties","uinvdefaultbagtype","uinvcontainer"],ReservedItemProperties:["UInvQuantity","UInvDefaultItemType","UInvVariableType","UInvPocket","UInvCell"],MaximumPocketDepth:3,isArray:function(Value){return Array.isArray(Value)},isBoolean:function(Value){return typeof Value==="boolean"},isDate:function(Value){return Value instanceof Date},isFunction:function(Value){return typeof Value==="function"},isGenericObject:function(Value){return!!Value&&typeof Value==="object"&&Value.constructor===Object},isInteger:function(Value){return Number.isInteger(Value)},isNumber:function(Value){return typeof Value==="number"&&Number.isFinite(Value)},isObject:function(Value){return!!Value&&typeof Value==="object"},isProperty:function(Obj,Prop){if(UInv.isObject(Obj)){return Obj?hasOwnProperty.call(Obj,Prop):!1}
return!1},isRegExp:function(Value){return!!Value&&typeof Value==="object"&&Value.constructor===RegExp},isString:function(Value){return typeof Value==="string"||Value instanceof String},isUndefined:function(Value){return typeof Value==="undefined"},valuesAreEqual:function(Var1,Var2,IgnoreObjectPairs){if(typeof Var1===typeof Var2){switch(typeof Var1){case "string":case "number":case "boolean":return Var1===Var2;case "undefined":return!0;case "object":if(UInv.isArray(Var1)&&UInv.isArray(Var2)){return UInv.arraysAreEqual(Var1,Var2,IgnoreObjectPairs)}else if(UInv.isGenericObject(Var1)&&UInv.isGenericObject(Var2)){return UInv.objectsAreEqual(Var1,Var2,IgnoreObjectPairs)}else if(UInv.isDate(Var1)&&UInv.isDate(Var2)){return(Var1-Var2)==0}else if((Var1===null)&&(Var2===null)){return!0}
return!1;default:return!1}}else{return!1}},arraysAreEqual:function(Array1,Array2,IgnoreObjectPairs){if(UInv.isArray(Array1)&&UInv.isArray(Array2)){var i=0;if(UInv.isUndefined(IgnoreObjectPairs)){IgnoreObjectPairs=[]}
if(IgnoreObjectPairs.length>0){for(i=0;i<IgnoreObjectPairs.length;i++){if(((IgnoreObjectPairs[i][0]===Array1)&&(IgnoreObjectPairs[i][1]===Array2))||((IgnoreObjectPairs[i][0]===Array2)&&(IgnoreObjectPairs[i][1]===Array1))){return!0}}}
IgnoreObjectPairs.push([Array1,Array2]);if(Array1.length!==Array2.length){return!1}
if(Array1.length>0){for(i=0;i<Array1.length;i++){if(!UInv.valuesAreEqual(Array1[i],Array2[i],IgnoreObjectPairs)){return!1}}}
return!0}
return!1},objectsAreEqual:function(Obj1,Obj2,IgnoreObjectPairs){if(UInv.isObject(Obj1)&&UInv.isObject(Obj2)){var i=0;if(UInv.isUndefined(IgnoreObjectPairs)){IgnoreObjectPairs=[]}
if(IgnoreObjectPairs.length>0){for(i=0;i<IgnoreObjectPairs.length;i++){if(((IgnoreObjectPairs[i][0]===Obj1)&&(IgnoreObjectPairs[i][1]===Obj2))||((IgnoreObjectPairs[i][0]===Obj2)&&(IgnoreObjectPairs[i][1]===Obj1))){return!0}}}
IgnoreObjectPairs.push([Obj1,Obj2]);if(UInv.isGenericObject(Obj1)&&UInv.isGenericObject(Obj2)){var Keys1=Object.keys(Obj1).sort(),Keys2=Object.keys(Obj2).sort();if(!UInv.arraysAreEqual(Keys1,Keys2)){return!1}
if(Keys1.length>0){var Key;for(i=0;i<Keys1.length;i++){Key=Keys1[i];if(!UInv.valuesAreEqual(Obj1[Key],Obj2[Key],IgnoreObjectPairs)){return!1}}}
return!0}else{return UInv.valuesAreEqual(Obj1,Obj2,IgnoreObjectPairs)}}
return!1},arrayHasTag:function(Arr,Tag){if(!UInv.isUndefined(Tag)&&UInv.isArray(Arr)){return Arr.count(Tag)}else{return undefined}},arrayHasAllTags:function(Arr,TagArray){if(UInv.isArray(Arr)&&UInv.isArray(TagArray)){if(TagArray.length>0){if(Arr.length>=TagArray.length){var i=0;for(i=0;i<TagArray.length;i++){if(Arr.count(TagArray[i])<TagArray.count(TagArray[i])){return!1}}}else{return!1}
return!0}else{return!1}}else{return undefined}},arrayHasAnyTag:function(Arr,TagArray){if(UInv.isArray(Arr)&&UInv.isArray(TagArray)){if(TagArray.length>0){var i=0;for(i=0;i<TagArray.length;i++){if(Arr.includes(TagArray[i])){return!0}}
return!1}else{return!1}}else{return undefined}},isArrayOfArrays:function(Arr){if(UInv.isArray(Arr)){var i=0;if(Arr.length){for(i=0;i<Arr.length;i++){if(!UInv.isArray(Arr[i])){return!1}}
return!0}
return!1}else{return undefined}},isArrayOfBooleans:function(Arr){if(UInv.isArray(Arr)){var i=0;if(Arr.length){for(i=0;i<Arr.length;i++){if(!UInv.isBoolean(Arr[i])){return!1}}
return!0}
return!1}else{return undefined}},isArrayOfGenericObjects:function(Arr){if(UInv.isArray(Arr)){var i=0;if(Arr.length){for(i=0;i<Arr.length;i++){if(!UInv.isGenericObject(Arr[i])){return!1}}
return!0}
return!1}else{return undefined}},isArrayOfIntegers:function(Arr){if(UInv.isArray(Arr)){var i=0;if(Arr.length){for(i=0;i<Arr.length;i++){if(!UInv.isInteger(Arr[i])){return!1}}
return!0}
return!1}else{return undefined}},isArrayOfNumbers:function(Arr){if(UInv.isArray(Arr)){var i=0;if(Arr.length){for(i=0;i<Arr.length;i++){if(!UInv.isNumber(Arr[i])){return!1}}
return!0}
return!1}else{return undefined}},isArrayOfObjects:function(Arr){if(UInv.isArray(Arr)){var i=0;if(Arr.length){for(i=0;i<Arr.length;i++){if(!UInv.isObject(Arr[i])){return!1}}
return!0}
return!1}else{return undefined}},isArrayOfStrings:function(Arr){if(UInv.isArray(Arr)){var i=0;if(Arr.length){for(i=0;i<Arr.length;i++){if(!UInv.isString(Arr[i])){return!1}}
return!0}
return!1}else{return undefined}},combineGenericObjects:function(Obj1,Obj2){if(UInv.isGenericObject(Obj1)&&UInv.isGenericObject(Obj2)){var Result=clone(Obj1),i,Keys=Object.keys(Obj2);for(i=0;i<Keys.length;i++){if(UInv.isObject(Obj2[Keys[i]])){Result[Keys[i]]=clone(Obj2[Keys[i]])}else{Result[Keys[i]]=Obj2[Keys[i]]}}
return Result}else{return undefined}},getUniqueArray:function(Arr){if(UInv.isArray(Arr)){var hash={};Arr.forEach(function(value){hash[value+'::'+typeof value]=value});return Object.keys(hash).map(function(value){return hash[value]})}else{return undefined}},getArraySortedByOtherArray:function(UnsortedArray,ArrayToSortBy,RemoveDuplicates){function GreaterThan(A,B){if(UInv.isString(A)){A=A.toLowerCase()}
if(UInv.isString(B)){B=B.toLowerCase()}
return A>B}
if(UInv.isArray(UnsortedArray)&&UInv.isArray(ArrayToSortBy)){if(UnsortedArray.length===ArrayToSortBy.length){var UA=clone(UnsortedArray),ATSB=clone(ArrayToSortBy);if(UA.length>1){var i=0,j=0,n=0,temp,length=ATSB.length,done=!0;for(i=0;i<length/2;i++){done=!0;for(j=i;j<length-i-1;j++){if(GreaterThan(ATSB[j],ATSB[j+1])||((ATSB[j]===ATSB[j+1])&&GreaterThan(UA[j],UA[j+1]))){temp=ATSB[j];ATSB[j]=ATSB[j+1];ATSB[j+1]=temp;temp=UA[j];UA[j]=UA[j+1];UA[j+1]=temp;done=!1}
n=length-j-1;if(GreaterThan(ATSB[n-1],ATSB[n])||((ATSB[n-1]===ATSB[n])&&GreaterThan(UA[n-1],UA[n]))){temp=ATSB[n];ATSB[n]=ATSB[n-1];ATSB[n-1]=temp;temp=UA[n];UA[n]=UA[n-1];UA[n-1]=temp;done=!1}}
if(done){break}}
if(RemoveDuplicates){i=0;while(i<ATSB.length-1){if((ATSB[i]===ATSB[i+1])&&(UA[i]===UA[i+1])){ATSB.deleteAt(i);UA.deleteAt(i)}else{++i}}}}
return UA}}
return undefined},getArrayReverseSortedByOtherArray:function(UnsortedArray,ArrayToSortBy,RemoveDuplicates){function GreaterThan(A,B){if(UInv.isString(A)){A=A.toLowerCase()}
if(UInv.isString(B)){B=B.toLowerCase()}
return A>B}
function LessThan(A,B){if(UInv.isString(A)){A=A.toLowerCase()}
if(UInv.isString(B)){B=B.toLowerCase()}
return A<B}
if(UInv.isArray(UnsortedArray)&&UInv.isArray(ArrayToSortBy)){if(UnsortedArray.length===ArrayToSortBy.length){var UA=clone(UnsortedArray),ATSB=clone(ArrayToSortBy);if(UA.length>1){var i=0,j=0,n=0,temp,length=ATSB.length,done=!0;for(i=0;i<length/2;i++){done=!0;for(j=i;j<length-i-1;j++){if(LessThan(ATSB[j],ATSB[j+1])||((ATSB[j]===ATSB[j+1])&&GreaterThan(UA[j],UA[j+1]))){temp=ATSB[j];ATSB[j]=ATSB[j+1];ATSB[j+1]=temp;temp=UA[j];UA[j]=UA[j+1];UA[j+1]=temp;done=!1}
n=length-j-1;if(LessThan(ATSB[n-1],ATSB[n])||((ATSB[n-1]===ATSB[n])&&GreaterThan(UA[n-1],UA[n]))){temp=ATSB[n];ATSB[n]=ATSB[n-1];ATSB[n-1]=temp;temp=UA[n];UA[n]=UA[n-1];UA[n-1]=temp;done=!1}}
if(done){break}}
if(RemoveDuplicates){i=0;while(i<ATSB.length-1){if((ATSB[i]===ATSB[i+1])&&(UA[i]===UA[i+1])){ATSB.deleteAt(i);UA.deleteAt(i)}else{++i}}}}
return UA}}
return undefined},arrayObjectIncludes:function(Arr,ObjProperty,Value){if(UInv.isArray(Arr)){if(Arr.length==0){return!1}
if(UInv.isString(ObjProperty)){if(arguments.length>=3){var i;for(i=0;i<Arr.length;i++){if(UInv.isGenericObject(Arr[i])){if(UInv.isProperty(Arr[i],ObjProperty)){if(Arr[i][ObjProperty]==Value){return!0}}}}}else{return undefined}}else{return undefined}}else{return undefined}
return!1},integerToOrdinal:function(Value,Options){if(UInv.isInteger(Value)){if(UInv.isString(Options)){Options=[Options]}
if(!UInv.isArrayOfStrings(Options)){Options=[]}
var i;for(i=0;i<Options.length;i++){Options[i]=Options[i].toLowerCase()}
if((!Options.includes("noordinaltext"))&&(Value<10)&&(Value>0)){Value=UInv.OrdinalText[Value];if(Options.includes("capitalize")){Value=Value.toUpperFirst()}
return Value}else{Value=Value.toLocaleString();var Ending=Value.substring(Value.length-2),Suffix;if(["11","12","13"].includes(Ending)){Suffix="th"}else{if(Ending.length>1){Ending=Ending.substring(1);Suffix=UInv.OrdinalSuffix[parseInt(Ending)]}}
if(Options.includes("usesuperscript")){Suffix="<sup>"+Suffix+"</sup>"}
return Value+Suffix}}
return Value},numberToAPString:function(Value){function TrimEnd(Val){if(Val.slice(-3)==".00"){Val=Val.slice(0,-3)}else if(Val.slice(-1)=="0"){Val=Val.slice(0,-1)}
return Val}
if(UInv.isNumber(Value)){if(Number.isInteger(Value)&&(Value<10)&&(Value>=0)){return UInv.NumText[Value]}else{if(Value>=Math.pow(10,15)){return TrimEnd((Value/Math.pow(10,15)).toFixed(2))+" quadrillion"}else if(Value>=Math.pow(10,12)){return TrimEnd((Value/Math.pow(10,12)).toFixed(2))+" trillion"}else if(Value>=Math.pow(10,9)){return TrimEnd((Value/Math.pow(10,9)).toFixed(2))+" billion"}else if(Value>=Math.pow(10,6)){return TrimEnd((Value/Math.pow(10,6)).toFixed(2))+" million"}else{Value=(Math.round(Value*100)/100);return Value.toLocaleString()}}}
return Value},getRandomHexString:function(){var r=random(0,255).toString(16),g=random(0,255).toString(16),b=random(0,255).toString(16);if(r.length===1){r="0"+r}
if(g.length===1){g="0"+g}
if(b.length===1){b="0"+b}
return r+g+b},getObjectProperties:function(Obj,Ext){if(Ext===undefined){Ext=""}else{Ext+="."}
var Txt,i;if(UInv.isArray(Obj)){Txt="[ ";for(i=0;i<Obj.length;i++){if(UInv.isObject(Obj[i])){Txt+=UInv.getObjectProperties(Obj[i])}else{if(UInv.isString(Obj[i])){Txt+='"'+Obj[i]+'"'}else{Txt+=Obj[i]}
if(i<Obj.length-1){Txt+=", "}}}
if(Obj.length>0){Txt+=" ]"}else{Txt+="]"}
return Txt}else if(UInv.isObject(Obj)){var Keys=Object.keys(Obj).sort();Txt="{ ";for(i=0;i<Keys.length;i++){if(UInv.isObject(Obj[Keys[i]])){Txt+=Ext+Keys[i]+" : "+UInv.getObjectProperties(Obj[Keys[i]],Ext+Keys[i])}else{if(UInv.isString(Obj[Keys[i]])){Txt+=Ext+Keys[i]+' = "'+Obj[Keys[i]]+'"'}else{Txt+=Ext+Keys[i]+' = '+Obj[Keys[i]]}}
if(i<Keys.length-1){Txt+=", "}}
if(Keys.length>0){Txt+=" }"}else{Txt+="}"}
return Txt}else{return Obj}},docHasCSSElement:function(CSSElement){var rules,i,j;for(i=0;i<document.styleSheets.length;i++){try{rules=document.styleSheets[i].rules}catch(e){rules=undefined}
if(rules===undefined){try{rules=document.styleSheets[i].cssRules;if(rules===undefined){rules=[]}}catch(e){rules=[]}}
for(j=0;j<rules.length;j++){if(rules[j].selectorText!==undefined){if(typeof rules[j].selectorText=="string"){if(rules[j].selectorText==CSSElement){return rules[j].style}}}}}
return!1},initializeImageCache:function(){if(UInv.isUndefined(setup.UInvImageCache)){setup.UInvImageCache={loading:0,complete:0,loaded:0,errors:0,waiting:0,total:0,maxConcurrent:5,maxCache:100,images:[]}}else{if(UInv.isUndefined(setup.UInvImageCache.loading)){setup.UInvImageCache.loading=0}
if(UInv.isUndefined(setup.UInvImageCache.complete)){setup.UInvImageCache.complete=0}
if(UInv.isUndefined(setup.UInvImageCache.loaded)){setup.UInvImageCache.loaded=0}
if(UInv.isUndefined(setup.UInvImageCache.errors)){setup.UInvImageCache.errors=0}
if(UInv.isUndefined(setup.UInvImageCache.waiting)){setup.UInvImageCache.waiting=0}
if(UInv.isUndefined(setup.UInvImageCache.total)){setup.UInvImageCache.total=0}
if(UInv.isUndefined(setup.UInvImageCache.maxConcurrent)){setup.UInvImageCache.maxConcurrent=5}
if(UInv.isUndefined(setup.UInvImageCache.maxCache)){setup.UInvImageCache.maxCache=100}
if(UInv.isUndefined(setup.UInvImageCache.images)){setup.UInvImageCache.images=[]}}},continueLoadingCache:function(){UInv.initializeImageCache();if(setup.UInvImageCache.waiting>0){var Waiting=[],j;for(j=0;j<setup.UInvImageCache.images.length;j++){if(setup.UInvImageCache.images[j].status=="Waiting..."){Waiting.push(j)}}
while(setup.UInvImageCache.loading<setup.UInvImageCache.maxConcurrent){j=Waiting.shift();setup.UInvImageCache.loading++;setup.UInvImageCache.waiting--;setup.UInvImageCache.images[j].tries++;setup.UInvImageCache.images[j].status="Loading...";setup.UInvImageCache.images[j].src=setup.UInvImageCache.images[j].URL}}},flushCachedImages:function(Path,ImageName){UInv.initializeImageCache();if(UInv.isString(Path)){if(UInv.isString(ImageName)){ImageName=[ImageName]}
if(UInv.isArrayOfStrings(ImageName)){if(UInv.isUndefined(setup.UInvImageCache)){return!0}
var i,ndx;for(i=0;i<ImageName.length;i++){ndx=setup.UInvImageCache.map(function(obj){return obj.URL}).indexOf(Path+ImageName[i]);if(ndx>=0){setup.UInvImageCache.total--;$(setup.UInvImageCache.images[ndx]).off();setup.UInvImageCache.images[ndx].IgnoreEvents=!0;if(setup.UInvImageCache.images[ndx].status=="Waiting..."){setup.UInvImageCache.waiting--}else if(setup.UInvImageCache[ndx].status=="Loading..."){setup.UInvImageCache.loading--;setup.UInvImageCache.images[ndx].src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEAAAAALAAAAAABAAEAAAI=;"}else if(setup.UInvImageCache[ndx].status=="Loaded"){setup.UInvImageCache.complete--;setup.UInvImageCache.loaded--}else if(setup.UInvImageCache[ndx].status=="Error"){setup.UInvImageCache.complete--;setup.UInvImageCache.errors--}
setup.UInvImageCache.deleteAt(ndx)}}
UInv.continueLoadingCache();return!0}else{UInvError('ImageName passed to flushCachedImages is not a string or an array of strings.');return undefined}}else{UInvError('Path passed to flushCachedImages is not a string.');return undefined}},flushAllCachedImages:function(MaxConcurrent,MaxCache){UInv.initializeImageCache();if(UInv.isUndefined(MaxCache)){MaxCache=UInv.DefaultMaxCache}
if(UInv.isUndefined(MaxConcurrent)){MaxConcurrent=UInv.DefaultMaxConcurrent}
if(UInv.isString(MaxCache)){MaxCache=parseInt(MaxCache)}
if(UInv.isString(MaxConcurrent)){MaxConcurrent=parseInt(MaxConcurrent)}
if(UInv.isInteger(MaxCache)){if(UInv.isInteger(MaxConcurrent)){if(MaxCache<10){MaxCache=10}
if(MaxConcurrent<3){MaxConcurrent=3}
if(setup.UInvImageCache.images.length>0){var URLs=[],i;for(i=0;i<setup.UInvImageCache.images.length;i++){URLs.push(setup.UInvImageCache.images[i].URL)}
UInv.flushCachedImages("",URLs)}
setup.UInvImageCache={loading:0,complete:0,loaded:0,errors:0,waiting:0,total:0,maxConcurrent:MaxConcurrent,maxCache:MaxCache,images:[]};return!0}else{UInvError('MaxConcurrent passed to flushAllCachedImages is not an integer.');return undefined}}else{UInvError('MaxCache passed to flushAllCachedImages is not an integer.');return undefined}},getCachedImageObject:function(Path,ImageName){UInv.initializeImageCache();if(UInv.isString(Path)){if(UInv.isString(ImageName)){var ndx=setup.UInvImageCache.images.map(function(obj){return obj.URL}).indexOf(Path+ImageName);if(ndx>=0){return setup.UInvImageCache.images[ndx]}else{return null}}else{UInvError('ImageName passed to getCachedImageObject is not a string.');return undefined}}else{UInvError('Path passed to getCachedImageObject is not a string.');return undefined}},cacheImages:function(Path,ImageName,Handler){function Loaded(event){if(!this.IgnoreEvents){this.status="Loaded";setup.UInvImageCache.loading--;setup.UInvImageCache.complete++;setup.UInvImageCache.loaded++;event.URL=this.URL;event.path=this.path;event.filename=this.filename;event.tries=this.tries;event.src=this.src;if(UInv.isProperty(this,"imageGroup")){event.imageGroup=this.imageGroup}
UInv.CallEventHandler("cacheImages","Loaded",this);UInv.continueLoadingCache()}}
function Failure(event){if(!this.IgnoreEvents){this.status="Error";setup.UInvImageCache.loading--;setup.UInvImageCache.complete++;setup.UInvImageCache.errors++;event.URL=this.URL;event.path=this.path;event.filename=this.filename;event.tries=this.tries;event.src=this.src;if(UInv.isProperty(this,"imageGroup")){event.imageGroup=this.imageGroup}
var Ret=UInv.CallEventHandler("cacheImages","Error",this);if(Ret.retryLoad!==!0){var x=setup.UInvImageCache.images.map(function(obj){return obj.URL}).indexOf(this.URL);var img=setup.UInvImageCache.images.deleteAt(x)[0],n=0;while((n<setup.UInvImageCache.images.length)&&(setup.UInvImageCache.images[n].status!="Error")){n++}
setup.UInvImageCache.images.splice(setup.UInvImageCache.errors-1,0,img)}else{setup.UInvImageCache.loading++;setup.UInvImageCache.complete--;setup.UInvImageCache.errors--;this.status="Waiting..."}
UInv.continueLoadingCache()}}
UInv.initializeImageCache();if(UInv.isString(Path)){if(UInv.isString(ImageName)){ImageName=[ImageName]}
if(UInv.isArrayOfStrings(ImageName)){if(UInv.isUndefined(setup.UInvImageCache)){setup.UInvImageCache={loading:0,complete:0,loaded:0,errors:0,waiting:0,total:0,maxConcurrent:UInv.DefaultMaxConcurrent,maxCache:UInv.DefaultMaxCache,images:[]}}
var i=0,j,done=!1,image,ndx,uniqueID="",HandlerIDs;if(UInv.isString(Handler)&&(ImageName.length>0)){uniqueID="iGrp"+(++i);while(!done){HandlerIDs=UInv.GetMatchingEventHandlersArray("cacheImages","Loaded",{imageGroup:uniqueID});if(HandlerIDs.length>0){for(j=0;j<HandlerIDs.length;++j){if(UInv.GetEventHandlerByID("cacheImages","Loaded",HandlerIDs[j]).handler==Handler){done=!0;break}}
if(!done){uniqueID="iGrp"+(++i)}}else{done=!0}}
UInv.AddEventHandler("cacheImages","Loaded",Handler,{imageGroup:uniqueID});UInv.AddEventHandler("cacheImages","Error",Handler,{imageGroup:uniqueID})}
for(i=0;i<ImageName.length;i++){ndx=setup.UInvImageCache.images.map(function(obj){return obj.URL}).indexOf(Path+ImageName[i]);if(ndx>=0){if(["Loaded","Error"].includes(setup.UInvImageCache.images[ndx].status)){image=setup.UInvImageCache.images.deleteAt(ndx)[0];setup.UInvImageCache.images.splice(setup.UInvImageCache.total-setup.UInvImageCache.complete,0,image);if(setup.UInvImageCache.images[ndx].status=="Error"){setup.UInvImageCache.images[ndx].status="Loading...";setup.UInvImageCache.errors--;setup.UInvImageCache.complete--;setup.UInvImageCache.loading++;setup.UInvImageCache.images[ndx].IgnoreEvents=!0;if(uniqueID!==""){setup.UInvImageCache.images[ndx].imageGroup=uniqueID}
setup.UInvImageCache.images[ndx].src="";delete setup.UInvImageCache.images[ndx].IgnoreEvents;setup.UInvImageCache.images[ndx].src=setup.UInvImageCache.URL}}}else{image=new Image();image.path=Path;image.filename=ImageName[i];image.URL=Path+ImageName[i];image.tries=0;if(uniqueID!==""){image.imageGroup=uniqueID}
setup.UInvImageCache.total++;$(image).on("load loadstart onprogress progress loadend",Loaded).on("error abort",Failure);if(setup.UInvImageCache.maxConcurrent>setup.UInvImageCache.loading){setup.UInvImageCache.loading++;image.status="Loading...";image.src=Path+ImageName[i];setup.UInvImageCache.images.push(image)}else{setup.UInvImageCache.waiting++;image.status="Waiting...";setup.UInvImageCache.images.push(image)}}}
if(setup.UInvImageCache.images.length>setup.UInvImageCache.maxCache){var OldURLs=setup.UInvImageCache.images.slice(0,setup.UInvImageCache.images.length-setup.UInvImageCache.maxCache).map(function(obj){return obj.URL});UInv.flushCachedImages("",OldURLs)}
return!0}else{UInvError('ImageName passed to cacheImages is not a string or an array of strings.');return undefined}}else{UInvError('Path passed to cacheImages is not a string.');return undefined}},isOpera:function(){return(!!window.opr&&!!opr.addons)||!!window.opera||navigator.userAgent.indexOf(" OPR/")>=0},isFirefox:function(){return typeof InstallTrigger!=="undefined"},isSafari:function(){return/constructor/i.test(window.HTMLElement)||(function(p){return p.toString()==="[object SafariRemoteNotification]"})(!window.safari||(typeof safari!=="undefined"&&safari.pushNotification))},isIE:function(){return!1||!!document.documentMode},isEdge:function(){return!UInv.isIE()&&!!window.StyleMedia},isChrome:function(){return!!window.chrome&&!!window.chrome.webstore},isBlink:function(){return(UInv.isChrome()||UInv.isOpera())&&!!window.CSS},isAndroid:function(){return Browser.isMobile.Android},isiOS:function(){return Browser.isMobile.iOS},isBlackBerry:function(){return Browser.isMobile.BlackBerry},isMobile:function(){return(UInv.isAndroid()||UInv.isiOS()||UInv.isBlackBerry()||Browser.isMobile.Windows)},isTwine:function(){return window.hasOwnProperty("storyFormat")},GetDefaultBagObject:function(BagType,PropertiesOnly){if(UInv.isString(BagType)){if((BagType==="")||(BagType==="-")){return null}
var BName=BagType.toLowerCase(),BagProperties=UInv.BagData(BName,!0);if(PropertiesOnly){return BagProperties}
var BagItems=UInv.BagData(BName,!1),Bag={},Item={},Key="",i=0;if(UInv.isUndefined(BagProperties)||UInv.isUndefined(BagItems)){return null}
if(Object.keys(BagProperties).length>0){Bag={UInvProperties:BagProperties}}
if(BagItems.length>0){var ItemName;for(i=0;i<BagItems.length;i++){if(UInv.isString(BagItems[i])){ItemName=ValidateItemName(BagItems[i]);if(!UInv.isUndefined(ItemName)){Item=UInv.GetDefaultItemObject(ItemName);if(Item){Bag[ItemName]=Item}else{UInvError('GetDefaultBagObject failed. Unknown item "'+ItemName+'" on bag of type "'+BagType+'".');return undefined}}else{UInvError('GetDefaultBagObject failed. Invalid item name "'+BagItems[i]+'" on bag of type "'+BagType+'".');return undefined}}else if(UInv.isGenericObject(BagItems[i])){Key=Object.keys(BagItems[i])[0];ItemName=ValidateItemName(Key);if(!UInv.isUndefined(ItemName)){Item=UInv.GetDefaultItemObject(ItemName);if(!Item&&!UInv.isGenericObject(BagItems[i][ItemName])){UInvError('GetDefaultBagObject failed. Unknown item type "'+ItemName+'" on bag type "'+BagType+'"..');return undefined}
if(Item&&UInv.isInteger(BagItems[i][ItemName])){if(BagItems[i][ItemName]>1){Item.UInvQuantity=BagItems[i][ItemName]}
Bag[ItemName]=Item}else if(UInv.isGenericObject(BagItems[i][ItemName])){var ItemType=ItemName;if(UInv.isProperty(BagItems[i][ItemName],"UInvDefaultItemType")){ItemType=BagItems[i][ItemName].UInvDefaultItemType}else if(!Item){ItemType="-"}
if(ItemType=="-"){Bag[ItemName]=BagItems[i][ItemName]}else{Bag[ItemName]=UInv.combineGenericObjects(UInv.GetDefaultItemObject(ItemType),BagItems[i][ItemName])}}else{UInvError('GetDefaultBagObject failed. Value of item name "'+Key+'" on bag type "'+BagType+'" must be a "string" or "generic object".');return undefined}}else{UInvError('GetDefaultBagObject failed. Invalid item name "'+Key+'" on bag of type "'+BagType+'".');return undefined}}else{UInvError('GetDefaultBagObject failed. Unexpected type "'+(typeof BagItems[i])+'" for item on bag type "'+BagType+'".  Should be "string" or "generic object".');return undefined}}}
return Bag}else{UInvError('BagType passed to GetDefaultBagObject is not a string.');return undefined}},GetCurrentBagName:function(){if(UInv.isProperty(State.__getUpperName__,"UInvCurrentBagName")){return State.__getUpperName__.UInvCurrentBagName}else{return""}},GetBagsArray:function(){return Object.keys(State.__getUpperName__.UInvBags)},GetBagCount:function(){return UInv.GetBagsArray().length},BagExists:function(BagName){if(UInv.isString(BagName)){BagName=FixBagName(BagName);if(UInv.isProperty(State.__getUpperName__.UInvBags,BagName)){State.__getUpperName__.UInvCurrentBagName=BagName;return!0}else{return!1}}else if(UInv.isArrayOfStrings(BagName)){var i=0;for(i=0;i<BagName.length;i++){if(!UInv.BagExists(BagName[i])){return!1}}
return!0}else{UInvError('Name passed to BagExists is not a string or array of strings.');return undefined}},SetCurrentBagName:function(BagName){if(UInv.isString(BagName)){if(BagName===""){if(UInv.isProperty(State.__getUpperName__,"UInvCurrentBagName")){delete State.__getUpperName__.UInvCurrentBagName}}else{if(!UInv.BagExists(BagName)){UInvError('SetCurrentBagName cannot find bag "'+BagName+'".');return undefined}}
return!0}else{UInvError('Name passed to SetCurrentBagName is not a string.');return undefined}},SetBagUntouched:function(BagName){if(UInv.isString(BagName)){BagName=FixBagName(BagName);if(UInv.BagExists(BagName)){UInv.SetCurrentBagName(BagName);State.__getUpperName__.UInvBags[BagName].UInvTouched=!1;return!0}else{UInvError('SetBagUntouched cannot find bag "'+BagName+'".');return undefined}}else if(UInv.isArrayOfStrings(BagName)){if(UInv.BagExists(BagName)){var i;for(i=0;i<BagName.length;i++){State.__getUpperName__.UInvBags[BagName].UInvTouched=!1}
return!0}else{UInvError('SetBagUntouched failed. Invalid bag name in array.');return undefined}}else{UInvError('BagName passed to SetBagUntouched is not a string or array of strings.');return undefined}},CreateBag:function(BagName){if(UInv.isString(BagName)){if(["","-"].includes(BagName)){UInvError('CreateBag failed. Invalid bag name "'+BagName+'".');return undefined}
if(UInv.BagExists(BagName)){UInvError('CreateBag cannot create bag "'+BagName+'". Bag already exists with that name.');return undefined}else{State.__getUpperName__.UInvBags[BagName]={};if(UInv.GetDefaultBagObject(BagName,!0)){State.__getUpperName__.UInvBags[BagName].UInvDefaultBagType="-"}
UInv.SetBagUntouched(BagName);UInv.SetCurrentBagName(BagName);return!0}}else{UInvError('BagName passed to CreateBag is not a string.');return undefined}},SetBagTouched:function(BagName){if(UInv.isString(BagName)){BagName=FixBagName(BagName);if(UInv.BagExists(BagName)){UInv.SetCurrentBagName(BagName);var ev={};ev.bagName=BagName;ev.lockCount=UInv.GetUpdateLocks();var Ret=UInv.CallEventHandler("bag","Touched",ev);if(Ret.ignoreTouch!==!0){if(UInv.isProperty(State.__getUpperName__.UInvBags[BagName],"UInvTouched")){delete State.__getUpperName__.UInvBags[BagName].UInvTouched}}
if(!UInv.UpdatesAreLocked()){UInv.UpdateDisplay()}
return!0}else{UInvError('SetBagTouched cannot find bag "'+BagName+'".');return undefined}}else if(UInv.isArrayOfStrings(BagName)){if(UInv.BagExists(BagName)){var i;UInv.IncrementUpdateLock();for(i=0;i<BagName.length;i++){UInv.SetBagTouched(BagName[i])}
UInv.DecrementUpdateLock();return!0}else{UInvError('SetBagTouched failed. Invalid bag name in array.');return undefined}}else{UInvError('BagName passed to SetBagTouched is not a string or array of strings.');return undefined}},EmptyBag:function(BagName){if(UInv.isString(BagName)){BagName=FixBagName(BagName);if(UInv.BagExists(BagName)){var Items=UInv.GetItemsArray(BagName);if(Items.length>0){var i=0;UInv.IncrementUpdateLock();for(i=0;i<Items.length;i++){UInv.DeleteItem(BagName,Items[i])}
UInv.SetBagTouched(BagName);UInv.DecrementUpdateLock()}
UInv.SetCurrentBagName(BagName);return!0}else{UInvError('EmptyBag cannot find bag "'+BagName+'".');return undefined}}else{UInvError('Name passed to EmptyBag is not a string.');return undefined}},AddBag:function(BagName,DefaultBagType,StartDepth,CurrentDepth){if(UInv.isString(BagName)){if((BagName!="")&&(BagName!="-")){if(UInv.isUndefined(DefaultBagType)||UInv.isString(DefaultBagType)){if(UInv.BagExists(BagName)){UInvError('AddBag cannot create bag "'+BagName+'". Bag already exists.');return undefined}else{var Bag={},Tmp,TooDeep=!1;if(UInv.isUndefined(StartDepth)){StartDepth=0;CurrentDepth=0}else if(CurrentDepth-StartDepth>=UInv.MaximumPocketDepth){TooDeep=!0}
if(UInv.isUndefined(DefaultBagType)){DefaultBagType=BagName}
Tmp=UInv.GetDefaultBagObject(DefaultBagType,TooDeep);if(!Tmp){UInvError('AddBag failed. Unknown bag type "'+DefaultBagType+'".');return undefined}
if(TooDeep){Bag.UInvProperties=Tmp}else{Bag=Tmp}
if(DefaultBagType!=BagName){Bag.UInvDefaultBagType=DefaultBagType}
if(UInv.isProperty(Bag,"UInvProperties")){if(UInv.isProperty(Bag.UInvProperties,"UInvVariableType")){Bag.UInvDefaultBagType=DefaultBagType}else{delete Bag.UInvProperties}}
State.__getUpperName__.UInvBags[BagName]=Bag;var Items=UInv.GetItemsArray(BagName);UInv.IncrementUpdateLock();if(Items.length>0){var Quantities=UInv.GetItemsAndQuantitiesObject(BagName),i,ItemType,ItemProperties;for(i=0;i<Items.length;i++){ItemType=UInv.GetItemsDefaultType(BagName,Items[i]);if(ItemType!=="-"){ItemProperties=clone(State.__getUpperName__.UInvBags[BagName][Items[i]]);if(UInv.isProperty(ItemProperties,"UInvPocket")){delete ItemProperties.UInvPocket}
RemoveItemObjectsDefaultProperties(ItemProperties,ItemType);delete State.__getUpperName__.UInvBags[BagName][Items[i]];UInv.AddItem(BagName,ItemType,Quantities[Items[i]],Items[i],StartDepth,CurrentDepth);UInv.SetItemPropertyValues(BagName,Items[i],ItemProperties)}}}
UInv.SetBagUntouched(BagName);UInv.SetCurrentBagName(BagName);UInv.DecrementUpdateLock();return!0}}else{UInvError('DefaultBagType passed to AddBag is not a string.');return undefined}}else{UInvError('BagName passed to AddBag cannot be "-" or "".');return undefined}}else{UInvError('BagName passed to AddBag is not a string.');return undefined}},GetBagsDefaultType:function(BagName){if(UInv.isString(BagName)){BagName=FixBagName(BagName);if(UInv.BagExists(BagName)){if(UInv.isProperty(State.__getUpperName__.UInvBags[BagName],"UInvDefaultBagType")){return State.__getUpperName__.UInvBags[BagName].UInvDefaultBagType}else{if(UInv.GetDefaultBagObject(BagName,!0)){return BagName}else{return"-"}}}else{UInvError('GetBagsDefaultType failed. Cannot find bag "'+BagName+'".');return undefined}}else{UInvError('BagName passed to GetBagsDefaultType is not a string.');return undefined}},GetBagCountByDefaultType:function(){var Tot=0,Typ,TypLst=[],i;var Bags=UInv.GetBagsArray();if(Bags.length>0){for(i=0;i<Bags.length;i++){Typ=UInv.GetBagsDefaultType(Bags[i]);if(Typ==="-"){++Tot}else if(TypLst.indexOf(Typ)<0){TypLst.push(Typ);++Tot}}}
return Tot},CopyAllItemsToBag:function(SourceBagName,DestinationBagName){if(UInv.isString(SourceBagName)&&UInv.isString(DestinationBagName)){SourceBagName=FixBagName(SourceBagName);DestinationBagName=FixBagName(DestinationBagName);if(SourceBagName!==DestinationBagName){if(UInv.BagExists(SourceBagName)){if(UInv.BagExists(DestinationBagName)){var i=0,Ret,Result=[];var Items=UInv.GetItemsArray(SourceBagName);if(Items.length>0){for(i=0;i<Items.length;i++){Ret=UInv.CopyItem(SourceBagName,DestinationBagName,Items[i]);if(Ret===undefined){Result=undefined}else if(!UInv.isBoolean(Result)){Result.push(Ret)}}
UInv.SetBagTouched(DestinationBagName)}
UInv.SetCurrentBagName(DestinationBagName);return Result}else{UInvError('CopyAllItemsToBag cannot find bag "'+DestinationBagName+'".');return undefined}}else{UInvError('CopyAllItemsToBag cannot find bag "'+SourceBagName+'".');return undefined}}else{UInvError('CopyAllItemsToBag failed. SourceBagName and DestinationBagName cannot be the same. Value = "'+SourceBagName+'".');return undefined}}else{UInvError('Name passed to CopyAllItemsToBag is not a string.');return undefined}},CopyBag:function(ExistingBagName,NewBagName){if(UInv.isString(ExistingBagName)&&UInv.isString(NewBagName)){ExistingBagName=FixBagName(ExistingBagName);NewBagName=FixBagName(NewBagName);if(UInv.BagExists(ExistingBagName)){if(!UInv.BagExists(NewBagName)){State.__getUpperName__.UInvBags[NewBagName]=clone(State.__getUpperName__.UInvBags[ExistingBagName]);if(UInv.isProperty(State.__getUpperName__.UInvBags[NewBagName],"UInvContainer")){delete State.__getUpperName__.UInvBags[NewBagName].UInvContainer}
var Type=UInv.GetBagsDefaultType(ExistingBagName);if(Type!==NewBagName){State.__getUpperName__.UInvBags[NewBagName].UInvDefaultBagType=Type}else{delete State.__getUpperName__.UInvBags[NewBagName].UInvDefaultBagType}
var Items=UInv.GetItemsArray(NewBagName);if(Items.length>0){var i=0;UInv.IncrementUpdateLock();for(i=0;i<Items.length;i++){delete State.__getUpperName__.UInvBags[NewBagName][Items[i]]}
UInv.CopyAllItemsToBag(ExistingBagName,NewBagName);UInv.DecrementUpdateLock()}
UInv.SetBagUntouched(NewBagName);return!0}else{UInvError('CopyBag failed. Bag "'+NewBagName+'" already exists.');return undefined}}else{UInvError('CopyBag failed. Cannot find bag "'+ExistingBagName+'".');return undefined}}else{UInvError('Name passed to CopyBag is not a string.');return undefined}},GetBagPropertyArray:function(BagName){if(UInv.isString(BagName)){BagName=FixBagName(BagName);if(UInv.BagExists(BagName)){var Type=UInv.GetBagsDefaultType(BagName);var Props=UInv.GetDefaultBagObject(Type,!0);UInv.SetCurrentBagName(BagName);if(UInv.isProperty(State.__getUpperName__.UInvBags[BagName],"UInvProperties")){if((Type==="-")||UInv.isProperty(State.__getUpperName__.UInvBags[BagName].UInvProperties,"UInvVariableType")){return Object.keys(State.__getUpperName__.UInvBags[BagName].UInvProperties)}else{return Object.keys(State.__getUpperName__.UInvBags[BagName].UInvProperties).concatUnique(Object.keys(Props))}}else if(Type==="-"){return[]}else{return Object.keys(Props)}}else{UInvError('GetBagPropertyArray cannot find bag "'+BagName+'".');return undefined}}else{UInvError('Name passed to GetBagPropertyArray is not a string.');return undefined}},DeleteBag:function(BagName){var i;if(UInv.isString(BagName)){BagName=FixBagName(BagName);if(UInv.BagExists(BagName)){UInv.EmptyBag(BagName);if(UInv.BagIsPocket(BagName)){var ContainerBagName,ContainerName,PocketName;while(UInv.BagIsPocket(BagName)){ContainerBagName=State.__getUpperName__.UInvBags[BagName].UInvContainer[0].ContainerBagName;ContainerName=State.__getUpperName__.UInvBags[BagName].UInvContainer[0].ContainerName;PocketName=State.__getUpperName__.UInvBags[BagName].UInvContainer[0].PocketName;UInv.UnlinkPocketFromContainer(ContainerBagName,ContainerName,PocketName)}}
if(UInv.isProperty(State.__getUpperName__.UInvBags[BagName],"UInvProperties")){var Props=Object.keys(State.__getUpperName__.UInvBags[BagName].UInvProperties);if(Props.length>0){for(i=0;i<Props.length;i++){delete State.__getUpperName__.UInvBags[BagName].UInvProperties[Props[i]]}}
delete State.__getUpperName__.UInvBags[BagName].UInvProperties}
if(UInv.isProperty(State.__getUpperName__.UInvBags[BagName],"UInvTouched")){delete State.__getUpperName__.UInvBags[BagName].UInvTouched}
if(UInv.isProperty(State.__getUpperName__.UInvBags[BagName],"UInvDefaultBagType")){delete State.__getUpperName__.UInvBags[BagName].UInvDefaultBagType}
delete State.__getUpperName__.UInvBags[BagName];return!0}else{UInvError('DeleteBag cannot find bag "'+BagName+'".');return undefined}}else if(UInv.isArrayOfStrings(BagName)){BagName=UInv.getUniqueArray(BagName);if(UInv.BagExists(BagName)){for(i=0;i<BagName.length;i++){UInv.DeleteBag(BagName[i])}
return!0}else{UInvError('Some bags passed to DeleteBag did not exist.');return undefined}}else{UInvError('Name passed to DeleteBag is not a string.');return undefined}},RenameBag:function(CurrentBagName,NewBagName){if(UInv.isString(CurrentBagName)&&UInv.isString(NewBagName)){CurrentBagName=FixBagName(CurrentBagName);NewBagName=FixBagName(NewBagName);if(UInv.BagExists(CurrentBagName)){if(!UInv.BagExists(NewBagName)){var i;if(UInv.BagIsPocket(CurrentBagName)){var ContainerBagName,ContainerName,PocketName;for(i=0;i<State.__getUpperName__.UInvBags[CurrentBagName].UInvContainer.length;i++){ContainerBagName=State.__getUpperName__.UInvBags[CurrentBagName].UInvContainer[i].ContainerBagName;ContainerName=State.__getUpperName__.UInvBags[CurrentBagName].UInvContainer[i].ContainerName;PocketName=State.__getUpperName__.UInvBags[CurrentBagName].UInvContainer[i].PocketName;State.__getUpperName__.UInvBags[ContainerBagName][ContainerName].UInvPocket[PocketName]=NewBagName}}
State.__getUpperName__.UInvBags[NewBagName]=State.__getUpperName__.UInvBags[CurrentBagName];var Items=UInv.GetItemsArray(NewBagName),Pockets,j;if(Items.length>0){for(i=0;i<Items.length;i++){if(UInv.ItemHasPocket(NewBagName,Items[i])){Pockets=UInv.GetItemPocketNameArray(CurrentBagName,Items[i]);for(j=0;j<Pockets.length;j++){UInv.MovePocket(CurrentBagName,Items[i],Pockets[j],NewBagName,Items[i])}}}}
var Type=UInv.GetBagsDefaultType(CurrentBagName);if(Type!==NewBagName){State.__getUpperName__.UInvBags[NewBagName].UInvDefaultBagType=Type}else{delete State.__getUpperName__.UInvBags[NewBagName].UInvDefaultBagType}
delete State.__getUpperName__.UInvBags[CurrentBagName];return!0}else{UInvError('RenameBag failed. Bag "'+NewBagName+'" already exists.');return undefined}}else{UInvError('RenameBag failed. Cannot find bag "'+CurrentBagName+'".');return undefined}}else{UInvError('Name passed to RenameBag is not a string.');return undefined}},BagHasProperty:function(BagName,BagPropertyName){if(UInv.isString(BagName)){BagName=FixBagName(BagName);if(UInv.BagExists(BagName)){if(UInv.isString(BagPropertyName)){UInv.SetCurrentBagName(BagName);if(UInv.GetBagPropertyArray(BagName).includes(BagPropertyName)){return!0}else{return!1}}else if(UInv.isArrayOfStrings(BagPropertyName)){var i=0,Props=UInv.GetBagPropertyArray(BagName);for(i=0;i<BagPropertyName.length;i++){if(!Props.includes(BagPropertyName[i])){return!1}}
return!0}else{UInvError('BagPropertyName passed to BagHasProperty is not a string or array of strings.');return undefined}}else{UInvError('BagHasProperty cannot find bag "'+BagName+'".');return undefined}}else{UInvError('BagName passed to BagHasProperty is not a string.');return undefined}},GetBagPropertyValue:function(BagName,BagPropertyName){if(UInv.isString(BagName)&&UInv.isString(BagPropertyName)){BagName=FixBagName(BagName);if(UInv.BagExists(BagName)){if(UInv.BagHasProperty(BagName,BagPropertyName)){UInv.SetCurrentBagName(BagName);if(UInv.isProperty(State.__getUpperName__.UInvBags[BagName],"UInvProperties")){if(UInv.isProperty(State.__getUpperName__.UInvBags[BagName].UInvProperties,BagPropertyName)){return State.__getUpperName__.UInvBags[BagName].UInvProperties[BagPropertyName]}}
return UInv.GetDefaultBagObject(UInv.GetBagsDefaultType(BagName),!0)[BagPropertyName]}else{UInvError('GetBagPropertyValue cannot find bag property "'+BagPropertyName+'" on bag "'+BagName+'".');return undefined}}else{UInvError('GetBagPropertyValue cannot find bag "'+BagName+'".');return undefined}}else{UInvError('Name passed to GetBagPropertyValue is not a string.');return undefined}},SetBagPropertyValue:function(BagName,BagPropertyName,Value){if(UInv.isString(BagPropertyName)){if(arguments.length>=3){if(UInv.isString(BagName)){BagName=FixBagName(BagName);if(UInv.BagExists(BagName)){var BagType=UInv.GetBagsDefaultType(BagName),Props=[];if(BagPropertyName==="UInvVariableType"){if(!UInv.isProperty(State.__getUpperName__.UInvBags[BagName],"UInvProperties")){State.__getUpperName__.UInvBags[BagName].UInvProperties={}}
if(UInv.isProperty(State.__getUpperName__.UInvBags[BagName].UInvProperties,"UInvVariableType")||(BagType==="-")){State.__getUpperName__.UInvBags[BagName].UInvProperties.UInvVariableType=Value}else{State.__getUpperName__.UInvBags[BagName].UInvProperties=Object.assign({},UInv.GetDefaultBagObject(BagType,!0),State.__getUpperName__.UInvBags[BagName].UInvProperties);State.__getUpperName__.UInvBags[BagName].UInvProperties.UInvVariableType=Value;if(BagType!=BagName){State.__getUpperName__.UInvBags[BagName].UInvDefaultBagType=BagType}}}else{if(!UInv.isProperty(State.__getUpperName__.UInvBags[BagName],"UInvProperties")){State.__getUpperName__.UInvBags[BagName].UInvProperties={}}
State.__getUpperName__.UInvBags[BagName].UInvProperties[BagPropertyName]=Value;if(BagType!=="-"){Props=UInv.GetDefaultBagObject(BagType,!0);if(UInv.isProperty(Props,BagPropertyName)&&!UInv.isProperty(Props,"UInvVariableType")){if(Props[BagPropertyName]===State.__getUpperName__.UInvBags[BagName].UInvProperties[BagPropertyName]){delete State.__getUpperName__.UInvBags[BagName].UInvProperties[BagPropertyName];if(Object.keys(State.__getUpperName__.UInvBags[BagName].UInvProperties).length===0){delete State.__getUpperName__.UInvBags[BagName].UInvProperties}}}}}
UInv.SetCurrentBagName(BagName);return!0}else{UInvError('SetBagPropertyValue cannot find bag "'+BagName+'".');return undefined}}else if(UInv.isArrayOfStrings(BagName)){if((BagPropertyName!=="UInvVariableType")||UInv.isString(Value)){if(UInv.BagExists(BagName)){var i=0,Result=!0;for(i=0;i<BagName.length;i++){if(!UInv.SetBagPropertyValue(BagName[i],BagPropertyName,Value)){Result=undefined}}
return Result}else{UInvError('SetBagPropertyValue failed. Invalid bag name in array.');return undefined}}else{UInvError('SetBagPropertyValue failed. The UInvVariableType property can only be set to a string.');return undefined}}else{UInvError('BagName passed to SetBagPropertyValue is not a string or an array of strings.');return undefined}}else{UInvError('SetBagPropertyValue failed. Value parameter is missing.');return undefined}}else{UInvError('BagPropertyName passed to SetBagPropertyValue is not a string.');return undefined}},GetBagPropertyObject:function(BagName){if(UInv.isString(BagName)){BagName=FixBagName(BagName);if(UInv.BagExists(BagName)){UInv.SetCurrentBagName(BagName);var Props=UInv.GetBagPropertyArray(BagName),Result={},i=0;for(i=0;i<Props.length;i++){Result[Props[i]]=UInv.GetBagPropertyValue(BagName,Props[i])}
return Result}else{UInvError('GetBagPropertyObject cannot find bag "'+BagName+'".');return undefined}}else{UInvError('Name passed to GetBagPropertyObject is not a string.');return undefined}},SetBagsDefaultType:function(BagName,DefaultBagType){if(UInv.isString(BagName)&&UInv.isString(DefaultBagType)){BagName=FixBagName(BagName);if(UInv.BagExists(BagName)){if((UInv.GetDefaultBagObject(DefaultBagType,!0))||(DefaultBagType==="-")){UInv.SetCurrentBagName(BagName);var Props=UInv.GetBagPropertyObject(BagName),DefProps={};if(DefaultBagType!=="-"){DefProps=UInv.GetDefaultBagObject(DefaultBagType,!0);var Keys=Object.keys(DefProps),i=0;if(!UInv.isProperty(DefProps,"UInvVariableType")){for(i=0;i<Keys.length;i++){if(UInv.isProperty(Props,Keys[i])){if(Props[Keys[i]]===DefProps[Keys[i]]){delete Props[Keys[i]]}}else{if(Keys[i]!="UInvVariableType"){return!1}}}}}
if((BagName!==DefaultBagType)||(UInv.isProperty(DefProps,"UInvVariableType"))){State.__getUpperName__.UInvBags[BagName].UInvDefaultBagType=DefaultBagType}
if((BagName===DefaultBagType)&&(UInv.isProperty(State.__getUpperName__.UInvBags[BagName],"UInvDefaultBagType"))&&(!UInv.isProperty(DefProps,"UInvVariableType"))){delete State.__getUpperName__.UInvBags[BagName].UInvDefaultBagType}
if(UInv.isProperty(State.__getUpperName__.UInvBags[BagName],"UInvProperties")){delete State.__getUpperName__.UInvBags[BagName].UInvProperties}
State.__getUpperName__.UInvBags[BagName].UInvProperties=Props;if(UInv.isProperty(DefProps,"UInvVariableType")){State.__getUpperName__.UInvBags[BagName].UInvProperties.UInvVariableType=DefProps.UInvVariableType}else if(UInv.isProperty(State.__getUpperName__.UInvBags[BagName].UInvProperties,"UInvVariableType")){delete State.__getUpperName__.UInvBags[BagName].UInvProperties.UInvVariableType}
if(Object.keys(State.__getUpperName__.UInvBags[BagName].UInvProperties).length===0){delete State.__getUpperName__.UInvBags[BagName].UInvProperties}
return!0}else{UInvError('SetBagsDefaultType failed. "'+DefaultBagType+'" is not a valid default bag type.');return undefined}}else{UInvError('SetBagsDefaultType cannot find bag "'+BagName+'".');return undefined}}else{UInvError('Name passed to SetBagsDefaultType is not a string.');return undefined}},BagPropertyCount:function(BagName){if(UInv.isString(BagName)){BagName=FixBagName(BagName);if(UInv.BagExists(BagName)){UInv.SetCurrentBagName(BagName);return UInv.GetBagPropertyArray(BagName).length}else{UInvError('BagPropertyCount cannot find bag "'+BagName+'".');return undefined}}else{UInvError('Name passed to BagPropertyCount is not a string.');return undefined}},GetBagsArrayByProperty:function(BagPropertyName,BagNameArray){if(UInv.isString(BagPropertyName)){if(UInv.isUndefined(BagNameArray)){BagNameArray=UInv.GetBagsArray()}
if(UInv.isArrayOfStrings(BagNameArray)){if(UInv.BagExists(BagNameArray)){var i=0,Result=[];for(i=0;i<BagNameArray.length;i++){if(UInv.BagHasProperty(BagNameArray[i],BagPropertyName)){Result.push(BagNameArray[i])}}
return Result}else{UInvError('GetBagsArrayByProperty failed. Invalid bag name within BagNameArray.');return undefined}}else if((UInv.isArray(BagNameArray))&&(BagNameArray.length===0)){return[]}else{UInvError('BagNameArray passed to GetBagsArrayByProperty is not an array of strings.');return undefined}}else{UInvError('BagPropertyName passed to GetBagsArrayByProperty is not a string.');return undefined}},GetBagByProperty:function(BagPropertyName){if(UInv.isString(BagPropertyName)){var Bags=UInv.GetBagsArrayByProperty(BagPropertyName);if(Bags.length>0){var Rnd=random(Bags.length-1);UInv.SetCurrentBagName(Bags[Rnd]);return Bags[Rnd]}else{return""}}else{UInvError('BagPropertyName passed to GetBagByProperty is not a string.');return undefined}},BagHasAllProperties:function(BagName,BagPropertyNameArray){if(UInv.isString(BagName)){BagName=FixBagName(BagName);if(UInv.BagExists(BagName)){if(UInv.isArrayOfStrings(BagPropertyNameArray)){UInv.SetCurrentBagName(BagName);var Props=UInv.GetBagPropertyArray(BagName);if(Props.length>0){var i;for(i=0;i<BagPropertyNameArray.length;i++){if(!Props.includes(BagPropertyNameArray[i])){return!1}}
return!0}
return!1}else{UInvError('BagHasAllProperties failed. BagPropertyNameArray is not an array of strings.');return undefined}}else{UInvError('BagHasAllProperties cannot find bag "'+BagName+'".');return undefined}}else{UInvError('BagName passed to BagHasAllProperties is not a string.');return undefined}},GetBagsArrayWithAllProperties:function(BagPropertyNameArray){if(UInv.isArrayOfStrings(BagPropertyNameArray)){var Bags=UInv.GetBagsArray(),Return=[],i;for(i=0;i<Bags.length;i++){if(UInv.BagHasAllProperties(Bags[i],BagPropertyNameArray)){Return.pushUnique(Bags[i])}}
return Return}else{UInvError('GetBagsArrayWithAllProperties failed. BagPropertyNameArray is not an array of strings.');return undefined}},CopyBagProperty:function(SourceBagName,DestinationBagName,BagPropertyName){if(UInv.isString(SourceBagName)&&UInv.isString(DestinationBagName)){DestinationBagName=FixBagName(DestinationBagName);SourceBagName=FixBagName(SourceBagName);if(UInv.BagExists(SourceBagName)){if(UInv.BagExists(DestinationBagName)){if(UInv.isString(BagPropertyName)){if(UInv.BagHasProperty(SourceBagName,BagPropertyName)){return UInv.SetBagPropertyValue(DestinationBagName,BagPropertyName,UInv.GetBagPropertyValue(SourceBagName,BagPropertyName))}else{UInvError('CopyBagProperty failed. Bag "'+SourceBagName+'" does not have property "'+BagPropertyName+'".');return undefined}}else if(UInv.isArrayOfStrings(BagPropertyName)){if(UInv.BagHasAllProperties(SourceBagName,BagPropertyName)){var Result=!0,i=0;for(i=0;i<BagPropertyName.length;i++){if(!UInv.CopyBagProperty(SourceBagName,DestinationBagName,BagPropertyName[i])){Result=undefined}}
return Result}else{UInvError('CopyBagProperty failed. Bag "'+SourceBagName+'" does not have all properties in BagPropertyName parameter.');return undefined}}else{UInvError('CopyBagProperty failed. BagPropertyName is not a string or an array of strings.');return undefined}}else{UInvError('CopyBagProperty cannot find bag "'+DestinationBagName+'".');return undefined}}else{UInvError('CopyBagProperty cannot find bag "'+SourceBagName+'".');return undefined}}else{UInvError('Name passed to CopyBagProperty is not a string.');return undefined}},GetBagsArrayWherePropertyEquals:function(BagPropertyName,Value){if(UInv.isString(BagPropertyName)){if(arguments.length>=2){var Bags=UInv.GetBagsArrayByProperty(BagPropertyName),i=0,Result=[];for(i=0;i<Bags.length;i++){if(UInv.valuesAreEqual(UInv.GetBagPropertyValue(Bags[i],BagPropertyName),Value)){Result.push(Bags[i])}}
return Result}else{UInvError('GetBagsArrayWherePropertyEquals failed. Value parameter is missing.');return undefined}}else{UInvError('BagPropertyName passed to GetBagsArrayWherePropertyEquals is not a string.');return undefined}},GetBagWherePropertyEquals:function(BagPropertyName,Value){if(UInv.isString(BagPropertyName)){if(arguments.length>=2){var Bags=UInv.GetBagsArrayWherePropertyEquals(BagPropertyName,Value);if(Bags.length>0){var Rnd=random(Bags.length-1);UInv.SetCurrentBagName(Bags[Rnd]);return Bags[Rnd]}else{return""}}else{UInvError('GetBagWherePropertyEquals failed. Value parameter is missing.');return undefined}}else{UInvError('BagPropertyName passed to GetBagWherePropertyEquals is not a string.');return undefined}},GetBagsArrayWherePropertyGreaterThan:function(BagPropertyName,Value){if(UInv.isString(BagPropertyName)){if(arguments.length>=2){var Bags=UInv.GetBagsArrayByProperty(BagPropertyName),i=0,Result=[];for(i=0;i<Bags.length;i++){if(UInv.GetBagPropertyValue(Bags[i],BagPropertyName)>Value){Result.push(Bags[i])}}
return Result}else{UInvError('GetBagsArrayWherePropertyGreaterThan failed. Value parameter is missing.');return undefined}}else{UInvError('BagPropertyName passed to GetBagsArrayWherePropertyGreaterThan is not a string.');return undefined}},GetBagWherePropertyGreaterThan:function(BagPropertyName,Value){if(UInv.isString(BagPropertyName)){if(arguments.length>=2){var Bags=UInv.GetBagsArrayWherePropertyGreaterThan(BagPropertyName,Value);if(Bags.length>0){var Rnd=random(Bags.length-1);UInv.SetCurrentBagName(Bags[Rnd]);return Bags[Rnd]}else{return""}}else{UInvError('GetBagWherePropertyGreaterThan failed. Value parameter is missing.');return undefined}}else{UInvError('BagPropertyName passed to GetBagWherePropertyGreaterThan is not a string.');return undefined}},GetBagsArrayWherePropertyLessThan:function(BagPropertyName,Value){if(UInv.isString(BagPropertyName)){if(arguments.length>=2){var Bags=UInv.GetBagsArrayByProperty(BagPropertyName),i=0,Result=[];for(i=0;i<Bags.length;i++){if(UInv.GetBagPropertyValue(Bags[i],BagPropertyName)<Value){Result.push(Bags[i])}}
return Result}else{UInvError('GetBagsArrayWherePropertyLessThan failed. Value parameter is missing.');return undefined}}else{UInvError('BagPropertyName passed to GetBagsArrayWherePropertyLessThan is not a string.');return undefined}},GetBagWherePropertyLessThan:function(BagPropertyName,Value){if(UInv.isString(BagPropertyName)){if(arguments.length>=2){var Bags=UInv.GetBagsArrayWherePropertyLessThan(BagPropertyName,Value);if(Bags.length>0){var Rnd=random(Bags.length-1);UInv.SetCurrentBagName(Bags[Rnd]);return Bags[Rnd]}else{return""}}else{UInvError('GetBagWherePropertyLessThan failed. Value parameter is missing.');return undefined}}else{UInvError('BagPropertyName passed to GetBagWherePropertyLessThan is not a string.');return undefined}},GetBagWithHighestPropertyValue:function(BagPropertyName,BagNameArray){if(UInv.isString(BagPropertyName)){if(UInv.isUndefined(BagNameArray)){BagNameArray=UInv.GetBagsArray()}
if(UInv.isArrayOfStrings(BagNameArray)){var Bags=UInv.GetBagsArrayByProperty(BagPropertyName,BagNameArray);if(Bags.length>0){var HiBags=[Bags[0]],HiVal=UInv.GetBagPropertyValue(Bags[0],BagPropertyName);if(Bags.length>1){var i,Value=0;for(i=1;i<Bags.length;i++){Value=UInv.GetBagPropertyValue(Bags[i],BagPropertyName);if(Value>HiVal){HiVal=Value;HiBags=[Bags[i]]}else if(Value===HiVal){HiBags.push(Bags[i])}}}
return HiBags[random(HiBags.length-1)]}else{return""}}else{UInvError('GetBagWithHighestPropertyValue failed. BagNameArray is not an array of strings.');return undefined}}else{UInvError('BagPropertyName passed to GetBagWithHighestPropertyValue is not a string.');return undefined}},GetBagWithLowestPropertyValue:function(BagPropertyName,BagNameArray){if(UInv.isString(BagPropertyName)){if(UInv.isUndefined(BagNameArray)){BagNameArray=UInv.GetBagsArray()}
if(UInv.isArrayOfStrings(BagNameArray)){var Bags=UInv.GetBagsArrayByProperty(BagPropertyName,BagNameArray);if(Bags.length>0){var LoBags=[Bags[0]],LoVal=UInv.GetBagPropertyValue(Bags[0],BagPropertyName);if(Bags.length>1){var i,Value=0;for(i=1;i<Bags.length;i++){Value=UInv.GetBagPropertyValue(Bags[i],BagPropertyName);if(Value<LoVal){LoVal=Value;LoBags=[Bags[i]]}else if(Value===LoVal){LoBags.push(Bags[i])}}}
return LoBags[random(LoBags.length-1)]}else{return""}}else{UInvError('GetBagWithLowestPropertyValue failed. Invalid type passed as BagNameArray property.');return undefined}}else{UInvError('BagPropertyName passed to GetBagWithLowestPropertyValue is not a string.');return undefined}},AddToBagPropertyValue:function(BagName,BagPropertyName,Amount){if(UInv.isString(BagName)&&UInv.isString(BagPropertyName)){BagName=FixBagName(BagName);if(UInv.BagExists(BagName)){UInv.SetCurrentBagName(BagName);if(!UInv.isUndefined(Amount)){Amount=tryIntParse(Amount);if(UInv.isNumber(Amount)){if(UInv.BagHasProperty(BagName,BagPropertyName)){if(UInv.isNumber(UInv.GetBagPropertyValue(BagName,BagPropertyName))){UInv.SetBagPropertyValue(BagName,BagPropertyName,UInv.GetBagPropertyValue(BagName,BagPropertyName)+Amount);return!0}else{UInvError('AddToBagPropertyValue failed. Item\'s property value must be a number to add to it.');return undefined}}else{UInv.SetBagPropertyValue(BagName,BagPropertyName,Amount);return!1}}else{UInvError('AddToBagPropertyValue failed. Amount must be a number.');return undefined}}else{UInvError('AddToBagPropertyValue failed. Value not defined.');return undefined}}else{UInvError('AddToBagPropertyValue cannot find bag "'+BagName+'".');return undefined}}else{UInvError('Name passed to AddToBagPropertyValue is not a string.');return undefined}},DeleteBagProperty:function(BagName,BagPropertyName){if(UInv.isString(BagName)&&UInv.isString(BagPropertyName)){BagName=FixBagName(BagName);if(UInv.BagExists(BagName)){UInv.SetCurrentBagName(BagName);if(UInv.BagHasProperty(BagName,BagPropertyName)){var Type=UInv.GetBagsDefaultType(BagName);if(Type!=="-"){var Props=UInv.GetDefaultBagObject(Type,!0),Keys=Object.keys(Props),i;if((UInv.isProperty(Props,BagPropertyName)&&(!UInv.isProperty(Props,"UInvVariableType")))||((BagPropertyName==="UInvVariableType")&&(UInv.isProperty(Props,"UInvVariableType")))){UInv.SetBagsDefaultType(BagName,"-")}else if((BagPropertyName==="UInvVariableType")&&(!UInv.isProperty(Props,"UInvVariableType"))){for(i=0;i<Keys.length;i++){if(UInv.isProperty(State.__getUpperName__.UInvBags[BagName].UInvProperties,Keys[i])){if(UInv.valuesAreEqual(State.__getUpperName__.UInvBags[BagName].UInvProperties[Keys[i]],Props[Keys[i]])){delete State.__getUpperName__.UInvBags[BagName].UInvProperties[Keys[i]]}}}
if(UInv.isProperty(State.__getUpperName__.UInvBags[BagName],"UInvDefaultBagType")&&(State.__getUpperName__.UInvBags[BagName].UInvDefaultBagType===BagName)){delete State.__getUpperName__.UInvBags[BagName].UInvDefaultBagType}}}
delete State.__getUpperName__.UInvBags[BagName].UInvProperties[BagPropertyName];if(Object.keys(State.__getUpperName__.UInvBags[BagName].UInvProperties).length===0){delete State.__getUpperName__.UInvBags[BagName].UInvProperties}}
return!0}else{UInvError('DeleteBagProperty cannot find bag "'+BagName+'".');return undefined}}else{UInvError('Name passed to DeleteBagProperty is not a string.');return undefined}},MoveAllItemsToBag:function(SourceBagName,DestinationBagName){if(UInv.isString(DestinationBagName)){DestinationBagName=FixBagName(DestinationBagName);if(UInv.isString(SourceBagName)){SourceBagName=[FixBagName(SourceBagName)]}
if(UInv.BagExists(DestinationBagName)){if(UInv.BagExists(SourceBagName)){var i,j,SrcItems;UInv.IncrementUpdateLock();for(i=0;i<SourceBagName.length;i++){if(SourceBagName[i]!==DestinationBagName){SrcItems=UInv.GetItemsArray(SourceBagName[i]);for(j=0;j<SrcItems.length;j++){UInv.MoveItem(SourceBagName[i],DestinationBagName,SrcItems[j])}}}
UInv.DecrementUpdateLock();return!0}else{UInvError('MoveAllItemsToBag failed. Invalid bag name SourceBagName array.');return undefined}}else{UInvError('MoveAllItemsToBag cannot find destination bag "'+DestinationBagName+'".');return undefined}}else{UInvError('DestinationBagName passed to MoveAllItemsToBag is not a string.');return undefined}},MergeBags:function(SourceBagName,DestinationBagName){if(UInv.isString(SourceBagName)&&UInv.isString(DestinationBagName)){SourceBagName=FixBagName(SourceBagName);DestinationBagName=FixBagName(DestinationBagName);if(SourceBagName!==DestinationBagName){if(UInv.BagExists(SourceBagName)){if(UInv.BagExists(DestinationBagName)){var Result=!0;Result=UInv.MoveAllItemsToBag(SourceBagName,DestinationBagName);if(Result){UInv.DeleteBag(SourceBagName)}
return Result}else{UInvError('MergeBags cannot find bag "'+DestinationBagName+'".');return undefined}}else{UInvError('MergeBags cannot find bag "'+SourceBagName+'".');return undefined}}else{UInvError('MergeBags failed. SourceBagName and DestinationBagName cannot be the same. Value = "'+SourceBagName+'".');return undefined}}else{UInvError('Name passed to MergeBags is not a string.');return undefined}},GetBagsArrayWithItem:function(ItemName,BagArray){if(UInv.isString(ItemName)){if(UInv.isUndefined(BagArray)){BagArray=UInv.GetBagsArray()}else if(UInv.isArrayOfStrings(BagArray)){if(!UInv.BagExists(BagArray)){UInvError('GetBagsArrayWithItem failed. Invalid bag name in BagArray.');return undefined}}else{UInvError('BagArray passed to GetBagsArrayWithItem is not an array of strings.');return undefined}
var Result=[],i=0;if(BagArray.length>0){for(i=0;i<BagArray.length;i++){if(UInv.BagHasItem(BagArray[i],ItemName)){Result.pushUnique(BagArray[i])}}}
return Result}else{UInvError('ItemName passed to GetBagsArrayWithItem is not a string.');return undefined}},GetBagObject:function(BagName){if(UInv.isString(BagName)){BagName=FixBagName(BagName);if(UInv.BagExists(BagName)){var Result={},i=0,Props=UInv.GetBagPropertyArray(BagName);UInv.SetCurrentBagName(BagName);Result=clone(State.__getUpperName__.UInvBags[BagName]);Result.UInvDefaultBagType=UInv.GetBagsDefaultType(BagName);if(Props.length>0){if(!UInv.isProperty(Result,"UInvProperties")){Result.UInvProperties={}}
for(i=0;i<Props.length;i++){Result.UInvProperties[Props[i]]=UInv.GetBagPropertyValue(BagName,Props[i])}}
Props=UInv.GetItemsArray(BagName);if(Props.length>0){for(i=0;i<Props.length;i++){Result[Props[i]]=UInv.GetItemObject(BagName,Props[i])}}
return Result}else{UInvError('GetBagObject cannot find bag "'+BagName+'".');return undefined}}else{UInvError('BagName passed to GetBagObject is not a string.');return undefined}},WasTouched:function(BagName){if(UInv.isString(BagName)){BagName=FixBagName(BagName);if(UInv.BagExists(BagName)){UInv.SetCurrentBagName(BagName);if(UInv.isProperty(State.__getUpperName__.UInvBags[BagName],"UInvTouched")){return State.__getUpperName__.UInvBags[BagName].UInvTouched}else{return!0}}else{UInvError('WasTouched cannot find bag "'+BagName+'".');return undefined}}else{UInvError('BagName passed to WasTouched is not a string.');return undefined}},GetUniqueBagName:function(){var BagName="bag"+UInv.getRandomHexString();while(UInv.BagExists(BagName)){BagName="bag"+UInv.getRandomHexString()}
return BagName},BagMatchesDefault:function(BagName){if(UInv.isString(BagName)){BagName=FixBagName(BagName);if(UInv.BagExists(BagName)){UInv.SetCurrentBagName(BagName);var Typ=UInv.GetBagsDefaultType(BagName);if((Typ==="-")||UInv.isUndefined(Typ)){return!1}
var BagOb=UInv.GetBagObject(BagName);var TmpBag=UInv.GetUniqueBagName();UInv.AddBag(TmpBag,Typ);if(UInv.WasTouched(BagName)){UInv.SetBagTouched(TmpBag)}
var TmpBagOb=UInv.GetBagObject(TmpBag);var Result=UInv.objectsAreEqual(BagOb,TmpBagOb);UInv.DeleteBag(TmpBag);return Result}else{UInvError('BagMatchesDefault cannot find bag "'+BagName+'".');return undefined}}else{UInvError('BagName passed to BagMatchesDefault is not a string.');return undefined}},GetTotalBagPropertyValue:function(BagPropertyName,BagNameArray){if(UInv.isString(BagPropertyName)){if(UInv.isUndefined(BagNameArray)){BagNameArray=UInv.GetBagsArray()}
if(UInv.isString(BagNameArray)){BagNameArray=[BagNameArray]}
if(UInv.isArrayOfStrings(BagNameArray)){if(UInv.BagExists(BagNameArray)){var Total=0,Val,i;if(BagNameArray.length>0){for(i=0;i<BagNameArray.length;i++){if(UInv.BagHasProperty(BagNameArray[i],BagPropertyName)){Val=UInv.GetBagPropertyValue(BagNameArray[i],BagPropertyName);if(UInv.isNumber(Val)){Total+=Val}else{UInvError('GetTotalBagPropertyValue failed.  Property "'+BagPropertyName+'" on bag "'+BagNameArray[i]+'" is not a number.');return undefined}}}}
return Total}else{UInvError('GetTotalBagPropertyValue failed.  Bag in BagNameArray does not exist.');return undefined}}else{UInvError('GetTotalBagPropertyValue failed.  If included, BagNameArray must be a string or an array of strings.');return undefined}}else{UInvError('BagPropertyName passed to GetTotalBagPropertyValue is not a string.');return undefined}},MoveBagPropertyValueToBag:function(SourceBagName,SourceBagPropertyName,DestinationBagName,DestinationBagPropertyName,Amount,MinimumValue,MaximumValue,DeletionValue,DeletionType){if(UInv.isString(SourceBagName)&&UInv.isString(SourceBagPropertyName)&&UInv.isString(DestinationBagName)){SourceBagName=FixBagName(SourceBagName);DestinationBagName=FixBagName(DestinationBagName);if(UInv.BagExists(SourceBagName)){if(UInv.BagExists(DestinationBagName)){if(UInv.BagHasProperty(SourceBagName,SourceBagPropertyName)){if(UInv.isUndefined(DestinationBagPropertyName)){DestinationBagPropertyName=SourceBagPropertyName}
if(!UInv.isUndefined(Amount)){Amount=tryIntParse(Amount);if(UInv.isNumber(Amount)){var SrcVal=UInv.GetBagPropertyValue(SourceBagName,SourceBagPropertyName);SrcVal=tryIntParse(SrcVal);if(UInv.isNumber(SrcVal)){var DstVal=0;if(UInv.BagHasProperty(DestinationBagName,DestinationBagPropertyName)){DstVal=UInv.GetBagPropertyValue(DestinationBagName,DestinationBagPropertyName);DstVal=tryIntParse(DstVal)}
if(UInv.isNumber(DstVal)){var TmpAmt=Amount;if(!UInv.isUndefined(MinimumValue)){MinimumValue=tryIntParse(MinimumValue);if(UInv.isUndefined(MinimumValue)){UInvError('MoveBagPropertyValueToBag failed. If used, MinimumValue must be a number.');return undefined}
if(SrcVal-Amount<MinimumValue){Amount=SrcVal-MinimumValue}
if(DstVal+Amount<MinimumValue){Amount=MinimumValue-DstVal}}
if(!UInv.isUndefined(MaximumValue)){MaximumValue=tryIntParse(MaximumValue);if(UInv.isUndefined(MaximumValue)){UInvError('MoveBagPropertyValueToBag failed. If used, MaximumValue must be a number.');return undefined}
if((!UInv.isUndefined(MinimumValue))&&(MinimumValue>MaximumValue)){UInvError('MoveBagPropertyValueToBag failed. When both are used, MaximumValue must be greater than MinimumValue.');return undefined}
if(SrcVal-Amount>MaximumValue){Amount=SrcVal-MaximumValue}
if(DstVal+Amount>MaximumValue){Amount=MaximumValue-DstVal}}
if(((TmpAmt>=0)&&(Amount>TmpAmt))||((TmpAmt<0)&&(Amount<TmpAmt))){UInvError('MoveBagPropertyValueToBag failed. Source ('+SrcVal+') and/or Destination ('+DstVal+') values are too far out of MinimumValue ('+MinimumValue+') and/or MaximumValue ('+MaximumValue+') range.');return undefined}
if(!UInv.isUndefined(DeletionValue)){DeletionValue=tryIntParse(DeletionValue);if(UInv.isUndefined(DeletionValue)){UInvError('MoveBagPropertyValueToBag failed. If used, DeletionValue must be a number.');return undefined}
if(SrcVal-Amount==DeletionValue){if(UInv.isString(DeletionType)){DeletionType=DeletionType.toLowerCase()}else{DeletionType="property"}
switch(DeletionType){case "bag":case "object":UInv.DeleteBag(SourceBagName);break;case "item":UInv.SetBagPropertyValue(SourceBagName,SourceBagPropertyName,SrcVal-Amount);break;default:UInv.DeleteBagProperty(SourceBagName,SourceBagPropertyName)}}else{UInv.SetBagPropertyValue(SourceBagName,SourceBagPropertyName,SrcVal-Amount)}
if(DstVal+Amount==DeletionValue){if(UInv.isString(DeletionType)){DeletionType=DeletionType.toLowerCase()}else{DeletionType="property"}
switch(DeletionType){case "bag":case "object":UInv.DeleteBag(DestinationBagName);break;case "item":UInv.SetBagPropertyValue(DestinationBagName,DestinationBagPropertyName,DstVal+Amount);break;default:UInv.DeleteBagProperty(DestinationBagName,DestinationBagPropertyName)}}else{UInv.SetBagPropertyValue(DestinationBagName,DestinationBagPropertyName,DstVal+Amount)}
UInv.SetCurrentBagName(DestinationBagName);return DstVal+Amount}
UInv.SetBagPropertyValue(SourceBagName,SourceBagPropertyName,SrcVal-Amount);UInv.SetBagPropertyValue(DestinationBagName,DestinationBagPropertyName,DstVal+Amount);UInv.SetCurrentBagName(DestinationBagName);return DstVal+Amount}else{UInvError("MoveBagPropertyValueToBag failed. Destination bag's property value must be a number to add to or subtract from it.");return undefined}}else{UInvError("MoveBagPropertyValueToBag failed. Source bag's property value must be a number to move an Amount of it.");return undefined}}else{UInvError('MoveBagPropertyValueToBag failed. If used, Amount must be a number.');return undefined}}else{var Val=UInv.GetBagPropertyValue(SourceBagName,SourceBagPropertyName);UInv.SetBagPropertyValue(DestinationBagName,DestinationBagPropertyName,Val);UInv.DeleteBagProperty(SourceBagName,SourceBagPropertyName);UInv.SetCurrentBagName(DestinationBagName);return Val}}else{UInvError('MoveBagPropertyValueToBag failed. Source bag "'+SourceBagName+'" does not have property "'+SourceBagPropertyName+'".');return undefined}}else{UInvError('MoveBagPropertyValueToBag cannot find destination bag "'+DestinationBagName+'".');return undefined}}else{UInvError('MoveBagPropertyValueToBag cannot find source bag "'+SourceBagName+'".');return undefined}}else{UInvError('Name passed to MoveBagPropertyValueToBag is not a string.');return undefined}},MoveItemPropertyValueToBag:function(SourceBagName,SourceItemName,SourceItemPropertyName,DestinationBagName,DestinationBagPropertyName,Amount,MinimumValue,MaximumValue,DeletionValue,DeletionType){if(UInv.isString(SourceBagName)&&UInv.isString(SourceItemName)&&UInv.isString(SourceItemPropertyName)&&UInv.isString(DestinationBagName)){SourceBagName=FixBagName(SourceBagName);DestinationBagName=FixBagName(DestinationBagName);if(UInv.BagExists(SourceBagName)){if(UInv.BagExists(DestinationBagName)){SourceItemName=FixItemName(SourceItemName);if(UInv.BagHasItem(SourceBagName,SourceItemName)){if(UInv.isUndefined(DestinationBagPropertyName)){DestinationBagPropertyName=SourceItemPropertyName}
if(UInv.ItemHasProperty(SourceBagName,SourceItemName,SourceItemPropertyName)){if(["UInvDefaultItemType","UInvPocket"].includes(SourceItemPropertyName)){UInvError('MoveItemPropertyValueToBag failed. SourceItemPropertyName cannot be "'+SourceItemPropertyName+'".');return undefined}
if(SourceItemPropertyName==="UInvQuantity"){if((!UInv.isUndefined(Amount))&&(!UInv.isInteger(Amount))){UInvError("MoveItemPropertyValueToBag failed. Amount must be an integer to move it from an item's UInvQuantity.");return undefined}
MinimumValue=0;DeletionValue=0;if(UInv.isString(DeletionType)&&(DeletionType!=="object")){DeletionType="item"}}
if(!UInv.isUndefined(Amount)){Amount=tryIntParse(Amount);if(UInv.isNumber(Amount)){var SrcVal=UInv.GetItemPropertyValue(SourceBagName,SourceItemName,SourceItemPropertyName);SrcVal=tryIntParse(SrcVal);if(UInv.isNumber(SrcVal)){var DstVal=0;if(UInv.BagHasProperty(DestinationBagName,DestinationBagPropertyName)){DstVal=UInv.GetBagPropertyValue(DestinationBagName,DestinationBagPropertyName);DstVal=tryIntParse(DstVal)}
if(UInv.isNumber(DstVal)){var TmpAmt=Amount;if(!UInv.isUndefined(MinimumValue)){MinimumValue=tryIntParse(MinimumValue);if(UInv.isUndefined(MinimumValue)){UInvError('MoveItemPropertyValueToBag failed. If used, MinimumValue must be a number.');return undefined}
if(SrcVal-Amount<MinimumValue){Amount=SrcVal-MinimumValue}
if(DstVal+Amount<MinimumValue){Amount=MinimumValue-DstVal}}
if(!UInv.isUndefined(MaximumValue)){MaximumValue=tryIntParse(MaximumValue);if(UInv.isUndefined(MaximumValue)){UInvError('MoveItemPropertyValueToBag failed. If used, MaximumValue must be a number.');return undefined}
if((!UInv.isUndefined(MinimumValue))&&(MinimumValue>MaximumValue)){UInvError('MoveItemPropertyValueToBag failed. When both are used, MaximumValue must be greater than MinimumValue.');return undefined}
if(SrcVal-Amount>MaximumValue){Amount=SrcVal-MaximumValue}
if(DstVal+Amount>MaximumValue){Amount=MaximumValue-DstVal}}
if(((TmpAmt>=0)&&(Amount>TmpAmt))||((TmpAmt<0)&&(Amount<TmpAmt))){UInvError('MoveItemPropertyValueToBag failed. Source ('+SrcVal+') and/or Destination ('+DstVal+') values are too far out of MinimumValue ('+MinimumValue+') and/or MaximumValue ('+MaximumValue+') range.');return undefined}
if(!UInv.isUndefined(DeletionValue)){DeletionValue=tryIntParse(DeletionValue);if(UInv.isUndefined(DeletionValue)){UInvError('MoveItemPropertyValueToBag failed. If used, DeletionValue must be a number.');return undefined}
if(SrcVal-Amount==DeletionValue){if(UInv.isString(DeletionType)){DeletionType=DeletionType.toLowerCase()}else{DeletionType="property"}
switch(DeletionType){case "item":case "object":UInv.DeleteItem(SourceBagName,SourceItemName);break;case "bag":UInv.SetItemPropertyValue(SourceBagName,SourceItemName,SourceItemPropertyName,SrcVal-Amount);break;default:UInv.DeleteItemProperty(SourceBagName,SourceItemName,SourceItemPropertyName)}}else{UInv.SetItemPropertyValue(SourceBagName,SourceItemName,SourceItemPropertyName,SrcVal-Amount)}
if(DstVal+Amount==DeletionValue){if(UInv.isString(DeletionType)){DeletionType=DeletionType.toLowerCase()}else{DeletionType="property"}
switch(DeletionType){case "bag":case "object":UInv.DeleteBag(DestinationBagName);break;case "item":UInv.SetBagPropertyValue(DestinationBagName,DestinationBagPropertyName,DstVal+Amount);break;default:UInv.DeleteBagProperty(DestinationBagName,DestinationBagPropertyName)}}else{UInv.SetBagPropertyValue(DestinationBagName,DestinationBagPropertyName,DstVal+Amount)}
UInv.SetCurrentBagName(DestinationBagName);return DstVal+Amount}
UInv.SetItemPropertyValue(SourceBagName,SourceItemName,SourceItemPropertyName,SrcVal-Amount);UInv.SetBagPropertyValue(DestinationBagName,DestinationBagPropertyName,DstVal+Amount);UInv.SetCurrentBagName(DestinationBagName);return DstVal+Amount}else{UInvError("MoveItemPropertyValueToBag failed. Destination bag's property value must be a number to add to or subtract from it.");return undefined}}else{UInvError("MoveItemPropertyValueToBag failed. Source item's property value must be a number to move an Amount of it.");return undefined}}else{UInvError('MoveItemPropertyValueToBag failed. If used, Amount must be a number.');return undefined}}else{if(["UInvDefaultItemType","UInvPocket"].includes(SourceItemPropertyName)){UInvError('MoveItemPropertyValueToBag failed. SourceItemPropertyName cannot be "'+SourceItemPropertyName+'".');return undefined}
if(SourceItemPropertyName==="UInvQuantity"){UInvError('MoveItemPropertyValueToBag failed. SourceItemPropertyName cannot be "UInvQuantity" unless Amount is set to an Integer.');return undefined}
var Val=UInv.GetItemPropertyValue(SourceBagName,SourceItemName,SourceItemPropertyName);UInv.SetBagPropertyValue(DestinationBagName,DestinationBagPropertyName,Val);UInv.DeleteItemProperty(SourceBagName,SourceItemName,SourceItemPropertyName);UInv.SetCurrentBagName(DestinationBagName);return Val}}else{UInvError('MoveItemPropertyValueToBag failed. Item "'+SourceItemName+'" in bag "'+SourceBagName+'" does not have property "'+SourceItemPropertyName+'".');return undefined}}else{UInvError('MoveItemPropertyValueToBag failed. Source bag "'+SourceBagName+'" does not contain item "'+SourceItemName+'".');return undefined}}else{UInvError('MoveItemPropertyValueToBag cannot find destination bag "'+DestinationBagName+'".');return undefined}}else{UInvError('MoveItemPropertyValueToBag cannot find source bag "'+SourceBagName+'".');return undefined}}else{UInvError('Name passed to MoveItemPropertyValueToBag is not a string.');return undefined}},GetRawBagObject:function(BagName){if(UInv.isString(BagName)){BagName=FixBagName(BagName);if(UInv.BagExists(BagName)){UInv.SetCurrentBagName(BagName);return State.__getUpperName__.UInvBags[BagName]}else{UInvError('GetRawBagObject cannot find bag "'+BagName+'".');return undefined}}else{UInvError('Name passed to GetRawBagObject is not a string.');return undefined}},GetPocketBagContainerArray:function(PocketBagName){if(UInv.isString(PocketBagName)){PocketBagName=FixBagName(PocketBagName);if(UInv.BagExists(PocketBagName)){UInv.SetCurrentBagName(PocketBagName);if(UInv.isProperty(State.__getUpperName__.UInvBags[PocketBagName],"UInvContainer")){var Val=State.__getUpperName__.UInvBags[PocketBagName].UInvContainer;if(UInv.isArrayOfGenericObjects(Val)){if(Val.length>0){return Val}else{return[]}}else{return[]}}else{return[]}}else{UInvError('GetPocketBagContainerArray cannot find bag "'+PocketBagName+'".');return undefined}}else{UInvError('Name passed to GetPocketBagContainerArray is not a string.');return undefined}},BagIsPocket:function(BagName){if(UInv.isString(BagName)){BagName=FixBagName(BagName);if(UInv.BagExists(BagName)){UInv.SetCurrentBagName(BagName);return UInv.GetPocketBagContainerArray(BagName).length}else{UInvError('BagIsPocket cannot find bag "'+BagName+'".');return undefined}}else{UInvError('Name passed to BagIsPocket is not a string.');return undefined}},ItemHasPocket:function(BagName,ItemName,PocketName){if(UInv.isString(BagName)&&UInv.isString(ItemName)){BagName=FixBagName(BagName);ItemName=FixItemName(ItemName);if(UInv.BagExists(BagName)){if(UInv.BagHasItem(BagName,ItemName)){UInv.SetCurrentBagName(BagName);UInv.SetCurrentItemName(ItemName);if(UInv.ItemHasProperty(BagName,ItemName,"UInvPocket")){var Val=UInv.GetItemPropertyValue(BagName,ItemName,"UInvPocket");var Keys=Object.keys(Val);if(UInv.isUndefined(PocketName)){return Keys.length}else{return Keys.includes(PocketName)}}else{if(UInv.isUndefined(PocketName)){return 0}else{return!1}}}else{UInvError('ItemHasPocket cannot find item "'+ItemName+'" in bag "'+BagName+'".');return undefined}}else{UInvError('ItemHasPocket cannot find bag "'+BagName+'".');return undefined}}else{UInvError('Name passed to ItemHasPocket is not a string.');return undefined}},GetPocketDepth:function(BagName){if(UInv.isString(BagName)){BagName=FixBagName(BagName);if(UInv.BagExists(BagName)){UInv.SetCurrentBagName(BagName);if(UInv.BagIsPocket(BagName)){var Bags=UInv.GetPocketBagContainerArray(BagName),BagDepth=0,i,n;for(i=0;i<Bags.length;i++){n=UInv.GetPocketDepth(Bags[i].ContainerBagName);if(UInv.isUndefined(n)){UInvError('Corrupt data. GetPocketDepth cannot find bag "'+Bags[i].ContainerBagName+'", which is listed as the ContainerBagName for the bag "'+BagName+'".');return undefined}else if(n>BagDepth){BagDepth=n}}
return++BagDepth}else{return 0}}else{UInvError('GetPocketDepth cannot find bag "'+BagName+'".');return undefined}}else{UInvError('Name passed to GetPocketDepth is not a string.');return undefined}},GetItemPocketNameArray:function(BagName,ItemName){if(UInv.isString(BagName)&&UInv.isString(ItemName)){BagName=FixBagName(BagName);ItemName=FixItemName(ItemName);if(UInv.BagExists(BagName)){if(UInv.BagHasItem(BagName,ItemName)){UInv.SetCurrentBagName(BagName);UInv.SetCurrentItemName(ItemName);if(UInv.ItemHasPocket(BagName,ItemName)){var Val=UInv.GetItemPropertyValue(BagName,ItemName,"UInvPocket");var Keys=Object.keys(Val);if(Keys.length>0){return Keys}else{delete State.__getUpperName__.UInvBags[BagName][ItemName].UInvPocket;return[]}}else{return[]}}else{UInvError('GetItemPocketNameArray cannot find item "'+ItemName+'" in bag "'+BagName+'".');return undefined}}else{UInvError('GetItemPocketNameArray cannot find bag "'+BagName+'".');return undefined}}else{UInvError('Name passed to GetItemPocketNameArray is not a string.');return undefined}},GetItemPocketObject:function(BagName,ItemName){if(UInv.isString(BagName)&&UInv.isString(ItemName)){BagName=FixBagName(BagName);ItemName=FixItemName(ItemName);if(UInv.BagExists(BagName)){if(UInv.BagHasItem(BagName,ItemName)){UInv.SetCurrentBagName(BagName);UInv.SetCurrentItemName(ItemName);if(UInv.ItemHasPocket(BagName,ItemName)){var Val=UInv.GetItemPropertyValue(BagName,ItemName,"UInvPocket");var Keys=Object.keys(Val);if(Keys.length>0){return clone(Val)}else{delete State.__getUpperName__.UInvBags[BagName][ItemName].UInvPocket;return{}}}else{return{}}}else{UInvError('GetItemPocketObject cannot find item "'+ItemName+'" in bag "'+BagName+'".');return undefined}}else{UInvError('GetItemPocketObject cannot find bag "'+BagName+'".');return undefined}}else{UInvError('Name passed to GetItemPocketObject is not a string.');return undefined}},GetItemPocketBagArray:function(BagName,ItemName){if(UInv.isString(BagName)&&UInv.isString(ItemName)){BagName=FixBagName(BagName);ItemName=FixItemName(ItemName);if(UInv.BagExists(BagName)){if(UInv.BagHasItem(BagName,ItemName)){UInv.SetCurrentBagName(BagName);UInv.SetCurrentItemName(ItemName);if(UInv.ItemHasProperty(BagName,ItemName,"UInvPocket")){var Val=UInv.GetItemPropertyValue(BagName,ItemName,"UInvPocket");var Keys=Object.keys(Val);if(Keys.length>0){var Bags=[],i;for(i=0;i<Keys.length;i++){Bags.push(Val[Keys[i]])}
return Bags}else{delete State.__getUpperName__.UInvBags[BagName][ItemName].UInvPocket;return[]}}else{return[]}}else{UInvError('GetItemPocketBagArray cannot find item "'+ItemName+'" in bag "'+BagName+'".');return undefined}}else{UInvError('GetItemPocketBagArray cannot find bag "'+BagName+'".');return undefined}}else{UInvError('Name passed to GetItemPocketBagArray is not a string.');return undefined}},BagHasSpecificItem:function(MainBagName,ItemBagName,ItemName){if(UInv.isString(MainBagName)&&UInv.isString(ItemBagName)&&UInv.isString(ItemName)){ItemBagName=FixBagName(ItemBagName);ItemName=FixItemName(ItemName);if(UInv.BagExists(MainBagName)){if(UInv.BagExists(ItemBagName)){if(UInv.BagHasItem(ItemBagName,ItemName)){UInv.SetCurrentBagName(ItemBagName);UInv.SetCurrentItemName(ItemName);if((MainBagName==ItemBagName)&&(UInv.BagHasItem(ItemBagName,ItemName))){return!0}else{var Items=UInv.GetItemsArray(MainBagName);var PocketBags,i,j;for(i=0;i<Items.length;i++){PocketBags=UInv.GetItemPocketBagArray(MainBagName,Items[i]);if(PocketBags.length>0){for(j=0;j<PocketBags.length;j++){if(UInv.BagHasSpecificItem(PocketBags[j],ItemBagName,ItemName)){return!0}}}}
return!1}}else{UInvError('BagHasSpecificItem cannot find item "'+ItemName+'" in bag "'+ItemBagName+'".');return undefined}}else{UInvError('BagHasSpecificItem cannot find bag "'+ItemBagName+'".');return undefined}}else{UInvError('BagHasSpecificItem cannot find bag "'+MainBagName+'".');return undefined}}else{UInvError('Name passed to BagHasSpecificItem is not a string.');return undefined}},AddPocket:function(BagName,ItemName,PocketName,DefaultBagType,StartDepth,CurrentDepth){if(UInv.isString(BagName)&&UInv.isString(ItemName)&&UInv.isString(PocketName)){BagName=FixBagName(BagName);ItemName=FixItemName(ItemName);if(UInv.BagExists(BagName)){if(UInv.BagHasItem(BagName,ItemName)){if(!UInv.ItemHasPocket(BagName,ItemName,PocketName)){if(UInv.isUndefined(StartDepth)){StartDepth=UInv.GetPocketDepth(BagName)}
if(UInv.isUndefined(CurrentDepth)){CurrentDepth=StartDepth}
if(UInv.isString(DefaultBagType)){if(!UInv.GetDefaultBagObject(DefaultBagType,!0)){UInvError('AddPocket failed. Unknown bag type "'+DefaultBagType+'".');return undefined}}else{if(!UInv.GetDefaultBagObject(PocketName,!0)){UInvError('AddPocket failed. Unknown bag type "'+PocketName+'".');return undefined}
DefaultBagType=PocketName}
UInv.IncrementUpdateLock();if(UInv.BagHasItem(BagName,ItemName)>1){var NewItemName=UInv.GetUniqueItemName();UInv.RenameItem(BagName,ItemName,NewItemName,1);UInv.SetBagTouched(BagName);ItemName=NewItemName}
var PocketBagName=PocketName;if(UInv.BagExists(PocketBagName)){PocketBagName=UInv.GetUniqueBagName()}
UInv.AddBag(PocketBagName,DefaultBagType,StartDepth,CurrentDepth+1);State.__getUpperName__.UInvBags[PocketBagName].UInvContainer=[{ContainerBagName:BagName,ContainerName:ItemName,PocketName:PocketName}];if(!UInv.ItemHasPocket(BagName,ItemName)){State.__getUpperName__.UInvBags[BagName][ItemName].UInvPocket={}}
State.__getUpperName__.UInvBags[BagName][ItemName].UInvPocket[PocketName]=PocketBagName;UInv.DecrementUpdateLock();UInv.SetCurrentBagName(PocketBagName);return PocketBagName}else{UInvError('AddPocket failed. Pocket "'+PocketName+'" already exists on item.');return undefined}}else{UInvError('AddPocket cannot find item "'+ItemName+'" in bag "'+BagName+'".');return undefined}}else{UInvError('AddPocket cannot find bag "'+BagName+'".');return undefined}}else{UInvError('Name passed to AddPocket is not a string.');return undefined}},CreatePocket:function(BagName,ItemName,PocketName){if(UInv.isString(BagName)&&UInv.isString(ItemName)&&UInv.isString(PocketName)){BagName=FixBagName(BagName);ItemName=FixItemName(ItemName);if(UInv.BagExists(BagName)){if(!UInv.ItemHasPocket(BagName,ItemName,PocketName)){if(UInv.BagHasItem(BagName,ItemName)>1){UInv.IncrementUpdateLock();var NewItemName=UInv.GetUniqueItemName();UInv.RenameItem(BagName,ItemName,NewItemName,1);UInv.SetBagTouched(BagName);ItemName=NewItemName}
if(UInv.BagHasItem(BagName,ItemName)==1){var PocketBagName=PocketName;if(UInv.BagExists(PocketName)){PocketBagName=UInv.GetUniqueBagName()}
UInv.CreateBag(PocketBagName);State.__getUpperName__.UInvBags[PocketBagName].UInvContainer=[{ContainerBagName:BagName,ContainerName:ItemName,PocketName:PocketName}];if(!UInv.ItemHasPocket(BagName,ItemName)){State.__getUpperName__.UInvBags[BagName][ItemName].UInvPocket={}}
State.__getUpperName__.UInvBags[BagName][ItemName].UInvPocket[PocketName]=PocketBagName;UInv.DecrementUpdateLock();UInv.SetCurrentBagName(PocketBagName);return PocketBagName}else{UInvError('CreatePocket cannot find item "'+ItemName+'" in bag "'+BagName+'".');return undefined}}else{UInvError('CreatePocket failed. Pocket "'+PocketName+'" already exists on item.');return undefined}}else{UInvError('CreatePocket cannot find bag "'+BagName+'".');return undefined}}else{UInvError('Name passed to CreatePocket is not a string.');return undefined}},GetItemPocketBagName:function(BagName,ItemName,PocketName){if(UInv.isString(BagName)&&UInv.isString(ItemName)){BagName=FixBagName(BagName);ItemName=FixItemName(ItemName);if(UInv.BagExists(BagName)){if(UInv.BagHasItem(BagName,ItemName)){UInv.SetCurrentBagName(BagName);UInv.SetCurrentItemName(ItemName);if(UInv.ItemHasPocket(BagName,ItemName)){if(UInv.isString(PocketName)){if(UInv.isProperty(State.__getUpperName__.UInvBags[BagName][ItemName].UInvPocket,PocketName)){return State.__getUpperName__.UInvBags[BagName][ItemName].UInvPocket[PocketName]}else{return!1}}else{var PocketBagName=UInv.GetItemPocketBagArray(BagName,ItemName);return PocketBagName.random()}}else{return!1}}else{UInvError('GetItemPocketBagName cannot find item "'+ItemName+'" in bag "'+BagName+'".');return undefined}}else{UInvError('GetItemPocketBagName cannot find bag "'+BagName+'".');return undefined}}else{UInvError('Name passed to GetItemPocketBagName is not a string.');return undefined}},GetPocketBagsPocketName:function(BagName,ItemName,PocketBagName){if(UInv.isString(BagName)&&UInv.isString(ItemName)){BagName=FixBagName(BagName);ItemName=FixItemName(ItemName);if(UInv.BagExists(BagName)){if(UInv.BagHasItem(BagName,ItemName)){UInv.SetCurrentBagName(BagName);UInv.SetCurrentItemName(ItemName);if(UInv.ItemHasPocket(BagName,ItemName)){var PocketNames=UInv.GetItemPocketNameArray(BagName,ItemName),i;for(i=0;i<PocketNames.length;i++){if(State.__getUpperName__.UInvBags[BagName][ItemName].UInvPocket[PocketNames[i]]==PocketBagName){return PocketNames[i]}}
return!1}else{return!1}}else{UInvError('GetPocketBagsPocketName cannot find item "'+ItemName+'" in bag "'+BagName+'".');return undefined}}else{UInvError('GetPocketBagsPocketName cannot find bag "'+BagName+'".');return undefined}}else{UInvError('Name passed to GetPocketBagsPocketName is not a string.');return undefined}},DeletePocket:function(BagName,ItemName,PocketName){if(UInv.isString(BagName)&&UInv.isString(ItemName)&&UInv.isString(PocketName)){BagName=FixBagName(BagName);ItemName=FixItemName(ItemName);if(UInv.BagExists(BagName)){if(UInv.BagHasItem(BagName,ItemName)){var PocketBagName=UInv.GetItemPocketBagName(BagName,ItemName,PocketName);if(PocketBagName){UInv.SetCurrentBagName(BagName);UInv.SetCurrentItemName(ItemName);return UInv.DeleteBag(PocketBagName)}else{UInvError('DeletePocket failed. PocketName "'+PocketName+'" does not exist on container.');return undefined}}else{UInvError('DeletePocket cannot find item "'+ItemName+'" in bag "'+BagName+'".');return undefined}}else{UInvError('DeletePocket cannot find bag "'+BagName+'".');return undefined}}else{UInvError('Name passed to DeletePocket is not a string.');return undefined}},GetAllBagPockets:function(BagName,NoSourceBag){var Bags=[BagName],Pockets,i,j;if((!UInv.isUndefined(NoSourceBag))&&(NoSourceBag==!0)){Bags=[]}
if(UInv.isString(BagName)){BagName=FixBagName(BagName);if(UInv.BagExists(BagName)){var Items=UInv.GetItemsArray(BagName);for(i=0;i<Items.length;i++){Pockets=UInv.GetItemPocketBagArray(BagName,Items[i]);if(Pockets.length>0){Pockets=UInv.GetAllBagPockets(Pockets);for(j=0;j<Pockets.length;j++){Bags.pushUnique(Pockets[j])}}}
UInv.SetCurrentBagName(BagName);return Bags}else{UInvError('GetAllBagPockets cannot find bag "'+BagName+'".');return undefined}}else if(UInv.isArrayOfStrings(BagName)){if(UInv.BagExists(BagName)){for(i=0;i<BagName.length;i++){Pockets=UInv.GetAllBagPockets(BagName[i]);for(j=0;j<Pockets.length;j++){Bags.pushUnique(Pockets[j])}}
UInv.SetCurrentBagName(BagName[0]);return Bags}else{UInvError('GetAllBagPockets failed. Invalid bag name in array.');return undefined}}else{UInvError('Name passed to GetAllBagPockets is not a string or an array of strings.');return undefined}},GetAllContainerPockets:function(ContainerBagName,ContainerName){if(UInv.isString(ContainerBagName)&&UInv.isString(ContainerName)){ContainerBagName=FixBagName(ContainerBagName);ContainerName=FixItemName(ContainerName);if(UInv.BagExists(ContainerBagName)){if(UInv.BagHasItem(ContainerBagName,ContainerName)){if(UInv.ItemHasPocket(ContainerBagName,ContainerName)){var PocketBags=UInv.GetItemPocketBagArray(ContainerBagName,ContainerName),CurPockets,AllPockets=[],i,j;for(i=0;i<PocketBags.length;i++){CurPockets=UInv.GetAllBagPockets(PocketBags[i]);for(j=0;j<CurPockets.length;j++){AllPockets.pushUnique(CurPockets[j])}}
return AllPockets}else{return[]}}else{UInvError('GetAllContainerPockets cannot find item "'+ContainerName+'" in bag "'+ContainerBagName+'".');return undefined}}else{UInvError('GetAllContainerPockets cannot find bag "'+ContainerBagName+'".');return undefined}}else{UInvError('Name passed to GetAllContainerPockets is not a string.');return undefined}},ContainerHasItem:function(ContainerBagName,ContainerName,ItemName){if(UInv.isString(ContainerBagName)&&UInv.isString(ContainerName)){ContainerBagName=FixBagName(ContainerBagName);ContainerName=FixItemName(ContainerName);ItemName=FixItemName(ItemName);if(UInv.BagExists(ContainerBagName)){if(UInv.BagHasItem(ContainerBagName,ContainerName)){if(UInv.ItemHasPocket(ContainerBagName,ContainerName)){var PocketBags=UInv.GetAllContainerPockets(ContainerBagName,ContainerName),i,n=0;for(i=0;i<PocketBags.length;i++){n+=UInv.BagHasItem(PocketBags[i],ItemName)}
return n}else{return 0}}else{UInvError('ContainerHasItem cannot find item "'+ContainerName+'" in bag "'+ContainerBagName+'".');return undefined}}else{UInvError('ContainerHasItem cannot find bag "'+ContainerBagName+'".');return undefined}}else{UInvError('Name passed to ContainerHasItem is not a string.');return undefined}},ContainerHasPocketBag:function(ContainerBagName,ContainerName,BagName){if(UInv.isString(ContainerBagName)&&UInv.isString(ContainerName)){ContainerBagName=FixBagName(ContainerBagName);ContainerName=FixItemName(ContainerName);BagName=FixBagName(BagName);if(UInv.BagExists(ContainerBagName)){if(UInv.BagHasItem(ContainerBagName,ContainerName)){if(UInv.ItemHasPocket(ContainerBagName,ContainerName)){if(UInv.BagExists(BagName)){var PocketBags=UInv.GetItemPocketBagArray(ContainerBagName,ContainerName),CurPockets,i;if(PocketBags.includes(BagName)){return!0}
for(i=0;i<PocketBags.length;i++){CurPockets=UInv.GetAllBagPockets(PocketBags[i]);if(CurPockets.includes(BagName)){return!0}}
return!1}else{return!1}}else{return!1}}else{UInvError('ContainerHasPocketBag cannot find item "'+ContainerName+'" in bag "'+BagName+'".');return undefined}}else{UInvError('ContainerHasPocketBag cannot find bag "'+ContainerBagName+'".');return undefined}}else{UInvError('Name passed to ContainerHasPocketBag is not a string.');return undefined}},AddExistingBagAsPocket:function(BagName,ItemName,PocketName,PocketBagName){if(UInv.isString(BagName)&&UInv.isString(ItemName)&&UInv.isString(PocketName)&&UInv.isString(PocketBagName)){BagName=FixBagName(BagName);ItemName=FixItemName(ItemName);PocketBagName=FixBagName(PocketBagName);if(UInv.BagExists(BagName)){if(UInv.BagHasItem(BagName,ItemName)){if(UInv.BagExists(PocketBagName)){if(!UInv.BagHasSpecificItem(PocketBagName,BagName,ItemName)){if(!UInv.ItemHasPocket(BagName,ItemName,PocketName)){UInv.IncrementUpdateLock();if(UInv.BagHasItem(BagName,ItemName)>1){var NewItemName=UInv.GetUniqueItemName();UInv.RenameItem(BagName,ItemName,NewItemName,1);UInv.SetBagTouched(BagName);ItemName=NewItemName}
State.__getUpperName__.UInvBags[PocketBagName].UInvContainer=[{ContainerBagName:BagName,ContainerName:ItemName,PocketName:PocketName}];if(!UInv.ItemHasPocket(BagName,ItemName)){State.__getUpperName__.UInvBags[BagName][ItemName].UInvPocket={}}
State.__getUpperName__.UInvBags[BagName][ItemName].UInvPocket[PocketName]=PocketBagName;UInv.DecrementUpdateLock();UInv.SetCurrentBagName(PocketBagName);return ItemName}else{UInvError('AddExistingBagAsPocket failed. Pocket "'+PocketName+'" already exists on item.');return undefined}}else{UInvError('AddExistingBagAsPocket failed. Container cannot contain itself.');return undefined}}else{UInvError('AddExistingBagAsPocket cannot find bag "'+PocketBagName+'".');return undefined}}else{UInvError('AddExistingBagAsPocket cannot find item "'+ItemName+'" in bag "'+BagName+'".');return undefined}}else{UInvError('AddExistingBagAsPocket cannot find bag "'+BagName+'".');return undefined}}else{UInvError('Name passed to AddExistingBagAsPocket is not a string.');return undefined}},GetContainerIndex:function(BagName,PocketName){if(UInv.isString(BagName)&&UInv.isString(PocketName)){BagName=FixBagName(BagName);if(UInv.BagExists(BagName)){var Containers=UInv.GetPocketBagContainerArray(BagName);if(Containers.length>0){var i;for(i=0;i<Containers.length;i++){if(Containers[i].PocketName==PocketName){return i}}}
return-1}else{UInvError('GetContainerIndex cannot find bag "'+BagName+'".');return undefined}}else{UInvError('Name passed to GetContainerIndex is not a string.');return undefined}},UnlinkPocketFromContainer:function(ContainerBagName,ContainerName,PocketName){if(UInv.isString(ContainerBagName)&&UInv.isString(ContainerName)){ContainerBagName=FixBagName(ContainerBagName);ContainerName=FixItemName(ContainerName);if(UInv.BagExists(ContainerBagName)){if(UInv.BagHasItem(ContainerBagName,ContainerName)){if(UInv.isString(PocketName)){var PocketBagName=UInv.GetItemPocketBagName(ContainerBagName,ContainerName,PocketName);if(PocketBagName){delete State.__getUpperName__.UInvBags[ContainerBagName][ContainerName].UInvPocket[PocketName];if(Object.keys(State.__getUpperName__.UInvBags[ContainerBagName][ContainerName].UInvPocket).length==0){delete State.__getUpperName__.UInvBags[ContainerBagName][ContainerName].UInvPocket}
var PocketIndex=UInv.GetContainerIndex(PocketBagName,PocketName);if(PocketIndex>=0){State.__getUpperName__.UInvBags[PocketBagName].UInvContainer.deleteAt(PocketIndex);if(State.__getUpperName__.UInvBags[PocketBagName].UInvContainer.length==0){delete State.__getUpperName__.UInvBags[PocketBagName].UInvContainer}}
UInv.SetCurrentBagName(ContainerBagName);UInv.SetCurrentItemName(ContainerName);return!0}else{UInvError('UnlinkPocketFromContainer failed. PocketName "'+PocketName+'" does not exist on container.');return undefined}}else{var Pockets=UInv.GetItemPocketBagArray(ContainerBagName,ContainerName);if(Pockets.length>0){var i;for(i=0;i<Pockets.length;i++){UInv.UnlinkPocketFromContainer(ContainerBagName,ContainerName,Pockets[i])}}
return!0}}else{UInvError('UnlinkPocketFromContainer cannot find item "'+ContainerName+'" in bag "'+ContainerBagName+'".');return undefined}}else{UInvError('UnlinkPocketFromContainer cannot find bag "'+ContainerBagName+'".');return undefined}}else{UInvError('Name passed to UnlinkPocketFromContainer is not a string.');return undefined}},UnlinkPocketBagFromContainer:function(ContainerBagName,ContainerName,PocketBagName){if(UInv.isString(ContainerBagName)&&UInv.isString(ContainerName)&&UInv.isString(PocketBagName)){ContainerBagName=FixBagName(ContainerBagName);ContainerName=FixItemName(ContainerName);if(UInv.BagExists(ContainerBagName)){if(UInv.BagHasItem(ContainerBagName,ContainerName)){if(UInv.BagExists(PocketBagName)){var PocketName=UInv.GetPocketBagsPocketName(ContainerBagName,ContainerName,PocketBagName);if(UInv.isString(PocketName)){return UInv.UnlinkPocketFromContainer(ContainerBagName,ContainerName,PocketName)}else{UInvError('UnlinkPocketBagFromContainer failed. "'+PocketBagName+'" is not a pocket of "'+ContainerName+'" in bag "'+ContainerBagName+'".');return undefined}}else{UInvError('UnlinkPocketBagFromContainer cannot find bag "'+PocketBagName+'".');return undefined}}else{UInvError('UnlinkPocketBagFromContainer cannot find item "'+ContainerName+'" in bag "'+ContainerBagName+'".');return undefined}}else{UInvError('UnlinkPocketBagFromContainer cannot find bag "'+ContainerBagName+'".');return undefined}}else{UInvError('Name passed to UnlinkPocketBagFromContainer is not a string.');return undefined}},MovePocket:function(SourceBagName,SourceItemName,SourcePocketName,DestinationBagName,DestinationItemName,DestinationPocketName){if(UInv.isString(SourceBagName)&&UInv.isString(SourceItemName)&&UInv.isString(SourcePocketName)&&UInv.isString(DestinationBagName)){SourceBagName=FixBagName(SourceBagName);SourceItemName=FixItemName(SourceItemName);DestinationBagName=FixBagName(DestinationBagName);DestinationItemName=FixItemName(DestinationItemName);if(UInv.BagExists(SourceBagName)){if(UInv.BagHasItem(SourceBagName,SourceItemName)){if(UInv.BagExists(DestinationBagName)){if(UInv.BagHasItem(DestinationBagName,DestinationItemName)){if(UInv.ItemHasPocket(SourceBagName,SourceItemName,SourcePocketName)){if(!UInv.isString(DestinationPocketName)){DestinationPocketName=SourcePocketName}
if(!UInv.ItemHasPocket(DestinationBagName,DestinationItemName,DestinationPocketName)||(State.__getUpperName__.UInvBags[SourceBagName]===State.__getUpperName__.UInvBags[DestinationBagName])){var PocketBagName=UInv.GetItemPocketBagName(SourceBagName,SourceItemName,SourcePocketName);if(UInv.BagHasSpecificItem(PocketBagName,DestinationBagName,DestinationItemName)){UInvError('MovePocket failed. Source pocket cannot contain destination item.');return undefined}
if(UInv.UnlinkPocketFromContainer(SourceBagName,SourceItemName,SourcePocketName)){return UInv.AddExistingBagAsPocket(DestinationBagName,DestinationItemName,DestinationPocketName,PocketBagName)}
UInvError('MovePocket failed. Unable to unlink pocket "'+SourcePocketName+'" from item "'+SourceItemName+'" in bag "'+SourceBagName+'".');return undefined}else{UInvError('MovePocket failed. Pocket "'+DestinationPocketName+'" already exists on destination item.');return undefined}}else{UInvError('MovePocket failed. Pocket "'+SourceItemName+'" cannot be found.');return undefined}}else{UInvError('MovePocket cannot find item "'+DestinationItemName+'" in bag "'+DestinationBagName+'".');return undefined}}else{UInvError('MovePocket cannot find bag "'+DestinationBagName+'".');return undefined}}else{UInvError('MovePocket cannot find item "'+SourceItemName+'" in bag "'+SourceBagName+'".');return undefined}}else{UInvError('MovePocket cannot find bag "'+SourceBagName+'".');return undefined}}else{UInvError('Name passed to MovePocket is not a string.');return undefined}},MoveItemFromPocket:function(ContainerBagName,ContainerItemName,PocketName,ItemName,DestinationBagName,Quantity){if(UInv.isString(ContainerBagName)&&UInv.isString(ContainerItemName)&&UInv.isString(PocketName)&&UInv.isString(ItemName)&&UInv.isString(DestinationBagName)){ContainerBagName=FixBagName(ContainerBagName);ContainerItemName=FixItemName(ContainerItemName);ItemName=FixItemName(ItemName);DestinationBagName=FixBagName(DestinationBagName);if(UInv.BagExists(ContainerBagName)){if(UInv.BagHasItem(ContainerBagName,ContainerItemName)){if(UInv.ItemHasPocket(ContainerBagName,ContainerItemName,PocketName)){var PocketBagName=UInv.GetItemPocketBagName(ContainerBagName,ContainerItemName,PocketName);var Count=UInv.BagHasItem(PocketBagName,ItemName);if(Count){if(UInv.BagExists(DestinationBagName)){if(UInv.ContainerHasPocketBag(PocketBagName,ItemName,DestinationBagName)){UInvError('MoveItemFromPocket failed. Source item cannot be moved inside of itself.');return undefined}
Quantity=tryIntParse(Quantity);if(UInv.isNumber(Quantity)){Quantity=Math.round(Quantity);if(Quantity<1){Quantity=1}
if(Quantity>Count){Quantity=Count}}else{Quantity=Count}
return UInv.MoveItem(PocketBagName,DestinationBagName,ItemName,Quantity)}else{UInvError('MoveItemFromPocket cannot find bag "'+DestinationBagName+'".');return undefined}}else{UInvError('MoveItemFromPocket cannot find item "'+ItemName+'" in pocket "'+PocketName+'".');return undefined}}else{UInvError('MoveItemFromPocket failed. Pocket "'+PocketName+'" cannot be found.');return undefined}}else{UInvError('MoveItemFromPocket cannot find item "'+ContainerItemName+'" in bag "'+ContainerBagName+'".');return undefined}}else{UInvError('MoveItemFromPocket cannot find bag "'+ContainerBagName+'".');return undefined}}else{UInvError('Name passed to MoveItemFromPocket is not a string.');return undefined}},MoveItemToPocket:function(SourceBagName,SourceItemName,DestinationBagName,DestinationItemName,DestinationPocketName,Quantity){if(UInv.isString(SourceBagName)&&UInv.isString(SourceItemName)&&UInv.isString(DestinationBagName)&&UInv.isString(DestinationItemName)&&UInv.isString(DestinationPocketName)){SourceBagName=FixBagName(SourceBagName);SourceItemName=FixItemName(SourceItemName);DestinationBagName=FixBagName(DestinationBagName);DestinationItemName=FixItemName(DestinationItemName);if(UInv.BagExists(SourceBagName)){var Count=UInv.BagHasItem(SourceBagName,SourceItemName);if(Count){if(UInv.BagExists(DestinationBagName)){if(UInv.BagHasItem(DestinationBagName,DestinationItemName)){if(UInv.ItemHasPocket(DestinationBagName,DestinationItemName,DestinationPocketName)){var DestinationPocketBagName=UInv.GetItemPocketBagName(DestinationBagName,DestinationItemName,DestinationPocketName);if(UInv.ContainerHasPocketBag(SourceBagName,SourceItemName,DestinationPocketBagName)){UInvError('MoveItemToPocket failed. Source item cannot be moved inside of itself.');return undefined}
Quantity=tryIntParse(Quantity);if(UInv.isNumber(Quantity)){Quantity=Math.round(Quantity);if(Quantity<1){Quantity=1}
if(Quantity>Count){Quantity=Count}}else{Quantity=Count}
var DestinationPocketBag=UInv.GetItemPocketBagName(DestinationBagName,DestinationItemName,DestinationPocketName);return UInv.MoveItem(SourceBagName,DestinationPocketBag,SourceItemName,Quantity)}else{UInvError('MoveItemToPocket failed. Pocket "'+DestinationPocketName+'" cannot be found.');return undefined}}else{UInvError('MoveItemToPocket cannot find item "'+DestinationItemName+'" in bag "'+DestinationBagName+'".');return undefined}}else{UInvError('MoveItemToPocket cannot find bag "'+DestinationBagName+'".');return undefined}}else{UInvError('MoveItemToPocket cannot find item "'+SourceItemName+'" in bag "'+SourceBagName+'".');return undefined}}else{UInvError('MoveItemToPocket cannot find bag "'+SourceBagName+'".');return undefined}}else{UInvError('Name passed to MoveItemToPocket is not a string.');return undefined}},GetDefaultItemObject:function(ItemType){if(UInv.isString(ItemType)){if((ItemType==="")||(ItemType==="-")){return null}
var IName=ItemType.toLowerCase();if(!["","-","uinvtouched","uinvproperties","uinvdefaultbagtype","uinvcontainer"].includes(IName)){var Item=UInv.ItemData(IName);if(UInv.isUndefined(Item)){return null}
if(UInv.isProperty(Item,"UInvQuantity")){delete Item.UInvQuantity}
if(UInv.isProperty(Item,"UInvDefaultItemType")){delete Item.UInvDefaultItemType}
return Item}else{UInvError('GetDefaultItemObject failed. ItemType cannot be "'+ItemType+'".');return undefined}}else{UInvError('ItemType passed to GetDefaultItemObject is not a string.');return undefined}},GetCurrentItemName:function(){if(UInv.isProperty(State.__getUpperName__,"UInvCurrentItemName")){var Value=State.__getUpperName__.UInvCurrentItemName;if(UInv.isString(Value)&&!UInv.ReservedBagProperties_LC.includes(Value.toLowerCase())){return Value}
delete State.__getUpperName__.UInvCurrentItemName}
return""},SetCurrentItemName:function(ItemName){if(UInv.isString(ItemName)){if(ItemName===""){if(UInv.isProperty(State.__getUpperName__,"UInvCurrentItemName")){delete State.__getUpperName__.UInvCurrentItemName}}else{if(!UInv.ReservedBagProperties_LC.includes(ItemName.toLowerCase())){State.__getUpperName__.UInvCurrentItemName=ItemName}else{UInvError('SetCurrentItemName failed.  "'+ItemName+'" is a reserved name which cannot be used as an item name.');return undefined}}
return!0}else{UInvError('ItemName passed to SetCurrentItemName is not a string.');return undefined}},BagHasItem:function(BagName,ItemName){if(UInv.isString(ItemName)){if(UInv.isString(BagName)){BagName=FixBagName(BagName);ItemName=FixItemName(ItemName);if(UInv.BagExists(BagName)){UInv.SetCurrentBagName(BagName);if(UInv.isProperty(State.__getUpperName__.UInvBags[BagName],ItemName)){UInv.SetCurrentItemName(ItemName);if(UInv.isProperty(State.__getUpperName__.UInvBags[BagName][ItemName],"UInvQuantity")){return State.__getUpperName__.UInvBags[BagName][ItemName].UInvQuantity}else{return 1}}else{return 0}}else{UInvError('BagHasItem cannot find bag "'+BagName+'".');return undefined}}else if(UInv.isArrayOfStrings(BagName)){if(UInv.BagExists(BagName)){var i=0,Result=!0;for(i=0;i<BagName.length;i++){Result=UInv.BagHasItem(BagName[i],ItemName)}
return Result}else{UInvError('BagHasItem failed. Invalid bag name in BagName array.');return undefined}}else{UInvError('BagName passed to BagHasItem is not a string or an array of strings.');return undefined}}else{UInvError('ItemName passed to BagHasItem is not a string.');return undefined}},ItemExists:function(ItemName){if(UInv.isString(ItemName)){if(UInv.GetDefaultItemObject(ItemName)){return!0}
var Bags=UInv.GetBagsArray(),i=0;if(Bags.length>0){for(i=0;i<Bags.length;i++){if(UInv.BagHasItem(Bags[i],ItemName)){return!0}}}
return!1}else{UInvError('ItemName passed to ItemExists is not a string.');return undefined}},GetUniqueItemName:function(){var ItemName="item"+UInv.getRandomHexString();while(UInv.ItemExists(ItemName)){ItemName="item"+UInv.getRandomHexString()}
return ItemName},GetItemsDefaultType:function(BagName,ItemName){if(UInv.isString(BagName)&&UInv.isString(ItemName)){BagName=FixBagName(BagName);ItemName=FixItemName(ItemName);if(UInv.BagExists(BagName)){if(UInv.BagHasItem(BagName,ItemName)){var ItemType=ItemName;if(UInv.isProperty(State.__getUpperName__.UInvBags[BagName][ItemName],"UInvDefaultItemType")){ItemType=State.__getUpperName__.UInvBags[BagName][ItemName].UInvDefaultItemType}else if(!UInv.GetDefaultItemObject(ItemType)){ItemType="-"}
return ItemType}else{UInvError('GetItemsDefaultType cannot find item "'+ItemName+'" in bag "'+BagName+'".');return undefined}}else{UInvError('GetItemsDefaultType cannot find bag "'+BagName+'".');return undefined}}else{UInvError('Name passed to GetItemsDefaultType is not a string.');return undefined}},GetItemsArray:function(BagName){if(UInv.isString(BagName)){BagName=FixBagName(BagName);if(UInv.BagExists(BagName)){var Items=Object.keys(State.__getUpperName__.UInvBags[BagName]),i;for(i=0;i<UInv.ReservedBagProperties.length;i++){Items.delete(UInv.ReservedBagProperties[i])}
UInv.SetCurrentBagName(BagName);return Items}else{UInvError('GetItemsArray cannot find bag "'+BagName+'".');return undefined}}else{UInvError('BagName passed to GetItemsArray is not a string.');return undefined}},GetItemObject:function(BagName,ItemName){if(UInv.isString(BagName)&&UInv.isString(ItemName)){BagName=FixBagName(BagName);ItemName=FixItemName(ItemName);if(UInv.BagExists(BagName)){if(UInv.BagHasItem(BagName,ItemName)){var ItemObj=UInv.GetDefaultItemObject(UInv.GetItemsDefaultType(BagName,ItemName));if(ItemObj&&(!UInv.isProperty(ItemObj,"UInvVariableType"))&&(!UInv.isProperty(State.__getUpperName__.UInvBags[BagName][ItemName],"UInvVariableType"))){if(UInv.isProperty(ItemObj,"UInvPocket")){delete ItemObj.UInvPocket}
var TempObj=clone(State.__getUpperName__.UInvBags[BagName][ItemName]);if(UInv.isProperty(TempObj,"UInvQuantity")){delete TempObj.UInvQuantity}
ItemObj=Object.assign({"UInvQuantity":UInv.BagHasItem(BagName,ItemName)},ItemObj,TempObj)}else{ItemObj=clone(State.__getUpperName__.UInvBags[BagName][ItemName]);if(UInv.isProperty(ItemObj,"UInvQuantity")){delete ItemObj.UInvQuantity}
ItemObj=Object.assign({"UInvQuantity":UInv.BagHasItem(BagName,ItemName)},ItemObj)}
UInv.SetCurrentBagName(BagName);UInv.SetCurrentItemName(ItemName);return ItemObj}else{UInvError('GetItemObject cannot find item "'+ItemName+'" in bag "'+BagName+'".');return undefined}}else{UInvError('GetItemObject cannot find bag "'+BagName+'".');return undefined}}else{UInvError('Name passed to GetItemObject is not a string.');return undefined}},GetItemPropertiesArray:function(BagName,ItemName){if(UInv.isString(BagName)&&UInv.isString(ItemName)){BagName=FixBagName(BagName);ItemName=FixItemName(ItemName);if(UInv.BagExists(BagName)){if(UInv.BagHasItem(BagName,ItemName)){var ItemList=UInv.GetItemObject(BagName,ItemName),Result=[];UInv.SetCurrentItemName(ItemName);UInv.SetCurrentBagName(BagName);if(ItemList===undefined){return undefined}else{Result.push("UInvQuantity");if(UInv.isProperty(ItemList,"UInvQuantity")){delete ItemList.UInvQuantity}
Result=Result.concat(Object.keys(ItemList));return Result}}else{UInvError('GetItemPropertiesArray cannot find item "'+ItemName+'" in bag "'+BagName+'".');return undefined}}else{UInvError('GetItemPropertiesArray cannot find bag "'+BagName+'".');return undefined}}else{UInvError('Name passed to GetItemPropertiesArray is not a string.');return undefined}},ItemHasProperty:function(BagName,ItemName,ItemPropertyName){if(UInv.isString(BagName)&&UInv.isString(ItemName)&&UInv.isString(ItemPropertyName)){BagName=FixBagName(BagName);ItemName=FixItemName(ItemName);if(UInv.BagExists(BagName)){if(UInv.BagHasItem(BagName,ItemName)){UInv.SetCurrentItemName(ItemName);UInv.SetCurrentBagName(BagName);return UInv.GetItemPropertiesArray(BagName,ItemName).includes(ItemPropertyName)}else{UInvError('ItemHasProperty cannot find item "'+ItemName+'" in bag "'+BagName+'".');return undefined}}else{UInvError('ItemHasProperty cannot find bag "'+BagName+'".');return undefined}}else{UInvError('Name passed to ItemHasProperty is not a string.');return undefined}},GetItemsArrayByProperty:function(BagName,ItemPropertyName){if(UInv.isString(BagName)&&UInv.isString(ItemPropertyName)){BagName=FixBagName(BagName);if(UInv.BagExists(BagName)){var Items=UInv.GetItemsArray(BagName),Result=[],i;UInv.SetCurrentBagName(BagName);for(i=0;i<Items.length;i++){if(UInv.ItemHasProperty(BagName,Items[i],ItemPropertyName)){Result.push(Items[i])}}
return Result}else{UInvError('GetItemsArrayByProperty cannot find bag "'+BagName+'".');return undefined}}else{UInvError('Name passed to GetItemsArrayByProperty is not a string.');return undefined}},GetItemPropertyValue:function(BagName,ItemName,ItemPropertyName){if(UInv.isString(BagName)&&UInv.isString(ItemName)&&UInv.isString(ItemPropertyName)){BagName=FixBagName(BagName);ItemName=FixItemName(ItemName);if(UInv.BagExists(BagName)){if(UInv.BagHasItem(BagName,ItemName)){UInv.SetCurrentItemName(ItemName);UInv.SetCurrentBagName(BagName);if(UInv.ItemHasProperty(BagName,ItemName,ItemPropertyName)){return UInv.GetItemObject(BagName,ItemName)[ItemPropertyName]}else{UInvError('GetItemPropertyValue cannot find property "'+ItemPropertyName+'" in item "'+ItemName+'".');return undefined}}else{UInvError('GetItemPropertyValue cannot find item "'+ItemName+'" in bag "'+BagName+'".');return undefined}}else{UInvError('GetItemPropertyValue cannot find bag "'+BagName+'".');return undefined}}else{UInvError('Name passed to GetItemPropertyValue is not a string.');return undefined}},GetItemsArrayWherePropertyEquals:function(BagName,ItemPropertyName,Value){if(UInv.isString(BagName)&&UInv.isString(ItemPropertyName)){if(arguments.length>=3){BagName=FixBagName(BagName);if(UInv.BagExists(BagName)){var Items=UInv.GetItemsArrayByProperty(BagName,ItemPropertyName),Result=[],i=0;UInv.SetCurrentBagName(BagName);for(i=0;i<Items.length;i++){if(UInv.valuesAreEqual(UInv.GetItemPropertyValue(BagName,Items[i],ItemPropertyName),Value)){Result.push(Items[i])}}
return Result}else{UInvError('GetItemsArrayWherePropertyEquals cannot find bag "'+BagName+'".');return undefined}}else{UInvError('GetItemsArrayWherePropertyEquals failed. Value parameter is missing.');return undefined}}else{UInvError('Name passed to GetItemsArrayWherePropertyEquals is not a string.');return undefined}},BagHasAllItems:function(BagName,ItemArray){var i=0;if(UInv.isString(BagName)){if(UInv.isArrayOfStrings(ItemArray)){BagName=FixBagName(BagName);if(UInv.BagExists(BagName)){UInv.SetCurrentBagName(BagName);for(i=0;i<ItemArray.length;i++){if(!UInv.BagHasItem(BagName,ItemArray[0])){return!1}}
return!0}else{UInvError('BagHasAllItems cannot find bag "'+BagName+'".');return undefined}}else{UInvError('ItemArray passed to BagHasAllItems is not an array of strings.');return undefined}}else if(UInv.isArrayOfStrings(BagName)){if(UInv.BagExists(BagName)){var Result=!0;for(i=0;i<BagName.length;i++){Result=UInv.BagHasAllItems(BagName[i],ItemArray)}
return Result}else{UInvError('BagHasAllItems failed. Invalid bag name in BagName array.');return undefined}}else{UInvError('BagName passed to BagHasAllItems is not a string or array of strings.');return undefined}},SetItemsDefaultType:function(BagName,ItemName,DefaultItemType){if(UInv.isString(BagName)&&UInv.isString(ItemName)&&UInv.isString(DefaultItemType)){BagName=FixBagName(BagName);ItemName=FixItemName(ItemName);if(UInv.BagExists(BagName)){if(UInv.BagHasItem(BagName,ItemName)){var DefObj=UInv.GetDefaultItemObject(DefaultItemType);if(DefObj||(DefaultItemType==="-")){UInv.SetCurrentItemName(ItemName);UInv.SetCurrentBagName(BagName);var Item=UInv.GetItemObject(BagName,ItemName);if(DefaultItemType!=="-"){RemoveItemObjectsDefaultProperties(Item,DefaultItemType)}
var VarType=UInv.isProperty(DefObj,"UInvVariableType");if(VarType){Item.UInvVariableType=DefObj.UInvVariableType}
if((ItemName!==DefaultItemType)||VarType){Item.UInvDefaultItemType=DefaultItemType}
if((ItemName===DefaultItemType)&&(UInv.isProperty(Item,"UInvDefaultItemType"))&&!VarType){delete Item.UInvDefaultItemType}
delete State.__getUpperName__.UInvBags[BagName][ItemName];State.__getUpperName__.UInvBags[BagName][ItemName]=Item;return!0}else{UInvError('SetItemsDefaultType failed. "'+DefaultItemType+'" is not a valid default item type.');return undefined}}else{UInvError('SetItemsDefaultType cannot find item "'+ItemName+'" in bag "'+BagName+'".');return undefined}}else{UInvError('SetItemsDefaultType cannot find bag "'+BagName+'".');return undefined}}else{UInvError('Name passed to SetItemsDefaultType is not a string.');return undefined}},SetItemPropertyValue:function(BagName,ItemName,ItemPropertyName,Value){if(UInv.isString(BagName)&&UInv.isString(ItemName)&&UInv.isString(ItemPropertyName)){BagName=FixBagName(BagName);ItemName=FixItemName(ItemName);if(UInv.BagExists(BagName)){if(UInv.BagHasItem(BagName,ItemName)){UInv.SetCurrentBagName(BagName);UInv.SetCurrentItemName(ItemName);if(arguments.length>=4){if(UInv.ItemHasProperty(BagName,ItemName,ItemPropertyName)){var ItemType=UInv.GetItemsDefaultType(BagName,ItemName);switch(ItemPropertyName){case "UInvQuantity":if(UInv.isNumber(Value)){if((Value>0)&&(Value===Math.round(Value))){if(UInv.BagHasItem(BagName,ItemName)!==Value){if(Value===1){delete State.__getUpperName__.UInvBags[BagName][ItemName].UInvQuantity}else{if(UInv.ItemHasPocket(BagName,ItemName)){UInvError('SetItemPropertyValue failed on item item "'+ItemName+'" in bag "'+BagName+'". UInvQuantity cannot be above one for items with pockets.');return undefined}else{State.__getUpperName__.UInvBags[BagName][ItemName].UInvQuantity=Value}}
UInv.SetBagTouched(BagName)}
return!0}else{UInvError('SetItemPropertyValue failed. UInvQuantity must be a positive integer.');return undefined}}else{UInvError('SetItemPropertyValue failed. UInvQuantity must be a positive integer.')}
return undefined;case "UInvDefaultItemType":if((!UInv.GetDefaultItemObject(Value))&&(Value!=="-")){UInvError('SetItemPropertyValue failed. When setting the UInvDefaultItemType property, the Value parameter must be a valid default item type.');return undefined}
return UInv.SetItemsDefaultType(BagName,ItemName,Value);case "UInvVariableType":if(UInv.isProperty(State.__getUpperName__.UInvBags[BagName][ItemName],"UInvVariableType")||(ItemType==="-")){State.__getUpperName__.UInvBags[BagName][ItemName].UInvVariableType=Value}else{State.__getUpperName__.UInvBags[BagName][ItemName]=Object.assign({},UInv.GetDefaultItemObject(ItemType),State.__getUpperName__.UInvBags[BagName][ItemName]);State.__getUpperName__.UInvBags[BagName].UInvDefaultItemType=ItemType;State.__getUpperName__.UInvBags[BagName][ItemName].UInvVariableType=Value}
return!0;case "UInvPocket":UInvError('SetItemPropertyValue failed. Pockets should not be manipulated directly. Use Pocket/Container functions instead.');return undefined;default:var Item=UInv.GetDefaultItemObject(ItemType);if(Item){if((UInv.isProperty(Item,ItemPropertyName))&&(!UInv.isProperty(Item,"UInvVariableType"))){if(UInv.valuesAreEqual(Value,Item[ItemPropertyName])){if(UInv.isProperty(State.__getUpperName__.UInvBags[BagName][ItemName],ItemPropertyName)){delete State.__getUpperName__.UInvBags[BagName][ItemName][ItemPropertyName]}
return!0}}}
State.__getUpperName__.UInvBags[BagName][ItemName][ItemPropertyName]=Value;return!0}}else{State.__getUpperName__.UInvBags[BagName][ItemName][ItemPropertyName]=Value;return!1}}else{UInvError('SetItemPropertyValue failed. Value parameter is missing.');return undefined}}else{UInvError('SetItemPropertyValue cannot find item "'+ItemName+'" in bag "'+BagName+'".');return undefined}}else{UInvError('SetItemPropertyValue cannot find bag "'+BagName+'".');return undefined}}else{UInvError('Name passed to SetItemPropertyValue is not a string.');return undefined}},SetItemQuantity:function(BagName,ItemName,Quantity){if(UInv.isString(BagName)&&UInv.isString(ItemName)){BagName=FixBagName(BagName);ItemName=FixItemName(ItemName);if(UInv.BagExists(BagName)){if(UInv.BagHasItem(BagName,ItemName)){Quantity=tryIntParse(Quantity);if(UInv.isNumber(Quantity)){if((Quantity===Math.round(Quantity))&&(Quantity>0)){if(UInv.BagHasItem(BagName,ItemName)!==Quantity){if((UInv.ItemHasPocket(BagName,ItemName))&&(Quantity>1)){UInvError('SetItemQuantity failed on item item "'+ItemName+'" in bag "'+BagName+'". Quantity cannot be above one for items with pockets.');return undefined}
UInv.SetItemPropertyValue(BagName,ItemName,"UInvQuantity",Quantity);UInv.SetBagTouched(BagName)}
return!0}else{UInvError('Quantity passed to SetItemQuantity must be a positive integer.');return undefined}}else{UInvError('Quantity passed to SetItemQuantity is not a number.');return undefined}}else{UInvError('SetItemQuantity cannot find item "'+ItemName+'" in bag "'+BagName+'".');return undefined}}else{UInvError('SetItemQuantity cannot find bag "'+BagName+'".');return undefined}}else{UInvError('Name passed to SetItemQuantity is not a string.');return undefined}},DeleteItem:function(BagName,ItemName,Quantity){if(UInv.isString(BagName)){BagName=FixBagName(BagName);if(UInv.BagExists(BagName)){var i=0;if(UInv.isString(ItemName)){ItemName=FixItemName(ItemName);if(!UInv.ReservedBagProperties.includes(ItemName)){if(UInv.BagHasItem(BagName,ItemName)){UInv.SetCurrentBagName(BagName);var Amt=UInv.BagHasItem(BagName,ItemName);if(Amt>0){Quantity=tryIntParse(Quantity);if(UInv.isNumber(Quantity)){Quantity=Math.round(Quantity);if(Quantity<0){Quantity=0}
if(Quantity>Amt){Quantity=Amt}}else{Quantity=Amt}
if(Quantity>0){if(Quantity===Amt){var PocketNames=UInv.GetItemPocketNameArray(BagName,ItemName),PocketBag;if(PocketNames.length>0){for(i=0;i<PocketNames.length;i++){PocketBag=UInv.GetItemPocketBagName(BagName,ItemName,PocketNames[i]);UInv.UnlinkPocketFromContainer(BagName,ItemName,PocketNames[i]);if(!UInv.BagIsPocket(PocketBag)){UInv.DeleteBag(PocketBag)}}}
delete State.__getUpperName__.UInvBags[BagName][ItemName];UInv.SetBagTouched(BagName)}else{UInv.SetItemQuantity(BagName,ItemName,UInv.BagHasItem(BagName,ItemName)-Quantity);UInv.SetBagTouched(BagName);UInv.SetCurrentItemName(ItemName)}}else{UInv.SetCurrentItemName(ItemName)}
return!0}else{return!0}}else{UInvError('Item "'+ItemName+'" passed to DeleteItem do not exist in bag "'+BagName+'".');return undefined}}else{UInvError('DeleteItem failed. ItemName cannot be "'+ItemName+'".');return undefined}}else if(UInv.isArrayOfStrings(ItemName)){if(UInv.BagHasAllItems(BagName,ItemName)){var Result=!0;if(ItemName.length>0){for(i=0;i<ItemName.length;i++){if(!UInv.DeleteItem(BagName,ItemName[i],Quantity)){Result=undefined}}}
return Result}else{UInvError('Some items names passed to DeleteItem do not exist in bag "'+BagName+'".');return undefined}}else{UInvError('DeleteItem failed. ItemName is not a string or an array of strings.');return undefined}}else{UInvError('DeleteItem cannot find bag "'+BagName+'".');return undefined}}else{UInvError('BagName passed to DeleteItem is not a string.');return undefined}},AddToItemPropertyValue:function(BagName,ItemName,ItemPropertyName,Amount){if(UInv.isString(BagName)&&UInv.isString(ItemName)&&UInv.isString(ItemPropertyName)){BagName=FixBagName(BagName);ItemName=FixItemName(ItemName);if(!UInv.ReservedBagProperties.includes(ItemName)){if(UInv.BagExists(BagName)){if(UInv.BagHasItem(BagName,ItemName)){if(ItemPropertyName==="UInvDefaultItemType"){UInvError('AddToItemPropertyValue cannot be used to modify the value of UInvDefaultItemType. Use SetItemsDefaultType instead.');return undefined}
if(!UInv.isUndefined(Amount)){Amount=tryIntParse(Amount);if(UInv.isNumber(Amount)){if(UInv.ItemHasProperty(BagName,ItemName,ItemPropertyName)){var Value=UInv.GetItemPropertyValue(BagName,ItemName,ItemPropertyName);Value=tryIntParse(Value);if(UInv.isNumber(Value)){if(ItemPropertyName==="UInvQuantity"){if(Amount===Math.round(Amount)){if(Value+Amount>0){if((UInv.ItemHasPocket(BagName,ItemName))&&(Value+Amount>1)){UInvError('AddToItemPropertyValue failed on item item "'+ItemName+'" in bag "'+BagName+'". Quantity cannot be set above one for items with pockets.');return undefined}
UInv.SetItemQuantity(BagName,ItemName,Value+Amount)}else{UInv.DeleteItem(BagName,ItemName)}
UInv.SetCurrentItemName(ItemName);UInv.SetCurrentBagName(BagName);UInv.SetBagTouched(BagName);return!0}else{UInvError('AddToItemPropertyValue failed. Value added to UInvQuantity must be an integer.');return undefined}}else{UInv.SetItemPropertyValue(BagName,ItemName,ItemPropertyName,Value+Amount);UInv.SetCurrentItemName(ItemName);UInv.SetCurrentBagName(BagName);return!0}}else{UInvError('AddToItemPropertyValue failed. ItemPropertyName "'+ItemPropertyName+'" is not a number.');return undefined}}else{UInv.SetItemPropertyValue(BagName,ItemName,ItemPropertyName,Amount);UInv.SetCurrentItemName(ItemName);UInv.SetCurrentBagName(BagName);return!1}}else{UInvError('AddToItemPropertyValue failed. Amount is not a number.');return undefined}}else{UInvError('AddToItemPropertyValue failed. Amount not defined.');return undefined}}else{UInvError('AddToItemPropertyValue cannot find item "'+ItemName+'" in bag "'+BagName+'".');return undefined}}else{UInvError('AddToItemPropertyValue cannot find bag "'+BagName+'".');return undefined}}else{UInvError('AddToItemPropertyValue failed. ItemName cannot be "'+ItemName+'".');return undefined}}else{UInvError('Name passed to AddToItemPropertyValue is not a string.');return undefined}},ItemsMatch:function(BagName1,ItemName1,BagName2,ItemName2,PropertyExceptionArray){if(UInv.isString(BagName1)&&UInv.isString(ItemName1)&&UInv.isString(BagName2)&&UInv.isString(ItemName2)){BagName2=FixBagName(BagName2);ItemName2=FixItemName(ItemName2);BagName1=FixBagName(BagName1);ItemName1=FixItemName(ItemName1);if(UInv.BagExists(BagName1)){if(UInv.BagExists(BagName2)){if(UInv.BagHasItem(BagName1,ItemName1)){if(UInv.BagHasItem(BagName2,ItemName2)){var Props1=[],Props2=[],i,Value1,Value2;UInv.SetCurrentItemName(ItemName1);UInv.SetCurrentBagName(BagName1);Props1=UInv.GetItemPropertiesArray(BagName1,ItemName1);Props2=UInv.GetItemPropertiesArray(BagName2,ItemName2);Props1.delete("UInvQuantity","UInvDefaultItemType","UInvCell");Props2.delete("UInvQuantity","UInvDefaultItemType","UInvCell");if(UInv.isString(PropertyExceptionArray)){PropertyExceptionArray=[PropertyExceptionArray]}
if(!UInv.isUndefined(PropertyExceptionArray)){if(UInv.isArrayOfStrings(PropertyExceptionArray)){for(i=0;i<PropertyExceptionArray.length;i++){Props1.delete(PropertyExceptionArray[i]);Props2.delete(PropertyExceptionArray[i])}}else{UInvError('ItemsMatch failed.  When included, the PropertyExceptionArray must be a string or an array of strings.');return undefined}}
Props1=Props1.sort();Props2=Props2.sort();if(UInv.arraysAreEqual(Props1,Props2)){for(i=0;i<Props1.length;i++){Value1=UInv.GetItemPropertyValue(BagName1,ItemName1,Props1[i]);Value2=UInv.GetItemPropertyValue(BagName2,ItemName2,Props1[i]);if(!UInv.valuesAreEqual(Value1,Value2)){return!1}}
return!0}else{return!1}}else{UInvError('ItemsMatch cannot find item "'+ItemName2+'" in bag "'+BagName2+'".');return undefined}}else{UInvError('ItemsMatch cannot find item "'+ItemName1+'" in bag "'+BagName1+'".');return undefined}}else{UInvError('ItemsMatch cannot find bag "'+BagName2+'".');return undefined}}else{UInvError('ItemsMatch cannot find bag "'+BagName1+'".');return undefined}}else{UInvError('Name passed to ItemsMatch is not a string.');return undefined}},GetMatchingItemsArray:function(BagName,ItemName,SearchBag,PropertyExceptionArray){if(UInv.isString(BagName)&&UInv.isString(ItemName)){BagName=FixBagName(BagName);ItemName=FixItemName(ItemName);if(UInv.BagExists(BagName)){if(UInv.BagHasItem(BagName,ItemName)){if(UInv.BagExists(SearchBag)){if(UInv.isString(PropertyExceptionArray)){PropertyExceptionArray=[PropertyExceptionArray]}
if(!UInv.isUndefined(PropertyExceptionArray)){if(!UInv.isArrayOfStrings(PropertyExceptionArray)){UInvError('GetMatchingItemsArray failed.  When included, the PropertyExceptionArray must be a string or an array of strings.');return undefined}}
var Items=UInv.GetItemsArray(SearchBag),Result=[],i;UInv.SetCurrentItemName(ItemName);UInv.SetCurrentBagName(BagName);for(i=0;i<Items.length;i++){if(UInv.isUndefined(PropertyExceptionArray)){if(UInv.ItemsMatch(BagName,ItemName,SearchBag,Items[i])){Result.push(Items[i])}}else{if(UInv.ItemsMatch(BagName,ItemName,SearchBag,Items[i],PropertyExceptionArray)){Result.push(Items[i])}}}
return Result}else{UInvError('GetMatchingItemsArray cannot find bag "'+SearchBag+'".');return undefined}}else{UInvError('GetMatchingItemsArray cannot find item "'+ItemName+'" in bag "'+BagName+'".');return undefined}}else{UInvError('GetMatchingItemsArray cannot find bag "'+BagName+'".');return undefined}}else{UInvError('Name passed to GetMatchingItemsArray is not a string.');return undefined}},CopyItem:function(SourceBagName,DestinationBagName,ItemName,Quantity,NewItemName){if(UInv.isString(SourceBagName)&&UInv.isString(DestinationBagName)&&UInv.isString(ItemName)){SourceBagName=FixBagName(SourceBagName);DestinationBagName=FixBagName(DestinationBagName);ItemName=FixItemName(ItemName);if(!UInv.ReservedBagProperties.includes(ItemName)){if(UInv.BagExists(SourceBagName)){if(UInv.BagExists(DestinationBagName)){if(UInv.BagHasItem(SourceBagName,ItemName)){if((!UInv.isUndefined(NewItemName))||(SourceBagName!==DestinationBagName)){if(UInv.isUndefined(NewItemName)){NewItemName=ItemName}
if(UInv.isString(NewItemName)){Quantity=tryIntParse(Quantity);if(UInv.isNumber(Quantity)){Quantity=Math.round(Quantity);if(Quantity<1){Quantity=1}}else{Quantity=UInv.BagHasItem(SourceBagName,ItemName)}
var Item=UInv.GetItemObject(SourceBagName,ItemName),ItemType=UInv.GetItemsDefaultType(SourceBagName,ItemName),i;Item.UInvQuantity=Quantity;if(UInv.isProperty(Item,"UInvCell")){delete Item.UInvCell}
if(UInv.ItemHasPocket(SourceBagName,ItemName)){var PocketBagName,Keys=Object.keys(Item.UInvPocket);for(i=0;i<Keys.length;i++){PocketBagName=UInv.GetUniqueBagName();UInv.CopyBag(Item.UInvPocket[Keys[i]],PocketBagName);Item.UInvPocket[Keys[i]]=PocketBagName;State.__getUpperName__.UInvBags[PocketBagName].UInvContainer=[{ContainerBagName:DestinationBagName,ContainerName:NewItemName,PocketName:Keys[i]}]}
Item.UInvQuantity=1}
if(UInv.isProperty(Item,"UInvVariableType")){var ItemList=UInv.GetItemsArrayWherePropertyEquals(DestinationBagName,"UInvDefaultItemType",ItemType);if(ItemList.length>0){for(i=0;i<ItemList.length;i++){if(UInv.ItemsMatch(SourceBagName,ItemName,DestinationBagName,ItemList[i])){UInv.AddToItemPropertyValue(DestinationBagName,ItemList[i],"UInvQuantity",Quantity);UInv.SetCurrentItemName(ItemList[i]);UInv.SetCurrentBagName(DestinationBagName);UInv.SetBagTouched(DestinationBagName);return ItemList[i]}}}}
if(UInv.BagHasItem(DestinationBagName,NewItemName)){var Result=NewItemName,SrcKeys={},MergeMethod=State.__getUpperName__.UInvMergeItemMethod;if(UInv.ItemHasPocket(SourceBagName,ItemName)){MergeMethod=UInv.MERGE_RENAME_SOURCE_ITEMNAME}else{if(UInv.ItemsMatch(SourceBagName,ItemName,DestinationBagName,NewItemName)){UInv.AddToItemPropertyValue(DestinationBagName,NewItemName,"UInvQuantity",Quantity);UInv.SetCurrentItemName(NewItemName);UInv.SetCurrentBagName(DestinationBagName);UInv.SetBagTouched(DestinationBagName);return Result}}
if(UInv.isProperty(Item,"UInvVariableType")){MergeMethod=UInv.MERGE_RENAME_SOURCE_ITEMNAME}
switch(MergeMethod){case UInv.MERGE_USE_ONLY_SOURCE_PROPERTIES:Item.UInvQuantity+=UInv.BagHasItem(DestinationBagName,NewItemName);if(!UInv.isProperty(Item,"UInvVariableType")){if(ItemType!==NewItemName){if((ItemType==="-")&&(!UInv.GetDefaultItemObject(NewItemName))){if(UInv.isProperty(Item,"UInvDefaultItemType")){delete Item.UInvDefaultItemType}}else{Item.UInvDefaultItemType=ItemType}}else if(UInv.isProperty(Item,"UInvDefaultItemType")){delete Item.UInvDefaultItemType}}
UInv.DeleteItem(DestinationBagName,NewItemName);RemoveItemObjectsDefaultProperties(Item,ItemType);State.__getUpperName__.UInvBags[DestinationBagName][NewItemName]=Item;UInv.SetCurrentItemName(NewItemName);UInv.SetCurrentBagName(DestinationBagName);UInv.SetBagTouched(DestinationBagName);break;case UInv.MERGE_PREFER_DESTINATION_PROPERTIES:UInv.AddToItemPropertyValue(DestinationBagName,NewItemName,"UInvQuantity",Quantity);if(UInv.isProperty(Item,"UInvDefaultItemType")){delete Item.UInvDefaultItemType}
SrcKeys=Object.keys(Item);if(SrcKeys.length>0){for(i=0;i<SrcKeys.length;i++){if(UInv.ItemHasProperty(DestinationBagName,NewItemName,SrcKeys[i])){delete Item[SrcKeys[i]]}}}
if(Object.keys(Item).length>0){Object.assign(State.__getUpperName__.UInvBags[DestinationBagName][NewItemName],Item)}
UInv.SetCurrentItemName(NewItemName);UInv.SetCurrentBagName(DestinationBagName);UInv.SetBagTouched(DestinationBagName);break;case UInv.MERGE_PREFER_SOURCE_PROPERTIES:Item.UInvQuantity+=UInv.BagHasItem(DestinationBagName,NewItemName);if(!UInv.isProperty(Item,"UInvVariableType")){if(ItemType!==NewItemName){if((ItemType==="-")&&(!UInv.GetDefaultItemObject(NewItemName))){if(UInv.isProperty(Item,"UInvDefaultItemType")){delete Item.UInvDefaultItemType}}else{Item.UInvDefaultItemType=ItemType}}else if(UInv.isProperty(Item,"UInvDefaultItemType")){delete Item.UInvDefaultItemType}}
SrcKeys=Object.keys(Item);for(i=0;i<SrcKeys.length;i++){if(UInv.ItemHasProperty(DestinationBagName,NewItemName,SrcKeys[i])){if(UInv.isProperty(State.__getUpperName__.UInvBags[DestinationBagName][NewItemName],SrcKeys[i])){delete State.__getUpperName__.UInvBags[DestinationBagName][NewItemName][SrcKeys[i]]}}}
RemoveItemObjectsDefaultProperties(Item,ItemType);if(Object.keys(Item).length>0){Object.assign(State.__getUpperName__.UInvBags[DestinationBagName][NewItemName],Item)}
UInv.SetCurrentItemName(NewItemName);UInv.SetCurrentBagName(DestinationBagName);UInv.SetBagTouched(DestinationBagName);break;case UInv.MERGE_RENAME_SOURCE_ITEMNAME:if(UInv.isProperty(Item,"UInvPocket")){NewItemName=[]}else{NewItemName=UInv.GetMatchingItemsArray(SourceBagName,ItemName,DestinationBagName);while((NewItemName.length>0)&&(UInv.ItemHasPocket(DestinationBagName,NewItemName[0]))){NewItemName.shift()}}
if(NewItemName.length==0){NewItemName=UInv.GetUniqueItemName();Item.UInvDefaultItemType=ItemType;RemoveItemObjectsDefaultProperties(Item,ItemType);if(Item.UInvQuantity===1){delete Item.UInvQuantity}
State.__getUpperName__.UInvBags[DestinationBagName][NewItemName]=Item}else{NewItemName=NewItemName[0];UInv.AddToItemPropertyValue(DestinationBagName,NewItemName,"UInvQuantity",Item.UInvQuantity)}
FixContainerReferences(SourceBagName,ItemName,DestinationBagName,NewItemName);UInv.SetCurrentItemName(NewItemName);UInv.SetCurrentBagName(DestinationBagName);UInv.SetBagTouched(DestinationBagName);Result=NewItemName;break;case UInv.MERGE_FAIL_WITH_ERROR:UInvError('CopyItem failed. Item "'+NewItemName+'" already exists in destination bag "'+DestinationBagName+'".');Result=undefined;break;default:UInv.AddToItemPropertyValue(DestinationBagName,NewItemName,"UInvQuantity",Quantity);UInv.SetCurrentItemName(NewItemName);UInv.SetCurrentBagName(DestinationBagName);UInv.SetBagTouched(DestinationBagName)}
return Result}else{if(ItemType!=="-"){RemoveItemObjectsDefaultProperties(Item,ItemType)}
if(!UInv.isProperty(Item,"UInvVariableType")){if(NewItemName!==ItemType){if((ItemType==="-")&&(!UInv.GetDefaultItemObject(NewItemName))){if(UInv.isProperty(Item,"UInvDefaultItemType")){delete Item.UInvDefaultItemType}}else{Item.UInvDefaultItemType=ItemType}}
if((NewItemName===ItemType)&&(UInv.isProperty(Item,"UInvDefaultItemType"))){delete Item.UInvDefaultItemType}}
if(Item.UInvQuantity===1){delete Item.UInvQuantity}
State.__getUpperName__.UInvBags[DestinationBagName][NewItemName]=Item;UInv.SetCurrentItemName(NewItemName);UInv.SetCurrentBagName(DestinationBagName);UInv.SetBagTouched(DestinationBagName);return NewItemName}}else{UInvError('NewItemName passed to CopyItem is not a string.');return undefined}}else{UInvError('CopyItem failed. SourceBagName cannot equal DestinationBagName if NewItemName is not set.');return undefined}}else{UInvError('CopyItem cannot find item "'+ItemName+'" in bag "'+SourceBagName+'".');return undefined}}else{UInvError('CopyItem cannot find destination bag "'+DestinationBagName+'".');return undefined}}else{UInvError('CopyItem cannot find source bag "'+SourceBagName+'".');return undefined}}else{UInvError('CopyItem failed. ItemName cannot be "'+ItemName+'".');return undefined}}else{UInvError('Name passed to CopyItem is not a string.');return undefined}},MoveItem:function(SourceBagName,DestinationBagName,ItemName,Quantity,NewItemName){if(UInv.isString(SourceBagName)&&UInv.isString(DestinationBagName)&&UInv.isString(ItemName)){SourceBagName=FixBagName(SourceBagName);DestinationBagName=FixBagName(DestinationBagName);ItemName=FixItemName(ItemName);if(!UInv.ReservedBagProperties.includes(ItemName)){if(UInv.BagExists(SourceBagName)){if(UInv.BagExists(DestinationBagName)){if(UInv.BagHasItem(SourceBagName,ItemName)){if(SourceBagName!==DestinationBagName){if(UInv.ItemHasPocket(SourceBagName,ItemName)){if(UInv.ContainerHasPocketBag(SourceBagName,ItemName,DestinationBagName)){UInvError('MoveItem failed. Item cannot be moved inside of itself.');return undefined}}
var Count=UInv.BagHasItem(SourceBagName,ItemName);Quantity=tryIntParse(Quantity);if(UInv.isNumber(Quantity)){Quantity=Math.round(Quantity);if(Quantity<1){Quantity=1}
if(Quantity>Count){Quantity=Count}}else{Quantity=Count}
if(UInv.isUndefined(NewItemName)){NewItemName=ItemName}else if(UInv.isString(NewItemName)){if(UInv.ReservedBagProperties.includes(NewItemName)){UInvError('MoveItem failed. NewItemName cannot be "'+NewItemName+'".');return undefined}}else{UInvError('NewItemName passed to MoveItem is not a string.');return undefined}
UInv.IncrementUpdateLock();var Result;if(UInv.ItemHasPocket(SourceBagName,ItemName)){if(UInv.BagHasItem(DestinationBagName,NewItemName)){NewItemName=UInv.GetUniqueItemName()}
Result=NewItemName;var DefaultType=UInv.GetItemsDefaultType(SourceBagName,ItemName);State.__getUpperName__.UInvBags[DestinationBagName][NewItemName]=State.__getUpperName__.UInvBags[SourceBagName][ItemName];delete State.__getUpperName__.UInvBags[SourceBagName][ItemName];if(NewItemName==DefaultType){if(UInv.isProperty(State.__getUpperName__.UInvBags[DestinationBagName][NewItemName],"UInvDefaultItemType")){delete State.__getUpperName__.UInvBags[DestinationBagName][NewItemName].UInvDefaultItemType}}else if(DefaultType!="-"){State.__getUpperName__.UInvBags[DestinationBagName][NewItemName].UInvDefaultItemType=DefaultType}else if(UInv.GetDefaultItemObject(DefaultType)){State.__getUpperName__.UInvBags[DestinationBagName][NewItemName].UInvDefaultItemType=DefaultType}else if(UInv.isProperty(State.__getUpperName__.UInvBags[DestinationBagName][NewItemName],"UInvDefaultItemType")){delete State.__getUpperName__.UInvBags[DestinationBagName][NewItemName].UInvDefaultItemType}
var Pockets=Object.keys(State.__getUpperName__.UInvBags[DestinationBagName][NewItemName].UInvPocket),PocketBag,Container,i,j;for(i=0;i<Pockets.length;i++){PocketBag=State.__getUpperName__.UInvBags[DestinationBagName][NewItemName].UInvPocket[Pockets[i]];Container=State.__getUpperName__.UInvBags[PocketBag].UInvContainer;for(j=0;j<Container.length;j++){if((Container[j].ContainerBagName==SourceBagName)&&(Container[j].ContainerName==ItemName)&&(Container[j].PocketName==Pockets[i])){Container[j].ContainerBagName=DestinationBagName;Container[j].ContainerName=NewItemName}}}
UInv.SetBagTouched(DestinationBagName)}else{Result=UInv.CopyItem(SourceBagName,DestinationBagName,ItemName,Quantity,NewItemName);if(Quantity>=UInv.BagHasItem(SourceBagName,ItemName)){UInv.DeleteItem(SourceBagName,ItemName)}else{UInv.AddToItemPropertyValue(SourceBagName,ItemName,"UInvQuantity",-Quantity)}}
UInv.DecrementUpdateLock();UInv.SetCurrentItemName(NewItemName);UInv.SetCurrentBagName(DestinationBagName);return Result}else{UInvError('MoveItem failed. SourceBagName cannot equal DestinationBagName.');return undefined}}else{UInvError('MoveItem cannot find item "'+ItemName+'" in bag "'+SourceBagName+'".');return undefined}}else{UInvError('MoveItem cannot find destination bag "'+DestinationBagName+'".');return undefined}}else{UInvError('MoveItem cannot find source bag "'+SourceBagName+'".');return undefined}}else{UInvError('MoveItem failed. ItemName cannot be "'+ItemName+'".');return undefined}}else{UInvError('Name passed to MoveItem is not a string.');return undefined}},RenameItem:function(BagName,CurrentItemName,NewItemName,Quantity){if(UInv.isString(BagName)&&UInv.isString(CurrentItemName)&&UInv.isString(NewItemName)){BagName=FixBagName(BagName);CurrentItemName=FixItemName(CurrentItemName);NewItemName=FixItemName(NewItemName);if((!UInv.ReservedBagProperties.includes(CurrentItemName))&&(!UInv.ReservedBagProperties.includes(NewItemName))){if(UInv.BagExists(BagName)){if(UInv.BagHasItem(BagName,CurrentItemName)){if(CurrentItemName===NewItemName){return!0}else if(UInv.BagHasItem(BagName,NewItemName)&&(State.__getUpperName__.UInvMergeItemMethod===UInv.MERGE_FAIL_WITH_ERROR)){UInvError('RenameItem failed. Item name "'+NewItemName+'" already exists in bag "'+BagName+'".');return undefined}else{Quantity=tryIntParse(Quantity);if(UInv.isNumber(Quantity)){Quantity=Math.round(Quantity);if(Quantity<1){Quantity=1}
if(Quantity>UInv.BagHasItem(BagName,CurrentItemName)){Quantity=UInv.BagHasItem(BagName,CurrentItemName)}}else{Quantity=UInv.BagHasItem(BagName,CurrentItemName)}
var Result;if(UInv.ItemHasPocket(BagName,CurrentItemName)){var DefaultType=UInv.GetItemsDefaultType(BagName,CurrentItemName);State.__getUpperName__.UInvBags[BagName][NewItemName]=State.__getUpperName__.UInvBags[BagName][CurrentItemName];delete State.__getUpperName__.UInvBags[BagName][CurrentItemName];if(NewItemName==DefaultType){if(UInv.isProperty(State.__getUpperName__.UInvBags[BagName][NewItemName],"UInvDefaultItemType")){delete State.__getUpperName__.UInvBags[BagName][NewItemName].UInvDefaultItemType}}else if(DefaultType!="-"){State.__getUpperName__.UInvBags[BagName][NewItemName].UInvDefaultItemType=DefaultType}else if(UInv.GetDefaultItemObject(DefaultType)){State.__getUpperName__.UInvBags[BagName][NewItemName].UInvDefaultItemType=DefaultType}else if(UInv.isProperty(State.__getUpperName__.UInvBags[BagName][NewItemName],"UInvDefaultItemType")){delete State.__getUpperName__.UInvBags[BagName][NewItemName].UInvDefaultItemType}
var Pockets=Object.keys(State.__getUpperName__.UInvBags[BagName][NewItemName].UInvPocket),PocketBag,Container,i,j;for(i=0;i<Pockets.length;i++){PocketBag=State.__getUpperName__.UInvBags[BagName][NewItemName].UInvPocket[Pockets[i]];Container=State.__getUpperName__.UInvBags[PocketBag].UInvContainer;for(j=0;j<Container.length;j++){if((Container[j].ContainerBagName==BagName)&&(Container[j].ContainerName==CurrentItemName)&&(Container[j].PocketName==Pockets[i])){Container[j].ContainerName=NewItemName}}}
Result=NewItemName}else{Result=UInv.CopyItem(BagName,BagName,CurrentItemName,Quantity,NewItemName);if(Result){UInv.AddToItemPropertyValue(BagName,CurrentItemName,"UInvQuantity",-Quantity);UInv.SetCurrentItemName(Result);UInv.SetCurrentBagName(BagName)}}
return Result}}else{UInvError('RenameItem cannot find item "'+CurrentItemName+'" in bag "'+BagName+'".');return undefined}}else{UInvError('RenameItem cannot find bag "'+BagName+'".');return undefined}}else{UInvError('RenameItem failed. Item names cannot be "UInvTouched", "UInvProperties", "UInvDefaultBagType", or "UInvContainer".');return undefined}}else{UInvError('Name passed to RenameItem is not a string.');return undefined}},GetDefaultItemPropertyValue:function(DefaultItemName,ItemPropertyName){if(UInv.isString(DefaultItemName)&&UInv.isString(ItemPropertyName)){var DefItem=UInv.GetDefaultItemObject(DefaultItemName);if(DefItem){if(UInv.isProperty(DefItem,ItemPropertyName)){return DefItem[ItemPropertyName]}else{return null}}else{return null}}else{UInvError('Name passed to GetDefaultItemPropertyValue is not a string.');return undefined}},GetItemsAndQuantitiesObject:function(BagName){if(UInv.isString(BagName)){BagName=FixBagName(BagName);if(UInv.BagExists(BagName)){var Items=UInv.GetItemsArray(BagName),Result={},i=0;for(i=0;i<Items.length;i++){Result[Items[i]]=UInv.BagHasItem(BagName,Items[i])}
return Result}else{UInvError('GetItemsAndQuantitiesObject cannot find bag "'+BagName+'".');return undefined}}else{UInvError('BagName passed to GetItemsAndQuantitiesObject is not a string.');return undefined}},GetItemCount:function(BagName){if(UInv.isString(BagName)){BagName=FixBagName(BagName);if(UInv.BagExists(BagName)){UInv.SetCurrentBagName(BagName);return UInv.GetItemsArray(BagName).length}else{UInvError('GetItemCount cannot find bag "'+BagName+'".');return undefined}}else if(UInv.isArrayOfStrings(BagName)){if(UInv.BagExists(BagName)){var i=0,Items=[];for(i=0;i<BagName.length;i++){Items=Items.concatUnique(UInv.GetItemsArray(BagName[i]))}
return Items.length}else{UInvError('GetItemCount failed. Invalid bag name in array.');return undefined}}else{UInvError('BagName passed to GetItemCount is not a string or an array of strings.');return undefined}},GetItemCountFull:function(BagName){var Tot=0,i=0;if(UInv.isString(BagName)){BagName=FixBagName(BagName);if(UInv.BagExists(BagName)){UInv.SetCurrentBagName(BagName);var Items=UInv.GetItemsArray(BagName);if(Items.length>0){for(i=0;i<Items.length;i++){Tot+=UInv.BagHasItem(BagName,Items[i])}}
return Tot}else{UInvError('GetItemCountFull cannot find bag "'+BagName+'".');return undefined}}else if(UInv.isArrayOfStrings(BagName)){if(UInv.BagExists(BagName)){for(i=0;i<BagName.length;i++){Tot+=UInv.GetItemCountFull(BagName[i])}
return Tot}else{UInvError('GetItemCountFull failed. Invalid bag name in array.');return undefined}}else{UInvError('BagName passed to GetItemCountFull is not a string or an array of strings.');return undefined}},GetItemCountByDefaultType:function(BagName,IgnoreTypes){var Tot=0,i=0;if(UInv.isString(BagName)){if(UInv.isUndefined(IgnoreTypes)){IgnoreTypes=[]}
BagName=FixBagName(BagName);if(UInv.BagExists(BagName)){UInv.SetCurrentBagName(BagName);var Items=UInv.GetItemsArray(BagName),Typ;if(Items.length>0){if(!UInv.isArray(IgnoreTypes)){IgnoreTypes=[]}
for(i=0;i<Items.length;i++){Typ=UInv.GetItemsDefaultType(BagName,Items[i]);if(Typ==="-"){++Tot}else if(IgnoreTypes.indexOf(Typ)<0){IgnoreTypes.push(Typ);++Tot}}}
return Tot}else{UInvError('GetItemCountByDefaultType cannot find bag "'+BagName+'".');return undefined}}else if(UInv.isArrayOfStrings(BagName)){if(UInv.BagExists(BagName)){var Ign=[];for(i=0;i<BagName.length;i++){Tot+=UInv.GetItemCountByDefaultType(BagName[i],Ign)}
return Tot}else{UInvError('GetItemCountByDefaultType failed. Invalid bag name in array.');return undefined}}else{UInvError('BagName passed to GetItemCountByDefaultType is not a string or an array of strings.');return undefined}},GetItemCountFullByDefaultType:function(BagName,DefaultItemType){if(UInv.isString(DefaultItemType)){var Tot=0,i=0;if(UInv.isString(BagName)){BagName=FixBagName(BagName);if(UInv.BagExists(BagName)){UInv.SetCurrentBagName(BagName);var Items=UInv.GetItemsArray(BagName);if(Items.length>0){for(i=0;i<Items.length;i++){if(UInv.GetItemsDefaultType(BagName,Items[i])===DefaultItemType){Tot+=UInv.BagHasItem(BagName,Items[i])}}}
return Tot}else{UInvError('GetItemCountFullByDefaultType cannot find bag "'+BagName+'".');return undefined}}else if(UInv.isArrayOfStrings(BagName)){if(UInv.BagExists(BagName)){for(i=0;i<BagName.length;i++){Tot+=UInv.GetItemCountFullByDefaultType(BagName[i],DefaultItemType)}
return Tot}else{UInvError('GetItemCountFullByDefaultType failed. Invalid bag name in array.');return undefined}}else{UInvError('BagName passed to GetItemCountFullByDefaultType is not a string or an array of strings.');return undefined}}else{UInvError('DefaultItemType passed to GetItemCountFullByDefaultType is not a string.');return undefined}},GetItemsArrayByType:function(BagName,ItemType){if(UInv.isString(BagName)&&UInv.isString(ItemType)){BagName=FixBagName(BagName);if(UInv.BagExists(BagName)){var Items=UInv.GetItemsArray(BagName),Result=[],i;UInv.SetCurrentBagName(BagName);for(i=0;i<Items.length;i++){if(UInv.GetItemPropertyValue(BagName,Items[i],"UInvDefaultItemType")==ItemType){Result.push(Items[i])}}
return Result}else{UInvError('GetItemsArrayByType cannot find bag "'+BagName+'".');return undefined}}else{UInvError('Name passed to GetItemsArrayByType is not a string.');return undefined}},GetItemCountWherePropertyEquals:function(BagName,ItemPropertyName,Value){if(UInv.isString(BagName)){BagName=FixBagName(BagName);if(UInv.BagExists(BagName)){if(arguments.length>=3){UInv.SetCurrentBagName(BagName);return UInv.GetItemsArrayWherePropertyEquals(BagName,ItemPropertyName,Value).length}else{UInvError('GetItemCountWherePropertyEquals failed. Value parameter is missing.');return undefined}}else{UInvError('GetItemCountWherePropertyEquals cannot find bag "'+BagName+'".');return undefined}}else if(UInv.isArrayOfStrings(BagName)){if(UInv.BagExists(BagName)){if(arguments.length>=3){var i=0,Items=[];for(i=0;i<BagName.length;i++){Items=Items.concatUnique(UInv.GetItemsArray(BagName[i]))}
return Items.length}else{UInvError('GetItemCountWherePropertyEquals failed. Value parameter is missing.');return undefined}}else{UInvError('GetItemCountWherePropertyEquals failed. Invalid bag name in array.');return undefined}}else{UInvError('BagName passed to GetItemCountWherePropertyEquals is not a string or an array of strings.');return undefined}},GetItemsArrayWherePropertyGreaterThan:function(BagName,ItemPropertyName,Value){if(UInv.isString(BagName)&&UInv.isString(ItemPropertyName)){if(arguments.length>=3){BagName=FixBagName(BagName);if(UInv.BagExists(BagName)){var Items=UInv.GetItemsArrayByProperty(BagName,ItemPropertyName),Result=[],i=0;UInv.SetCurrentBagName(BagName);for(i=0;i<Items.length;i++){if(UInv.GetItemPropertyValue(BagName,Items[i],ItemPropertyName)>Value){Result.push(Items[i])}}
return Result}else{UInvError('GetItemsArrayWherePropertyGreaterThan cannot find bag "'+BagName+'".');return undefined}}else{UInvError('GetItemsArrayWherePropertyGreaterThan failed. Value parameter is missing.');return undefined}}else{UInvError('Name passed to GetItemsArrayWherePropertyGreaterThan is not a string.');return undefined}},GetItemCountWherePropertyGreaterThan:function(BagName,ItemPropertyName,Value){if(UInv.isString(BagName)){BagName=FixBagName(BagName);if(UInv.BagExists(BagName)){if(arguments.length>=3){UInv.SetCurrentBagName(BagName);return UInv.GetItemsArrayWherePropertyGreaterThan(BagName,ItemPropertyName,Value).length}else{UInvError('GetItemCountWherePropertyGreaterThan failed. Value parameter is missing.');return undefined}}else{UInvError('GetItemCountWherePropertyGreaterThan cannot find bag "'+BagName+'".');return undefined}}else if(UInv.isArrayOfStrings(BagName)){if(UInv.BagExists(BagName)){if(arguments.length>=3){var i=0,Items=[];for(i=0;i<BagName.length;i++){Items=Items.concatUnique(UInv.GetItemsArray(BagName[i]))}
return Items.length}else{UInvError('GetItemCountWherePropertyGreaterThan failed. Value parameter is missing.');return undefined}}else{UInvError('GetItemCountWherePropertyGreaterThan failed. Invalid bag name in array.');return undefined}}else{UInvError('BagName passed to GetItemCountWherePropertyGreaterThan is not a string or an array of strings.');return undefined}},GetItemsArrayWherePropertyLessThan:function(BagName,ItemPropertyName,Value){if(UInv.isString(BagName)&&UInv.isString(ItemPropertyName)){if(arguments.length>=3){BagName=FixBagName(BagName);if(UInv.BagExists(BagName)){var Items=UInv.GetItemsArrayByProperty(BagName,ItemPropertyName),Result=[],i=0;UInv.SetCurrentBagName(BagName);for(i=0;i<Items.length;i++){if(UInv.GetItemPropertyValue(BagName,Items[i],ItemPropertyName)<Value){Result.push(Items[i])}}
return Result}else{UInvError('GetItemsArrayWherePropertyLessThan cannot find bag "'+BagName+'".');return undefined}}else{UInvError('GetItemsArrayWherePropertyLessThan failed. Value parameter is missing.');return undefined}}else{UInvError('Name passed to GetItemsArrayWherePropertyLessThan is not a string.');return undefined}},GetItemCountWherePropertyLessThan:function(BagName,ItemPropertyName,Value){if(UInv.isString(BagName)){BagName=FixBagName(BagName);if(UInv.BagExists(BagName)){if(arguments.length>=3){UInv.SetCurrentBagName(BagName);return UInv.GetItemsArrayWherePropertyLessThan(BagName,ItemPropertyName,Value).length}else{UInvError('GetItemCountWherePropertyLessThan failed. Value parameter is missing.');return undefined}}else{UInvError('GetItemCountWherePropertyLessThan cannot find bag "'+BagName+'".');return undefined}}else if(UInv.isArrayOfStrings(BagName)){if(UInv.BagExists(BagName)){if(arguments.length>=3){var i=0,Items=[];for(i=0;i<BagName.length;i++){Items=Items.concatUnique(UInv.GetItemsArray(BagName[i]))}
return Items.length}else{UInvError('GetItemCountWherePropertyLessThan failed. Value parameter is missing.');return undefined}}else{UInvError('GetItemCountWherePropertyLessThan failed. Invalid bag name in array.');return undefined}}else{UInvError('BagName passed to GetItemCountWherePropertyLessThan is not a string or an array of strings.');return undefined}},GetUniqueItemPropertyValuesArray:function(BagName,ItemPropertyName){var i=0,Items=[];if(UInv.isString(BagName)){BagName=FixBagName(BagName);if(UInv.BagExists(BagName)){UInv.SetCurrentBagName(BagName);var Result=[],Value;Items=UInv.GetItemsArray(BagName);if(Items.length>0){for(i=0;i<Items.length;i++){if(UInv.ItemHasProperty(BagName,Items[i],ItemPropertyName)){Value=UInv.GetItemPropertyValue(BagName,Items[i],ItemPropertyName);if(UInv.isString(Value)||UInv.isNumber(Value)||UInv.isBoolean(Value)){Result.push(Value)}}}}
return[].concatUnique(Result)}else{UInvError('GetUniqueItemPropertyValuesArray cannot find bag "'+BagName+'".');return undefined}}else if(UInv.isArrayOfStrings(BagName)){if(UInv.BagExists(BagName)){for(i=0;i<BagName.length;i++){Items=Items.concatUnique(UInv.GetUniqueItemPropertyValuesArray(BagName[i],ItemPropertyName))}
return Items}else{UInvError('GetUniqueItemPropertyValuesArray failed. Invalid bag name in array.');return undefined}}else{UInvError('BagName passed to GetUniqueItemPropertyValuesArray is not a string or an array of strings.');return undefined}},BagHasAnyItem:function(BagName,ItemArray){var i=0;if(UInv.isString(BagName)){if(UInv.isArrayOfStrings(ItemArray)){BagName=FixBagName(BagName);if(UInv.BagExists(BagName)){UInv.SetCurrentBagName(BagName);for(i=0;i<ItemArray.length;i++){if(UInv.BagHasItem(BagName,ItemArray[0])){return!0}}
return!1}else{UInvError('BagHasAnyItem cannot find bag "'+BagName+'".');return undefined}}else{UInvError('ItemArray passed to BagHasAnyItem is not an array of strings.');return undefined}}else if(UInv.isArrayOfStrings(BagName)){if(UInv.BagExists(BagName)){var Result=!0;for(i=0;i<BagName.length;i++){Result=UInv.BagHasAnyItem(BagName[i],ItemArray)}
return Result}else{UInvError('BagHasAnyItem failed. Invalid bag name in BagName array.');return undefined}}else{UInvError('BagName passed to BagHasAnyItem is not a string or array of strings.');return undefined}},AddToAllItemsPropertyValue:function(BagName,ItemPropertyName,Amount){if(UInv.isString(BagName)&&UInv.isString(ItemPropertyName)){BagName=FixBagName(BagName);if(UInv.BagExists(BagName)){if(ItemPropertyName==="UInvDefaultItemType"){UInvError('AddToAllItemsPropertyValue cannot be used to modify the value of UInvDefaultItemType. Use SetItemsDefaultType instead.');return undefined}
if(!UInv.isUndefined(Amount)){Amount=tryIntParse(Amount);if(UInv.isNumber(Amount)){if((ItemPropertyName==="UInvQuantity")&&(Amount!==Math.round(Amount))){UInvError('AddToAllItemsPropertyValue failed. Value added to UInvQuantity must be an integer.');return undefined}else{Amount=Math.round(Amount)}
var Items=UInv.GetItemsArray(BagName),i;if((ItemPropertyName==="UInvQuantity")&&(UInv.GetAllBagPockets().length>1)){UInvError('AddToAllItemsPropertyValue failed. Items with pockets cannot have their quantity increased.');return undefined}
for(i=0;i<Items.length;i++){UInv.AddToItemPropertyValue(BagName,Items[i],ItemPropertyName,Amount)}
UInv.SetCurrentBagName(BagName);return!0}else{UInvError('AddToAllItemsPropertyValue failed. Amount is not a number.');return undefined}}else{UInvError('AddToAllItemsPropertyValue failed. Amount not defined.');return undefined}}else{UInvError('AddToAllItemsPropertyValue cannot find bag "'+BagName+'".');return undefined}}else{UInvError('Name passed to AddToAllItemsPropertyValue is not a string.');return undefined}},AddItem:function(BagName,ItemType,Quantity,NewItemName,StartDepth,CurrentDepth){if(UInv.isString(BagName)&&UInv.isString(ItemType)){BagName=FixBagName(BagName);if(!UInv.isUndefined(ValidateItemName(ItemType))){ItemType=FixItemName(ItemType);if(UInv.isUndefined(Quantity)){Quantity=1}else{Quantity=tryIntParse(Quantity);if(!UInv.isNumber(Quantity)){UInvError('Quantity passed to AddItem is not a number.');return undefined}}
if((Quantity!==Math.round(Quantity))||(Quantity<=0)){UInvError('Quantity passed to AddItem must be a positive integer.');return undefined}
if(UInv.BagExists(BagName)){if(UInv.isUndefined(StartDepth)){StartDepth=UInv.GetPocketDepth(BagName)}
if(UInv.isUndefined(CurrentDepth)){CurrentDepth=StartDepth}
var Item=UInv.GetDefaultItemObject(ItemType),TempBag="",Result;if(Item){if(UInv.isProperty(Item,"UInvPocket")){Quantity=1}
Item.UInvQuantity=Quantity;if(UInv.isProperty(Item,"UInvVariableType")){Item.UInvDefaultItemType=ItemType}
if(UInv.isUndefined(NewItemName)){NewItemName=ItemType}else if(UInv.isString(NewItemName)){NewItemName=FixItemName(NewItemName);if(UInv.isUndefined(NewItemName)){return undefined}}else{UInvError('AddItem failed. NewItemName is not a string.');return undefined}
UInv.IncrementUpdateLock();TempBag=UInv.GetUniqueBagName();UInv.CreateBag(TempBag);if(Item.UInvQuantity===1){delete Item.UInvQuantity}
State.__getUpperName__.UInvBags[TempBag][ItemType]=Item;if(UInv.isProperty(Item,"UInvPocket")){var Pockets=Item.UInvPocket,Keys=Object.keys(Pockets),i;var NotVarType=!UInv.isProperty(State.__getUpperName__.UInvBags[TempBag][ItemType],"UInvVariableType");if(NotVarType){State.__getUpperName__.UInvBags[TempBag][ItemType].UInvVariableType="x"}
delete State.__getUpperName__.UInvBags[TempBag][ItemType].UInvPocket;for(i=0;i<Keys.length;i++){if(["-",""].includes(Pockets[Keys[i]])){UInv.CreatePocket(TempBag,ItemType,Keys[i])}else if(!UInv.AddPocket(TempBag,ItemType,Keys[i],Pockets[Keys[i]],StartDepth,CurrentDepth)){if(UInv.isProperty(State.__getUpperName__.UInvBags[TempBag][ItemType],"UInvPocket")){delete State.__getUpperName__.UInvBags[TempBag][ItemType].UInvPocket}
UInv.DeleteBag(TempBag);UInv.DecrementUpdateLock();UInvError('AddItem failed. ItemType "'+ItemType+'" has an invalid bag/pocket type of "'+Pockets[Keys[i]]+'".');return undefined}}
if(NotVarType){delete State.__getUpperName__.UInvBags[TempBag][ItemType].UInvVariableType}}
Result=UInv.MoveItem(TempBag,BagName,ItemType,Quantity,NewItemName);UInv.DeleteBag(TempBag);RemoveItemObjectsDefaultProperties(State.__getUpperName__.UInvBags[BagName][Result],ItemType);UInv.SetCurrentBagName(BagName);UInv.SetCurrentItemName(ItemType);UInv.DecrementUpdateLock();return Result}else{UInvError('AddItem failed. ItemType "'+ItemType+'" is not a default item.');return undefined}}else{UInvError('AddItem cannot find bag "'+BagName+'".');return undefined}}else{UInvError('AddItem failed. ItemType cannot be "'+ItemType+'".');return undefined}}else{UInvError('Name passed to AddItem is not a string.');return undefined}},AddItems:function(BagName,ItemArray){if(UInv.isString(BagName)){if(UInv.isArrayOfStrings(ItemArray)){var Result=[],Ret,i;BagName=FixBagName(BagName);if(ItemArray.length>0){for(i=0;i<ItemArray.length;i++){Ret=UInv.AddItem(BagName,ItemArray[i]);if(Ret===undefined){Result=undefined}else if(!UInv.isBoolean(Result)){Result.push(Ret)}}
return Result}else{UInvError('ItemArray passed to AddItems is empty.');return undefined}}else{UInvError('ItemArray passed to AddItems is not an array of strings.');return undefined}}else{UInvError('BagName passed to AddItems is not a string.');return undefined}},CreateItem:function(BagName,ItemName,Quantity){if(UInv.isString(BagName)&&UInv.isString(ItemName)){BagName=FixBagName(BagName);if(!UInv.isUndefined(ValidateItemName(ItemName))){ItemName=FixItemName(ItemName);if(UInv.BagExists(BagName)){if(UInv.BagHasItem(BagName,ItemName)){UInvError('CreateItem failed. Item "'+ItemName+'" already exists in bag "'+BagName+'".');return undefined}else{if(UInv.isUndefined(Quantity)){Quantity=1}else{Quantity=tryIntParse(Quantity);if(!UInv.isNumber(Quantity)){UInvError('Quantity passed to CreateItem is not a number.');return undefined}}
if((Quantity===Math.round(Quantity))&&(Quantity>0)){State.__getUpperName__.UInvBags[BagName][ItemName]={};if(Quantity>1){State.__getUpperName__.UInvBags[BagName][ItemName].UInvQuantity=Quantity}
if(UInv.GetDefaultItemObject(ItemName)){State.__getUpperName__.UInvBags[BagName][ItemName].UInvDefaultItemType="-"}
UInv.SetBagTouched(BagName);UInv.SetCurrentBagName(BagName);UInv.SetCurrentItemName(ItemName);return ItemName}else{UInvError('Quantity passed to CreateItem must be a positive integer.');return undefined}}}else{UInvError('CreateItem cannot find bag "'+BagName+'".');return undefined}}else{UInvError('CreateItem failed. ItemName "'+ItemName+'" is not an allowed item name.');return undefined}}else{UInvError('Name passed to CreateItem is not a string.');return undefined}},GetItemPropertyCount:function(BagName,ItemName){if(UInv.isString(BagName)&&UInv.isString(ItemName)){BagName=FixBagName(BagName);ItemName=FixItemName(ItemName);if(UInv.BagExists(BagName)){if(UInv.BagHasItem(BagName,ItemName)){UInv.SetCurrentItemName(ItemName);UInv.SetCurrentBagName(BagName);return Object.keys(UInv.GetItemObject(BagName,ItemName)).length}else{UInvError('GetItemPropertyCount cannot find item "'+ItemName+'" in bag "'+BagName+'".');return undefined}}else{UInvError('GetItemPropertyCount cannot find bag "'+BagName+'".');return undefined}}else{UInvError('Name passed to GetItemPropertyCount is not a string.');return undefined}},SetItemsPropertyValue:function(BagName,ItemPropertyName,Value){if(UInv.isString(BagName)&&UInv.isString(ItemPropertyName)){if(UInv.BagExists(BagName)){if(arguments.length>=3){var Items=UInv.GetItemsArray(BagName);if(Items.length>0){var i=0;for(i=0;i<Items.length;i++){UInv.SetItemPropertyValue(BagName,Items[i],ItemPropertyName,Value)}}
return!0}else{UInvError('SetItemsPropertyValue failed. Value parameter is missing.');return undefined}}else{UInvError('BagName "'+BagName+'" passed to SetItemsPropertyValue does not exist.');return undefined}}else{UInvError('Name passed to SetItemsPropertyValue is not a string.');return undefined}},SetItemPropertyValues:function(BagName,ItemName,ValuesObject){if(UInv.isString(BagName)&&UInv.isString(ItemName)){BagName=FixBagName(BagName);ItemName=FixItemName(ItemName);if(UInv.BagExists(BagName)){if(UInv.BagHasItem(BagName,ItemName)){if(UInv.isGenericObject(ValuesObject)){var Props=Object.keys(ValuesObject),Result=!0;if(Props.length>0){var i=0;for(i=0;i<Props.length;i++){if(UInv.SetItemPropertyValue(BagName,ItemName,Props[i],ValuesObject[Props[i]])===undefined){Result=undefined}}}
UInv.SetCurrentItemName(ItemName);UInv.SetCurrentBagName(BagName);return Result}else{UInvError('ValuesObject passed to SetItemPropertyValues is not a generic object.');return undefined}}else{UInvError('SetItemPropertyValues cannot find item "'+ItemName+'" in bag "'+BagName+'".');return undefined}}else{UInvError('BagName "'+BagName+'" passed to SetItemPropertyValues does not exist.');return undefined}}else{UInvError('Name passed to SetItemPropertyValues is not a string.');return undefined}},ItemPropertyHasValue:function(BagName,ItemName,ItemPropertyName,Value){if(UInv.isString(BagName)&&UInv.isString(ItemName)&&UInv.isString(ItemPropertyName)){BagName=FixBagName(BagName);ItemName=FixItemName(ItemName);if(UInv.BagExists(BagName)){if(UInv.BagHasItem(BagName,ItemName)){UInv.SetCurrentItemName(ItemName);UInv.SetCurrentBagName(BagName);if(UInv.ItemHasProperty(BagName,ItemName,ItemPropertyName)){if(arguments.length>=4){var Val=UInv.GetItemPropertyValue(BagName,ItemName,ItemPropertyName);if(typeof(Val)===typeof(Value)){return UInv.valuesAreEqual(Val,Value)}else if(UInv.isArray(Val)){return Val.includes(Value)}else{return!1}}else{UInvError('ItemPropertyHasValue failed. Value parameter is missing.');return undefined}}else{UInvError('ItemPropertyHasValue cannot find property "'+ItemPropertyName+'" in item "'+ItemName+'".');return undefined}}else{UInvError('ItemPropertyHasValue cannot find item "'+ItemName+'" in bag "'+BagName+'".');return undefined}}else{UInvError('ItemPropertyHasValue cannot find bag "'+BagName+'".');return undefined}}else{UInvError('Name passed to ItemPropertyHasValue is not a string.');return undefined}},CopyItemsByProperty:function(SourceBagName,DestinationBagName,ItemPropertyName,Value){if(UInv.isString(SourceBagName)&&UInv.isString(DestinationBagName)&&UInv.isString(ItemPropertyName)){SourceBagName=FixBagName(SourceBagName);DestinationBagName=FixBagName(DestinationBagName);if(UInv.BagExists(SourceBagName)){if(UInv.BagExists(DestinationBagName)){if(SourceBagName!==DestinationBagName){if(arguments.length>=4){var Items=[],Result=[];if(UInv.isUndefined(Value)){Items=UInv.GetItemsArrayByProperty(SourceBagName,ItemPropertyName)}else{Items=UInv.GetItemsArrayWherePropertyEquals(SourceBagName,ItemPropertyName,Value)}
if(Items.length>0){var i=0,Ret="";for(i=0;i<Items.length;i++){Ret=UInv.CopyItem(SourceBagName,DestinationBagName,Items[i]);if(Ret===undefined){Result=undefined}else if(!UInv.isBoolean(Result)){Result.push(Ret)}}}
return Result}else{UInvError('CopyItemsByProperty failed. Value parameter is missing.');return undefined}}else{UInvError('CopyItemsByProperty failed. Source and destination bags cannot be the same.');return undefined}}else{UInvError('CopyItemsByProperty cannot find bag "'+DestinationBagName+'".');return undefined}}else{UInvError('CopyItemsByProperty cannot find bag "'+SourceBagName+'".');return undefined}}else{UInvError('Name passed to CopyItemsByProperty is not a string.');return undefined}},DeleteItemsByProperty:function(BagName,ItemPropertyName,Value){if(UInv.isString(BagName)&&UInv.isString(ItemPropertyName)){BagName=FixBagName(BagName);if(UInv.BagExists(BagName)){var Items=[];if(arguments.length>=3){Items=UInv.GetItemsArrayWherePropertyEquals(BagName,ItemPropertyName,Value)}else{Items=UInv.GetItemsArrayByProperty(BagName,ItemPropertyName)}
return UInv.DeleteItem(BagName,Items)}else{UInvError('DeleteItemsByProperty cannot find bag "'+BagName+'".');return undefined}}else{UInvError('Name passed to DeleteItemsByProperty is not a string.');return undefined}},GetItemWithHighestPropertyValue:function(BagName,ItemPropertyName){if(UInv.isString(BagName)&&UInv.isString(ItemPropertyName)){BagName=FixBagName(BagName);if(UInv.BagExists(BagName)){var Items=UInv.GetItemsArrayByProperty(BagName,ItemPropertyName);if(Items.length>0){var HiItems=[Items[0]],HiVal=UInv.GetItemPropertyValue(BagName,Items[0],ItemPropertyName);if(Items.length>1){var i,Value=0;for(i=1;i<Items.length;i++){Value=UInv.GetItemPropertyValue(BagName,Items[i],ItemPropertyName);if(Value>HiVal){HiVal=Value;HiItems=[Items[i]]}else if(Value===HiVal){HiItems.push(Items[i])}}}
UInv.SetCurrentBagName(BagName);return HiItems.random()}else{return""}}else{UInvError('GetItemWithHighestPropertyValue cannot find bag "'+BagName+'".');return undefined}}else{UInvError('Name passed to GetItemWithHighestPropertyValue is not a string.');return undefined}},GetItemWithLowestPropertyValue:function(BagName,ItemPropertyName){if(UInv.isString(BagName)&&UInv.isString(ItemPropertyName)){BagName=FixBagName(BagName);if(UInv.BagExists(BagName)){var Items=UInv.GetItemsArrayByProperty(BagName,ItemPropertyName);if(Items.length>0){var LoItems=[Items[0]],LoVal=UInv.GetItemPropertyValue(BagName,Items[0],ItemPropertyName);if(Items.length>1){var i,Value=0;for(i=1;i<Items.length;i++){Value=UInv.GetItemPropertyValue(BagName,Items[i],ItemPropertyName);if(Value<LoVal){LoVal=Value;LoItems=[Items[i]]}else if(Value===LoVal){LoItems.push(Items[i])}}}
UInv.SetCurrentBagName(BagName);return LoItems.random()}else{return""}}else{UInvError('GetItemWithLowestPropertyValue cannot find bag "'+BagName+'".');return undefined}}else{UInvError('Name passed to GetItemWithLowestPropertyValue is not a string.');return undefined}},GetRandomItemPropertyValue:function(BagName,ItemPropertyName){if(UInv.isString(BagName)&&UInv.isString(ItemPropertyName)){BagName=FixBagName(BagName);if(UInv.BagExists(BagName)){UInv.SetCurrentBagName(BagName);var Items=UInv.GetItemsArrayByProperty(BagName,ItemPropertyName);if(Items.length>0){return UInv.GetItemPropertyValue(BagName,Items.random(),ItemPropertyName)}else{return""}}else{UInvError('GetRandomItemPropertyValue cannot find bag "'+BagName+'".');return undefined}}else{UInvError('Name passed to GetRandomItemPropertyValue is not a string.');return undefined}},GetTotalItemPropertyValue:function(BagName,ItemPropertyName){if(UInv.isString(BagName)&&UInv.isString(ItemPropertyName)){BagName=FixBagName(BagName);if(UInv.BagExists(BagName)){var Items=UInv.GetItemsArrayByProperty(BagName,ItemPropertyName),i=0,Value=0,Result=0;if(Items.length>0){for(i=1;i<Items.length;i++){if(UInv.ItemHasProperty(BagName,Items[i],ItemPropertyName)){Value=UInv.GetItemPropertyValue(BagName,Items[i],ItemPropertyName);if(UInv.isNumber(Value)){Result+=(Value*UInv.BagHasItem(BagName,Items[i]))}else{UInvError('GetTotalItemPropertyValue failed. All values of ItemPropertyName must be numbers. ("'+Items[i]+'.'+ItemPropertyName+'" is type '+(typeof Value)+')');return undefined}}}}
return Result}else{UInvError('GetTotalItemPropertyValue cannot find bag "'+BagName+'".');return undefined}}else{UInvError('Name passed to GetTotalItemPropertyValue is not a string.');return undefined}},DeleteItemProperty:function(BagName,ItemName,ItemPropertyName){if(UInv.isString(ItemName)){if(UInv.isString(BagName)){BagName=FixBagName(BagName);ItemName=FixItemName(ItemName);if(UInv.BagExists(BagName)){var Quantity=UInv.BagHasItem(BagName,ItemName),Item;if(Quantity){if(UInv.isString(ItemPropertyName)){UInv.SetCurrentItemName(ItemName);UInv.SetCurrentBagName(BagName);if(UInv.ItemHasProperty(BagName,ItemName,ItemPropertyName)){if(UInv.ReservedItemProperties.includes(ItemPropertyName)){UInvError('DeleteItemProperty cannot delete property "'+ItemPropertyName+'". This is a protected property.');return undefined}
if(!UInv.isProperty(State.__getUpperName__.UInvBags[BagName][ItemName],ItemPropertyName)){UInv.SetItemsDefaultType(BagName,ItemName,"-")}
delete State.__getUpperName__.UInvBags[BagName][ItemName][ItemPropertyName];return!0}else{return!0}}else if(UInv.isUndefined(ItemPropertyName)){Item={};if(Quantity>1){Item.UInvQuantity=Quantity}
if(UInv.GetDefaultItemObject(ItemName)){Item.UInvDefaultItemType="-"}
if(UInv.isProperty(State.__getUpperName__.UInvBags[BagName][ItemName],"UInvPocket")){Item.UInvPocket=State.__getUpperName__.UInvBags[BagName][ItemName].UInvPocket}
if(UInv.isProperty(State.__getUpperName__.UInvBags[BagName][ItemName],"UInvCell")){Item.UInvCell=State.__getUpperName__.UInvBags[BagName][ItemName].UInvCell}
State.__getUpperName__.UInvBags[BagName][ItemName]=Item;return!0}else{UInvError('ItemPropertyName passed to DeleteItemProperty is not a string.');return undefined}}else{UInvError('DeleteItemProperty cannot find item "'+ItemName+'" in bag "'+BagName+'".');return undefined}}else{UInvError('DeleteItemProperty cannot find bag "'+BagName+'".');return undefined}}else if(UInv.isArrayOfStrings(BagName)){if(UInv.BagExists(BagName)){var i=0,Result=!0;for(i=0;i<BagName.length;i++){if(!UInv.DeleteItemProperty(BagName[i],ItemName,ItemPropertyName)){Result=undefined}}
return Result}else{UInvError('DeleteItemProperty failed. Invalid bag name in BagName array.');return undefined}}else{UInvError('DeleteItemProperty cannot find bag "'+BagName+'".');return undefined}}else{UInvError('ItemName passed to DeleteItemProperty is not a string.');return undefined}},MoveItemsByProperty:function(SourceBagName,DestinationBagName,ItemPropertyName,Value){if(UInv.isString(SourceBagName)&&UInv.isString(DestinationBagName)&&UInv.isString(ItemPropertyName)){SourceBagName=FixBagName(SourceBagName);DestinationBagName=FixBagName(DestinationBagName);if(UInv.BagExists(SourceBagName)){if(UInv.BagExists(DestinationBagName)){if(SourceBagName!==DestinationBagName){if(arguments.length>=4){var Items=[],Result=!0;if(UInv.isUndefined(Value)){Items=UInv.GetItemsArrayByProperty(SourceBagName,ItemPropertyName)}else{Items=UInv.GetItemsArrayWherePropertyEquals(SourceBagName,ItemPropertyName,Value)}
if(Items.length>0){var i=0,Ret="";for(i=0;i<Items.length;i++){Ret=UInv.MoveItem(SourceBagName,DestinationBagName,Items[i]);if(UInv.isUndefined(Ret)||UInv.isUndefined(Result)){Result=undefined}else{if(UInv.isBoolean(Result)){Result=[Ret]}else{Result.push(Ret)}}}}
return Result}else{UInvError('MoveItemsByProperty failed. Value parameter is missing.');return undefined}}else{UInvError('MoveItemsByProperty failed. Source and destination bags cannot be the same.');return undefined}}else{UInvError('MoveItemsByProperty cannot find bag "'+DestinationBagName+'".');return undefined}}else{UInvError('MoveItemsByProperty cannot find bag "'+SourceBagName+'".');return undefined}}else{UInvError('Name passed to MoveItemsByProperty is not a string.');return undefined}},RenameItemProperty:function(BagName,ItemName,CurrentItemPropertyName,NewItemPropertyName){if(UInv.isString(BagName)&&UInv.isString(ItemName)&&UInv.isString(CurrentItemPropertyName)&&UInv.isString(NewItemPropertyName)){BagName=FixBagName(BagName);ItemName=FixItemName(ItemName);if(!UInv.ReservedBagProperties.includes(ItemName)){if((CurrentItemPropertyName!=="UInvQuantity")&&(NewItemPropertyName!=="UInvQuantity")){if(UInv.BagExists(BagName)){if(UInv.BagHasItem(BagName,ItemName)){if(UInv.ItemHasProperty(BagName,ItemName,CurrentItemPropertyName)){if(UInv.ItemHasProperty(BagName,ItemName,NewItemPropertyName)){UInvError('RenameItemProperty failed. Property "'+NewItemPropertyName+'" already exists on item "'+ItemName+'".');return undefined}else if(CurrentItemPropertyName===NewItemPropertyName){UInvError('RenameItemProperty failed. CurrentItemPropertyName cannot be the same as NewItemPropertyName.');return undefined}else{UInv.SetCurrentItemName(ItemName);UInv.SetCurrentBagName(BagName);Object.defineProperty(State.__getUpperName__.UInvBags[BagName][ItemName],NewItemPropertyName,Object.getOwnPropertyDescriptor(State.__getUpperName__.UInvBags[BagName][ItemName],CurrentItemPropertyName));delete State.__getUpperName__.UInvBags[BagName][ItemName][CurrentItemPropertyName];return!0}}else{UInvError('RenameItemProperty cannot find property "'+CurrentItemPropertyName+'" in item "'+ItemName+'".');return undefined}}else{UInvError('RenameItemProperty cannot find item "'+ItemName+'" in bag "'+BagName+'".');return undefined}}else{UInvError('RenameItemProperty cannot find bag "'+BagName+'".');return undefined}}else{UInvError('RenameItemProperty failed. ItemPropertyName cannot be "UInvQuantity".');return undefined}}else{UInvError('RenameItemProperty failed. ItemName cannot be "'+ItemName+'".');return undefined}}else{UInvError('Name passed to RenameItemProperty is not a string.');return undefined}},GetObjectOfItemPropertyValues:function(BagName,ItemPropertyName){if(UInv.isString(BagName)&&UInv.isString(ItemPropertyName)){BagName=FixBagName(BagName);if(UInv.BagExists(BagName)){var Items=UInv.GetItemsArray(BagName),ItemValues={},i=0;UInv.SetCurrentBagName(BagName);for(i=0;i<Items.length;i++){if(UInv.ItemHasProperty(BagName,Items[i],ItemPropertyName)){ItemValues[Items[i]]=UInv.GetItemPropertyValue(BagName,Items[i],ItemPropertyName)}}
return ItemValues}else{UInvError('GetObjectOfItemPropertyValues cannot find bag "'+BagName+'".');return undefined}}else{UInvError('Name passed to GetObjectOfItemPropertyValues is not a string.');return undefined}},GetAllPropertyValues:function(BagName,ItemPropertyName){if(UInv.isString(BagName)&&UInv.isString(ItemPropertyName)){BagName=FixBagName(BagName);if(UInv.BagExists(BagName)){var Items=UInv.GetItemsArray(BagName),Values=[],i=0;UInv.SetCurrentBagName(BagName);for(i=0;i<Items.length;i++){if(UInv.ItemHasProperty(BagName,Items[i],ItemPropertyName)){Values.pushUnique(UInv.GetItemPropertyValue(BagName,Items[i],ItemPropertyName))}}
return Values}else{UInvError('GetAllPropertyValues cannot find bag "'+BagName+'".');return undefined}}else{UInvError('Name passed to GetAllPropertyValues is not a string.');return undefined}},GetItemByProperty:function(BagName,ItemPropertyName){if(UInv.isString(BagName)&&UInv.isString(ItemPropertyName)){BagName=FixBagName(BagName);if(UInv.BagExists(BagName)){var Items=UInv.GetItemsArrayByProperty(BagName,ItemPropertyName);UInv.SetCurrentBagName(BagName);if(Items.length>0){var Rnd=random(Items.length-1);UInv.SetCurrentItemName(Items[Rnd]);return Items[Rnd]}else{return""}}else{UInvError('GetItemByProperty cannot find bag "'+BagName+'".');return undefined}}else{UInvError('Name passed to GetItemByProperty is not a string.');return undefined}},GetItemByType:function(BagName,ItemType){if(UInv.isString(BagName)&&UInv.isString(ItemType)){BagName=FixBagName(BagName);if(UInv.BagExists(BagName)){var Items=UInv.GetItemsArrayByType(BagName,ItemType);UInv.SetCurrentBagName(BagName);if(Items.length>0){var Rnd=random(Items.length-1);UInv.SetCurrentItemName(Items[Rnd]);return Items[Rnd]}else{return""}}else{UInvError('GetItemByType cannot find bag "'+BagName+'".');return undefined}}else{UInvError('Name passed to GetItemByType is not a string.');return undefined}},GetRandomItemValue:function(BagName,ItemPropertyName){if(UInv.isString(BagName)){BagName=FixBagName(BagName);if(UInv.BagExists(BagName)){var Item=UInv.GetItemByProperty(BagName,ItemPropertyName);UInv.SetCurrentBagName(BagName);if(Item){UInv.SetCurrentItemName(Item);return UInv.GetItemPropertyValue(BagName,Item,ItemPropertyName)}else{return""}}else{UInvError('GetRandomItemValue cannot find bag "'+BagName+'".');return undefined}}else{UInvError('BagName passed to GetRandomItemValue is not a string.');return undefined}},GetItemWherePropertyEquals:function(BagName,ItemPropertyName,Value){if(UInv.isString(BagName)&&UInv.isString(ItemPropertyName)){if(!UInv.isUndefined(Value)){BagName=FixBagName(BagName);if(UInv.BagExists(BagName)){if(arguments.length>=3){var Items=UInv.GetItemsArrayWherePropertyEquals(BagName,ItemPropertyName,Value);UInv.SetCurrentBagName(BagName);if(Items.length>0){var Rnd=random(Items.length-1);UInv.SetCurrentItemName(Items[Rnd]);return Items[Rnd]}else{return""}}else{UInvError('GetItemWherePropertyEquals failed. Value parameter is missing.');return undefined}}else{UInvError('GetItemWherePropertyEquals cannot find bag "'+BagName+'".');return undefined}}else{UInvError('GetItemWherePropertyEquals failed. Value parameter is undefined.');return undefined}}else{UInvError('Name passed to GetItemWherePropertyEquals is not a string.');return undefined}},GetItemWherePropertyGreaterThan:function(BagName,ItemPropertyName,Value){if(UInv.isString(BagName)&&UInv.isString(ItemPropertyName)){if(!UInv.isUndefined(Value)){BagName=FixBagName(BagName);if(UInv.BagExists(BagName)){var Items=UInv.GetItemsArrayWherePropertyGreaterThan(BagName,ItemPropertyName,Value);UInv.SetCurrentBagName(BagName);if(Items.length>0){var Rnd=random(Items.length-1);UInv.SetCurrentItemName(Items[Rnd]);return Items[Rnd]}else{return""}}else{UInvError('GetItemWherePropertyGreaterThan cannot find bag "'+BagName+'".');return undefined}}else{UInvError('GetItemWherePropertyGreaterThan failed. Value parameter is undefined.');return undefined}}else{UInvError('Name passed to GetItemWherePropertyGreaterThan is not a string.');return undefined}},GetItemWherePropertyLessThan:function(BagName,ItemPropertyName,Value){if(UInv.isString(BagName)&&UInv.isString(ItemPropertyName)){if(!UInv.isUndefined(Value)){BagName=FixBagName(BagName);if(UInv.BagExists(BagName)){var Items=UInv.GetItemsArrayWherePropertyLessThan(BagName,ItemPropertyName,Value);UInv.SetCurrentBagName(BagName);if(Items.length>0){var Rnd=random(Items.length-1);UInv.SetCurrentItemName(Items[Rnd]);return Items[Rnd]}else{return""}}else{UInvError('GetItemWherePropertyLessThan cannot find bag "'+BagName+'".');return undefined}}else{UInvError('GetItemWherePropertyLessThan failed. Value parameter is undefined.');return undefined}}else{UInvError('Name passed to GetItemWherePropertyLessThan is not a string.');return undefined}},GetRandomItem:function(BagName){if(UInv.isString(BagName)){BagName=FixBagName(BagName);if(UInv.BagExists(BagName)){var Items=UInv.GetItemsArray(BagName);UInv.SetCurrentBagName(BagName);if(Items.length>0){var Rnd=random(Items.length-1);UInv.SetCurrentItemName(Items[Rnd]);return Items[Rnd]}else{return""}}else{UInvError('GetRandomItem cannot find bag "'+BagName+'".');return undefined}}else{UInvError('BagName passed to GetRandomItem is not a string.');return undefined}},ResetItemProperties:function(BagName,ItemName,DefaultItemType){if(UInv.isString(ItemName)){var i;if(UInv.isString(BagName)){BagName=FixBagName(BagName);ItemName=FixItemName(ItemName);if(UInv.BagExists(BagName)){var Quantity=UInv.BagHasItem(BagName,ItemName);if(Quantity){var hasPockets=!1,Pockets,NewPockets,NewItemName;if(UInv.isUndefined(DefaultItemType)){DefaultItemType=UInv.GetItemsDefaultType(BagName,ItemName);if(DefaultItemType){if(UInv.ItemHasPocket(BagName,ItemName)){hasPockets=!0;Quantity=1;Pockets=UInv.GetItemPocketObject(BagName,ItemName);UInv.UnlinkPocketFromContainer(BagName,ItemName)}
UInv.DeleteItem(BagName,ItemName);UInv.SetCurrentBagName(BagName);UInv.SetCurrentItemName(ItemName);NewItemName=UInv.AddItem(BagName,DefaultItemType,Quantity,ItemName);if(hasPockets){if(UInv.ItemHasPocket(BagName,NewItemName)){NewPockets=UInv.GetItemPocketNameArray(BagName,NewItemName);for(i=0;i<NewPockets.length;i++){UInv.DeletePocket(BagName,NewItemName,NewPockets[i])}}
NewPockets=Object.keys(Pockets);for(i=0;i<NewPockets.length;i++){UInv.AddExistingBagAsPocket(BagName,NewItemName,NewPockets[i],Pockets[NewPockets[i]])}}
return!0}else{UInvError('ResetItemProperties failed. Item does not have a default type.');return undefined}}else if(UInv.isString(DefaultItemType)){if(UInv.GetDefaultItemObject(DefaultItemType)){if(UInv.ItemHasPocket(BagName,ItemName)){hasPockets=!0;Quantity=1;Pockets=UInv.GetItemPocketObject(BagName,ItemName);UInv.UnlinkPocketFromContainer(BagName,ItemName)}
UInv.DeleteItem(BagName,ItemName);NewItemName=UInv.AddItem(BagName,DefaultItemType,Quantity,ItemName);if(hasPockets){if(UInv.ItemHasPocket(BagName,NewItemName)){NewPockets=UInv.GetItemPocketNameArray(BagName,NewItemName);for(i=0;i<NewPockets.length;i++){UInv.DeletePocket(BagName,NewItemName,NewPockets[i])}}
NewPockets=Object.keys(Pockets);for(i=0;i<NewPockets.length;i++){UInv.AddExistingBagAsPocket(BagName,NewItemName,NewPockets[i],Pockets[NewPockets[i]])}}
return!0}else{UInvError('ResetItemProperties failed. DefaultItemType "'+DefaultItemType+'" is not a default item.');return undefined}}else{UInvError('DefaultItemType passed to ResetItemProperties is not a string.');return undefined}}else{UInvError('ResetItemProperties cannot find item "'+ItemName+'" in bag "'+BagName+'".');return undefined}}else{UInvError('ResetItemProperties cannot find bag "'+BagName+'".');return undefined}}else if(UInv.isArrayOfStrings(BagName)){if(UInv.BagExists(BagName)){var Result=!0;for(i=0;i<BagName.length;i++){Result=UInv.ResetItemProperties(BagName[i],ItemName,DefaultItemType)}
return Result}else{UInvError('ResetItemProperties failed. Invalid bag name in BagName array.');return undefined}}else{UInvError('BagName passed to ResetItemProperties is not a string or an array of strings.');return undefined}}else{UInvError('ItemName passed to ResetItemProperties is not a string.');return undefined}},GetItemsArrayWhereItemNameContains:function(BagName,SubString){if(UInv.isString(BagName)&&UInv.isString(SubString)){BagName=FixBagName(BagName);if(UInv.BagExists(BagName)){var Items=UInv.GetItemsArray(BagName);UInv.SetCurrentBagName(BagName);if(Items.length>0){var Result=[],i=0;for(i=0;i<Items.length;i++){if(Items[i].includes(SubString.toLowerCase())){Result.push(Items[i])}}
return Result}else{return[]}}else{UInvError('GetItemsArrayWhereItemNameContains cannot find bag "'+BagName+'".');return undefined}}else{UInvError('Parameter passed to GetItemsArrayWhereItemNameContains is not a string.');return undefined}},GetItemsArrayWherePropertyValueContains:function(BagName,ItemPropertyName,SubString,CaseSensitive){if(UInv.isString(BagName)&&UInv.isString(ItemPropertyName)&&UInv.isString(SubString)){BagName=FixBagName(BagName);if(UInv.BagExists(BagName)){var Items=UInv.GetItemsArray(BagName);UInv.SetCurrentBagName(BagName);if(Items.length>0){var Result=[],i=0;if(UInv.isUndefined(CaseSensitive)){CaseSensitive=!1}
for(i=0;i<Items.length;i++){if(UInv.ItemHasProperty(BagName,ItemPropertyName)){if(CaseSensitive){if(UInv.GetItemPropertyValue(BagName,Items[i],ItemPropertyName).includes(SubString)){Result.push(Items[i])}}else{if(UInv.GetItemPropertyValue(BagName,Items[i],ItemPropertyName).toLowerCase().includes(SubString.toLowerCase())){Result.push(Items[i])}}}}
return Result}else{return[]}}else{UInvError('GetItemsArrayWherePropertyValueContains cannot find bag "'+BagName+'".');return undefined}}else{UInvError('Parameter passed to GetItemsArrayWherePropertyValueContains is not a string.');return undefined}},GetItemPropertyValueObject:function(BagName,ItemPropertyName){if(UInv.isString(BagName)&&UInv.isString(ItemPropertyName)){BagName=FixBagName(BagName);if(UInv.BagExists(BagName)){var Items=UInv.GetItemsArray(BagName);UInv.SetCurrentBagName(BagName);if(Items.length>0){var Result={},i=0;for(i=0;i<Items.length;i++){if(UInv.ItemHasProperty(BagName,Items[i],ItemPropertyName)){Result[Items[i]]=ItemPropertyName}}
return Result}else{return{}}}else{UInvError('GetItemPropertyValueObject cannot find bag "'+BagName+'".');return undefined}}else{UInvError('Parameter passed to GetItemPropertyValueObject is not a string.');return undefined}},GetItemsArraySortedByProperty:function(BagName,ItemPropertyName){if(UInv.isString(BagName)){BagName=FixBagName(BagName);if(UInv.BagExists(BagName)){var Items=UInv.GetItemsArray(BagName);UInv.SetCurrentBagName(BagName);if(Items.length>0){if(!UInv.isUndefined(ItemPropertyName)){var Result=[],Key=[],i=0,temp=[],ChangeType=!0;temp=UInv.GetAllPropertyValues(BagName,ItemPropertyName);if(UInv.isArrayOfNumbers(temp)||UInv.isArrayOfBooleans(temp)){ChangeType=!1}
for(i=0;i<Items.length;i++){if(UInv.ItemHasProperty(BagName,Items[i],ItemPropertyName)){Result[i]=Items[i];temp=UInv.GetItemPropertyValue(BagName,Items[i],ItemPropertyName);if(ChangeType&&!UInv.isString(temp)){temp=temp.toString()}
if(UInv.isString(temp)){temp=temp.toLowerCase()}
Key[i]=temp}}
return UInv.getArraySortedByOtherArray(Result,Key)}else{return Items.sort(function compare(a,b){if(a.toLowerCase()<b.toLowerCase()){return-1}
if(a.toLowerCase()>b.toLowerCase()){return 1}
return 0})}}else{return[]}}else{UInvError('GetItemsArraySortedByProperty cannot find bag "'+BagName+'".');return undefined}}else{UInvError('BagName passed to GetItemsArraySortedByProperty is not a string.');return undefined}},GetItemCountByFunction:function(BagName,CountFunction){var tmp;if(UInv.isString(BagName)){BagName=FixBagName(BagName);if(UInv.BagExists(BagName)){if(UInv.isFunction(CountFunction)){UInv.SetCurrentBagName(BagName);tmp=CountFunction(BagName);if(UInv.isUndefined(tmp)){UInv.Error("Error: GetItemCountByFunction failed. CountFunction's return value is undefined.");return undefined}
return tmp}else{UInvError('CountFunction passed to GetItemCountByFunction is not a function.');return undefined}}else{UInvError('GetItemCountByFunction cannot find bag "'+BagName+'".');return undefined}}else if(UInv.isArrayOfStrings(BagName)){if(UInv.isFunction(CountFunction)){var i=0,Result=0;if(BagName.length>0){for(i=0;i<BagName.length;i++){if(UInv.BagExists(BagName[i])){tmp=CountFunction(BagName);if(UInv.isUndefined(tmp)){UInv.Error("Error: GetItemCountByFunction failed. CountFunction's return value is undefined.");return undefined}
Result+=tmp}else{UInvError('GetItemCountByFunction cannot find bag "'+BagName+'".');return undefined}}}
return Result}else{UInvError('CountFunction passed to GetItemCountByFunction is not a function.');return undefined}}else{UInvError('BagName passed to GetItemCountByFunction is not a string or an array of strings.');return undefined}},GetItemsArrayByFunction:function(BagName,SelectionFunction){if(UInv.isString(BagName)){BagName=FixBagName(BagName);if(UInv.BagExists(BagName)){if(UInv.isFunction(SelectionFunction)){var Items=UInv.GetItemsArray(BagName),i=0,tmp,Result=[];UInv.SetCurrentBagName(BagName);if(Items.length>0){for(i=0;i<Items.length;i++){tmp=SelectionFunction(BagName,Items[i]);if(UInv.isUndefined(tmp)){UInv.Error("Error: GetItemsArrayByFunction failed. SelectionFunction's return value is undefined.");return undefined}
if(tmp){Result.push([Items[i]])}}}
return Result}else{UInvError('SelectionFunction passed to GetItemsArrayByFunction is not a function.');return undefined}}else{UInvError('GetItemsArrayByFunction cannot find bag "'+BagName+'".');return undefined}}else{UInvError('BagName passed to GetItemsArrayByFunction is not a string.');return undefined}},GetItemsArraySortedByFunction:function(BagName,SortFunction){if(UInv.isString(BagName)){BagName=FixBagName(BagName);if(UInv.BagExists(BagName)){if(UInv.isFunction(SortFunction)){var Items=UInv.GetItemsArray(BagName),tmp,i=0,n=0,Continue=!0;UInv.SetCurrentBagName(BagName);if(Items.length>0){while((n<=Items.length)&&Continue){Continue=!1;for(i=0;i<Items.length-1;i++){tmp=SortFunction(BagName,Items[i],Items[i+1]);if(UInv.isUndefined(tmp)){UInv.Error("Error: GetItemsArraySortedByFunction failed. SortFunction's return value is undefined.");return undefined}
if(tmp){Continue=!0;tmp=Items[i];Items[i]=Items[i+1];Items[i+1]=tmp}}
n++}}
if(n>Items.length){UInvError('GetItemsArraySortedByFunction failed. SortFunction is not returning consistent results.');return undefined}else{return Items}}else{UInvError('SortFunction passed to GetItemsArraySortedByFunction is not a function.');return undefined}}else{UInvError('GetItemsArraySortedByFunction cannot find bag "'+BagName+'".');return undefined}}else{UInvError('BagName passed to GetItemsArraySortedByFunction is not a string.');return undefined}},ItemHasAllProperties:function(BagName,ItemName,ItemPropertyNameArray){if(UInv.isString(BagName)&&UInv.isString(ItemName)){BagName=FixBagName(BagName);ItemName=FixItemName(ItemName);if(UInv.BagExists(BagName)){if(UInv.BagHasItem(BagName,ItemName)){if(UInv.isArrayOfStrings(ItemPropertyNameArray)){var Props=UInv.GetItemPropertiesArray(BagName,ItemName);if(!UInv.isArray(ItemPropertyNameArray)){ItemPropertyNameArray=[ItemPropertyNameArray]}
if((Props.length>0)&&(ItemPropertyNameArray.length>0)){var i;for(i=0;i<Props.length;i++){if(!ItemPropertyNameArray.includes(Props[i])){return!1}}
return!0}
return!1}else{UInvError('ItemHasAllProperties failed. ItemPropertyNameArray is not an array of strings.');return undefined}}else{UInvError('ItemHasAllProperties cannot find item "'+ItemName+'" in bag "'+BagName+'".');return undefined}}else{UInvError('ItemHasAllProperties cannot find bag "'+BagName+'".');return undefined}}else{UInvError('Name passed to ItemHasAllProperties is not a string.');return undefined}},ItemHasAnyProperties:function(BagName,ItemName,ItemPropertyNameArray){if(UInv.isString(BagName)&&UInv.isString(ItemName)){BagName=FixBagName(BagName);ItemName=FixItemName(ItemName);if(UInv.BagExists(BagName)){if(UInv.BagHasItem(BagName,ItemName)){if(UInv.isArrayOfStrings(ItemPropertyNameArray)){var Props=UInv.GetItemPropertiesArray(BagName,ItemName);if(!UInv.isArray(ItemPropertyNameArray)){ItemPropertyNameArray=[ItemPropertyNameArray]}
if((Props.length>0)&&(ItemPropertyNameArray.length>0)){var i;for(i=0;i<Props.length;i++){if(ItemPropertyNameArray.includes(Props[i])){return!0}}}
return!1}else{UInvError('ItemHasAnyProperties failed. ItemPropertyNameArray is not an array of strings.');return undefined}}else{UInvError('ItemHasAnyProperties cannot find item "'+ItemName+'" in bag "'+BagName+'".');return undefined}}else{UInvError('ItemHasAnyProperties cannot find bag "'+BagName+'".');return undefined}}else{UInvError('Name passed to ItemHasAnyProperties is not a string.');return undefined}},GetItemsArrayWithAllProperties:function(BagName,ItemPropertyNameArray){if(UInv.isString(BagName)){BagName=FixBagName(BagName);if(UInv.BagExists(BagName)){if(UInv.isString(ItemPropertyNameArray)){ItemPropertyNameArray=[ItemPropertyNameArray]}
if(UInv.isArrayOfStrings(ItemPropertyNameArray)){var Items=UInv.GetItemsArray(BagName),Result=[],i;for(i=0;i<Items.length;i++){if(UInv.ItemHasAllProperties(BagName,Items[i],ItemPropertyNameArray)){Result.push(Items[i])}}
return Result}else{UInvError('GetItemsArrayWithAllProperties failed. ItemPropertyNameArray is not an array of strings.');return undefined}}else{UInvError('GetItemsArrayWithAllProperties cannot find bag "'+BagName+'".');return undefined}}else{UInvError('Name passed to GetItemsArrayWithAllProperties is not a string.');return undefined}},GetItemsArrayWithoutProperties:function(BagName,ItemPropertyNameArray){if(UInv.isString(BagName)){BagName=FixBagName(BagName);if(UInv.BagExists(BagName)){if(UInv.isString(ItemPropertyNameArray)){ItemPropertyNameArray=[ItemPropertyNameArray]}
if(UInv.isArrayOfStrings(ItemPropertyNameArray)){var Items=UInv.GetItemsArray(BagName),Result=[],i;for(i=0;i<Items.length;i++){if(!UInv.ItemHasAnyProperties(BagName,Items[i],ItemPropertyNameArray)){Result.push(Items[i])}}
return Result}else{UInvError('GetItemsArrayWithoutProperties failed. ItemPropertyNameArray is not an array of strings.');return undefined}}else{UInvError('GetItemsArrayWithoutProperties cannot find bag "'+BagName+'".');return undefined}}else{UInvError('Name passed to GetItemsArrayWithoutProperties is not a string.');return undefined}},SwapItemsProperties:function(BagName1,ItemName1,BagName2,ItemName2,ItemPropertyName){if(UInv.isString(BagName1)&&UInv.isString(ItemName1)&&UInv.isString(BagName2)&&UInv.isString(ItemName2)){BagName1=FixBagName(BagName1);ItemName1=FixItemName(ItemName1);BagName2=FixBagName(BagName2);ItemName2=FixItemName(ItemName2);if(UInv.BagExists(BagName1)){if(UInv.BagExists(BagName2)){if(UInv.BagHasItem(BagName1,ItemName1)){if(UInv.BagHasItem(BagName2,ItemName2)){if(UInv.isString(ItemPropertyName)){ItemPropertyName=[ItemPropertyName]}
if(UInv.isArrayOfStrings(ItemPropertyName)){ItemPropertyName=UInv.getUniqueArray(ItemPropertyName);if(!ItemPropertyName.includesAny("UInvDefaultItemType","UInvVariableType")){if(!(ItemPropertyName.includes("UInvQuantity")&&(UInv.ItemHasPocket(BagName1,ItemName1)||UInv.ItemHasPocket(BagName2,ItemName2)))){var i=0,Val;if(ItemPropertyName.length>0){for(i=0;i<ItemPropertyName.length;i++){if(UInv.ItemHasProperty(BagName1,ItemName1,ItemPropertyName[i])){if(UInv.ItemHasProperty(BagName2,ItemName2,ItemPropertyName[i])){Val=UInv.GetItemValue(BagName1,ItemName1,ItemPropertyName[i]);UInv.SetItemPropertyValue(BagName1,ItemName1,ItemPropertyName[i],UInv.GetItemValue(BagName2,ItemName2,ItemPropertyName[i]));UInv.SetItemPropertyValue(BagName2,ItemName2,ItemPropertyName[i],Val);if(ItemPropertyName[i]=="UInvPocket"){FixContainerReferences(BagName1,ItemName1,BagName2,ItemName2);FixContainerReferences(BagName2,ItemName2,BagName1,ItemName1)}}else{UInv.SetItemPropertyValue(BagName2,ItemName2,ItemPropertyName[i],UInv.GetItemValue(BagName1,ItemName1,ItemPropertyName[i]));if(ItemPropertyName[i]=="UInvPocket"){FixContainerReferences(BagName1,ItemName1,BagName2,ItemName2)}
if(["UInvPocket","UInvCell"].includes(ItemPropertyName[i])){delete State.__getUpperName__.UInvBags[BagName1][ItemName1][ItemPropertyName[i]]}else{UInv.DeleteItemProperty(BagName1,ItemName1,ItemPropertyName[i])}}}else{if(UInv.ItemHasProperty(BagName2,ItemName2,ItemPropertyName[i])){UInv.SetItemPropertyValue(BagName1,ItemName1,ItemPropertyName[i],UInv.GetItemValue(BagName2,ItemName2,ItemPropertyName[i]));if(ItemPropertyName[i]=="UInvPocket"){FixContainerReferences(BagName2,ItemName2,BagName1,ItemName1)}
if(["UInvPocket","UInvCell"].includes(ItemPropertyName[i])){delete State.__getUpperName__.UInvBags[BagName2][ItemName2][ItemPropertyName[i]]}else{UInv.DeleteItemProperty(BagName2,ItemName2,ItemPropertyName[i])}}}}}
return!0}else{UInvError('SwapItemsProperties failed. ItemPropertyName cannot be UInvQuantity if either item has pockets.');return undefined}}else{UInvError('SwapItemsProperties failed. ItemPropertyName cannot be UInvDefaultItemType or UInvVariableType.');return undefined}}else{UInvError('SwapItemsProperties failed. ItemPropertyName is not a string or array of strings.');return undefined}}else{UInvError('SwapItemsProperties cannot find item "'+ItemName2+'" in bag "'+BagName2+'".');return undefined}}else{UInvError('SwapItemsProperties cannot find item "'+ItemName1+'" in bag "'+BagName1+'".');return undefined}}else{UInvError('SwapItemsProperties cannot find bag "'+BagName2+'".');return undefined}}else{UInvError('SwapItemsProperties cannot find bag "'+BagName1+'".');return undefined}}else{UInvError('Name passed to SwapItemsProperties is not a string.');return undefined}},SwapItems:function(BagName1,ItemName1,BagName2,ItemName2,ExceptItemPropertyName){if(UInv.isString(BagName1)&&UInv.isString(ItemName1)&&UInv.isString(BagName2)&&UInv.isString(ItemName2)){BagName1=FixBagName(BagName1);ItemName1=FixItemName(ItemName1);BagName2=FixBagName(BagName2);ItemName2=FixItemName(ItemName2);if(UInv.BagExists(BagName1)){if(UInv.BagExists(BagName2)){if(UInv.BagHasItem(BagName1,ItemName1)){if(UInv.BagHasItem(BagName2,ItemName2)){if(UInv.isString(ExceptItemPropertyName)){ExceptItemPropertyName=[ExceptItemPropertyName]}
if(BagName1===BagName2){if(UInv.isUndefined(ExceptItemPropertyName)){return!0}else if(UInv.isArrayOfStrings(ExceptItemPropertyName)){UInv.SwapItemsProperties(BagName1,ItemName1,BagName2,ItemName2,ExceptItemPropertyName);return!0}else{UInvError('SwapItems failed. ExceptItemPropertyName is not a string or array of strings.');return undefined}}else{if(UInv.isUndefined(ExceptItemPropertyName)||UInv.isArrayOfStrings(ExceptItemPropertyName)){var TempBag=UInv.GetUniqueBagName(),Item1Obj={},Item2Obj={},i;UInv.IncrementUpdateLock();if(UInv.isArrayOfStrings(ExceptItemPropertyName)){for(i=0;i<ExceptItemPropertyName.length;i++){if(UInv.ItemHasProperty(BagName1,ItemName1,ExceptItemPropertyName[i])){Item1Obj[ExceptItemPropertyName[i]]=UInv.GetItemPropertyValue(BagName1,ItemName1,ExceptItemPropertyName[i])}
if(UInv.ItemHasProperty(BagName2,ItemName2,ExceptItemPropertyName[i])){Item2Obj[ExceptItemPropertyName[i]]=UInv.GetItemPropertyValue(BagName2,ItemName2,ExceptItemPropertyName[i])}}}
UInv.CreateBag(TempBag);UInv.MoveItem(BagName1,TempBag,ItemName1);UInv.MoveItem(BagName2,BagName1,ItemName2);UInv.MoveItem(TempBag,BagName2,ItemName1);UInv.DeleteBag(TempBag);if(UInv.isArrayOfStrings(ExceptItemPropertyName)){for(i=0;i<ExceptItemPropertyName.length;i++){if(UInv.isProperty(Item2Obj,ExceptItemPropertyName[i])){UInv.SetItemPropertyValue(BagName2,ItemName1,ExceptItemPropertyName[i],Item2Obj[ExceptItemPropertyName[i]])}else if(UInv.ItemHasProperty(BagName2,ItemName1,ExceptItemPropertyName[i])){UInv.DeleteItemProperty(BagName2,ItemName1,ExceptItemPropertyName[i])}
if(UInv.isProperty(Item1Obj,ExceptItemPropertyName[i])){UInv.SetItemPropertyValue(BagName1,ItemName2,ExceptItemPropertyName[i],Item1Obj[ExceptItemPropertyName[i]])}else if(UInv.ItemHasProperty(BagName1,ItemName2,ExceptItemPropertyName[i])){UInv.DeleteItemProperty(BagName1,ItemName2,ExceptItemPropertyName[i])}}}
UInv.DecrementUpdateLock();UInv.SetCurrentBagName(BagName1);UInv.SetCurrentItemName(ItemName1);return!0}else{UInvError('SwapItems failed. ExceptItemPropertyName is not a string or array of strings.');return undefined}}}else{UInvError('SwapItems cannot find item "'+ItemName2+'" in bag "'+BagName2+'".');return undefined}}else{UInvError('SwapItems cannot find item "'+ItemName1+'" in bag "'+BagName1+'".');return undefined}}else{UInvError('SwapItems cannot find bag "'+BagName2+'".');return undefined}}else{UInvError('SwapItems cannot find bag "'+BagName1+'".');return undefined}}else{UInvError('Name passed to SwapItems is not a string.');return undefined}},GetBagItemArrayWhereItemPropertyEquals:function(BagNameArray,ItemPropertyName,Value){if(UInv.isString(ItemPropertyName)){if(UInv.isString(BagNameArray)){BagNameArray=[BagNameArray]}
if(UInv.isArrayOfStrings(BagNameArray)){if(UInv.BagExists(BagNameArray)){if(arguments.length>=3){var Result=[],Items,Match={},i,j;for(i=0;i<BagNameArray.length;i++){Items=UInv.GetItemsArrayWherePropertyEquals(BagNameArray[i],ItemPropertyName,Value);for(j=0;j<Items.length;j++){if(!UInv.isProperty(Match,BagNameArray[i]+Items[j])){Match[BagNameArray[i]+Items[j]]=!0;Result.push([BagNameArray[i],Items[j]])}}}
return Result}else{UInvError('GetBagItemArrayWhereItemPropertyEquals failed.  Value parameter is missing.');return undefined}}else{UInvError('GetBagItemArrayWhereItemPropertyEquals failed.  Unknown bag in BagNameArray.');return undefined}}else{UInvError('BagNameArray passed to GetBagItemArrayWhereItemPropertyEquals is not a string or an array of strings.');return undefined}}else{UInvError('ItemPropertyName passed to GetBagItemArrayWhereItemPropertyEquals is not a string.');return undefined}},RestackItems:function(BagName){if(UInv.isString(BagName)){BagName=FixBagName(BagName);if(UInv.BagExists(BagName)){var Result=!1,Test=!0,Start=0,Items,i,j;UInv.IncrementUpdateLock();while(Test){Test=!1;Items=UInv.GetItemsArray(BagName).sort();if(Items.length>1){for(i=Start;i<Items.length-1;i++){Start=i;for(j=i+1;j<Items.length;j++){if(UInv.ItemsMatch(BagName,Items[i],BagName,Items[j])){if((Items[i].indexOf("item")==0)&&(Items[j].indexOf("item")!=0)){UInv.SetItemQuantity(BagName,Items[j],UInv.BagHasItem(BagName,Items[j])+UInv.BagHasItem(BagName,Items[i]));UInv.DeleteItem(BagName,Items[i])}else{UInv.SetItemQuantity(BagName,Items[i],UInv.BagHasItem(BagName,Items[i])+UInv.BagHasItem(BagName,Items[j]));UInv.DeleteItem(BagName,Items[j])}
Result=!0;Test=!0;break}}
if(Test){break}}}}
UInv.DecrementUpdateLock();UInv.SetCurrentBagName(BagName);return Result}else{UInvError('RestackItems cannot find bag "'+BagName+'".');return undefined}}else{UInvError('Name passed to RestackItems is not a string.');return undefined}},MoveBagPropertyValueToItem:function(SourceBagName,SourceBagPropertyName,DestinationBagName,DestinationItemName,DestinationItemPropertyName,Amount,MinimumValue,MaximumValue,DeletionValue,DeletionType){if(UInv.isString(SourceBagName)&&UInv.isString(SourceBagPropertyName)&&UInv.isString(DestinationBagName)&&UInv.isString(DestinationItemName)){SourceBagName=FixBagName(SourceBagName);DestinationBagName=FixBagName(DestinationBagName);if(UInv.BagExists(SourceBagName)){if(UInv.BagExists(DestinationBagName)){DestinationItemName=FixItemName(DestinationItemName);if(UInv.BagHasItem(DestinationBagName,DestinationItemName)){if(UInv.BagHasProperty(SourceBagName,SourceBagPropertyName)){if(UInv.isUndefined(DestinationItemPropertyName)){DestinationItemPropertyName=SourceBagPropertyName}
if(["UInvDefaultItemType","UInvPocket"].includes(DestinationItemPropertyName)){UInvError('MoveBagPropertyValueToItem failed. DestinationItemPropertyName cannot be "'+DestinationItemPropertyName+'".');return undefined}
if(DestinationItemPropertyName==="UInvQuantity"){if(!UInv.isInteger(UInv.GetBagPropertyValue(SourceBagName,SourceBagPropertyName))){UInvError("MoveBagPropertyValueToItem failed. Source bag property must be an integer to move it to an item's UInvQuantity.");return undefined}
if((!UInv.isUndefined(Amount))&&(!UInv.isInteger(Amount))){UInvError("MoveBagPropertyValueToItem failed. Amount must be an integer to move it to an item's UInvQuantity.");return undefined}
MinimumValue=0;DeletionValue=0;if(UInv.isString(DeletionType)&&(DeletionType!=="object")){DeletionType="item"}}
if(!UInv.isUndefined(Amount)){Amount=tryIntParse(Amount);if(UInv.isNumber(Amount)){var SrcVal=UInv.GetBagPropertyValue(SourceBagName,SourceBagPropertyName);SrcVal=tryIntParse(SrcVal);if(UInv.isNumber(SrcVal)){var DstVal=0;if(UInv.ItemHasProperty(DestinationBagName,DestinationItemName,DestinationItemPropertyName)){DstVal=UInv.GetItemPropertyValue(DestinationBagName,DestinationItemName,DestinationItemPropertyName);DstVal=tryIntParse(DstVal)}
if(UInv.isNumber(DstVal)){var TmpAmt=Amount;if(!UInv.isUndefined(MinimumValue)){MinimumValue=tryIntParse(MinimumValue);if(UInv.isUndefined(MinimumValue)){UInvError('MoveBagPropertyValueToItem failed. If used, MinimumValue must be a number.');return undefined}
if(SrcVal-Amount<MinimumValue){Amount=SrcVal-MinimumValue}
if(DstVal+Amount<MinimumValue){Amount=MinimumValue-DstVal}}
if(!UInv.isUndefined(MaximumValue)){MaximumValue=tryIntParse(MaximumValue);if(UInv.isUndefined(MaximumValue)){UInvError('MoveBagPropertyValueToItem failed. If used, MaximumValue must be a number.');return undefined}
if((!UInv.isUndefined(MinimumValue))&&(MinimumValue>MaximumValue)){UInvError('MoveBagPropertyValueToItem failed. When both are used, MaximumValue must be greater than MinimumValue.');return undefined}
if(SrcVal-Amount>MaximumValue){Amount=SrcVal-MaximumValue}
if(DstVal+Amount>MaximumValue){Amount=MaximumValue-DstVal}}
if(((TmpAmt>=0)&&(Amount>TmpAmt))||((TmpAmt<0)&&(Amount<TmpAmt))){UInvError('MoveBagPropertyValueToItem failed. Source ('+SrcVal+') and/or Destination ('+DstVal+') values are too far out of MinimumValue ('+MinimumValue+') and/or MaximumValue ('+MaximumValue+') range.');return undefined}
if(!UInv.isUndefined(DeletionValue)){DeletionValue=tryIntParse(DeletionValue);if(UInv.isUndefined(DeletionValue)){UInvError('MoveBagPropertyValueToItem failed. If used, DeletionValue must be a number.');return undefined}
if(SrcVal-Amount==DeletionValue){if(UInv.isString(DeletionType)){DeletionType=DeletionType.toLowerCase()}else{DeletionType="property"}
switch(DeletionType){case "bag":case "object":UInv.DeleteBag(SourceBagName);break;case "item":UInv.SetBagPropertyValue(SourceBagName,SourceBagPropertyName,SrcVal-Amount);break;default:UInv.DeleteBagProperty(SourceBagName,SourceBagPropertyName)}}else{UInv.SetBagPropertyValue(SourceBagName,SourceBagPropertyName,SrcVal-Amount)}
if(DstVal+Amount==DeletionValue){if(UInv.isString(DeletionType)){DeletionType=DeletionType.toLowerCase()}else{DeletionType="property"}
switch(DeletionType){case "item":case "object":UInv.DeleteItem(DestinationBagName,DestinationItemName);break;case "bag":UInv.SetItemPropertyValue(DestinationBagName,DestinationItemName,DestinationItemPropertyName,DstVal+Amount);break;default:UInv.DeleteItemProperty(DestinationBagName,DestinationItemName,DestinationItemPropertyName)}}else{UInv.SetItemPropertyValue(DestinationBagName,DestinationItemName,DestinationItemPropertyName,DstVal+Amount)}
UInv.SetCurrentBagName(DestinationBagName);UInv.SetCurrentItemName(DestinationItemName);return DstVal+Amount}
UInv.SetBagPropertyValue(SourceBagName,SourceBagPropertyName,SrcVal-Amount);UInv.SetItemPropertyValue(DestinationBagName,DestinationItemName,DestinationItemPropertyName,DstVal+Amount);UInv.SetCurrentBagName(DestinationBagName);UInv.SetCurrentItemName(DestinationItemName);return DstVal+Amount}else{UInvError("MoveBagPropertyValueToItem failed. Destination item's property value must be a number to add to or subtract from it.");return undefined}}else{UInvError("MoveBagPropertyValueToItem failed. Source bag's property value must be a number to move an Amount of it.");return undefined}}else{UInvError('MoveBagPropertyValueToItem failed. If used, Amount must be a number.');return undefined}}else{var Val=UInv.GetBagPropertyValue(SourceBagName,SourceBagPropertyName);UInv.SetItemPropertyValue(DestinationBagName,DestinationItemName,DestinationItemPropertyName,Val);UInv.DeleteBagProperty(SourceBagName,SourceBagPropertyName);UInv.SetCurrentBagName(DestinationBagName);UInv.SetCurrentItemName(DestinationItemName);return Val}}else{UInvError('MoveBagPropertyValueToItem failed. Source bag "'+SourceBagName+'" does not have property "'+SourceBagPropertyName+'".');return undefined}}else{UInvError('MoveBagPropertyValueToItem failed. Destination bag "'+DestinationBagName+'" does not contain item "'+DestinationItemName+'".');return undefined}}else{UInvError('MoveBagPropertyValueToItem cannot find destination bag "'+DestinationBagName+'".');return undefined}}else{UInvError('MoveBagPropertyValueToItem cannot find source bag "'+SourceBagName+'".');return undefined}}else{UInvError('Name passed to MoveBagPropertyValueToItem is not a string.');return undefined}},MoveItemPropertyValueToItem:function(SourceBagName,SourceItemName,SourceItemPropertyName,DestinationBagName,DestinationItemName,DestinationItemPropertyName,Amount,MinimumValue,MaximumValue,DeletionValue,DeletionType){if(UInv.isString(SourceBagName)&&UInv.isString(SourceItemName)&&UInv.isString(SourceItemPropertyName)&&UInv.isString(DestinationBagName)&&UInv.isString(DestinationItemName)){SourceBagName=FixBagName(SourceBagName);DestinationBagName=FixBagName(DestinationBagName);if(UInv.BagExists(SourceBagName)){if(UInv.BagExists(DestinationBagName)){SourceItemName=FixItemName(SourceItemName);if(UInv.BagHasItem(SourceBagName,SourceItemName)){DestinationItemName=FixItemName(DestinationItemName);if(UInv.BagHasItem(DestinationBagName,DestinationItemName)){if(UInv.ItemHasProperty(SourceBagName,SourceItemName,SourceItemPropertyName)){if(UInv.isUndefined(DestinationItemPropertyName)){DestinationItemPropertyName=SourceItemPropertyName}
if(["UInvDefaultItemType","UInvPocket"].includes(SourceItemPropertyName)){UInvError('MoveItemPropertyValueToItem failed. SourceItemPropertyName cannot be "'+SourceItemPropertyName+'".');return undefined}
if(["UInvDefaultItemType","UInvPocket"].includes(DestinationItemPropertyName)){UInvError('MoveItemPropertyValueToItem failed. DestinationItemPropertyName cannot be "'+DestinationItemPropertyName+'".');return undefined}
if(DestinationItemPropertyName==="UInvQuantity"){if((!UInv.isUndefined(Amount))&&(!UInv.isInteger(Amount))){UInvError("MoveItemPropertyValueToItem failed. Amount must be an integer to move it to an item's UInvQuantity.");return undefined}
MinimumValue=0;DeletionValue=0;if(UInv.isString(DeletionType)&&(DeletionType!=="object")){DeletionType="item"}}
if(!UInv.isUndefined(Amount)){Amount=tryIntParse(Amount);if(UInv.isNumber(Amount)){var SrcVal=UInv.GetItemPropertyValue(SourceBagName,SourceItemName,SourceItemPropertyName);SrcVal=tryIntParse(SrcVal);if(UInv.isNumber(SrcVal)){var DstVal=0;if(UInv.ItemHasProperty(DestinationBagName,DestinationItemName,DestinationItemPropertyName)){DstVal=UInv.GetItemPropertyValue(DestinationBagName,DestinationItemName,DestinationItemPropertyName);DstVal=tryIntParse(DstVal)}
if(UInv.isNumber(DstVal)){var TmpAmt=Amount;if(!UInv.isUndefined(MinimumValue)){MinimumValue=tryIntParse(MinimumValue);if(UInv.isUndefined(MinimumValue)){UInvError('MoveItemPropertyValueToItem failed. If used, MinimumValue must be a number.');return undefined}
if(SrcVal-Amount<MinimumValue){Amount=SrcVal-MinimumValue}
if(DstVal+Amount<MinimumValue){Amount=MinimumValue-DstVal}}
if(!UInv.isUndefined(MaximumValue)){MaximumValue=tryIntParse(MaximumValue);if(UInv.isUndefined(MaximumValue)){UInvError('MoveItemPropertyValueToItem failed. If used, MaximumValue must be a number.');return undefined}
if((!UInv.isUndefined(MinimumValue))&&(MinimumValue>MaximumValue)){UInvError('MoveItemPropertyValueToItem failed. When both are used, MaximumValue must be greater than MinimumValue.');return undefined}
if(SrcVal-Amount>MaximumValue){Amount=SrcVal-MaximumValue}
if(DstVal+Amount>MaximumValue){Amount=MaximumValue-DstVal}}
if(((TmpAmt>=0)&&(Amount>TmpAmt))||((TmpAmt<0)&&(Amount<TmpAmt))){UInvError('MoveItemPropertyValueToItem failed. Source ('+SrcVal+') and/or Destination ('+DstVal+') values are too far out of MinimumValue ('+MinimumValue+') and/or MaximumValue ('+MaximumValue+') range.');return undefined}
if(!UInv.isUndefined(DeletionValue)){DeletionValue=tryIntParse(DeletionValue);if(UInv.isUndefined(DeletionValue)){UInvError('MoveItemPropertyValueToItem failed. If used, DeletionValue must be a number.');return undefined}
if(SrcVal-Amount==DeletionValue){if(UInv.isString(DeletionType)){DeletionType=DeletionType.toLowerCase()}else{DeletionType="property"}
switch(DeletionType){case "item":case "object":UInv.DeleteItem(SourceBagName);break;case "bag":UInv.SetItemPropertyValue(SourceBagName,SourceItemName,SourceItemPropertyName,SrcVal-Amount);break;default:UInv.DeleteItemProperty(SourceBagName,SourceItemName,SourceItemPropertyName)}}else{UInv.SetItemPropertyValue(SourceBagName,SourceItemName,SourceItemPropertyName,SrcVal-Amount)}
if(DstVal+Amount==DeletionValue){if(UInv.isString(DeletionType)){DeletionType=DeletionType.toLowerCase()}else{DeletionType="property"}
switch(DeletionType){case "item":case "object":UInv.DeleteItem(DestinationBagName,DestinationItemName);break;case "bag":UInv.SetItemPropertyValue(DestinationBagName,DestinationItemName,DestinationItemPropertyName,DstVal+Amount);break;default:UInv.DeleteItemProperty(DestinationBagName,DestinationItemName,DestinationItemPropertyName)}}else{UInv.SetItemPropertyValue(DestinationBagName,DestinationItemName,DestinationItemPropertyName,DstVal+Amount)}
UInv.SetCurrentBagName(DestinationBagName);UInv.SetCurrentItemName(DestinationItemName);return DstVal+Amount}
UInv.SetItemPropertyValue(SourceBagName,SourceItemName,SourceItemPropertyName,SrcVal-Amount);UInv.SetItemPropertyValue(DestinationBagName,DestinationItemName,DestinationItemPropertyName,DstVal+Amount);UInv.SetCurrentBagName(DestinationBagName);UInv.SetCurrentItemName(DestinationItemName);return DstVal+Amount}else{UInvError("MoveItemPropertyValueToItem failed. Destination item's property value must be a number to add to or subtract from it.");return undefined}}else{UInvError("MoveItemPropertyValueToItem failed. Source item's property value must be a number to move an Amount of it.");return undefined}}else{UInvError('MoveItemPropertyValueToItem failed. If used, Amount must be a number.');return undefined}}else{var Val=UInv.GetItemPropertyValue(SourceBagName,SourceItemName,SourceItemPropertyName);UInv.SetItemPropertyValue(DestinationBagName,DestinationItemName,DestinationItemPropertyName,Val);UInv.DeleteItemProperty(SourceBagName,SourceItemName,SourceItemPropertyName);UInv.SetCurrentBagName(DestinationBagName);UInv.SetCurrentItemName(DestinationItemName);return Val}}else{UInvError('MoveItemPropertyValueToItem failed. Item "'+SourceItemName+'" in bag "'+SourceBagName+'" does not have property "'+SourceItemPropertyName+'".');return undefined}}else{UInvError('MoveItemPropertyValueToItem failed. Destination bag "'+DestinationBagName+'" does not contain item "'+DestinationItemName+'".');return undefined}}else{UInvError('MoveItemPropertyValueToItem failed. Source bag "'+SourceBagName+'" does not contain item "'+SourceItemName+'".');return undefined}}else{UInvError('MoveItemPropertyValueToItem cannot find destination bag "'+DestinationBagName+'".');return undefined}}else{UInvError('MoveItemPropertyValueToItem cannot find source bag "'+SourceBagName+'".');return undefined}}else{UInvError('Name passed to MoveItemPropertyValueToItem is not a string.');return undefined}},GetRawItemObject:function(BagName,ItemName){if(UInv.isString(BagName)&&UInv.isString(ItemName)){BagName=FixBagName(BagName);ItemName=FixItemName(ItemName);if(UInv.BagExists(BagName)){if(UInv.BagHasItem(BagName,ItemName)){UInv.SetCurrentBagName(BagName);UInv.SetCurrentItemName(ItemName);return State.__getUpperName__.UInvBags[BagName][ItemName]}else{UInvError('GetRawItemObject cannot find item "'+ItemName+'" in bag "'+BagName+'".');return undefined}}else{UInvError('GetRawItemObject cannot find bag "'+BagName+'".');return undefined}}else{UInvError('Name passed to GetRawItemObject is not a string.');return undefined}},AddBagTag:function(BagName,BagPropertyName,BagTag){if(UInv.isString(BagPropertyName)){if(UInv.isString(BagName)){BagName=FixBagName(BagName);if(UInv.BagExists(BagName)){UInv.SetCurrentBagName(BagName);if(!UInv.isUndefined(BagTag)){if(UInv.isArray(BagTag)){var i=0,AResult=!0;if(BagTag.length>0){for(i=0;i<BagTag.length;i++){if(!UInv.AddBagTag(BagName,BagPropertyName,BagTag[i])){AResult=undefined}}}
return AResult}else{var Value=[];if(UInv.BagHasProperty(BagName,BagPropertyName)){Value=UInv.GetBagPropertyValue(BagName,BagPropertyName);if(UInv.isArray(Value)){Value.push(BagTag)}else{Value=[Value,BagTag]}}else{Value=[BagTag]}
UInv.SetBagPropertyValue(BagName,BagPropertyName,Value);return!0}}else{UInvError('AddBagTag failed. BagTag not defined.');return undefined}}else{UInvError('AddBagTag cannot find bag "'+BagName+'".');return undefined}}else if(UInv.isArrayOfStrings(BagName)){if(UInv.BagExists(BagName)){var j=0,BResult=!0;for(j=0;j<BagName.length;j++){if(!UInv.AddBagTag(BagName[j],BagPropertyName,BagTag)){BResult=undefined}}
return BResult}else{UInvError('AddBagTag failed. Invalid bag name in BagName array.');return undefined}}else{UInvError('BagName passed to AddBagTag is not a string or an array of strings.');return undefined}}else{UInvError('BagPropertyName passed to AddBagTag is not a string.');return undefined}},AddItemTag:function(BagName,ItemName,ItemPropertyName,ItemTag){if(UInv.isString(ItemName)&&UInv.isString(ItemPropertyName)){if(UInv.isString(BagName)){BagName=FixBagName(BagName);ItemName=FixItemName(ItemName);if(UInv.BagExists(BagName)){if(UInv.BagHasItem(BagName,ItemName)){UInv.SetCurrentItemName(ItemName);UInv.SetCurrentBagName(BagName);if(!UInv.isUndefined(ItemTag)){if(UInv.isArray(ItemTag)){var i=0,AResult=!0;if(ItemTag.length>0){for(i=0;i<ItemTag.length;i++){if(!UInv.AddItemTag(BagName,ItemName,ItemPropertyName,ItemTag[i])){AResult=undefined}}}
return AResult}else{var Value=[];if(UInv.ItemHasProperty(BagName,ItemName,ItemPropertyName)){Value=UInv.GetItemPropertyValue(BagName,ItemName,ItemPropertyName);if(UInv.isArray(Value)){Value.push(ItemTag);UInv.SetItemPropertyValue(BagName,ItemName,ItemPropertyName,Value);return!0}else{Value=[Value,ItemTag];UInv.SetItemPropertyValue(BagName,ItemName,ItemPropertyName,Value);return!0}}else{Value=[ItemTag];UInv.SetItemPropertyValue(BagName,ItemName,ItemPropertyName,Value);return!0}}}else{UInvError('AddItemTag failed. ItemTag not defined.');return undefined}}else{UInvError('AddItemTag cannot find item "'+ItemName+'".');return undefined}}else{UInvError('AddItemTag cannot find bag "'+BagName+'".');return undefined}}else if(UInv.isArrayOfStrings(BagName)){if(UInv.BagExists(BagName)){var j=0,BResult=!0;for(j=0;j<BagName.length;j++){if(!UInv.AddItemTag(BagName[j],ItemName,ItemPropertyName,ItemTag)){BResult=undefined}}
return BResult}else{UInvError('AddItemTag failed. Invalid bag name in BagName array.');return undefined}}else{UInvError('BagName passed to AddItemTag is not a string or an array of strings.');return undefined}}else{UInvError('Name passed to AddItemTag is not a string.');return undefined}},DeleteBagTag:function(BagName,BagPropertyName,BagTag){if(UInv.isString(BagPropertyName)){if(UInv.isString(BagName)){BagName=FixBagName(BagName);if(UInv.BagExists(BagName)){UInv.SetCurrentBagName(BagName);if(!UInv.isUndefined(BagTag)){if(UInv.BagHasProperty(BagName,BagPropertyName)){if(UInv.isArray(BagTag)){var i=0,AResult=!0;if(BagTag.length>0){for(i=0;i<BagTag.length;i++){if(!UInv.DeleteBagTag(BagName,BagPropertyName,BagTag[i])){AResult=undefined}}}
return AResult}else{var Value=UInv.GetBagPropertyValue(BagName,BagPropertyName);if(UInv.isArray(Value)){if(UInv.arrayHasTag(Value,BagTag)){Value.deleteAt(Value.indexOf(BagTag));UInv.SetBagPropertyValue(BagName,BagPropertyName,Value)}}else if(Value===BagTag){UInv.DeleteBagProperty(BagName,BagPropertyName)}
return!0}}else{return!0}}else{UInvError('DeleteBagTag failed. BagTag not defined.');return undefined}}else{UInvError('DeleteBagTag cannot find bag "'+BagName+'".');return undefined}}else if(UInv.isArrayOfStrings(BagName)){if(UInv.BagExists(BagName)){var j=0,BResult=!0;for(j=0;j<BagName.length;j++){if(!UInv.DeleteBagTag(BagName[j],BagPropertyName,BagTag)){BResult=undefined}}
return BResult}else{UInvError('DeleteBagTag failed. Invalid bag name in BagName array.');return undefined}}else{UInvError('BagName passed to DeleteBagTag is not a string or an array of strings.');return undefined}}else{UInvError('Name passed to DeleteBagTag is not a string.');return undefined}},DeleteItemTag:function(BagName,ItemName,ItemPropertyName,ItemTag){if(UInv.isString(ItemName)&&UInv.isString(ItemPropertyName)){if(UInv.isString(BagName)){BagName=FixBagName(BagName);ItemName=FixItemName(ItemName);if(UInv.BagExists(BagName)){UInv.SetCurrentBagName(BagName);UInv.SetCurrentItemName(ItemName);if(!UInv.isUndefined(ItemTag)){if(UInv.ItemHasProperty(BagName,ItemName,ItemPropertyName)){if(UInv.isArray(ItemTag)){var i=0,AResult=!0;if(ItemTag.length>0){for(i=0;i<ItemTag.length;i++){if(!UInv.DeleteItemTag(BagName,ItemName,ItemPropertyName,ItemTag[i])){AResult=undefined}}}
return AResult}else{var Value=UInv.GetItemPropertyValue(BagName,ItemName,ItemPropertyName);if(UInv.isArray(Value)){if(UInv.arrayHasTag(Value,ItemTag)){Value.deleteAt(Value.indexOf(ItemTag));UInv.SetItemPropertyValue(BagName,ItemName,ItemPropertyName,Value)}
return!0}else{if(UInv.valuesAreEqual(Value,ItemTag)){UInv.DeleteItemProperty(BagName,ItemName,ItemPropertyName)}
return!0}}}else{return!0}}else{UInvError('DeleteItemTag failed. ItemTag not defined.');return undefined}}else{UInvError('DeleteItemTag cannot find bag "'+BagName+'".');return undefined}}else if(UInv.isArrayOfStrings(BagName)){if(UInv.BagExists(BagName)){var j=0,BResult=!0;for(j=0;j<BagName.length;j++){if(!UInv.DeleteItemTag(BagName[j],ItemName,ItemPropertyName,ItemTag)){BResult=undefined}}
return BResult}else{UInvError('DeleteItemTag failed. Invalid bag name in BagName array.');return undefined}}else{UInvError('BagName passed to DeleteItemTag is not a string or an array of strings.');return undefined}}else{UInvError('Name passed to DeleteItemTag is not a string.');return undefined}},BagHasTag:function(BagName,BagPropertyName,BagTag){if(UInv.isString(BagName)&&UInv.isString(BagPropertyName)){BagName=FixBagName(BagName);if(UInv.BagExists(BagName)){UInv.SetCurrentBagName(BagName);if(!UInv.isUndefined(BagTag)){if(UInv.BagHasProperty(BagName,BagPropertyName)){var Value=UInv.GetBagPropertyValue(BagName,BagPropertyName);if(UInv.isArray(Value)){return UInv.arrayHasTag(Value,BagTag)}else{return UInv.valuesAreEqual(Value,BagTag)}}else{return!1}}else{UInvError('BagHasTag failed. BagTag not defined.');return undefined}}else{UInvError('BagHasTag cannot find bag "'+BagName+'".');return undefined}}else{UInvError('Name passed to BagHasTag is not a string.');return undefined}},ItemHasTag:function(BagName,ItemName,ItemPropertyName,ItemTag){if(UInv.isString(BagName)&&UInv.isString(ItemName)&&UInv.isString(ItemPropertyName)){BagName=FixBagName(BagName);ItemName=FixItemName(ItemName);if(UInv.BagExists(BagName)){if(UInv.BagHasItem(BagName,ItemName)){UInv.SetCurrentBagName(BagName);UInv.SetCurrentItemName(ItemName);if(!UInv.isUndefined(ItemTag)){if(UInv.ItemHasProperty(BagName,ItemName,ItemPropertyName)){var Value=UInv.GetItemPropertyValue(BagName,ItemName,ItemPropertyName);if(UInv.isArray(Value)){return UInv.arrayHasTag(Value,ItemTag)}else{return UInv.valuesAreEqual(Value,ItemTag)}}else{return!1}}else{UInvError('ItemHasTag failed. ItemTag not defined.');return undefined}}else{UInvError('ItemHasTag cannot find item "'+ItemName+'".');return undefined}}else{UInvError('ItemHasTag cannot find bag "'+BagName+'".');return undefined}}else{UInvError('Name passed to ItemHasTag is not a string.');return undefined}},ItemHasAllTags:function(BagName,ItemName,ItemPropertyName,ItemTagArray){if(UInv.isString(BagName)&&UInv.isString(ItemName)&&UInv.isString(ItemPropertyName)){BagName=FixBagName(BagName);ItemName=FixItemName(ItemName);if(UInv.BagExists(BagName)){if(UInv.BagHasItem(BagName,ItemName)){if(!UInv.isUndefined(ItemTagArray)){UInv.SetCurrentBagName(BagName);UInv.SetCurrentItemName(ItemName);if(UInv.ItemHasProperty(BagName,ItemName,ItemPropertyName)){if(UInv.isArray(ItemTagArray)){var i;for(i=0;i<ItemTagArray.length;i++){if(!UInv.ItemHasTag(BagName,ItemName,ItemPropertyName,ItemTagArray[i])){return!1}}
return!0}else{return UInv.ItemHasTag(BagName,ItemName,ItemPropertyName,ItemTagArray)}}else{return!1}}else{UInvError('ItemHasAllTags failed. ItemTagArray not defined.');return undefined}}else{UInvError('ItemHasAllTags cannot find item "'+ItemName+'".');return undefined}}else{UInvError('ItemHasAllTags cannot find bag "'+BagName+'".');return undefined}}else{UInvError('Name passed to ItemHasAllTags is not a string.');return undefined}},ItemHasAnyTag:function(BagName,ItemName,ItemPropertyName,ItemTagArray){if(UInv.isString(BagName)&&UInv.isString(ItemName)&&UInv.isString(ItemPropertyName)){BagName=FixBagName(BagName);ItemName=FixItemName(ItemName);if(UInv.BagExists(BagName)){if(UInv.BagHasItem(BagName,ItemName)){if(!UInv.isUndefined(ItemTagArray)){UInv.SetCurrentBagName(BagName);UInv.SetCurrentItemName(ItemName);if(UInv.ItemHasProperty(BagName,ItemName,ItemPropertyName)){if(UInv.isArray(ItemTagArray)){var i;for(i=0;i<ItemTagArray.length;i++){if(UInv.ItemHasTag(BagName,ItemName,ItemPropertyName,ItemTagArray[i])){return!0}}
return!1}else{return UInv.ItemHasTag(BagName,ItemName,ItemPropertyName,ItemTagArray)}}else{return!1}}else{UInvError('ItemHasAnyTag failed. ItemTagArray not defined.');return undefined}}else{UInvError('ItemHasAnyTag cannot find item "'+ItemName+'".');return undefined}}else{UInvError('ItemHasAnyTag cannot find bag "'+BagName+'".');return undefined}}else{UInvError('Name passed to ItemHasAnyTag is not a string.');return undefined}},SetBagTag:function(BagName,BagPropertyName,BagTag,Enabled){if(UInv.isString(BagPropertyName)){if(UInv.isString(BagName)){BagName=FixBagName(BagName);if(UInv.BagExists(BagName)){UInv.SetCurrentBagName(BagName);if(!UInv.isUndefined(BagTag)){if(UInv.isBoolean(Enabled)){if(UInv.isArray(BagTag)){var i=0,AResult=!0;if(BagTag.length>0){for(i=0;i<BagTag.length;i++){if(!UInv.SetBagTag(BagName,BagPropertyName,BagTag[i],Enabled)){AResult=undefined}}}
return AResult}else if(Enabled){if(UInv.BagHasProperty(BagName,BagPropertyName)){if(!UInv.BagHasTag(BagName,BagPropertyName,BagTag)){UInv.AddBagTag(BagName,BagPropertyName,BagTag)}}else{UInv.AddBagTag(BagName,BagPropertyName,BagTag)}
return!0}else{if(UInv.BagHasProperty(BagName,BagPropertyName)){while(UInv.BagHasTag(BagName,BagPropertyName,BagTag)){UInv.DeleteBagTag(BagName,BagPropertyName,BagTag)}}
return!0}}else{UInvError('SetBagTag failed. Enabled is not a boolean.');return undefined}}else{UInvError('SetBagTag failed. BagTag not defined.');return undefined}}else{UInvError('SetBagTag cannot find bag "'+BagName+'".');return undefined}}else if(UInv.isArrayOfStrings(BagName)){if(UInv.BagExists(BagName)){var j=0,BResult=!0;for(j=0;j<BagName.length;j++){if(!UInv.SetBagTag(BagName[j],BagPropertyName,BagTag,Enabled)){BResult=undefined}}
return BResult}else{UInvError('SetBagTag failed. Invalid bag name in BagName array.');return undefined}}else{UInvError('BagName passed to SetBagTag is not a string or an array of strings.');return undefined}}else{UInvError('BagPropertyName passed to SetBagTag is not a string.');return undefined}},SetItemTag:function(BagName,ItemName,ItemPropertyName,ItemTag,Enabled){if(UInv.isString(ItemName)&&UInv.isString(ItemPropertyName)){if(UInv.isString(BagName)){BagName=FixBagName(BagName);ItemName=FixItemName(ItemName);if(UInv.BagExists(BagName)){if(UInv.BagHasItem(BagName,ItemName)){UInv.SetCurrentItemName(ItemName);UInv.SetCurrentBagName(BagName);if(!UInv.isUndefined(ItemTag)){if(UInv.isArray(ItemTag)){var i=0,AResult=!0;if(ItemTag.length>0){for(i=0;i<ItemTag.length;i++){if(!UInv.SetItemTag(BagName,ItemName,ItemPropertyName,ItemTag[i],Enabled)){AResult=undefined}}}
return AResult}else if(Enabled){if(UInv.ItemHasProperty(BagName,ItemName,ItemPropertyName)){if(!UInv.ItemHasTag(BagName,ItemName,ItemPropertyName,ItemTag)){UInv.AddItemTag(BagName,ItemName,ItemPropertyName,ItemTag)}}else{UInv.AddItemTag(BagName,ItemName,ItemPropertyName,ItemTag)}
return!0}else{if(UInv.ItemHasProperty(BagName,ItemName,ItemPropertyName)){while(UInv.ItemHasTag(BagName,ItemName,ItemPropertyName,ItemTag)){UInv.DeleteItemTag(BagName,ItemName,ItemPropertyName,ItemTag)}}
return!0}}else{UInvError('SetItemTag failed. ItemTag not defined.');return undefined}}else{UInvError('SetItemTag cannot find item "'+ItemName+'".');return undefined}}else{UInvError('SetItemTag cannot find bag "'+BagName+'".');return undefined}}else if(UInv.isArrayOfStrings(BagName)){if(UInv.BagExists(BagName)){var j=0,BResult=!0;for(j=0;j<BagName.length;j++){if(!UInv.SetItemTag(BagName[j],ItemName,ItemPropertyName,ItemTag,Enabled)){BResult=undefined}}
return BResult}else{UInvError('SetItemTag failed. Invalid bag name in BagName array.');return undefined}}else{UInvError('BagName passed to SetItemTag is not a string or an array of strings.');return undefined}}else{UInvError('Name passed to SetItemTag is not a string.');return undefined}},GetBagsArrayByBagTag:function(BagPropertyName,BagTag){if(UInv.isString(BagPropertyName)){if(!UInv.isUndefined(BagTag)){var Bags=[],BagList=UInv.GetBagsArray(),i=0;if(BagList.length>0){for(i=0;i<BagList.length;i++){if(UInv.BagHasTag(BagList[i],BagPropertyName,BagTag)){Bags.push(BagList[i])}}}
return Bags}else{UInvError('GetBagsArrayByBagTag failed. BagTag parameter is missing.');return undefined}}else{UInvError('BagPropertyName passed to GetBagsArrayByBagTag is not a string.');return undefined}},BagHasAllBagTags:function(BagName,BagPropertyName,BagTagArray){if(UInv.isString(BagName)&&UInv.isString(BagPropertyName)){BagName=FixBagName(BagName);if(UInv.BagExists(BagName)){UInv.SetCurrentBagName(BagName);if(UInv.BagHasProperty(BagName,BagPropertyName)){if(UInv.isArray(UInv.GetBagPropertyValue(BagPropertyName))&&UInv.isArray(BagTagArray)){return UInv.arrayHasAllTags(UInv.GetBagPropertyValue(BagPropertyName),BagTagArray)}else{UInv.Error("Error: BagHasAllBagTags failed. Both BagPropertyName's value and BagTagArray parameter must be arrays.");return undefined}}else{UInvError('BagHasAllBagTags cannot find bag property "'+BagPropertyName+'" on bag "'+BagName+'".');return undefined}}else{UInvError('BagHasAllBagTags cannot find bag "'+BagName+'".');return undefined}}else{UInvError('Name passed to BagHasAllBagTags is not a string.');return undefined}},BagHasAnyBagTag:function(BagName,BagPropertyName,BagTagArray){if(UInv.isString(BagName)&&UInv.isString(BagPropertyName)){BagName=FixBagName(BagName);if(UInv.BagExists(BagName)){UInv.SetCurrentBagName(BagName);if(UInv.BagHasProperty(BagName,BagPropertyName)){if(UInv.isArray(UInv.GetBagPropertyValue(BagPropertyName))&&UInv.isArray(BagTagArray)){return UInv.arrayHasAnyTag(UInv.GetBagPropertyValue(BagPropertyName),BagTagArray)}else{UInv.Error("Error: BagHasAnyBagTag failed. Both BagPropertyName's value and BagTagArray parameter must be arrays.");return undefined}}else{UInvError('BagHasAnyBagTag cannot find bag property "'+BagPropertyName+'" on bag "'+BagName+'".');return undefined}}else{UInvError('BagHasAnyBagTag cannot find bag "'+BagName+'".');return undefined}}else{UInvError('Name passed to BagHasAnyBagTag is not a string.');return undefined}},GetItemsArrayByAllItemTags:function(BagName,ItemPropertyName,ItemTagArray){if(UInv.isString(BagName)&&UInv.isString(ItemPropertyName)){BagName=FixBagName(BagName);if(UInv.BagExists(BagName)){UInv.SetCurrentBagName(BagName);var Items=UInv.GetItemsArray(BagName),i=0,Result=[];for(i=0;i<Items.length;i++){if(UInv.ItemHasAllTags(BagName,Items[i],ItemPropertyName,ItemTagArray)){Result.push(Items[i])}}
return Result}else{UInvError('GetItemsArrayByAllItemTags cannot find bag "'+BagName+'".');return undefined}}else{UInvError('Name passed to GetItemsArrayByAllItemTags is not a string.');return undefined}},GetItemsArrayByAnyItemTag:function(BagName,ItemPropertyName,ItemTagArray){if(UInv.isString(BagName)&&UInv.isString(ItemPropertyName)){BagName=FixBagName(BagName);if(UInv.BagExists(BagName)){UInv.SetCurrentBagName(BagName);var Items=UInv.GetItemsArray(BagName),i=0,Result=[];for(i=0;i<Items.length;i++){if(UInv.ItemHasAnyTag(BagName,Items[i],ItemPropertyName,ItemTagArray)){Result.push(Items[i])}}
return Result}else{UInvError('GetItemsArrayByAnyItemTag cannot find bag "'+BagName+'".');return undefined}}else{UInvError('Name passed to GetItemsArrayByAnyItemTag is not a string.');return undefined}},GetItemsArrayWithoutAllItemTags:function(BagName,ItemPropertyName,ItemTagArray){if(UInv.isString(BagName)&&UInv.isString(ItemPropertyName)){BagName=FixBagName(BagName);if(UInv.BagExists(BagName)){UInv.SetCurrentBagName(BagName);var Items=UInv.GetItemsArray(BagName),i=0,Result=[];for(i=0;i<Items.length;i++){if(!UInv.ItemHasAllTags(BagName,Items[i],ItemPropertyName,ItemTagArray)){Result.push(Items[i])}}
return Result}else{UInvError('GetItemsArrayWithoutAllItemTags cannot find bag "'+BagName+'".');return undefined}}else{UInvError('Name passed to GetItemsArrayWithoutAllItemTags is not a string.');return undefined}},GetItemsArrayWithoutAnyItemTags:function(BagName,ItemPropertyName,ItemTagArray){if(UInv.isString(BagName)&&UInv.isString(ItemPropertyName)){BagName=FixBagName(BagName);if(UInv.BagExists(BagName)){UInv.SetCurrentBagName(BagName);var Items=UInv.GetItemsArray(BagName),i=0,Result=[];for(i=0;i<Items.length;i++){if(!UInv.ItemHasAnyTag(BagName,Items[i],ItemPropertyName,ItemTagArray)){Result.push(Items[i])}}
return Result}else{UInvError('GetItemsArrayWithoutAnyItemTags cannot find bag "'+BagName+'".');return undefined}}else{UInvError('Name passed to GetItemsArrayWithoutAnyItemTags is not a string.');return undefined}},GetItemsArrayByItemTag:function(BagName,ItemPropertyName,ItemTag){if(UInv.isString(BagName)&&UInv.isString(ItemPropertyName)){BagName=FixBagName(BagName);if(UInv.BagExists(BagName)){UInv.SetCurrentBagName(BagName);var Items=UInv.GetItemsArray(BagName),i=0,Result=[];for(i=0;i<Items.length;i++){if(UInv.ItemHasTag(BagName,Items[i],ItemPropertyName,ItemTag)){Result.push(Items[i])}}
return Result}else{UInvError('GetItemsArrayByItemTag cannot find bag "'+BagName+'".');return undefined}}else{UInvError('Name passed to GetItemsArrayByItemTag is not a string.');return undefined}},GetBagsArrayWithItemByBagTag:function(BagPropertyName,BagTag,ItemName){if(UInv.isString(BagPropertyName)&&UInv.isString(ItemName)){var Bags=UInv.GetBagsArray(),i=0,Result=[];if(Bags.length>0){for(i=0;i<Bags.length;i++){if(UInv.BagHasTag(Bags[i],BagPropertyName,BagTag)&&UInv.BagHasItem(Bags[i],ItemName)){Result.push(Bags[i])}}}
return Result}else{UInvError('Name passed to GetBagsArrayWithItemByBagTag is not a string.');return undefined}},GetBagsArrayWithBothBagTags:function(BagPropertyName1,BagTag1,BagPropertyName2,BagTag2){if(UInv.isString(BagPropertyName1)&&UInv.isString(BagPropertyName2)){var Bags=UInv.GetBagsArray(),i=0,Result=[];if(Bags.length>0){for(i=0;i<Bags.length;i++){if(UInv.BagHasTag(Bags[i],BagPropertyName1,BagTag1)&&UInv.BagHasTag(Bags[i],BagPropertyName2,BagTag2)){Result.push(Bags[i])}}}
return Result}else{UInvError('Name passed to GetBagsArrayWithBothBagTags is not a string.');return undefined}},GetItemsArrayWithBothItemTags:function(BagName,ItemPropertyName1,ItemTag1,ItemPropertyName2,ItemTag2){if(UInv.isString(BagName)&&UInv.isString(ItemPropertyName1)&&UInv.isString(ItemPropertyName2)){BagName=FixBagName(BagName);if(UInv.BagExists(BagName)){UInv.SetCurrentBagName(BagName);var Items=UInv.GetItemsArray(BagName),i=0,Result=[];for(i=0;i<Items.length;i++){if(UInv.ItemHasTag(BagName,Items[i],ItemPropertyName1,ItemTag1)&&UInv.ItemHasTag(BagName,Items[i],ItemPropertyName2,ItemTag2)){Result.push(Items[i])}}
return Result}else{UInvError('GetItemsArrayWithBothItemTags cannot find bag "'+BagName+'".');return undefined}}else{UInvError('Name passed to GetItemsArrayWithBothItemTags is not a string.');return undefined}},GetUniqueBagTagsArray:function(BagPropertyName,BagName){if(UInv.isString(BagPropertyName)){if(UInv.isUndefined(BagName)){BagName=UInv.GetBagsArray()}
var Result=[],i=0;if(UInv.isString(BagName)){BagName=FixBagName(BagName);if(UInv.BagExists(BagName)){UInv.SetCurrentBagName(BagName);if(UInv.BagHasProperty(BagName,BagPropertyName)){var Tags=UInv.GetBagPropertyValue(BagName,BagPropertyName);if(UInv.isArray(Tags)){if(Tags.length>0){for(i=0;i<Tags.length;i++){Result.push(Tags[i])}}
return[].concatUnique(Result)}else{return[Tags]}}else{return[]}}else{UInvError('GetUniqueBagTagsArray cannot find bag "'+BagName+'".');return undefined}}else if(UInv.isArrayOfStrings(BagName)){if(UInv.BagExists(BagName)){var Tmp;if(BagName.length>0){for(i=0;i<BagName.length;i++){Tmp=UInv.GetUniqueBagTagsArray(BagPropertyName,BagName[i]);if(UInv.isUndefined(Tmp)||UInv.isUndefined(Result)){Result=undefined;break}else{Result=Result.concatUnique(Tmp)}}}
return Result}else{UInvError('BagName array passed to GetUniqueBagTagsArray contains an invalid bag name.');return undefined}}else{UInvError('BagName passed to GetUniqueBagTagsArray is not a string or an array of strings.');return undefined}}else{UInvError('BagPropertyName passed to GetUniqueBagTagsArray is not a string.');return undefined}},GetUniqueItemTagsArray:function(ItemPropertyName,BagName){if(UInv.isString(ItemPropertyName)){if(UInv.isUndefined(BagName)){BagName=UInv.GetBagsArray()}
var Result=[],i=0;if(UInv.isString(BagName)){BagName=FixBagName(BagName);if(UInv.BagExists(BagName)){UInv.SetCurrentBagName(BagName);if(UInv.GetItemCount(BagName)>0){var Items=UInv.GetItemsArray(BagName);for(i=0;i<Items.length;i++){if(UInv.ItemHasProperty(BagName,Items[i],ItemPropertyName)){var Tags=UInv.GetItemPropertyValue(BagName,Items[i],ItemPropertyName);if(UInv.isArray(Tags)){Result=Result.concatUnique(Tags)}else{Result=Result.concatUnique([Tags])}}}}
return Result}else{UInvError('GetUniqueItemTagsArray cannot find bag "'+BagName+'".');return undefined}}else if(UInv.isArrayOfStrings(BagName)){if(UInv.BagExists(BagName)){var Tmp;if(BagName.length>0){for(i=0;i<BagName.length;i++){Tmp=UInv.GetUniqueItemTagsArray(ItemPropertyName,BagName[i]);if(UInv.isUndefined(Tmp)||UInv.isUndefined(Result)){Result=undefined;break}else{Result=Result.concatUnique(Tmp)}}}
return Result}else{UInvError('BagName array passed to GetUniqueItemTagsArray contains an invalid bag name.');return undefined}}else{UInvError('BagName passed to GetUniqueItemTagsArray is not a string or an array of strings.');return undefined}}else{UInvError('ItemPropertyName passed to GetUniqueItemTagsArray is not a string.');return undefined}},GetAllUniqueItemTagsArray:function(BagName,ItemPropertyName){if(UInv.isString(BagName)&&UInv.isString(ItemPropertyName)){BagName=FixBagName(BagName);if(UInv.BagExists(BagName)){UInv.SetCurrentBagName(BagName);var Items=UInv.GetItemsArray(BagName),i=0,Result=[],Tags=[];if(Items.length>0){for(i=0;i<Items.length;i++){if(UInv.ItemHasProperty(BagName,Items[i],ItemPropertyName)){Tags=UInv.GetItemPropertyValue(BagName,Items[i],ItemPropertyName);if(UInv.isArray(Tags)){Result=Result.concatUnique(Tags)}else{Result=Result.concatUnique([Tags])}}}}
return Result}else{UInvError('GetAllUniqueItemTagsArray cannot find bag "'+BagName+'".');return undefined}}else{UInvError('Name passed to GetAllUniqueItemTagsArray is not a string.');return undefined}},BagHasAllItemTags:function(BagName,ItemPropertyName,ItemTagArray){if(UInv.isString(BagName)&&UInv.isString(ItemPropertyName)){BagName=FixBagName(BagName);if(UInv.BagExists(BagName)){UInv.SetCurrentBagName(BagName);if(!UInv.isArray(ItemTagArray)){ItemTagArray=[ItemTagArray]}
var Tags=UInv.GetAllUniqueItemTagsArray(BagName,ItemPropertyName),i=0,Result=0;for(i=0;i<ItemTagArray.length;i++){if(Tags.includes(ItemTagArray[i])){Result+=1}}
return Result===ItemTagArray.length}else{UInvError('BagHasAllItemTags cannot find bag "'+BagName+'".');return undefined}}else{UInvError('Name passed to BagHasAllItemTags is not a string.');return undefined}},BagHasAnyItemTag:function(BagName,ItemPropertyName,ItemTagArray){if(UInv.isString(BagName)&&UInv.isString(ItemPropertyName)){BagName=FixBagName(BagName);if(UInv.BagExists(BagName)){UInv.SetCurrentBagName(BagName);if(!UInv.isArray(ItemTagArray)){ItemTagArray=[ItemTagArray]}
var Tags=UInv.GetAllUniqueItemTagsArray(BagName,ItemPropertyName),i=0;for(i=0;i<ItemTagArray.length;i++){if(Tags.includes(ItemTagArray[i])){return!0}}
return!1}else{UInvError('BagHasAnyItemTag cannot find bag "'+BagName+'".');return undefined}}else{UInvError('Name passed to BagHasAnyItemTag is not a string.');return undefined}},GetFullItemCountByAllItemTags:function(BagName,ItemPropertyName,ItemTagArray){if(UInv.isString(BagName)&&UInv.isString(ItemPropertyName)){BagName=FixBagName(BagName);if(UInv.BagExists(BagName)){UInv.SetCurrentBagName(BagName);var Items=UInv.GetItemsArray(BagName),i=0,Result=0;for(i=0;i<Items.length;i++){if(UInv.ItemHasAllTags(BagName,Items[i],ItemPropertyName,ItemTagArray)){Result+=UInv.BagHasItem(BagName,Items[i])}}
return Result}else{UInvError('GetFullItemCountByAllItemTags cannot find bag "'+BagName+'".');return undefined}}else{UInvError('Name passed to GetFullItemCountByAllItemTags is not a string.');return undefined}},GetFullItemCountByAnyItemTag:function(BagName,ItemPropertyName,ItemTagArray){if(UInv.isString(BagName)&&UInv.isString(ItemPropertyName)){BagName=FixBagName(BagName);if(UInv.BagExists(BagName)){UInv.SetCurrentBagName(BagName);var Items=UInv.GetItemsArray(BagName),i=0,Result=0;for(i=0;i<Items.length;i++){if(UInv.ItemHasAnyTag(BagName,Items[i],ItemPropertyName,ItemTagArray)){Result+=UInv.BagHasItem(BagName,Items[i])}}
return Result}else{UInvError('GetFullItemCountByAnyItemTag cannot find bag "'+BagName+'".');return undefined}}else{UInvError('Name passed to GetFullItemCountByAnyItemTag is not a string.');return undefined}},GetBagTagQuantityObject:function(BagName,BagPropertyName){if(UInv.isString(BagName)&&UInv.isString(BagPropertyName)){BagName=FixBagName(BagName);if(UInv.BagExists(BagName)){if(UInv.BagHasProperty(BagName,BagPropertyName)){var Tags=UInv.GetBagPropertyValue(BagName,BagPropertyName);UInv.SetCurrentBagName(BagName);if(UInv.isArray(Tags)){var UniqueTags=[].concatUnique(Tags),i=0,Result={};for(i=0;i<UniqueTags.length;i++){Result[UniqueTags[i]]=Tags.count(UniqueTags[i])}
return Result}else{var Tmp={};Tmp[Tags]=1;return Tmp}}else{UInvError('GetBagTagQuantityObject failed. Bag "'+BagName+'" does not have property "'+BagPropertyName+'".');return undefined}}else{UInvError('GetBagTagQuantityObject cannot find bag "'+BagName+'".');return undefined}}else{UInvError('Name passed to GetBagTagQuantityObject is not a string.');return undefined}},GetItemTagQuantityObject:function(BagName,ItemName,ItemPropertyName){if(UInv.isString(BagName)&&UInv.isString(ItemName)&&UInv.isString(ItemPropertyName)){BagName=FixBagName(BagName);ItemName=FixItemName(ItemName);if(UInv.BagExists(BagName)){if(UInv.BagHasItem(BagName,ItemName)){if(UInv.ItemHasProperty(BagName,ItemName,ItemPropertyName)){var Tags=UInv.GetItemPropertyValue(BagName,ItemName,ItemPropertyName);UInv.SetCurrentBagName(BagName);UInv.SetCurrentItemName(ItemName);if(UInv.isArray(Tags)){var UniqueTags=[].concatUnique(Tags),i=0,Result={};for(i=0;i<UniqueTags.length;i++){Result[UniqueTags[i]]=Tags.count(UniqueTags[i])}
return Result}else{var Tmp={};Tmp[Tags]=1;return Tmp}}else{UInvError('GetItemTagQuantityObject failed. Item "'+ItemName+'" does not have property "'+ItemPropertyName+'".');return undefined}}else{UInvError('GetItemTagQuantityObject cannot find item "'+ItemName+'" in bag "'+BagName+'".');return undefined}}else{UInvError('GetItemTagQuantityObject cannot find bag "'+BagName+'".');return undefined}}else{UInvError('Name passed to GetItemTagQuantityObject is not a string.');return undefined}},BagHasItemByItemTag:function(BagName,ItemPropertyName,ItemTag){if(UInv.isString(BagName)&&UInv.isString(ItemPropertyName)){BagName=FixBagName(BagName);if(UInv.BagExists(BagName)){UInv.SetCurrentBagName(BagName);var Items=UInv.GetItemsArray(BagName),i=0;for(i=0;i<Items.length;i++){if(UInv.ItemHasTag(BagName,Items[i],ItemPropertyName,ItemTag)){return!0}}
return!1}else{UInvError('BagHasItemByItemTag cannot find bag "'+BagName+'".');return undefined}}else{UInvError('Name passed to BagHasItemByItemTag is not a string.');return undefined}},BagHasItemWithAllItemTags:function(BagName,ItemPropertyName,ItemTagArray){if(UInv.isString(BagName)&&UInv.isString(ItemPropertyName)){BagName=FixBagName(BagName);if(UInv.BagExists(BagName)){UInv.SetCurrentBagName(BagName);var Items=UInv.GetItemsArray(BagName),i=0;for(i=0;i<Items.length;i++){if(UInv.ItemHasAllTags(BagName,Items[i],ItemPropertyName,ItemTagArray)){return!0}}
return!1}else{UInvError('BagHasItemWithAllItemTags cannot find bag "'+BagName+'".');return undefined}}else{UInvError('Name passed to BagHasItemWithAllItemTags is not a string.');return undefined}},BagHasItemWithAnyItemTag:function(BagName,ItemPropertyName,ItemTagArray){if(UInv.isString(BagName)&&UInv.isString(ItemPropertyName)){BagName=FixBagName(BagName);if(UInv.BagExists(BagName)){UInv.SetCurrentBagName(BagName);var Items=UInv.GetItemsArray(BagName),i=0;for(i=0;i<Items.length;i++){if(UInv.ItemHasAnyTag(BagName,Items[i],ItemPropertyName,ItemTagArray)){return!0}}
return!1}else{UInvError('BagHasItemWithAnyItemTag cannot find bag "'+BagName+'".');return undefined}}else{UInvError('Name passed to BagHasItemWithAnyItemTag is not a string.');return undefined}},BagHasItemWithoutAllItemTags:function(BagName,ItemPropertyName,ItemTagArray){if(UInv.isString(BagName)&&UInv.isString(ItemPropertyName)){BagName=FixBagName(BagName);if(UInv.BagExists(BagName)){UInv.SetCurrentBagName(BagName);var Items=UInv.GetItemsArray(BagName),i=0;for(i=0;i<Items.length;i++){if(!UInv.ItemHasAllTags(BagName,Items[i],ItemPropertyName,ItemTagArray)){return!0}}
return!1}else{UInvError('BagHasItemWithoutAllItemTags cannot find bag "'+BagName+'".');return undefined}}else{UInvError('Name passed to BagHasItemWithoutAllItemTags is not a string.');return undefined}},BagHasItemWithoutAnyItemTags:function(BagName,ItemPropertyName,ItemTagArray){if(UInv.isString(BagName)&&UInv.isString(ItemPropertyName)){BagName=FixBagName(BagName);if(UInv.BagExists(BagName)){UInv.SetCurrentBagName(BagName);var Items=UInv.GetItemsArray(BagName),i=0;for(i=0;i<Items.length;i++){if(!UInv.ItemHasAnyTag(BagName,Items[i],ItemPropertyName,ItemTagArray)){return!0}}
return!1}else{UInvError('BagHasItemWithoutAnyItemTags cannot find bag "'+BagName+'".');return undefined}}else{UInvError('Name passed to BagHasItemWithoutAnyItemTags is not a string.');return undefined}},BagHasItemByBagTag:function(BagPropertyName,BagTag,ItemName){if(UInv.isString(BagPropertyName)&&UInv.isString(ItemName)){var Bags=UInv.GetBagsArray(),i=0;if(Bags.length>0){for(i=0;i<Bags.length;i++){if(UInv.BagHasTag(Bags[i],BagPropertyName,BagTag)&&UInv.BagHasItem(Bags[i],ItemName)){return!0}}}
return!1}else{UInvError('Name passed to BagHasItemByBagTag is not a string.');return undefined}},BagHasAllItemsByBagTag:function(BagPropertyName,BagTag,ItemNameArray){if(UInv.isString(BagPropertyName)){if(UInv.isArrayOfStrings(ItemNameArray)){var Bags=UInv.GetBagsArray(),i=0;if(Bags.length>0){for(i=0;i<Bags.length;i++){if(UInv.BagHasTag(Bags[i],BagPropertyName,BagTag)&&UInv.BagHasAllItems(Bags[i],ItemNameArray)){return!0}}}
return!1}else{UInvError('ItemNameArray passed to BagHasAllItemsByBagTag is not an array of strings.');return undefined}}else{UInvError('BagPropertyName passed to BagHasAllItemsByBagTag is not a string.');return undefined}},BagHasAnyItemByBagTag:function(BagPropertyName,BagTag,ItemNameArray){if(UInv.isString(BagPropertyName)){if(UInv.isArrayOfStrings(ItemNameArray)){var Bags=UInv.GetBagsArray(),i=0;if(Bags.length>0){for(i=0;i<Bags.length;i++){if(UInv.BagHasTag(Bags[i],BagPropertyName,BagTag)&&UInv.BagHasAnyItems(Bags[i],ItemNameArray)){return!0}}}
return!1}else{UInvError('ItemNameArray passed to BagHasAnyItemByBagTag is not an array of strings.');return undefined}}else{UInvError('BagPropertyName passed to BagHasAnyItemByBagTag is not a string.');return undefined}},CopyItemsByItemTag:function(SourceBagName,DestinationBagName,ItemPropertyName,ItemTag){if(UInv.isString(SourceBagName)&&UInv.isString(DestinationBagName)&&UInv.isString(ItemPropertyName)){SourceBagName=FixBagName(SourceBagName);DestinationBagName=FixBagName(DestinationBagName);if(UInv.BagExists(SourceBagName)){if(UInv.BagExists(DestinationBagName)){if(SourceBagName!==DestinationBagName){var Items=UInv.GetItemsArrayByItemTag(SourceBagName,ItemPropertyName,ItemTag),Result=[];if(Items.length>0){var i=0,Ret;for(i=0;i<Items.length;i++){Ret=UInv.CopyItem(SourceBagName,DestinationBagName,Items[i]);if(Ret===undefined){Result=undefined}else if(!UInv.isBoolean(Result)){Result.push(Ret)}}}
return Result}else{UInvError('CopyItemsByItemTag failed. Source and destination bags cannot be the same.');return undefined}}else{UInvError('CopyItemsByItemTag cannot find bag "'+DestinationBagName+'".');return undefined}}else{UInvError('CopyItemsByItemTag cannot find bag "'+SourceBagName+'".');return undefined}}else{UInvError('Name passed to CopyItemsByItemTag is not a string.');return undefined}},MoveItemsByItemTag:function(SourceBagName,DestinationBagName,ItemPropertyName,ItemTag){if(UInv.isString(SourceBagName)&&UInv.isString(DestinationBagName)&&UInv.isString(ItemPropertyName)){SourceBagName=FixBagName(SourceBagName);DestinationBagName=FixBagName(DestinationBagName);if(UInv.BagExists(SourceBagName)){if(UInv.BagExists(DestinationBagName)){if(SourceBagName!==DestinationBagName){var Items=UInv.GetItemsArrayByItemTag(SourceBagName,ItemPropertyName,ItemTag),Result=!0;if(Items.length>0){var i=0,Ret="";for(i=0;i<Items.length;i++){Ret=UInv.MoveItem(SourceBagName,DestinationBagName,Items[i]);if(UInv.isUndefined(Ret)||UInv.isUndefined(Result)){Result=undefined}else{if(UInv.isBoolean(Result)){Result=[Ret]}else{Result.push(Ret)}}}}
return Result}else{UInvError('MoveItemsByItemTag failed. Source and destination bags cannot be the same.');return undefined}}else{UInvError('MoveItemsByItemTag cannot find bag "'+DestinationBagName+'".');return undefined}}else{UInvError('MoveItemsByItemTag cannot find bag "'+SourceBagName+'".');return undefined}}else{UInvError('Name passed to MoveItemsByItemTag is not a string.');return undefined}},DeleteItemsByItemTag:function(BagName,ItemPropertyName,ItemTag){if(UInv.isString(BagName)&&UInv.isString(ItemPropertyName)){BagName=FixBagName(BagName);if(UInv.BagExists(BagName)){return UInv.DeleteItem(BagName,UInv.GetItemsArrayByItemTag(BagName,ItemPropertyName,ItemTag))}else{UInvError('DeleteItemsByItemTag cannot find bag "'+BagName+'".');return undefined}}else{UInvError('Name passed to DeleteItemsByItemTag is not a string.');return undefined}},GetMissingBagTagsArray:function(BagName,BagPropertyName,BagTagArray){if(UInv.isString(BagName)&&UInv.isString(BagPropertyName)){BagName=FixBagName(BagName);if(UInv.BagExists(BagName)){if(UInv.BagHasProperty(BagName,BagPropertyName)){UInv.SetCurrentBagName(BagName);var Tags=UInv.GetBagPropertyValue(BagName,BagPropertyName);if(!UInv.isArray(Tags)){Tags=[Tags]}
if(!UInv.isArray(BagTagArray)){BagTagArray=[BagTagArray]}
if(BagTagArray.length>0){var i=0,Result=[];for(i=0;i<BagTagArray.length;i++){if(!Tags.includes(BagTagArray[i])){Result.push(BagTagArray[i])}}
return Result}else{return[]}}else{UInvError('GetMissingBagTagsArray failed. Bag "'+BagName+'" does not have property "'+BagPropertyName+'".');return undefined}}else{UInvError('GetMissingBagTagsArray cannot find bag "'+BagName+'".');return undefined}}else{UInvError('Name passed to GetMissingBagTagsArray is not a string.');return undefined}},GetMissingItemTagsArray:function(BagName,ItemName,ItemPropertyName,ItemTagArray){if(UInv.isString(BagName)&&UInv.isString(ItemName)&&UInv.isString(ItemPropertyName)){BagName=FixBagName(BagName);ItemName=FixItemName(ItemName);if(UInv.BagExists(BagName)){if(UInv.BagHasItem(BagName,ItemName)){if(UInv.ItemHasProperty(BagName,ItemName,ItemPropertyName)){UInv.SetCurrentBagName(BagName);UInv.SetCurrentItemName(ItemName);var Tags=UInv.GetItemPropertyValue(BagName,ItemName,ItemPropertyName);if(!UInv.isArray(Tags)){Tags=[Tags]}
if(!UInv.isArray(ItemTagArray)){ItemTagArray=[ItemTagArray]}
if(ItemTagArray.length>0){var i=0,Result=[];for(i=0;i<ItemTagArray.length;i++){if(!Tags.includes(ItemTagArray[i])){Result.push(ItemTagArray[i])}}
return Result}else{return[]}}else{UInvError('GetMissingItemTagsArray failed. Item "'+ItemName+'" does not have property "'+ItemPropertyName+'".');return undefined}}else{UInvError('GetMissingItemTagsArray cannot find item "'+ItemName+'" in bag "'+BagName+'".');return undefined}}else{UInvError('GetMissingItemTagsArray cannot find bag "'+BagName+'".');return undefined}}else{UInvError('Name passed to GetMissingItemTagsArray is not a string.');return undefined}},GetRandomBagTagFromRange:function(BagName,BagPropertyName,HighIndex,LowIndex){if(UInv.isString(BagName)&&UInv.isString(BagPropertyName)){if(UInv.isUndefined(LowIndex)){LowIndex=0}
BagName=FixBagName(BagName);if(UInv.BagExists(BagName)){if(UInv.BagHasProperty(BagName,BagPropertyName)){var Tags=UInv.GetBagPropertyValue(BagName,BagPropertyName);if(UInv.isArray(Tags)){HighIndex=tryIntParse(HighIndex);LowIndex=tryIntParse(LowIndex);if(UInv.isInteger(HighIndex)){if(UInv.isInteger(LowIndex)){if((LowIndex>=0)&&(LowIndex<=HighIndex)){if((HighIndex>=LowIndex)&&(HighIndex<Tags.length)){UInv.SetCurrentBagName(BagName);return Tags[random(LowIndex,HighIndex)]}else{UInv.Error("Error: GetRandomBagTagFromRange failed. HighIndex must be >= LowIndex and =< the highest array index for that property's array.");return undefined}}else{UInvError('GetRandomBagTagFromRange failed. LowIndex must be >= 0 and < HighIndex.');return undefined}}else{UInvError('GetRandomBagTagFromRange failed. LowIndex must be an integer.');return undefined}}else{UInvError('GetRandomBagTagFromRange failed. HighIndex must be an integer.');return undefined}}else{UInvError('GetRandomBagTagFromRange failed. Bag property "'+BagPropertyName+'" on bag "'+BagName+'" is not an array.');return undefined}}else{UInvError('GetRandomBagTagFromRange cannot find property "'+BagPropertyName+'" on bag "'+BagName+'".');return undefined}}else{UInvError('GetRandomBagTagFromRange cannot find bag "'+BagName+'".');return undefined}}else{UInvError('Name passed to GetRandomBagTagFromRange is not a string.');return undefined}},GetRandomItemTagFromRange:function(BagName,ItemName,ItemPropertyName,HighIndex,LowIndex){if(UInv.isString(BagName)&&UInv.isString(ItemName)&&UInv.isString(ItemPropertyName)){if(UInv.isUndefined(LowIndex)){LowIndex=0}
BagName=FixBagName(BagName);ItemName=FixItemName(ItemName);if(UInv.BagExists(BagName)){if(UInv.BagHasItem(BagName,ItemName)){if(UInv.ItemHasProperty(BagName,ItemName,ItemPropertyName)){var Tags=UInv.GetItemPropertyValue(BagName,ItemName,ItemPropertyName);if(UInv.isArray(Tags)){HighIndex=tryIntParse(HighIndex);LowIndex=tryIntParse(LowIndex);if(UInv.isInteger(HighIndex)){if(UInv.isInteger(LowIndex)){if((LowIndex>=0)&&(LowIndex<=HighIndex)){if((HighIndex>=LowIndex)&&(HighIndex<Tags.length)){UInv.SetCurrentBagName(BagName);UInv.SetCurrentItemName(ItemName);return Tags[random(LowIndex,HighIndex)]}else{UInv.Error("Error: GetRandomItemTagFromRange failed. HighIndex must be >= LowIndex and =< the highest array index for that property's array.");return undefined}}else{UInvError('GetRandomItemTagFromRange failed. LowIndex must be >= 0 and < HighIndex.');return undefined}}else{UInvError('GetRandomItemTagFromRange failed. LowIndex must be an integer.');return undefined}}else{UInvError('GetRandomItemTagFromRange failed. HighIndex must be an integer.');return undefined}}else{UInvError('GetRandomItemTagFromRange failed. Item property "'+ItemPropertyName+'" on item "'+ItemName+'" is not an array.');return undefined}}else{UInvError('GetRandomItemTagFromRange cannot find property "'+ItemPropertyName+'" on item "'+ItemName+'".');return undefined}}else{UInvError('GetRandomItemTagFromRange cannot find item "'+ItemName+'" in bag "'+BagName+'".');return undefined}}else{UInvError('GetRandomItemTagFromRange cannot find bag "'+BagName+'".');return undefined}}else{UInvError('Name passed to GetRandomItemTagFromRange is not a string.');return undefined}},ArrayHasAllItemTags:function(BagName,ItemName,ItemPropertyName,ItemTagArray){if(UInv.isString(BagName)&&UInv.isString(ItemName)&&UInv.isString(ItemPropertyName)){BagName=FixBagName(BagName);ItemName=FixItemName(ItemName);if(UInv.BagExists(BagName)){if(UInv.BagHasItem(BagName,ItemName)){if(UInv.ItemHasProperty(BagName,ItemName,ItemPropertyName)){UInv.SetCurrentBagName(BagName);UInv.SetCurrentItemName(ItemName);var Tags=UInv.GetItemPropertyValue(BagName,ItemName,ItemPropertyName);if(!UInv.isArray(Tags)){Tags=[Tags]}
if(!UInv.isArray(ItemTagArray)){ItemTagArray=[ItemTagArray]}
if((Tags.length>0)&&(ItemTagArray.length>0)){var i;for(i=0;i<Tags.length;i++){if(!ItemTagArray.includes(Tags[i])){return!1}}
return!0}else{return!1}}else{UInvError('ArrayHasAllItemTags failed. Item "'+ItemName+'" does not have property "'+ItemPropertyName+'".');return undefined}}else{UInvError('ArrayHasAllItemTags cannot find item "'+ItemName+'" in bag "'+BagName+'".');return undefined}}else{UInvError('ArrayHasAllItemTags cannot find bag "'+BagName+'".');return undefined}}else{UInvError('Name passed to ArrayHasAllItemTags is not a string.');return undefined}},GetItemsArrayWithAllItemTags:function(BagName,ItemPropertyName,ItemTagArray){if(UInv.isString(BagName)&&UInv.isString(ItemPropertyName)){BagName=FixBagName(BagName);if(UInv.BagExists(BagName)){UInv.SetCurrentBagName(BagName);if(!UInv.isArray(ItemTagArray)){ItemTagArray=[ItemTagArray]}
var Items=UInv.GetItemsArray(BagName),Result=[];if(Items.length>0){var i;for(i=0;i<Items.length;i++){if(UInv.ItemHasProperty(BagName,Items[i],ItemPropertyName)){if(UInv.ArrayHasAllItemTags(BagName,Items[i],ItemPropertyName,ItemTagArray)){Result.push(Items[i])}}}
return Result}else{return[]}}else{UInvError('GetItemsArrayWithAllItemTags cannot find bag "'+BagName+'".');return undefined}}else{UInvError('Name passed to GetItemsArrayWithAllItemTags is not a string.');return undefined}},GetItemTagCount:function(BagName,ItemName,ItemPropertyName,Tag){if(UInv.isString(BagName)&&UInv.isString(ItemName)&&UInv.isString(ItemPropertyName)){BagName=FixBagName(BagName);ItemName=FixItemName(ItemName);if(UInv.BagExists(BagName)){if(UInv.BagHasItem(BagName,ItemName)){if(UInv.ItemHasProperty(BagName,ItemName,ItemPropertyName)){UInv.SetCurrentBagName(BagName);UInv.SetCurrentItemName(ItemName);var Tags=UInv.GetItemPropertyValue(BagName,ItemName,ItemPropertyName),Result=0;if(!UInv.isArray(Tags)){Tags=[Tags]}
if(Tags.length>0){var i;for(i=0;i<Tags.length;i++){if(Tags[i]===Tag){Result++}}}
return Result}else{UInvError('GetItemTagCount failed. Item "'+ItemName+'" does not have property "'+ItemPropertyName+'".');return undefined}}else{UInvError('GetItemTagCount cannot find item "'+ItemName+'" in bag "'+BagName+'".');return undefined}}else{UInvError('GetItemTagCount cannot find bag "'+BagName+'".');return undefined}}else{UInvError('Name passed to GetItemTagCount is not a string.');return undefined}},GetItemsArrayWithMostItemTags:function(BagName,ItemPropertyName,ItemTagArray){if(UInv.isString(BagName)&&UInv.isString(ItemPropertyName)){BagName=FixBagName(BagName);if(UInv.BagExists(BagName)){UInv.SetCurrentBagName(BagName);if(!UInv.isArray(ItemTagArray)){ItemTagArray=[ItemTagArray]}
var Items=UInv.GetItemsArray(BagName);if((Items.length>0)&&(ItemTagArray.length>0)){var Result=[],Max=0,i,j,n;for(i=0;i<Items.length;i++){n=0;if(UInv.ItemHasProperty(BagName,Items[i],ItemPropertyName)){for(j=0;j<ItemTagArray.length;j++){n+=UInv.GetItemTagCount(BagName,Items[i],ItemPropertyName,ItemTagArray[j])}}
if(n===Max){Result.push(Items[i])}else if(n>Max){Result=[Items[i]];Max=n}}
return Result}else{return[]}}else{UInvError('GetItemsArrayWithMostItemTags cannot find bag "'+BagName+'".');return undefined}}else{UInvError('Name passed to GetItemsArrayWithMostItemTags is not a string.');return undefined}},GetUpdateLocks:function(){if(UInv.isProperty(State.__getUpperName__,"UInvUpdatesAreLocked")){return State.__getUpperName__.UInvUpdatesAreLocked}
return 0},UpdatesAreLocked:function(){return!!UInv.GetUpdateLocks()},IncrementUpdateLock:function(){State.__getUpperName__.UInvUpdatesAreLocked=UInv.GetUpdateLocks()+1;return State.__getUpperName__.UInvUpdatesAreLocked},DecrementUpdateLock:function(){if(UInv.GetUpdateLocks()){if(--State.__getUpperName__.UInvUpdatesAreLocked===0){$.wiki("<<unset $UInvUpdatesAreLocked>>");UInv.UpdateDisplay();return 0}else{return State.__getUpperName__.UInvUpdatesAreLocked}}
UInv.UpdateDisplay();return 0},GetMatchingEventHandlersArray:function(Group,Evnt,Options,Handler){if(UInv.isString(Group)){if(UInv.isProperty(State.__getUpperName__.UInvEventHandlers,Group)){if(UInv.isString(Evnt)){if(UInv.isProperty(State.__getUpperName__.UInvEventHandlers[Group],Evnt)){var Matches=[],HandlerIDs,Opts,i,j,n;if(UInv.isUndefined(Handler)){if(UInv.isUndefined(Options)){return Object.keys(State.__getUpperName__.UInvEventHandlers[Group][Evnt])}else if(Options===!1){HandlerIDs=Object.keys(State.__getUpperName__.UInvEventHandlers[Group][Evnt]);for(i=0;i<HandlerIDs.length;i++){if(!UInv.isProperty(State.__getUpperName__.UInvEventHandlers[Group][Evnt][HandlerIDs[i]],"options")){Matches.push(HandlerIDs[i])}}
return Matches}else{HandlerIDs=Object.keys(State.__getUpperName__.UInvEventHandlers[Group][Evnt]);for(i=0;i<HandlerIDs.length;i++){n=0;Opts=Object.keys(State.__getUpperName__.UInvEventHandlers[Group][Evnt][HandlerIDs[i]].options);for(j=0;j<Opts.length;j++){if(UInv.isProperty(Options,Opts[j])){if(State.__getUpperName__.UInvEventHandlers[Group][Evnt][HandlerIDs[i]].options[Opts[j]]==Options[Opts[j]]){n++}else{break}}else{break}}
if(n==Opts.length){Matches.push(HandlerIDs[i])}}
return Matches}}else if(UInv.isString(Handler)){if(UInv.isUndefined(Options)){HandlerIDs=Object.keys(State.__getUpperName__.UInvEventHandlers[Group][Evnt]);for(i=0;i<HandlerIDs.length;i++){if(State.__getUpperName__.UInvEventHandlers[Group][Evnt][HandlerIDs[i]].handler==Handler){Matches.push(HandlerIDs[i])}}}else if(Options===!1){HandlerIDs=Object.keys(State.__getUpperName__.UInvEventHandlers[Group][Evnt]);for(i=0;i<HandlerIDs.length;i++){if(State.__getUpperName__.UInvEventHandlers[Group][Evnt][HandlerIDs[i]].handler==Handler){if(!UInv.isProperty(State.__getUpperName__.UInvEventHandlers[Group][Evnt][HandlerIDs[i]],"options")){Matches.push(HandlerIDs[i])}}}
return Matches}else{HandlerIDs=Object.keys(State.__getUpperName__.UInvEventHandlers[Group][Evnt]);Opts=Object.keys(Options);for(i=0;i<HandlerIDs.length;i++){if(State.__getUpperName__.UInvEventHandlers[Group][Evnt][HandlerIDs[i]].handler==Handler){n=0;for(j=0;j<Opts.length;j++){if(UInv.isProperty(State.__getUpperName__.UInvEventHandlers[Group][Evnt][HandlerIDs[i]],Opts[j])){if(State.__getUpperName__.UInvEventHandlers[Group][Evnt][HandlerIDs[i]][Opts[j]]==Options[Opts[j]]){n++}else{break}}else{break}}
if(n==Opts.length){Matches.push(HandlerIDs[i])}}}}
return Matches}else{UInvError('Handler passed to GetMatchingEventHandlersArray must be undefined or a string.');return undefined}}else{return[]}}else{UInvError('Event passed to GetMatchingEventHandlersArray must be a string.');return undefined}}else{return[]}}else{UInvError('Group passed to GetMatchingEventHandlersArray must be a string.');return undefined}},AddEventHandler:function(Group,Evnt,Handler,Options){if(UInv.isString(Group)){if(UInv.isString(Evnt)){if(UInv.isString(Handler)){var UInvEvents={general:["MouseDown","MouseUp"],bag:["Touched"],table:["Accept","DragStart","DragStop","Drop"],radialMenu:["Open","WedgeClick","DisabledWedgeClick","Cancel"],cacheImages:["Loaded","Error"]};if(UInv.isProperty(UInvEvents,Group)){if(UInvEvents[Group].includes(Evnt)){if(!UInv.isProperty(State.__getUpperName__.UInvEventHandlers,Group)){State.__getUpperName__.UInvEventHandlers[Group]={}}
if(!UInv.isProperty(State.__getUpperName__.UInvEventHandlers[Group],Evnt)){State.__getUpperName__.UInvEventHandlers[Group][Evnt]={}}
var HandleID="handle"+UInv.getRandomHexString();while(UInv.isProperty(State.__getUpperName__.UInvEventHandlers[Group][Evnt],HandleID)){HandleID="handle"+UInv.getRandomHexString()}
if(UInv.isUndefined(Options)){if(UInv.GetMatchingEventHandlersArray(Group,Evnt,undefined,Handler).length===0){if(UInv.isFunction(setup[Handler])){State.__getUpperName__.UInvEventHandlers[Group][Evnt][HandleID]={handler:Handler,type:"function"}}else{State.__getUpperName__.UInvEventHandlers[Group][Evnt][HandleID]={handler:Handler,type:"widget"}}}else{return UInv.GetMatchingEventHandlersArray(Group,Evnt,undefined,Handler)[0]}}else{if(UInv.isObject(Options)){if(UInv.GetMatchingEventHandlersArray(Group,Evnt,Options,Handler).length===0){if(UInv.isFunction(setup[Handler])){State.__getUpperName__.UInvEventHandlers[Group][Evnt][HandleID]={handler:Handler,type:"function",options:clone(Options)}}else{State.__getUpperName__.UInvEventHandlers[Group][Evnt][HandleID]={handler:Handler,type:"widget",options:clone(Options)}}}else{return UInv.GetMatchingEventHandlersArray(Group,Evnt,Options,Handler)[0]}}else{UInvError('Options passed to AddEventHandler must be undefined or an object.');return undefined}}
return HandleID}else{UInvError('Event "'+Evnt+'" passed to AddEventHandler is not a valid event for group "'+Group+'".');return undefined}}else{UInvError('Group "'+Group+'" passed to AddEventHandler is not a valid group.');return undefined}}else{UInvError('Handler passed to AddEventHandler must be a string.');return undefined}}else{UInvError('Event passed to AddEventHandler must be a string.');return undefined}}else{UInvError('Group passed to AddEventHandler must be a string.');return undefined}},GetEventHandlerByID:function(Group,Evnt,HandlerID){if(UInv.isString(Group)){if(UInv.isProperty(State.__getUpperName__.UInvEventHandlers,Group)){if(UInv.isString(Evnt)){if(UInv.isProperty(State.__getUpperName__.UInvEventHandlers[Group],Evnt)){if(UInv.isString(HandlerID)){if(UInv.isProperty(State.__getUpperName__.UInvEventHandlers[Group][Evnt],HandlerID)){return clone(State.__getUpperName__.UInvEventHandlers[Group][Evnt][HandlerID])}else{return null}}else{UInvError('HandlerID passed to GetEventHandlerByID must be a string.');return undefined}}else{return null}}else{UInvError('Event passed to GetEventHandlerByID must be a string.');return undefined}}else{return null}}else{UInvError('Group passed to GetEventHandlerByID must be a string.');return undefined}},CallEventHandlerEx:function(Group,Evnt,Values){if(UInv.isString(Group)){if(UInv.isProperty(State.__getUpperName__.UInvEventHandlers,Group)){if(UInv.isString(Evnt)){if(UInv.isProperty(State.__getUpperName__.UInvEventHandlers[Group],Evnt)){var Result=[],Ret,Handler,i,HandlerIDs=UInv.GetMatchingEventHandlersArray(Group,Evnt,Values);if(HandlerIDs.length===0){HandlerIDs=UInv.GetMatchingEventHandlersArray(Group,Evnt,!1)}
for(i=0;i<HandlerIDs.length;i++){Handler=UInv.GetEventHandlerByID(Group,Evnt,HandlerIDs[i]);Values.eventGroup=Group;Values.eventType=Evnt;Values.handlerID=HandlerIDs[i];if(Handler.type=="function"){Ret=setup[Handler.handler](Values);if(UInv.isGenericObject(Ret)){Result.push(Ret)}else{Result.push(undefined)}}else if(Handler.type=="widget"){State.temporary.UInvEvent=Values;$.wiki("<<"+Handler.handler+" _UInvEvent>>");if(UInv.isProperty(State.temporary,"UInvReturn")){if(UInv.isGenericObject(State.temporary.return)){Result.push(State.temporary.return)}else{Result.push(undefined)}
$.wiki("<<forget _UInvReturn>>")}
$.wiki("<<forget _UInvEvent>>")}}
return Result}else{return[]}}else{UInvError('Event passed to CallEventHandlerEx must be a string.');return undefined}}else{return[]}}else{UInvError('Group passed to CallEventHandlerEx must be a string.');return undefined}},CallEventHandler:function(Group,Evnt,Values){if(UInv.isString(Group)){if(UInv.isProperty(State.__getUpperName__.UInvEventHandlers,Group)){if(UInv.isString(Evnt)){if(UInv.isProperty(State.__getUpperName__.UInvEventHandlers[Group],Evnt)){var Result={},Ret=UInv.CallEventHandlerEx(Group,Evnt,Values);if(Ret.length>0){var i,j,Props;for(i=0;i<Ret.length;i++){if(UInv.isGenericObject(Ret[i])){Props=Object.keys(Ret[i]);for(j=0;j<Props.length;j++){if(UInv.isProperty(Result,Props[j])){switch(Props[j]){case "stopPropagation":if(Result.stopPropagation||Ret[i].stopPropagation){Result.stopPropagation=!0}else{Result.stopPropagation=Ret[i].stopPropagation}
break;case "acceptVal":if(!Result.acceptVal||!Ret[i].acceptVal){Result.acceptVal=!1}else{Result.acceptVal=Ret[i].acceptVal}
break;case "overrideDefaultAction":if(Result.overrideDefaultAction||Ret[i].overrideDefaultAction){Result.overrideDefaultAction=!0}else{Result.overrideDefaultAction=Ret[i].overrideDefaultAction}
break;case "openRadialMenu":if(Result.openRadialMenu||Ret[i].openRadialMenu){Result.openRadialMenu=!0}else{Result.openRadialMenu=Ret[i].openRadialMenu}
break;case "radialMenuWedgeItems":Result=UInv.combineGenericObjects(Result,Ret[i]);break;case "radialMenuHandler":Result.radialMenuHandler=Ret[i].radialMenuHandler;break;case "radialMenuOptions":Result=UInv.combineGenericObjects(Result,Ret[i]);break;case "keepOpen":if(Result.keepOpen||Ret[i].keepOpen){Result.keepOpen=!0}else{Result.keepOpen=Ret[i].keepOpen}
break;case "retryLoad":if(Result.retryLoad||Ret[i].retryLoad){Result.retryLoad=!0}else{Result.retryLoad=Ret[i].retryLoad}
break;default:Result[Props[j]]=Ret[i][Props[j]]}}else{Result[Props[j]]=Ret[i][Props[j]]}}}}}
return Result}else{return{}}}else{UInvError('Event passed to CallEventHandler must be a string.');return undefined}}else{return{}}}else{UInvError('Group passed to CallEventHandler must be a string.');return undefined}},DeleteEventHandler:function(Group,Evnt,Handler,Options){if(UInv.isString(Group)){if(UInv.isProperty(State.__getUpperName__.UInvEventHandlers,Group)){if(UInv.isString(Evnt)){if(UInv.isProperty(State.__getUpperName__.UInvEventHandlers[Group],Evnt)){if(UInv.isProperty(State.__getUpperName__.UInvEventHandlers[Group][Evnt],Handler)){delete State.__getUpperName__.UInvEventHandlers[Group][Evnt][Handler];return 1}else{var i,HandlerIDs=UInv.GetMatchingEventHandlersArray(Group,Evnt,Options,Handler);for(i=0;i<HandlerIDs.length;i++){delete State.__getUpperName__.UInvEventHandlers[Group][Evnt][HandlerIDs[i]]}
return HandlerIDs.length}}else{return 0}}else{UInvError('Event passed to DeleteEventHandler must be a string.');return undefined}}else{return 0}}else{UInvError('Group passed to DeleteEventHandler must be a string.');return undefined}},FixTableCells:function(BagName,UInvTable){if(UInv.isString(BagName)){BagName=FixBagName(BagName);if(UInv.BagExists(BagName)){var Items=UInv.GetItemsArray(BagName);if(Items.length>0){var i,j,Val,Dups,Cell=0,MaxCell=Infinity;if(!UInv.isUndefined(UInvTable)){if(UInvTable.data("uinv")==="table"){if(UInvTable.attr("id")==BagName){i=UInvTable.data("cellrows");j=UInvTable.data("cellcolumns");if(UInv.isInteger(i)&&(i>0)&&UInv.isInteger(j)&&(j>0)){MaxCell=(i*j)-1}}else{UInvError('UInvTable passed to FixTableCells does not match BagName of "'+BagName+'".');return undefined}}else{UInvError('UInvTable passed to FixTableCells is not a UInv table element.');return undefined}}
for(i=0;i<Items.length;i++){if(UInv.ItemHasProperty(BagName,Items[i],"UInvCell")){Val=UInv.GetItemPropertyValue(BagName,Items[i],"UInvCell");if(Val>MaxCell){while(UInv.GetItemCountWherePropertyEquals(BagName,"UInvCell",Cell)>0){++Cell}
UInv.SetItemPropertyValue(BagName,Items[i],"UInvCell",Cell++)}else{if(UInv.GetItemCountWherePropertyEquals(BagName,"UInvCell",Val)>1){Dups=UInv.GetItemsArrayWherePropertyEquals(BagName,"UInvCell",Val);Dups.delete(Items[i]);for(j=0;j<Dups.length;j++){UInv.DeleteItemProperty(BagName,Dups[j],"UInvCell")}}}}else{while(UInv.GetItemCountWherePropertyEquals(BagName,"UInvCell",Cell)>0){++Cell}
UInv.SetItemPropertyValue(BagName,Items[i],"UInvCell",Cell++)}}}
return!0}else{UInvError('FixTableCells cannot find bag "'+BagName+'".');return undefined}}else{UInvError('BagName passed to FixTableCells is not a string.');return undefined}},InitializeRadialMenu:function(){var el=document.createElement("div");el.id="uinv-radial-menu";el.style.position="absolute";el.style.transition="transform 200ms ease-in, opacity 200ms ease-in";el.style["pointer-events"]="none";el.dataset.status="closed";el.style.transform="scale(0, 0)";el.style.opacity=0;el.style.zIndex=9999;document.body.appendChild(el)},DisplayRadialMenu:function(WedgeItems,Pos,Handler,Options){function getPoint(theta,r,posOffset,negOffset){if(typeof posOffset=="undefined"){posOffset={x:0,y:0}}
if(typeof negOffset=="undefined"){negOffset={x:0,y:0}}
return{x:(r*Math.cos(theta))+posOffset.x-negOffset.x,y:(r*Math.sin(theta))+posOffset.y-negOffset.y}}
function wedgePath(i,clr,ctr,r1,a1,b1,r2,a2,b2){var start1=getPoint(a1,r1,ctr),end1=getPoint(b1,r1,ctr,start1);var start2=getPoint(b2,r2,ctr),end2=getPoint(a2,r2,ctr,start2);var path='<path d="M'+start1.x+','+start1.y+' a'+r1+','+r1+' 0 0,1 '+end1.x+','+end1.y;path+=' L'+start2.x+','+start2.y+' a'+r2+','+r2+' 0 0,0 '+end2.x+','+end2.y+' z" fill="';if(clr=="mask"){path+='white" />'}else if(WedgeItems[i+1].disabled!==!0){path+=clr+'" class="uinv-wedge" data-id="'+(i+1)+'" data-data="'+WedgeItems[i+1].data;path+='" stroke="'+strokeColor+'" stroke-width="'+strokeWidth+'" pointer-events="auto">';if(showTooltips){path+='<title> '+WedgeItems[i+1].hint+'</title>'}
path+='<desc>'+WedgeItems[i+1].hint+'</desc></path>'}else{path+=disabledColor+'" class="uinv-disabled-wedge" data-id="'+(i+1)+'" data-data="'+WedgeItems[i+1].data;path+='" stroke="'+disabledStrokeColor+'" stroke-width="'+disabledStrokeWidth+'" pointer-events="auto">';if(showTooltips){path+='<title> '+WedgeItems[i+1].hint+' (disabled)</title>'}
path+='<desc>'+WedgeItems[i+1].hint+' (disabled)</desc></path>'}
return path}
function wedges(ctr,n,r1,r2,gap,clr){var tGap1=gap/r1,tGap2=gap/r2;var dTheta=(2*Math.PI)/n,paths=[];var theta=(-0.5*Math.PI)-(0.5*dTheta),i;for(i=0;i<n;i++){if(WedgeItems[i+1]!==undefined){paths.push(wedgePath(i,clr,ctr,r1,theta+tGap1,(theta+dTheta)-tGap1,r2,theta+tGap2,(theta+dTheta)-tGap2))}
theta+=dTheta}
return paths.join("\n")}
function wedgeClickHandler(ev){function WedgeUpdate(Arr,DataName,Opts){var i,DatNo=-1;for(i=0;i<Arr.length;i++){if(Arr[i].data==DataName){DatNo=i;break}}
if(DatNo>=0){var Keys=Object.keys(Opts);for(i=0;i<Keys.length;i++){Arr[DatNo][Keys[i]]=Opts[Keys[i]]}}else{if(UInv.GetUserAlerts()&UInv.ERROR_TO_CONSOLE){console.log('Warning: Nonexistent DataName "'+DataName+'" passed to WedgeUpate.')}}
return Arr}
if(ev.button==0){var Ret,el,RM=setup.UInvRadialMenuData;var Quant=UInv.BagHasItem(RM.srcBag,RM.draggedItem);var data=$(this).data("data");ev.stopPropagation();ev.wedgeID=$(this).data("id");ev.wedgeData=data;ev.srcBag=RM.srcBag;ev.draggedItem=RM.draggedItem;ev.oldCellNo=RM.oldCellNo;ev.destBag=RM.destBag;ev.droppedOnItem=RM.droppedOnItem;ev.newCellNo=RM.newCellNo;ev.radialMenuWedgeItems=clone(RM.radialMenuWedgeItems);ev.pos=clone(RM.pos);ev.radialMenuHandler=RM.radialMenuHandler;ev.radialMenuOptions=clone(RM.radialMenuOptions);if($(this).hasClass("uinv-wedge")){ev.wedgeDisabled=!1;Ret=UInv.CallEventHandler("radialMenu","WedgeClick",ev);if(UInv.isUndefined(Ret.radialMenuWedgeItems)){Ret.radialMenuWedgeItems=clone(RM.radialMenuWedgeItems)}
if(UInv.isUndefined(Ret.radialMenuHandler)){Ret.radialMenuHandler=RM.radialMenuHandler}
if(UInv.isUndefined(Ret.radialMenuOptions)){Ret.radialMenuOptions=clone(RM.radialMenuOptions)}
if(Ret.overrideDefaultAction!==!0){switch(data){case "DropAll":UInv.IncrementUpdateLock();if(RM.destBag!=RM.srcBag){UInv.MoveItem(RM.srcBag,RM.destBag,RM.draggedItem)}
UInv.SetItemPropertyValue(RM.destBag,RM.draggedItem,"UInvCell",RM.newCellNo);UInv.DecrementUpdateLock();break;case "Drop1":case "DropHalf":case "DropQuarter":UInv.IncrementUpdateLock();var TempBag=UInv.GetUniqueBagName(),Amt=1;if(data=="DropHalf"){Amt=Math.trunc(Quant*0.5)}else if(data=="DropQuarter"){Amt=Math.trunc(Quant*0.25)}
UInv.CreateBag(TempBag);UInv.MoveItem(RM.srcBag,TempBag,RM.draggedItem,Amt);UInv.MoveItem(TempBag,RM.destBag,RM.draggedItem);UInv.SetItemPropertyValue(RM.destBag,RM.draggedItem,"UInvCell",RM.newCellNo);UInv.DeleteBag(TempBag);Ret.keepOpen=!0;UInv.DecrementUpdateLock();break;case "Take1":UInv.IncrementUpdateLock();UInv.MoveItem(RM.destBag,RM.srcBag,RM.draggedItem,1);Ret.keepOpen=!0;UInv.DecrementUpdateLock();break}
Quant=UInv.BagHasItem(RM.srcBag,RM.draggedItem);WedgeUpdate(Ret.radialMenuWedgeItems,"DropAll",{hint:"Drop all ("+Quant+" items)"});if(Quant==1){WedgeUpdate(Ret.radialMenuWedgeItems,"Drop1",{disabled:!0,hint:"Drop one"})}else{WedgeUpdate(Ret.radialMenuWedgeItems,"Drop1",{disabled:!1,hint:"Drop one (of "+Quant+" items)"})}
if(Quant<4){WedgeUpdate(Ret.radialMenuWedgeItems,"DropHalf",{disabled:!0,hint:"Drop half"})}else{WedgeUpdate(Ret.radialMenuWedgeItems,"DropHalf",{disabled:!1,hint:"Drop half ("+Math.trunc(Quant*0.5)+" of "+Quant+" items)"})}
if(RM.droppedOnItem!==""){if(!UInv.ItemsMatch(RM.srcBag,RM.draggedItem,RM.destBag,RM.droppedOnItem)){WedgeUpdate(Ret.radialMenuWedgeItems,"Take1",{disabled:!0,hint:"Pick up one"})}else{WedgeUpdate(Ret.radialMenuWedgeItems,"Take1",{disabled:!1,hint:"Pick up one (of "+UInv.BagHasItem(RM.destBag,RM.droppedOnItem)+" items)"})}}
if(Quant<8){WedgeUpdate(Ret.radialMenuWedgeItems,"DropQuarter",{disabled:!0,hint:"Drop 1/4th"})}else{WedgeUpdate(Ret.radialMenuWedgeItems,"DropQuarter",{disabled:!1,hint:"Drop 1/4th ("+Math.trunc(Quant*0.25)+" of "+Quant+" items)"})}
RM.radialMenuWedgeItems=clone(Ret.radialMenuWedgeItems);RM.radialMenuHandler=Ret.radialMenuHandler;RM.radialMenuOptions=clone(Ret.radialMenuOptions);UInv.DisplayRadialMenu(Ret.radialMenuWedgeItems,Pos,Ret.radialMenuHandler,Ret.radialMenuOptions)}
if(Ret.keepOpen!==!0){el=$("#uinv-radial-menu").get(0);el.dataset.status="closed";el.style.transform="scale(0, 0)";el.style.opacity=0}}else{ev.wedgeDisabled=!0;Ret=UInv.CallEventHandler("radialMenu","DisabledWedgeClick",ev);if(Ret.keepOpen===!1){el=$("#uinv-radial-menu").get(0);el.dataset.status="closed";el.style.transform="scale(0, 0)";el.style.opacity=0}}}}
var div=$("#uinv-radial-menu").get(0);if(UInv.isUndefined(div)){UInv.InitializeRadialMenu();div=$("#uinv-radial-menu").get(0)}
if(!UInv.isArrayOfObjects(WedgeItems)){UInvError('DisplayRadialMenu failed. WedgeItems parameter is not an array of objects.');return undefined}
if(WedgeItems.length===0){return!0}
if(UInv.isUndefined(Options)||!UInv.isGenericObject(Options)){Options={}}
div.radialMenuWedgeItems=WedgeItems;div.radialMenuHandler=Handler;div.radialMenuOptions=Options;var Ret=UInv.CallEventHandler("radialMenu","Open",div);if(UInv.isProperty(Ret,"radialMenuWedgeItems")){WedgeItems=Ret.radialMenuWedgeItems}
if(UInv.isProperty(Ret,"radialMenuHandler")){Handler=Ret.radialMenuHandler}
if(UInv.isProperty(Ret,"radialMenuOptions")){Options=Ret.radialMenuOptions}
if(!UInv.isUndefined(Handler)&&UInv.isString(Handler)){UInv.AddEventHandler("radialMenu","Open",Handler);UInv.AddEventHandler("radialMenu","WedgeClick",Handler);UInv.AddEventHandler("radialMenu","DisabledWedgeClick",Handler);UInv.AddEventHandler("radialMenu","Cancel",Handler)}
var num=WedgeItems.length-1;var r1M=Options.iconSize?Options.iconSize:32;var r2M=Options.radius?Options.radius:100;var gapM=Options.gap?Options.gap:1;var pad=Options.pad?Options.pad:2;var iconColor=Options.iconColor?Options.iconColor:"white";var showTooltips=Options.showTooltips?Options.showTooltips:!0;var innerGradientColor=Options.innerGradientColor?Options.innerGradientColor:"rgb(4,111,191)";var innerGradientOpacity=Options.innerGradientOpacity?Options.innerGradientOpacity:1;var innerGradientOffset=Options.innerGradientOffset?Options.innerGradientOffset:0;var outerGradientColor=Options.outerGradientColor?Options.outerGradientColor:"rgb(4,111,191)";var outerGradientOpacity=Options.outerGradientOpacity?Options.outerGradientOpacity:0;var outerGradientOffset=Options.outerGradientOffset?Options.outerGradientOffset:100;var hoverColor=Options.hoverColor?Options.hoverColor:"rgba(0,144,226,0.3)";var strokeColor=Options.strokeColor?Options.strokeColor:"#0090e2";var strokeWidth=Options.strokeWidth?Options.strokeWidth:0;var disabledColor=Options.disabledColor?Options.disabledColor:"rgba(128,128,128,0.5)";var disabledOpacity=Options.disabledOpacity?Options.disabledOpacity:"0.4";var disabledStrokeColor=Options.disabledStrokeColor?Options.disabledStrokeColor:"#0090e2";var disabledStrokeWidth=Options.disabledStrokeWidth?Options.disabledStrokeWidth:0;var center={x:r2M+pad,y:r2M+pad};var w=(2*r2M)+(2*pad),h=(2*r2M)+(2*pad);div.dataset.r=r2M;$(div).find(".uinv-wedge").off();$(div).find(".uinv-disabled-wedge").off();if(!UInv.docHasCSSElement(".uinv-wedge:hover")){var styleEl=document.createElement("style");styleEl.title="uinv-hover";document.head.appendChild(styleEl);var styleSheet=styleEl.sheet;styleSheet.insertRule(".uinv-wedge:hover { fill: "+hoverColor+"; }",0)}
var svg='<svg id="uinv-radial-menu-svg" style="display: block; width: '+w+'px; height: '+h+'px;">';svg+='<defs><radialGradient id="Gradient" cx="50%" cy="50%" r="50%" fx="50%" fy="50%">';svg+='<stop offset="'+innerGradientOffset+'%" style="stop-color:'+innerGradientColor+'; stop-opacity:'+innerGradientOpacity+'" />';svg+='<stop offset="'+outerGradientOffset+'%" style="stop-color:'+outerGradientColor+'; stop-opacity:'+outerGradientOpacity+'" />';svg+='</radialGradient>';svg+='<mask id="Mask">';if(WedgeItems[0]!==undefined){svg+='<circle cx="'+center.x+'" cy="'+center.y+'" r="'+(r1M-(2*gapM))+'" fill="white" />'}
svg+=wedges(center,num,r1M,r2M,gapM,"mask")+'</mask></defs>';svg+='<circle id="uinv-radial-menu-bkg" cx="'+center.x+'" cy="'+center.y+'" r="'+r2M+'" fill="url(#Gradient)" mask="url(#Mask)" pointer-events="none" />';if(WedgeItems[0]!==undefined){svg+='<circle data-id="0" data-data="'+WedgeItems[0].data+'" cx="'+center.x+'" cy="'+center.y+'" r="'+(r1M-(2*gapM))+'"';if(WedgeItems[0].disabled!==!0){svg+=' class="uinv-wedge" fill="transparent" stroke="'+strokeColor+'" stroke-width="'+strokeWidth+'" pointer-events="auto">';if(showTooltips){svg+='<title> '+WedgeItems[0].hint+'</title>'}
svg+='<desc>'+WedgeItems[0].hint+'</desc></circle>'}else{svg+=' class="uinv-disabled-wedge" fill="'+disabledColor+'" stroke="'+disabledStrokeColor+'" stroke-width="'+disabledStrokeWidth+'" pointer-events="auto">';if(showTooltips){svg+='<title> '+WedgeItems[0].hint+' (disabled)</title>'}
svg+='<desc>'+WedgeItems[0].hint+' (disabled)</desc></circle>'}}
svg+=wedges(center,num,r1M,r2M,gapM,"transparent")+'</svg>';div.style.width=w+"px";div.style.height=h+"px";div.style.transform="scale(0, 0)";div.style.opacity=0;$(div).html(svg);var thetaM=-0.5*Math.PI,el,elCenter,pic,isImg,i;for(i=0;i<WedgeItems.length;i++){isImg=!1;if(WedgeItems[i]!==undefined){pic=WedgeItems[i].icon;if((/^fa-*/).test(pic)&&!(/\./).test(pic)){el=document.createElement("div");el.className="fa "+pic}else{isImg=!0;el=document.createElement("img")}
if(i===0){elCenter=getPoint(thetaM,0,center)}else{elCenter=getPoint(thetaM,(r1M+r2M)/2,center)}
el.style.position="absolute";el.style.color=iconColor;el.style.width=r1M+"px";el.style.height=r1M+"px";el.style.top=Math.round(elCenter.y-(r1M/2))+"px";el.style.left=Math.round(elCenter.x-(r1M/2))+"px";el.style["line-height"]=r1M+"px";el.style["font-size"]=r1M+"px";el.style["text-align"]="center";el.style["pointer-events"]="none";el.style["-webkit-touch-callout"]="none";el.style["-webkit-user-select"]="none";el.style["-khtml-user-select"]="none";el.style["-moz-user-select"]="none";el.style["-ms-user-select"]="none";el.style["user-select"]="none";if(WedgeItems[i].disabled===!0){el.style.opacity=disabledOpacity}
if(isImg){el.src=setup.ImagePath+pic}
div.appendChild(el)}
if(i!==0){thetaM+=(2*Math.PI)/(WedgeItems.length-1)}}
$(div).find(".uinv-wedge").on("mouseup",wedgeClickHandler);$(div).find(".uinv-disabled-wedge").on("mouseup",wedgeClickHandler);$(div).css({left:Math.round(Pos.x-r2M+window.scrollX)+"px",top:Math.round((Pos.y-(2*r2M))+r2M+window.scrollY)+"px",transform:"scale(1, 1)",opacity:1});div.dataset.status="opened";return!0},DisplayItemList:function(BagName,PluralItemPropertyName,EmptyString,SeparatorString,ConjunctionString,SingleItemPropertyName){if(UInv.isString(BagName)){BagName=FixBagName(BagName);if(UInv.BagExists(BagName)){if(!UInv.isString(PluralItemPropertyName)){PluralItemPropertyName=""}
if(!UInv.isString(EmptyString)){EmptyString="nothing"}
if(!UInv.isString(SeparatorString)){SeparatorString=","}
if(!UInv.isString(ConjunctionString)){ConjunctionString="and"}
if(!UInv.isString(SingleItemPropertyName)){SingleItemPropertyName=""}
var Items=UInv.GetItemsArray(BagName);if(Items.length>0){var Result="",Amt=0,i;UInv.ClearErrors();for(i=0;i<Items.length;i++){if((i===Items.length-1)&&(i!==0)&&(ConjunctionString!=="")){Result+=ConjunctionString+" "}
Amt=UInv.BagHasItem(BagName,Items[i]);if(Amt===1){if(SingleItemPropertyName===""){Result+=Items[i]}else{if(UInv.ItemHasProperty(BagName,Items[i],SingleItemPropertyName)){Result+=UInv.GetItemPropertyValue(BagName,Items[i],SingleItemPropertyName);if(UInv.GetLastError()!==""){Result+=UInv.GetLastError();UInv.ClearErrors()}}else{UInvError('DisplayItemList failed. Cannot find single item property "'+SingleItemPropertyName+'" on item "'+Items[i]+'" in bag "'+BagName+'".');Result+=Items[i]}}}else{Amt=UInv.numberToAPString(Amt);if(PluralItemPropertyName===""){Result+=Amt+" "+Items[i]}else{if(UInv.ItemHasProperty(BagName,Items[i],PluralItemPropertyName)){Result+=Amt+" "+UInv.GetItemPropertyValue(BagName,Items[i],PluralItemPropertyName);if(UInv.GetLastError()!==""){Result+=UInv.GetLastError();UInv.ClearErrors()}}else{UInvError('DisplayItemList failed. Cannot find plural item property "'+PluralItemPropertyName+'" on item "'+Items[i]+'" in bag "'+BagName+'".');Result+=Items[i]}}}
if(i<Items.length-1){if(Items.length>2){Result+=SeparatorString+" "}else{Result+=" "}}}
return Result}
return EmptyString}else{UInvError('DisplayItemList cannot find bag "'+BagName+'".');return'(Error: DisplayItemList cannot display unknown bag "'+BagName+'".)'}}else{UInvError('BagName passed to DisplayItemList is not a string.');return'(Error: DisplayItemList cannot display invalid bag name.)'}},DisplayArray:function(YourArray,EmptyString,SeparatorString,ConjunctionString,UseAPNumbers){if(arguments.length<1){return"nothing"}
if(!UInv.isArray(YourArray)){YourArray=[YourArray]}
if(!UInv.isString(EmptyString)){EmptyString="nothing"}
if(YourArray.length==0){return EmptyString}
if(!UInv.isString(SeparatorString)){SeparatorString=","}
if(!UInv.isString(ConjunctionString)){ConjunctionString="and"}
if(!UInv.isString(UseAPNumbers)){UseAPNumbers=!1}
var Result="",i;for(i=0;i<YourArray.length;i++){if((i===YourArray.length-1)&&(i!==0)&&(ConjunctionString!=="")){Result+=ConjunctionString+" "}
if(UInv.isNumber(YourArray[i])&&UseAPNumbers){Result+=UInv.numberToAPString(YourArray[i])}else{Result+=YourArray[i]}
if(i<YourArray.length-1){if(YourArray.length>2){Result+=SeparatorString+" "}else{Result+=" "}}}
return Result},UpdateDisplay:function(Container){function DropHandler(event,ui){ui.draggable.position({of:$(this),my:"center",at:"center"});var SrcBag=ui.draggable.data("bagname");var DraggedItem=ui.draggable.data("itemname");var OldCellNo=UInv.GetItemPropertyValue(SrcBag,DraggedItem,"UInvCell");var DestBag=$(this).data("bagname");var NewCellNo=$(this).data("cellno");var DroppedOnItem=UInv.GetItemWherePropertyEquals(DestBag,"UInvCell",NewCellNo);var Quant=UInv.BagHasItem(SrcBag,DraggedItem);var Pos={x:event.clientX,y:event.clientY};var radialMenuWedgeItems=[{icon:"fa-plus-square",hint:"Drop all ("+Quant+" items)",data:"DropAll"},{icon:"plus-one_white.svg",hint:"Drop one",data:"Drop1"},{icon:"plus-half_white.svg",hint:"Drop half",data:"DropHalf"},{icon:"minus-one_white.svg",hint:"Pick up one",data:"Take1"},{icon:"plus-quarter_white.svg",hint:"Drop 1/4th",data:"DropQuarter"}];if(Quant==1){radialMenuWedgeItems[1].disabled=!0}else{radialMenuWedgeItems[1].hint="Drop one (of "+Quant+" items)"}
if(Quant<4){radialMenuWedgeItems[2].disabled=!0}else{radialMenuWedgeItems[2].hint="Drop half ("+Math.trunc(Quant*0.5)+" of "+Quant+" items)"}
if(DroppedOnItem!==""){if(!UInv.ItemsMatch(SrcBag,DraggedItem,DestBag,DroppedOnItem)){radialMenuWedgeItems[3].disabled=!0}else{radialMenuWedgeItems[3].hint="Pick up one (of "+UInv.BagHasItem(DestBag,DroppedOnItem)+" items)"}}else{radialMenuWedgeItems[3].disabled=!0}
if(Quant<8){radialMenuWedgeItems[4].disabled=!0}else{radialMenuWedgeItems[4].hint="Drop 1/4th ("+Math.trunc(Quant*0.25)+" of "+Quant+" items)"}
event.srcBag=SrcBag;event.draggedItem=DraggedItem;event.oldCellNo=OldCellNo;event.destBag=DestBag;event.droppedOnItem=DroppedOnItem;event.newCellNo=NewCellNo;event.pos=clone(Pos);event.ui=ui;event.radialMenuWedgeItems=clone(radialMenuWedgeItems);var Ret=UInv.CallEventHandler("table","Drop",event);if(Ret.openRadialMenu===!0){if(!UInv.isUndefined(Ret.radialMenuWedgeItems)){if(!UInv.isProperty(Ret,"radialMenuOptions")){Ret.radialMenuOptions=undefined}
if(!UInv.isProperty(Ret,"radialMenuHandler")){Ret.radialMenuHandler=undefined}
UInv.DisplayRadialMenu(Ret.radialMenuWedgeItems,Pos,Ret.radialMenuHandler,Ret.radialMenuOptions);Ret.overrideDefaultAction=!0}else{Ret.radialMenuWedgeItems=clone(radialMenuWedgeItems)}}else{if(UInv.isUndefined(Ret.radialMenuWedgeItems)){Ret.radialMenuWedgeItems=clone(radialMenuWedgeItems)}
if(!UInv.isProperty(Ret,"radialMenuOptions")){Ret.radialMenuOptions=undefined}
if(!UInv.isProperty(Ret,"radialMenuHandler")){Ret.radialMenuHandler=undefined}}
if(UInv.isProperty(setup,"UInvRadialMenuData")){delete setup.UInvRadialMenuData}
setup.UInvRadialMenuData={srcBag:SrcBag,draggedItem:DraggedItem,oldCellNo:OldCellNo,destBag:DestBag,droppedOnItem:DroppedOnItem,newCellNo:NewCellNo,radialMenuWedgeItems:clone(Ret.radialMenuWedgeItems),pos:clone(Pos),radialMenuHandler:Ret.radialMenuHandler,radialMenuOptions:clone(Ret.radialMenuOptions)};if(Ret.overrideDefaultAction!==!0){if(DroppedOnItem!==""){if((SrcBag!=DestBag)||(OldCellNo!=NewCellNo)){if(UInv.ItemsMatch(SrcBag,DraggedItem,DestBag,DroppedOnItem)){if(Quant>1){UInv.DisplayRadialMenu(radialMenuWedgeItems,Pos)}else{UInv.IncrementUpdateLock();if(DestBag!=SrcBag){UInv.MoveItem(SrcBag,DestBag,DraggedItem)}
UInv.SetItemPropertyValue(DestBag,DraggedItem,"UInvCell",NewCellNo);UInv.DecrementUpdateLock()}}else{UInv.IncrementUpdateLock();UInv.SwapItems(SrcBag,DraggedItem,DestBag,DroppedOnItem,"UInvCell");UInv.DecrementUpdateLock()}}}else{if((Quant>1)&&(SrcBag!=DestBag)){UInv.DisplayRadialMenu(radialMenuWedgeItems,Pos)}else{UInv.IncrementUpdateLock();if(DestBag!=SrcBag){UInv.MoveItem(SrcBag,DestBag,DraggedItem)}
UInv.SetItemPropertyValue(DestBag,DraggedItem,"UInvCell",NewCellNo);UInv.DecrementUpdateLock()}}}}
if(UInv.isUndefined(Container)){Container=document}
var Matches=$(Container).find("[data-uinv]");if(Matches.length>0){var i,Table,BagName,CellMargin,BorderMargin,CellRows,x,CellCols,y,Row,RowClass,CellClass,ItemClass,IconClass,TextClass,PadTxt,Count,Item,Txt;for(i=0;i<Matches.length;i++){Count=0;if($(Matches[i]).data("uinv")==="table"){Table=$(Matches[i]);BagName=Table.attr("id");UInv.FixTableCells(BagName,Table);CellMargin=Table.data("cellmargin");BorderMargin=Table.data("bordermargin");CellRows=Table.data("cellrows");CellCols=Table.data("cellcolumns");RowClass=Table.data("rowclass");CellClass=Table.data("cellclass");ItemClass=Table.data("itemclass");IconClass=Table.data("iconclass");TextClass=Table.data("textclass");Table.find("[data-uinv='item']").off();Table.empty();for(x=0;x<CellRows;x++){Table.append('<div class="'+RowClass+'" id="'+BagName+'-row'+x+'" data-uinv="table-row"></div>');Row=$(Container).find("#"+BagName+"-row"+x);for(y=0;y<CellCols;y++){PadTxt="";if(x===0){PadTxt=' margin-top: '+(BorderMargin+CellMargin)+'px;'}
if(x===CellRows-1){PadTxt+=' margin-bottom: '+(BorderMargin+CellMargin)+'px;'}
if(y===0){PadTxt+=' margin-left: '+(BorderMargin+CellMargin)+'px;'}
if(y===CellCols-1){PadTxt+=' margin-right: '+(BorderMargin+CellMargin)+'px;'}
Item=UInv.GetItemWherePropertyEquals(BagName,"UInvCell",Count);if(Item!==""){Txt='<span data-uinv="table-cell" class="'+CellClass+'" id="'+BagName+'-cell'+Count+'" data-bagname="'+BagName+'" data-cellno='+Count++ +' style="margin: '+CellMargin+'px;'+PadTxt+'">';Txt+='<div data-uinv="item" class="'+ItemClass+'" id="'+BagName+'-item-'+Item+'" data-bagname="'+BagName+'" data-itemname="'+Item+'">';Txt+='<img src="'+setup.ImagePath+UInv.GetItemPropertyValue(BagName,Item,"image")+'" class="'+IconClass+'" id="'+BagName+'-icon-'+Item+'" unselectable="on" onselectstart="return false;">';if(UInv.BagHasItem(BagName,Item)>1){Txt+='<span class="'+TextClass+'" id="'+BagName+'-text'+Count+'" unselectable="on" onselectstart="return false;">'+UInv.BagHasItem(BagName,Item)+'</span>'}
Txt+='</div></span>';Row.append(Txt)}else{Row.append('<span data-uinv="table-cell" class="'+CellClass+'" id="'+BagName+'-cell'+Count+'" data-bagname="'+BagName+'" data-cellno='+Count++ +' style="margin: '+CellMargin+'px;'+PadTxt+'"></span>')}}}}}
if(UInv.isFunction($(Container).find("[data-uinv='table-cell']").droppable)){$(Container).find("[data-uinv='table-cell']").droppable({scope:"first",revert:"invalid",accept:function(el){var SrcBag=$(el).data("bagname");var DraggedItem=$(el).data("itemname");var DestBag=$(this).data("bagname");var NewCellNo=$(this).data("cellno");var DroppedOnItem=UInv.GetItemWherePropertyEquals(DestBag,"UInvCell",NewCellNo);el.srcBag=SrcBag;el.draggedItem=DraggedItem;el.destBag=DestBag;el.droppedOnItem=DroppedOnItem;el.newCellNo=NewCellNo;el.acceptVal=$(el).hasClass("dragging");var Ret=UInv.CallEventHandler("table","Accept",el);if(UInv.isProperty(Ret,"acceptVal")){return Ret.acceptVal}else{return $(el).hasClass("dragging")}},drop:DropHandler});$(Container).find("[data-uinv='item']").on("mousedown touchstart",function(ev){if(ev.button==0){$(this).addClass("grabbing")}}).on("mouseup touchend",function(ev){if(ev.button==0){$(this).removeClass("grabbing")}}).draggable({revert:"invalid",containment:"document",scope:"first",cursor:"grabbing",snap:!1,start:function(event,ui){if(event.button==0){$(this).addClass("grabbing");$(this).addClass("dragging");if(!UInv.isUndefined(event.target.setCapture)){event.target.setCapture()}
var SrcBag=$(this).data("bagname");var DraggedItem=$(this).data("itemname");event.srcBag=SrcBag;event.draggedItem=DraggedItem;event.ui=ui;UInv.CallEventHandler("table","DragStart",event)}else{event.preventDefault()}},stop:function(event,ui){$(this).removeClass("grabbing");$(this).removeClass("dragging");var SrcBag=$(this).data("bagname");var DraggedItem=$(this).data("itemname");event.srcBag=SrcBag;event.draggedItem=DraggedItem;event.ui=ui;UInv.CallEventHandler("table","DragStop",event)}})}else{setTimeout(UInv.UpdateDisplay,100)}}
return!0},GetUserAlerts:function(){if(!UInv.isUndefined(setup.UInvUserAlertsDebug)){if(UInv.isUndefined(State.__getUpperName__.UInvShowAlerts)||State.__getUpperName__.UInvShowAlerts!==setup.UInvUserAlertsDebug){setup.UInvUserAlertsBackup=State.__getUpperName__.UInvShowAlerts;UInv.SetUserAlerts(setup.UInvUserAlertsDebug);console.log('UInv: Game restarted with console logging enabled through debug override. Type "xyzzy" while on game window to cancel.')}}
if(UInv.isProperty(State.__getUpperName__,"UInvShowAlerts")){return State.__getUpperName__.UInvShowAlerts}
return!1},SetUserAlerts:function(ErrorSetting,ErrorStringAddendum){if(!UInv.isUndefined(ErrorSetting)){if(UInv.isInteger(ErrorSetting)){State.__getUpperName__.UInvShowAlerts=ErrorSetting}else if(ErrorSetting){State.__getUpperName__.UInvShowAlerts=UInv.ERROR_THROW_ERROR+UInv.ERROR_SHOW_PASSAGE_NAME}else{if(UInv.isProperty(State.__getUpperName__,"UInvShowAlerts")){delete State.__getUpperName__.UInvShowAlerts}}}
if(!UInv.isUndefined(ErrorStringAddendum)){if(UInv.isString(ErrorStringAddendum)||UInv.isNumber(ErrorStringAddendum)||UInv.isObject(ErrorStringAddendum)||UInv.isBoolean(ErrorStringAddendum)){if(ErrorStringAddendum===""){if(UInv.isProperty(State.__getUpperName__,"UInvErrorStringAddendum")){delete State.__getUpperName__.UInvErrorStringAddendum}}else{State.__getUpperName__.UInvErrorStringAddendum=ErrorStringAddendum}}}
return UInv.GetUserAlerts()},ClearErrors:function(){State.__getUpperName__.UInvLastErrorMessage="";return!0},GetLastError:function(Clear){var Err="";if(UInv.isUndefined(Clear)){Clear=!1}
if(UInv.isProperty(State.__getUpperName__,"UInvLastErrorMessage")){Err=State.__getUpperName__.UInvLastErrorMessage}
if(Clear){UInv.ClearErrors()}
return Err},SetMergeItemMethod:function(Method){if(!UInv.isUndefined(Method)){if((Method>=1)&&(Method<=6)){State.__getUpperName__.UInvMergeItemMethod=Method;return!0}else{if(!UInv.isProperty(State.__getUpperName__,"UInvMergeItemMethod")){State.__getUpperName__.UInvMergeItemMethod=UInv.MERGE_USE_ONLY_DESTINATION_PROPERTIES}
return!1}}else{if(!UInv.isProperty(State.__getUpperName__,"UInvMergeItemMethod")){State.__getUpperName__.UInvMergeItemMethod=UInv.MERGE_USE_ONLY_DESTINATION_PROPERTIES}
return!1}},Initialize:function(DisplayErrors){var ignoredElements=[];function handleMouseDown(ev){var Ret=UInv.CallEventHandler("general","MouseDown",ev);if(Ret.stopPropagation===!0){ev.stopPropagation()}
if(ev.button==0){if((($(ev.target).parents("#story").length>0)||($(ev.target).parents().length<=2))&&(ev.clientX<document.documentElement.offsetWidth)&&(ev.clientY<document.documentElement.offsetHeight)&&!ignoredElements.includes(ev.target.localName))
{var el=$("#uinv-radial-menu").get(0);if(UInv.isUndefined(el)){UInv.InitializeRadialMenu()}else{if(el.dataset.status=="opened"){ev.cancelType="MouseDown";Ret=UInv.CallEventHandler("radialMenu","Cancel",ev);if(Ret.keepOpen!==!0){el.dataset.status="closed md";el.style.transform="scale(0, 0)";el.style.opacity=0}
UInv.UpdateDisplay()}}}}}
function handleMouseUp(ev){if(ev.button==0){if((($(ev.target).parents("#story").length>0)||($(ev.target).parents().length<=2))&&(ev.clientX<document.documentElement.offsetWidth)&&(ev.clientY<document.documentElement.offsetHeight)&&!ignoredElements.includes(ev.target.localName))
{var el=$("#uinv-radial-menu").get(0);if(UInv.isUndefined(el)){UInv.InitializeRadialMenu()}else{if(el.dataset.status=="opened"){ev.cancelType="MouseUp";var Ret=UInv.CallEventHandler("radialMenu","Cancel",ev);if(Ret.keepOpen!==!0){el.dataset.status="closed";el.style.transform="scale(0, 0)";el.style.opacity=0}
UInv.UpdateDisplay()}else{if(el.dataset.status=="closed md"){el.dataset.status="closed"}}}}}}
var Result=!0;if(UInv.isProperty(State.__getUpperName__,"UInvBags")){delete State.__getUpperName__.UInvBags;State.__getUpperName__.UInvBags={};Result=!1}else{State.__getUpperName__.UInvBags={}}
if(UInv.isProperty(State.__getUpperName__,"UInvCurrentBagName")){delete State.__getUpperName__.UInvCurrentBagName;Result=!1}
if(UInv.isProperty(State.__getUpperName__,"UInvCurrentItemName")){delete State.__getUpperName__.UInvCurrentItemName;Result=!1}
if(UInv.isProperty(State.__getUpperName__,"UInvErrorStringAddendum")){delete State.__getUpperName__.UInvErrorStringAddendum;Result=!1}
if(UInv.isUndefined(setup.UInvUserAlertsDebug)){if(UInv.isProperty(State.__getUpperName__,"UInvShowAlerts")){if(UInv.isUndefined(DisplayErrors)){UInv.SetUserAlerts(!1)}else{UInv.SetUserAlerts(DisplayErrors)}
Result=!1}else{if(DisplayErrors){UInv.SetUserAlerts(DisplayErrors)}}}else{UInv.SetUserAlerts(setup.UInvUserAlertsDebug);if(UInv.isUndefined(DisplayErrors)){setup.UInvUserAlertsBackup=!1}else{setup.UInvUserAlertsBackup=DisplayErrors}
console.log('UInv: Game reinitialized with console logging enabled through debug override. Type "xyzzy" while on game window to cancel.')}
if(UInv.isProperty(State.__getUpperName__,"UInvLastErrorMessage")){Result=!1}
UInv.ClearErrors();if(UInv.isProperty(State.__getUpperName__,"UInvMergeItemMethod")){Result=!1}
UInv.SetMergeItemMethod(UInv.MERGE_USE_ONLY_DESTINATION_PROPERTIES);if(UInv.isProperty(State.__getUpperName__,"UInvEventHandlers")){delete State.__getUpperName__.UInvEventHandlers;State.__getUpperName__.UInvEventHandlers={};Result=!1}else{State.__getUpperName__.UInvEventHandlers={}}
var div=$("#uinv-radial-menu").get(0);if(UInv.isUndefined(div)){UInv.InitializeRadialMenu()}
$(document).on("mousedown",handleMouseDown);$(document).on("mouseup",handleMouseUp);$("html").css("height","100%");return Result},Version:function(){return"Universal Inventory System (<a href='https://github.com/HiEv/UInv'>UInv</a>) v0.9.7 by HiEv"},AddToBagValue:function(BagName,BagPropertyName,Amount){return UInv.AddToBagPropertyValue(BagName,BagPropertyName,Amount)},AddToItemValue:function(BagName,ItemName,ItemPropertyName,Amount){return UInv.AddToItemPropertyValue(BagName,ItemName,ItemPropertyName,Amount)},ArrayHasAllBagProperties:function(BagName,BagPropertyNameArray){return UInv.BagHasAllProperties(BagName,BagPropertyNameArray)},ArrayHasAllItemProperties:function(BagName,ItemName,ItemPropertyNameArray){return UInv.ItemHasAllProperties(BagName,ItemName,ItemPropertyNameArray)},BagArray:function(){return UInv.GetBagsArray()},BagCount:function(){return UInv.GetBagCount()},BagsExist:function(BagNameArray){return UInv.BagExists(BagNameArray)},BagHasAnyBagTags:function(BagName,BagPropertyName,BagTagArray){return UInv.BagHasAnyBagTag(BagName,BagPropertyName,BagTagArray)},BagHasAnyItemTags:function(BagName,ItemPropertyName,ItemTagArray){return UInv.BagHasAnyItemTag(BagName,ItemPropertyName,ItemTagArray)},BagHasContainer:function(BagName){return UInv.BagIsPocket(BagName)},BagHasProperties:function(BagName,BagPropertyNameArray){return UInv.BagHasProperty(BagName,BagPropertyNameArray)},CopyBagProperties:function(SourceBagName,DestinationBagName,BagPropertyNameArray){return UInv.CopyBagProperty(SourceBagName,DestinationBagName,BagPropertyNameArray)},GetBagArrayWithAllProperties:function(BagPropertyNameArray){return UInv.GetBagsArrayWithAllProperties(BagPropertyNameArray)},GetBagValue:function(BagName,BagPropertyName){return UInv.GetBagPropertyValue(BagName,BagPropertyName)},GetCellsItemName:function(BagName,Cell){return UInv.GetItemWherePropertyEquals(BagName,"UInvCell",Cell)},GetHighestBagPropertyValue:function(BagPropertyName,BagNameArray){return UInv.GetBagWithHighestPropertyValue(BagPropertyName,BagNameArray)},GetHighestBagValue:function(BagPropertyName,BagNameArray){return UInv.GetBagWithHighestPropertyValue(BagPropertyName,BagNameArray)},GetHighestItemPropertyValue:function(BagName,ItemPropertyName){return UInv.GetItemWithHighestPropertyValue(BagName,ItemPropertyName)},GetLowestBagPropertyValue:function(BagPropertyName,BagNameArray){return UInv.GetBagWithLowestPropertyValue(BagPropertyName,BagNameArray)},GetLowestBagValue:function(BagPropertyName,BagNameArray){return UInv.GetBagWithLowestPropertyValue(BagPropertyName,BagNameArray)},GetLowestItemPropertyValue:function(BagName,ItemPropertyName){return UInv.GetItemWithLowestPropertyValue(BagName,ItemPropertyName)},GetItemQuantity:function(BagName,ItemName){return UInv.BagHasItem(BagName,ItemName)},GetItemValue:function(BagName,ItemName,ItemPropertyName){return UInv.GetItemPropertyValue(BagName,ItemName,ItemPropertyName)},HasItem:function(BagName,ItemName){return UInv.BagHasItem(BagName,ItemName)},ItemHasAnyTags:function(BagName,ItemName,ItemPropertyName,ItemTagArray){return UInv.ItemHasAnyTag(BagName,ItemName,ItemPropertyName,ItemTagArray)},ItemIsContainer:function(BagName,ItemName,PocketName){return UInv.ItemHasPocket(BagName,ItemName,PocketName)},ItemQuantity:function(BagName,ItemName){return UInv.BagHasItem(BagName,ItemName)},SetBagsPropertyValue:function(BagNameArray,BagPropertyName,Value){return UInv.SetBagPropertyValue(BagNameArray,BagPropertyName,Value)},SetBagsTouched:function(BagNameArray){return UInv.SetBagTouched(BagNameArray)},SetBagsUntouched:function(BagNameArray){return UInv.SetBagUntouched(BagNameArray)},SetBagValue:function(BagName,BagPropertyName,Value){return UInv.SetBagPropertyValue(BagName,BagPropertyName,Value)},SetItemsPropertyValues:function(BagName,ItemPropertyName,Value){return UInv.SetItemsPropertyValue(BagName,ItemPropertyName,Value)},SetItemValue:function(BagName,ItemName,ItemPropertyName,Value){return UInv.SetItemPropertyValue(BagName,ItemName,ItemPropertyName,Value)},UpdateItemProperties:function(BagName,ItemName,ValuesObject){return UInv.SetItemPropertyValues(BagName,ItemName,ValuesObject)},BagData:function(DefaultBagType,PropertiesOnly){var BagProperties={},BagItems=[];switch(DefaultBagType){case "backpack":BagProperties={maxCarryWeight:20};BagItems=["pants","belt",{dagger:2}];break;case "clothing":BagProperties={description:"A pile of clothing."};BagItems=["shoes",{"pants":4},{"black belt":{UInvDefaultItemType:"belt",UInvQuantity:2,description:"A black belt."}},{"shirt":{UInvQuantity:3,type:["clothing"],singular:"a shirt",plural:"shirts",place:["torso2"],size:3,image:"icon_cloth_shirt1.png",description:"An ordinary white shirt."}}];break;case "treasure bag":BagProperties={UInvVariableType:!0,quality:["new","average","worn"].random()};BagItems=[{"gold coin":random(2,20)},UInv.BagData("treasures").random()];break;case "treasures":BagItems=["pants","belt","dagger","shortsword","heavy mace","rainbow potion"];break;case "suit pocket":BagProperties={maxCarryWeight:5};BagItems=["suit"];break;default:return undefined}
if(PropertiesOnly){return BagProperties}else{return BagItems}},ItemData:(function(){var Items={};Items.top1={type:["clothing","top","male","female"],singular:"un t-shirt Bugs Bunny",image:setup.findMedia("data/mc/armoire/top1.png"),description:"Ton vieux t-shirt Bugs Bunny. Bien utile pour traîner à la maison.",masculinity:0,feminity:1,color:0,cost:10};Items.top2={type:["clothing","top","male"],singular:"un vieux pull en laine",image:"data/mc/armoire/top2.png",description:"Un vieux pull en laine fait par votre grand mère. C'est ton dernier souvenir d'elle, et tu y tiens beaucoup.",masculinity:2,feminity:0,color:0,cost:1};Items.belt1={type:["clothing","belt","male"],singular:"une ceinture en plastique",image:setup.findMedia("data/mc/armoire/belt1.png"),description:"Une ceinture en plastique imitation cuir.",masculinity:2,feminity:0,color:4,cost:5};Items.underware1={type:["clothing","underwear","male"],singular:"un slip en coton",image:setup.findMedia("data/mc/armoire/underware1.png"),description:"Un vieux slip avec l'élastique détendu.",masculinity:1,feminity:0,color:4,cost:5};Items.underware2={type:["clothing","underwear","female"],singular:"la petite culotte trouvée dans sa chambre...",image:setup.findMedia("data/mc/armoire/underware2.png"),description:"La petite culotte rose trouvée dans sa chambre...",masculinity:0,feminity:5,color:11,cost:20};Items.bottom1={type:["clothing","bottom","male"],singular:"un jean délavé",image:setup.findMedia("data/mc/armoire/bottom1.png"),description:"Un jean délavé et sans grande valeur.",masculinity:2,feminity:0,color:3,cost:10};Items.socks1={type:["clothing","socks","male"],singular:"une paire de grosses chaussettes",image:setup.findMedia("data/mc/armoire/socks1.png"),description:"Une paire de grosses chaussettes.",masculinity:0,feminity:0,color:4,cost:2};Items.shoes1={type:["clothing","shoes","male"],singular:"une paire de chaussures à scratch",image:setup.findMedia("data/mc/armoire/shoes1.png"),description:"Une paire de chaussures avec de beaux scratchs pour les fermer.",masculinity:1,feminity:0,color:9,cost:30};Items.backpack={type:["wearable","container"],UInvPocket:{inside:"backpack","front pocket":"-"},singular:"a backpack",plural:"backpacks",size:7,image:"backpack.png",description:"A leather satchel with a pocket on the front and sturdy straps so you can wear it on your back."};Items.belt={type:["clothing"],singular:"a belt",plural:"belts",place:["hips1"],size:2,image:"icon_belt1.png",description:"A basic leather belt."};Items.dagger={type:["weapon","stabbing","1-handed"],singular:"a dagger",plural:"daggers",size:2,image:"bottom1.png",description:"A small dagger."};Items["gold coin"]={type:["money"],singular:"a gold coin",plural:"gold coins",size:0,image:"coin.png",description:"Gold coins are the standard currency."};Items["heavy mace"]={type:["weapon","blunt","2-handed"],singular:"a heavy mace",plural:"heavy maces",size:6,image:"Heavy_Mace.png",description:"A heavy mace with pointy flanges on it."};Items.pants={type:["clothing"],singular:"a pair of pants",plural:"pairs of pants",place:["hips2"],size:4,image:"icon_cloth_pants1.png",description:"A pair of pants."};Items.shoes={type:["clothing"],singular:"a pair of shoes",plural:"pairs of shoes",place:["feet1"],size:2,image:"icon_shoes.png",description:"A pair of shoes."};Items.shortsword={type:["weapon","slashing","1-handed"],singular:"a short sword",plural:"short swords",size:4,image:"icon_sword_short1.png",description:"A shortsword."};Items.suit={type:["clothing","container"],UInvPocket:{pocket:"suit pocket"},singular:"a suit jacket",plural:"suit jackets",place:["torso1"],size:5,image:"suit.png",description:"A classic black suit jacket with a pocket."};return function(DefaultItemType){if(!UInv.isString(DefaultItemType)){UInvError('ItemData failed. DefaultItemType is not a string.');return undefined}
var Item=undefined;switch(DefaultItemType){case "bow":Item={arrows:random(10,20),type:["weapon","ranged","piercing","2-handed"],singular:"a bow",plural:"bows",size:5,image:"bow.png",description:"A bow."};break;case "rainbow potion":var color=["red","orange","yellow","green","blue","purple"].random();var article=color==="orange"?"an ":"a ";Item={UInvVariableType:color,type:["potion"],singular:article+color+" potion",plural:color+" potions",size:1,image:"potion"+color.toUpperFirst()+".png",description:article.toUpperFirst()+color+" potion."};break}
if(UInv.isUndefined(Item)){if(UInv.isProperty(Items,DefaultItemType)){return clone(Items[DefaultItemType])}else{return undefined}}else{if(!UInv.isProperty(Item,"UInvVariableType")){Item.UInvVariableType=!0}
return Item}}})(),BagList:["backpack","clothes","treasure bag","treasures","suit pocket"],ItemList:["backpack","belt","bow","dagger","gold coin","heavy mace","pants","rainbow potion","shoes","shortsword","suit"]}})();window.UInv=new UInvObject();UInv.Initialize(UInv.ERROR_THROW_ERROR);setup.itemsList=["top1","top2","belt1","underware1","underware2","bottom1","socks1","shoes1"];setup.eventCheckItemType=function(event){let ret={acceptVal:!1};let srcItemToDestBag=!1;let destItemToSrcBag=!1;let bagSrcAcceptedTypeArray=UInv.GetBagPropertyValue(event.srcBag,"acceptedType");let bagDestAcceptedTypeArray=UInv.GetBagPropertyValue(event.destBag,"acceptedType");let itemSrcTypeArray=[],itemDestTypeArray=[];if(UInv.BagHasItem(event.srcBag,event.draggedItem)){itemSrcTypeArray=UInv.GetItemPropertyValue(event.srcBag,event.draggedItem,"type");for(let itemSrcType of itemSrcTypeArray){if(bagDestAcceptedTypeArray.includes(itemSrcType)){srcItemToDestBag=!0;break}}}else{return ret}
if(event.droppedOnItem==""){destItemToSrcBag=!0}else if(UInv.BagHasItem(event.destBag,event.droppedOnItem)){itemDestTypeArray=UInv.GetItemPropertyValue(event.destBag,event.droppedOnItem,"type");for(let itemDestType of itemDestTypeArray){if(bagSrcAcceptedTypeArray.includes(itemDestType)){destItemToSrcBag=!0;break}}}else{return ret}
if(srcItemToDestBag&&destItemToSrcBag){ret.acceptVal=!0}
return ret};setup.eventUpdateInventoryZone=function(event){setTimeout(setup.updateInventoryZone,50);setTimeout(setup.setUIGender,100)};setup.eventUpdateWardrobe=function(event){if(event.destBag.startsWith("c-")){let itemTypeArray=UInv.GetItemPropertyValue(event.srcBag,event.draggedItem,"type");if(!(itemTypeArray.contains("male"))&&!(setup.isEvent("mc",4))){let $outfitErrorZone=$("#outfitErrorZone");$outfitErrorZone.empty();$outfitErrorZone.wiki("<<t>>Hein ? Non ! Qu'est-ce qu'il me prend, je suis un gars ! Je ne vais mettre ça... Non ?<</t>>");return{overrideDefaultAction:!0}}}};UInv.AddEventHandler("table","Drop","eventUpdateInventoryZone",[]);UInv.AddEventHandler("table","Accept","eventCheckItemType",[]);setup.isWearClothe=function(itemName){let bagList=setup.clothingNameList;for(let bag of bagList){if(UInv.BagHasItem(bag[1],itemName)){return!0}}
return!1};setup.setUIBuff=function(creation){let $buffzone;if(creation){$buffzone=$('<div>',{"id":'buff-zone',})}else{$buffzone=$("#buff-zone")}
$buffzone.empty();for(let buffname in State.__getUpperName__.player.buffs){let $buffitem=$('<div>',{"class":'buff-item '+setup.type.buffs[buffname].type,"data-tooltip":setup.captureAndTranslate(setup.type.buffs[buffname].description)});let $bufficon=$('<span>',{"class":setup.type.buffs[buffname].icon,"style":"font-size:"+setup.type.buffs[buffname].mult+"em;"});$buffitem.append($bufficon);$("#buff-zone").append($buffitem);$buffzone.append($buffitem)}
return $buffzone};setup.increaseBuff=function(toAdd){if(toAdd in setup.type.buffs){if(toAdd in State.__getUpperName__.player.buffs){State.__getUpperName__.player.buffs[toAdd]+=1}else{State.__getUpperName__.player.buffs[toAdd]=1}}
setup.setUIBuff(!1)};setup.decreaseBuff=function(toIncrease){if(toIncrease in setup.type.buffs){if(toIncrease in State.__getUpperName__.player.buffs){State.__getUpperName__.player.buffs.toIncrease-=1;if(State.__getUpperName__.player.buffs.toIncrease==0){delete State.__getUpperName__.player.buffs.toIncrease}}}
setup.setUIBuff(!1)};setup.removeBuff=function(toDel){if(toDel in setup.type.buffs){if(toDel in State.__getUpperName__.player.buffs){delete State.__getUpperName__.player.buffs[toDel]}}
setup.setUIBuff(!1)};Macro.add('increaseBuff',{handler:function(){setup.increaseBuff(this.args[0])}});Macro.add('decreaseBuff',{handler:function(){setup.decreaseBuff(this.args[0])}});Macro.add('removeBuff',{handler:function(){setup.removeBuff(this.args[0])}});Macro.add('printBuffs',{handler:function(){(setup.setUIBuff(!0)).appendTo(this.output)}});setup.clothingNameList=[["Chapeau","c-cap"],["Haut","c-top"],["Soutien-gorge","c-bra"],["Ceinture","c-belt"],["Sous-vêtement","c-underwear"],["Bas","c-bottom"],["Chaussettes","c-socks"],["Chaussures","c-shoes"]];setup.checkOutifitErrorMessage={"c-underware":"Non, je ne vais pas sortir comme ça... Je dois mettre un sous-vêtement...","c-top":"Je mets un haut, et ensuite je sors.","c-bottom":"J'ai besoin de m'habiller correctement... Enfilons ce bas.","c-socks":"Peut-être que ça ira mieux quand je mettrai mes chaussettes ?","c-shoes":"Et pourquoi pas enfiler des chaussures ?"};setup.checkOutfit=function(){if(UInv.GetItemCount("c-underwear")==0){return(setup.captureAndTranslate(setup.checkOutifitErrorMessage["c-underware"]))}else if(UInv.GetItemCount("c-top")==0){return(setup.captureAndTranslate(setup.checkOutifitErrorMessage["c-top"]))}else if(UInv.GetItemCount("c-bottom")==0){return(setup.captureAndTranslate(setup.checkOutifitErrorMessage["c-bottom"]))}else if(UInv.GetItemCount("c-socks")==0){return(setup.captureAndTranslate(setup.checkOutifitErrorMessage["c-socks"]))}else if(UInv.GetItemCount("c-shoes")==0){return(setup.captureAndTranslate(setup.checkOutifitErrorMessage["c-shoes"]))}
return""};setup.getBagGraphic=function(bagName,sizeX,sizeY,cssname){if(typeof sizeX=='undefined'){sizeX=1}
if(typeof sizeY=='undefined'){sizeY=1}
if(typeof cssname=='undefined'){cssname='inventory'}
let $el=$("<div data-uinv='table' class='"+cssname+"-table' id='"+bagName+"' data-rowclass='"+cssname+"-row' data-cellclass='"+cssname+"-cell' data-itemclass='"+cssname+"-item' data-iconclass='"+cssname+"-icon' data-textclass='"+cssname+"-text' data-cellrows='"+sizeX+"' data-cellcolumns='"+sizeY+"' data-cellmargin='5' data-bordermargin='4'></div>");return $el};setup.printClothing=function(bagName,bagFormalName){let items=UInv.GetItemsArray(bagName);let $item=$('<div>',{"class":'inv-item'});$item.append(this.getBagGraphic(bagName,1,1));let $desc=$('<div>',{"class":'inv-desc'});if(items.length>0){let itemObject=UInv.GetItemObject(bagName,items[0]);let $descitem1=$('<div>',{"class":'inv-desc-item',"id":"description"});if(UInv.isProperty(itemObject,"description")){$descitem1.text(setup.captureAndTranslate(itemObject.description))}else{$descitem1.text(setup.captureAndTranslate(items[0]))}
let $descitem2=$('<div>',{"class":'inv-desc-item',"id":"modifiers"});let $descitemenum1=$('<div>',{"class":'inv-desc-item-enum',"id":"modifiers"});if(UInv.isProperty(itemObject,"masculinity")){if(itemObject.masculinity>0){$descitemenum1
.append($('<span>',{'class':'inv-desc-item-enum-group'}).append($('<span>',{'class':'fas fa-arrow-circle-up inv-desc-item-enum-symbol','style':'color:#2196F3'})).append($('<span>',{'class':'inv-desc-item-enum-value'}).text(itemObject.masculinity))).append($('<span/>',{'class':'inv-desc-item-enum-text'}).text(" Masculinity"))}}
let $descitemenum2=$('<div>',{"class":'inv-desc-item-enum',"id":"modifiers"});if(UInv.isProperty(itemObject,"feminity")){if(itemObject.feminity>0){$descitemenum2.append($('<span>',{'class':'inv-desc-item-enum-group'}).append($('<span>',{'class':'fas fa-arrow-circle-up inv-desc-item-enum-symbol','style':'color:#e91e63'})).append($('<span>',{'class':'inv-desc-item-enum-value'}).text(itemObject.feminity))).append($('<span>',{'class':'inv-desc-item-enum-text'}).text(" Feminity"))}}
$descitem2.append($descitemenum1).append($descitemenum2);let $descitem3=$('<div>',{"class":'inv-desc-item',"id":"price"});if(UInv.isProperty(itemObject,"cost")){$descitem3.append($('<span>',{'class':'fas fa-dollar-sign','style':'font-size:1.3em;color:var(--theme-money-color);font-weight:bold;'})).append($('<span>',{'style':'font-size:1.3em;color:white;font-weight:bold;font-family:Roboto;'}).text(itemObject.cost))}
$desc.append($descitem1).append($descitem2).append($descitem3)}else{let $descitem=$('<div>',{"class":'inv-desc-item',});$descitem.text(setup.captureAndTranslate(bagFormalName)+": "+setup.captureAndTranslate("aucun"));$desc.append($descitem)}
$item.append($desc);return $item};setup.printClothes=function(){let bagList=setup.clothingNameList;let $zone=$('<div>',{"class":'inv-zone'}).append($('<div>',{"class":"inv-title"}).text(setup.captureAndTranslate("Ta tenue")));for(let bag of bagList){$zone.append(setup.printClothing(bag[1],bag[0]))}
return $zone};setup.updateInventoryZone=function(){let bagList=setup.clothingNameList;let $zone=$(".inv-zone");if($zone.length==0){return}
$zone.empty().append($('<div>',{"class":"inv-title"}).text(setup.captureAndTranslate("Ta tenue")));for(let bag of bagList){$zone.append(setup.printClothing(bag[1],bag[0]))}
UInv.UpdateDisplay()}
Macro.add('printClothes',{handler:function(){let $invzone=setup.printClothes();$invzone.appendTo(this.output)}});setup.printBag=function(bagName,sizeX,sizeY,cssname){setup.getBagGraphic(this.args[0],this.args[1],this.args[2],this.args[3]).appendTo(this.output)};Macro.add('printBag',{handler:function(){let $el=setup.getBagGraphic(this.args[0],this.args[1],this.args[2],this.args[3]);$el.appendTo(this.output)}});setup.evex={"mc":{},"gf":{},"sm":{},"ss":{"1":[[["ss",2],1],],"2":[[["ss",1],1],],"3":[[["ss",4],2],],"4":[[["ss",3],2],]},"b":{"5":[[["bf",6],1],],"6":[[["bf",5],1],]},"bf":{},"place":{},"porn":{},"blackedTitle":{},"whitedTitle":{},"dream":{},"bus":{},"bank":{},massage:{},city:{},"sdf":{"1":[[["sdf",2],1]],"2":[[["sdf",1],1]]}};setup.notifications={"mc":{"1":["Une attirance inattendue",1]},"gf":{2:["Mimi-Geignarde",1],3:["Une certaine fierté",1],4:["Ses seins m'appartiennent",1],5:["L'appel de la douceur",1],6:["Deux doigts mouillés",1],8:["Le plaisir dans ses yeux",1],9:["Premier échec...",1]},"sm":{"1":["Le fruit défendu",1],"3":["Robin des bois",1]},"ss":{"1":["Les vapeurs chaudes",1],"2":["Apprenti stoïcien (ou frigide)",1],"3":["Le choix du pacifisme",2],"4":["Le choix du conflit",2],"6":["Tacticien 1",1],"7":["Par le petit trou",1]},"b":{"2":["Bienvenue cher Client",1],"3":["Un client fidèle",5],"4":["Les beautés du nord",5],"5":["Les beautés du sud",5],"7":["Une lente prise de conscience",1],"8":["Le réveil de la force",1],"14":["La petite main de $nameb",1],"17":["La quête du vieux Palmer",1]},"bf":{"2":["Une curiosité mal placée",1],"3":["Voir les choses en grand",1],"4":["Un pote de branle",1],"5":["Une amitié qui dérape",1],"6":["Je ne mange pas de ce pain là",1]},"place":{"1":["Maison de $namebf",1],"2":["$city.nightclub.name",1],"3":["$city.massage.name",1],"4":["$city.bank.name",1],"5":["$city.park.name",1],"6":["$city.sdf.name",1]},"porn":{"0":["Softporn",1],"1":["Blowjob",1],"2":["Deepthroat",1],"3":["Hardporn",1],"4":["$namegf's Porn",1]},"blackedTitle":{4:["Loser White Boy",1],3:["Black Cock Curious",1],2:["Black Cock Lover",1],1:["BBC Addict",1],0:["BNWO Adept",1],},"whitedTitle":{10:["White Master",1],9:["White Alpha",1],8:["Strong White Male",1],7:["Confident White Men",1],6:["White Boy",1],},"dream":{},"bus":{5:["Rockstar Girl",1],},"bank":{"1":["Mon premier compte en banque",1]},"massage":{"2":["Mon premier massage",1]},"city":{},"sdf":{"1":["Menacer Palmer",1],"2":["S'accorder avec Palmer",1],}};Macro.add('pushevent',{handler:function(){let type=this.args[0];let num=this.args[1];let events=State.__getUpperName__.events;if(num in events[type]){if(events[type][num]!=-1){events[type][num]+=1}}else{events[type][num]=1}
if(type in setup.evex&&num in setup.evex[type]){for(let i=0;i<setup.evex[type][num].length;i++){let excludeType=setup.evex[type][num][i][0][0];let excludeNum=setup.evex[type][num][i][0][1];let maxValueToExclude=setup.evex[type][num][i][1];if(events[excludeType][excludeNum]<maxValueToExclude){events[excludeType][excludeNum]=-1}}}
let notif=setup.notifications;if(type in notif&&num in notif[type]&&notif[type][num][1]==events[type][num]){State.__getUpperName__.notif_queue.push(notif[type][num][0]);if(type=="porn"){new Wikifier(null,"<<notify 8 porn-notif>>")}else if(type=="place"){new Wikifier(null,"<<notify 8 local-notif>>")}else if(type=="blackedTitle"){new Wikifier(null,"<<notify 8 blacked-notif>>")}else if(type=="whitedTitle"){new Wikifier(null,"<<notify 8 whited-notif>>")}else{new Wikifier(null,"<<notify 8 happy-notif>>")}}}});Macro.add('endevent',{handler:function(){console.log("endevent");let type=this.args[0];let num=this.args[1];let minValue=this.args[2];let events=State.__getUpperName__.events;if(typeof events[type][num]=='undefined'||events[type][num]<minValue){events[type][num]=-1}}});setup.registerFragment=function(type,scene,value){let fragments=State.__getUpperName__.player.fragment;if(!(type in fragments)){fragments[type]={}}
if(!(scene in fragments[type])){fragments[type][scene]=[]}
for(let fragment of fragments[type][scene]){if(value[1]==fragment[1]){return!1}}
let feedbackMessage=setup.captureAndTranslate("Vous avez découvert un nouveau fragment");let feedbackStyle="fragment";let feedbackSize="big";fragments[type][scene].push(value);setup.addCustomFeedback(feedbackMessage,feedbackStyle,feedbackSize,"fas fa-star","1.3em","#764900");return!0};setup.getRandomfragment=function(type,scene){let fragments=State.__getUpperName__.player.fragment;let randomScene;if(typeof scene=='undefined'){let keys=Object.keys(fragments[type]);randomScene=fragments[type][keys[keys.length*Math.random()<<0]]}else{randomScene=fragments[type][scene]}
return randomScene[Math.floor(Math.random()*randomScene.length)]};setup.getFragmentSize=function(type,scene){let fragments=State.__getUpperName__.player.fragment;if(!(type in fragments)){return 0}
if(typeof scene=='undefined'){let size=0;for(let s in fragments[type]){size+=fragments[type][s].length}
return size}else{if(!(scene in fragments[type])){return 0}
return fragments[type][scene].length}};setup.setUIFranc=function(){$("#uibar-franc").text(State.__getUpperName__.player.franc)};setup.canBuy=function(value){return(State.__getUpperName__.player.franc>=value)};setup.getFranc=function(){return(State.__getUpperName__.player.franc)};setup.francChange=function(change){let current=State.__getUpperName__.player.franc;let isOK=!0;current=current+change;if(current<0){current=0;isOK=!1}
State.__getUpperName__.player.franc=current;setup.setUIFranc()};Macro.add('franc',{handler:function(){let change=this.args[0];setup.francChange(change);var audio=new Audio('data/default/money2.mp3');audio.play();let feedbackSize;let feedbackMessage;let feedbackStyle;if(change>=0){feedbackMessage=setup.captureAndTranslate("Tu as gagné")+" "+change+"$";feedbackStyle="money"}else{feedbackMessage=setup.captureAndTranslate("Tu as perdu")+" "+change+"$";feedbackStyle="bad"}
if(change<=20&&change>=-20){feedbackSize="small"}else if(change<=100&&change>=-100){feedbackSize="medium"}else{feedbackSize="big"}
setup.addCustomFeedback(feedbackMessage,feedbackStyle,feedbackSize,"fas fa-dollar-sign","1.2em","white")}});Macro.add('gryffondor',{handler:function(){State.__getUpperName__.person.mc.gryffondor+=this.args[0]}});Macro.add('printHistory',{handler:function(){let $historyzone=$('<div>',{"class":'history-zone'});for(let itemLoop in State.__getUpperName__.player.history){let item=State.__getUpperName__.player.history[itemLoop];if(typeof State.__getUpperName__.player.history[itemLoop].date=='number'){continue}
let month=State.__getUpperName__.englishMonthName[State.__getUpperName__.player.history[itemLoop].date.getMonth()];let year=State.__getUpperName__.player.history[itemLoop].date.getFullYear();let day=State.__getUpperName__.player.history[itemLoop].date.getDate();let $historyitem=$('<div>',{"class":'history-item'});let $historyitemdesc=$('<span>',{"class":'history-item-desc'}).append(item.description+": ");let $historyitemdate=$('<span>',{"class":'history-item-date'}).append(month+" "+day+", "+year);$historyitem.append($historyitemdesc).append($historyitemdate).appendTo($historyzone)}
$historyzone.appendTo(this.output)}});Macro.add('History',{handler:function(){State.__getUpperName__.person.mc.gryffondor+=this.args[0]}});setup.registerHistory=function(name,desc,cible){if(!(name in State.__getUpperName__.player.history)){State.__getUpperName__.player.history[name]={};State.__getUpperName__.player.history[name].counter=0;State.__getUpperName__.player.history[name].description=desc;State.__getUpperName__.player.history[name].date=State.__getUpperName__.date;if(typeof cible!='undefined'){State.__getUpperName__.player.history[name].cible=cible}}
State.__getUpperName__.player.history[name].counter++};Macro.add('ejac',{handler:function(){let name="ejac";let description="Nombre de fois où vous avez éjaculé";let cible="";if(this.args.length>0){cible=this.args[0]}
setup.registerHistory(name,description,cible)}});Macro.add('porn',{handler:function(){let name="porn";let description="Nombre de porno regardé";let cible="";if(this.args.length>0){cible=this.args[0]}
setup.registerHistory(name,description,cible)}});Macro.add('crasseux',{handler:function(){let name="crasseux";let description="Nombre de personne enfumé";let cible="";if(this.args.length>0){cible=this.args[0]}
setup.registerHistory(name,description,cible)}});Macro.add('jouir',{handler:function(){let name="jouir";let description="Nombre de fille que vous avez fait jouir";let cible="";if(this.args.length>0){cible=this.args[0]}
setup.registerHistory(name,description,cible)}});$(document.body).append("<div id='notify'></div>");$(document).on(':notify',function(e){processNotification(e)});function processNotification(e){if(State.__getUpperName__.engine.flags.isNotifActive){setTimeout(function(n){processNotification(e)},800);return}else{State.__getUpperName__.engine.flags.isNotifActive=!0}
if(settings.soundNotification){SugarCube.SimpleAudio.select("notification_base").play()}
if(e.message&&typeof e.message==='string'){e.message.trim();var complete_class="";if(e.class){if(typeof e.class==='string'){complete_class='open macro-notify '+e.class}else if(Array.isArray(e.class)){complete_class='open macro-notify '+e.class.join(' ')}else{complete_class='open macro-notify'}}else{complete_class='open macro-notify'}
if(e.delay){if(typeof e.delay!=='number'){e.delay=Number(e.delay)}
if(Number.isNaN(e.delay)){e.delay=5000}else{e.delay*=1000}}else{e.delay=5000}
var $guesser=$(document.createElement('span'));$guesser.attr('id','notif-circle').wiki('&nbsp;');if(e.class=='whited-notif'||e.class=='blacked-notif'){var $indicator=$(document.createElement('div'));$indicator.attr('id','notif-indicator')}else{var $indicator=$(document.createElement('div'));$indicator.attr('id','notif-indicator').append($guesser)}
if(e.class=='local-notif'){$indicator.addClass("fas fa-map-marker-alt fa-4x")}else if(e.class=='happy-notif'){$indicator.addClass("fas fa-star fa-4x")}else if(e.class=='porn-notif'){$indicator.addClass("fas fa-grin-hearts fa-4x")}else if(e.class=='blacked-notif'){$indicator.addClass("fas fa-yin-yang fa-5x")}else if(e.class=='whited-notif'){$indicator.addClass("fas fa-yin-yang fa-5x")}else{console.log("Aucune classe n'a été trouvé pour gérer: "+e.class)}
var $message_top="";if(e.class=='local-notif'){$message_top="Bravo ! Tu as découvert un nouveau lieu !"}else if(e.class=='happy-notif'){$message_top="Bravo ! Tu as réussi un nouvel accomplissement !"}else if(e.class=='porn-notif'){$message_top="Bravo ! Tu as trouvé un nouveau porno !"}else if(e.class=='blacked-notif'){$message_top="Votre état d'esprit a évolué !"}else if(e.class=='whited-notif'){$message_top="Votre état d'esprit a évolué !"}else{console.log("Aucune classe n'a été trouvé pour gérer: "+e.class)}
var $message_top=setup.captureAndTranslate($message_top);var $message_bottom=setup.captureAndTranslate(e.message);var $message_one=$(document.createElement('div'));$message_one.attr("id","notif-message-one").wiki($message_top);var $message_two=$(document.createElement('div'));$message_two.attr("id","notif-message-two").wiki($message_bottom);var $message=$(document.createElement('div'));$message.attr('id','notif-message').append($message_one).append($message_two);$('#notify').empty().append($indicator).append($message).addClass(complete_class);setTimeout(function(){$('#notify').removeClass("open macro-notify")},e.delay);setTimeout(function(){$('#notify').removeClass(e.class)},e.delay+1000);setTimeout(function(){SugarCube.State.__getUpperName__.engine.flags.isNotifActive=!1},e.delay+1000)}};Macro.add('notify',{handler:function(){let time=!1;let classes=!1;let i;let message=State.__getUpperName__.notif_queue[State.__getUpperName__.notif_num];State.__getUpperName__.notif_num+=1;if(this.args.length>0){if(typeof this.args[0]==='number'){time=this.args[0];classes=(this.args.length>1)?this.args.slice(1).flatten():!1}else{classes=this.args.flatten().join(' ')}}
$(document).trigger({type:':notify',message:message,delay:time,class:classes})}});$(document.body).append("<div class='night-stars'></div><div class='night-twinkling'></div><div class='background'></div>");setup.setUIBackground=function(noChange){if(!noChange){let bodyTag=document.getElementsByTagName("body")[0];if(setup.isNight()){bodyTag.setAttribute("data-theme","night");document.body.style.color="";document.body.style.backgroundColor="";$(".background").css("background-color","var(--global-bg-color)");$(".background").fadeTo(1000,0.5)}else{bodyTag.setAttribute("data-theme","day");$(".background").css("background-color","var(--global-bg-color)");if($(".night-stars").length>0){$(".background").fadeTo(1000,1)}}}}
setup.setUIPeriod=function(encule){var new_period=State.__getUpperName__.engine.time.period;var new_instant=State.__getUpperName__.engine.time.instant;let el=document.getElementsByClassName("cycle");if(el.length==0){return}
for(let i=0;i<el.length;i++){el[i].classList.remove("selected")}
if(new_period==0){document.getElementById('cycle-morning').classList.add('selected');if(new_instant>0){document.getElementsByClassName('one')[0].classList.add('selected')}
if(new_instant>1){document.getElementsByClassName('two')[0].classList.add('selected')}}else if(new_period==1){document.getElementById('cycle-morning').classList.add('selected');document.getElementsByClassName('one')[0].classList.add('selected');document.getElementsByClassName('two')[0].classList.add('selected');document.getElementById('cycle-afternoon').classList.add('selected');if(new_instant>0){document.getElementsByClassName('three')[0].classList.add('selected')}
if(new_instant>1){document.getElementsByClassName('three')[0].classList.add('selected');document.getElementsByClassName('four')[0].classList.add('selected')}}else{document.getElementById('cycle-morning').classList.add('selected');document.getElementsByClassName('one')[0].classList.add('selected');document.getElementsByClassName('two')[0].classList.add('selected');document.getElementById('cycle-afternoon').classList.add('selected');document.getElementsByClassName('three')[0].classList.add('selected');document.getElementsByClassName('four')[0].classList.add('selected');document.getElementById('cycle-evening').classList.add('selected')}};Macro.add('nextInstant',{handler:function(){var cur_instant=State.__getUpperName__.engine.time.instant;var cur_period=State.__getUpperName__.engine.time.period;var new_instant=cur_instant+1;State.__getUpperName__.engine.time.instant=new_instant;if(cur_period==2){State.__getUpperName__.engine.time.period=0;State.__getUpperName__.engine.time.instant=0;setup.setUIBackground()}else if(new_instant==3){State.__getUpperName__.engine.time.period=(cur_period+1)%3;State.__getUpperName__.engine.time.instant=0;if(State.__getUpperName__.engine.time.period==0||State.__getUpperName__.engine.time.period==2){setup.setUIBackground()}}
setup.setUIPeriod();setup.setUIBackground(!0)}});Macro.add('nextPeriod',{handler:function(){var cur_period=State.__getUpperName__.engine.time.period;var new_period=(cur_period+1)%3;State.__getUpperName__.engine.time.period=new_period;State.__getUpperName__.engine.time.instant=0;setup.setUIPeriod();setup.setUIBackground()}});Macro.add('playerRace',{handler:function(){$(this.output).append(setup.captureAndTranslate(setup.type.race[State.__getUpperName__.player.identity.race]))}});Macro.add('playerGender',{handler:function(){$(this.output).append(setup.captureAndTranslate(setup.type.gender[State.__getUpperName__.player.identity.gender]))}});Macro.add('playerSexuality',{handler:function(){$(this.output).append(setup.captureAndTranslate(setup.type.sexuality[State.__getUpperName__.player.identity.sexuality]))}});Macro.add('playerHairColor',{handler:function(){$(this.output).append(setup.captureAndTranslate(setup.type.colors.fem[State.__getUpperName__.player.hair.color]))}});Macro.add('playerHairType',{handler:function(){$(this.output).append(setup.captureAndTranslate(setup.type.hair.type[State.__getUpperName__.player.hair.type]))}});Macro.add('playerEyesColor',{handler:function(){$(this.output).append(setup.captureAndTranslate(setup.type.colors.fem[State.__getUpperName__.player.face.eyes.color]))}});Macro.add('playerSexType',{handler:function(){$(this.output).append(setup.captureAndTranslate(setup.type.sex.type[State.__getUpperName__.player.body.sex.type]))}});Macro.add('playerSexHair',{handler:function(){$(this.output).append(setup.captureAndTranslate(setup.type.sex.hair[State.__getUpperName__.player.body.sex.hair]))}});Macro.add('playerSexSize',{handler:function(){let sexType=State.__getUpperName__.player.body.sex.type;let sexSize=State.__getUpperName__.player.body.sex.size;if(sexType==0){$(this.output).append(setup.captureAndTranslate(setup.type.sex.dick.size[sexSize]))}else{$(this.output).append(setup.captureAndTranslate(setup.type.sex.pussy.size[sexSize]))}}});Macro.add('playerSexSizeBefore',{handler:function(){let sexType=State.__getUpperName__.player.body.sex.type;let sexSize=State.__getUpperName__.player.body.sex.size;if(sexType==0){$(this.output).append(setup.captureAndTranslate(setup.type.sex.dick.size[sexSize]))}else{$(this.output).append(setup.captureAndTranslate(setup.type.sex.pussy.size[sexSize]))}}});Macro.add('playerBoobsSize',{handler:function(){$(this.output).append(setup.captureAndTranslate(setup.type.boobs.size[State.__getUpperName__.player.body.boobs.size]))}});Macro.add('playerBoobsShape',{handler:function(){$(this.output).append(setup.captureAndTranslate(setup.type.boobs.shape[State.__getUpperName__.player.body.boobs.shape]))}});Macro.add('playerTatoos',{handler:function(){if(State.__getUpperName__.player.tatoos.length==0){$(this.output).wiki("<<a>>"+setup.captureAndTranslate("Tu n'as pas de tatouage.")+"<</a>>")}else{for(let tatoo in State.__getUpperName__.player.tatoos){}}}});Macro.add('playerPiercings',{handler:function(){if(State.__getUpperName__.player.piercings.length==0){$(this.output).wiki("<<a>>"+setup.captureAndTranslate("Tu n'as pas de piercing.")+"<</a>>")}else{for(let tatoo in State.__getUpperName__.player.piercings){}}}});Macro.add('playerBodyShape',{handler:function(){$(this.output).append(setup.captureAndTranslate(setup.type.shape[State.__getUpperName__.player.body.shape]))}});setup.setUIMental=function(){let size=50+(State.__getUpperName__.player.mental.blackedPoint-State.__getUpperName__.player.mental.whitedPoint)/2;let b=document.getElementById('depravation-bar');if(b===null){return}
b.style.width=size+"%";let blackedlevel=State.__getUpperName__.player.mental.blackedLevel;let whitedLevel=State.__getUpperName__.player.mental.whitedLevel;let i=1;for(;i<=blackedlevel;i++){let $el=$("#ms"+i);$el.removeClass('fas');$el.addClass('far')}
for(;i<=9;i++){let $el=$("#ms"+i);$el.removeClass('far');$el.addClass('fas')}
$("#depravation-text").text(State.__getUpperName__.player.mental.title)};let changeMental=function(){var blacked=State.__getUpperName__.player.mental.blackedPoint;var whited=State.__getUpperName__.player.mental.whitedPoint;var balance=blacked-whited;var levelUp=!1;if(balance>100){if(State.__getUpperName__.player.mental.blackedLevel>=9){State.__getUpperName__.player.mental.blackedPoint=100;State.__getUpperName__.player.mental.whitedPoint=0}else{State.__getUpperName__.player.mental.blackedLevel++;State.__getUpperName__.player.mental.whitedLevel--;State.__getUpperName__.player.mental.blackedPoint=balance-100;State.__getUpperName__.player.mental.whitedPoint=100;levelUp=!0}}else if(balance<-100){if(State.__getUpperName__.player.mental.whitedLevel>=9){State.__getUpperName__.player.mental.whitedPoint=100;State.__getUpperName__.player.mental.blackedPoint=0}else{State.__getUpperName__.player.mental.whitedLevel++;State.__getUpperName__.player.mental.blackedLevel--;State.__getUpperName__.player.mental.whitedPoint=(-balance)-100;State.__getUpperName__.player.mental.blackedPoint=100;levelUp=!0}}
if(levelUp){let mentalStatus=State.__getUpperName__.player.mental.whitedLevel;if(mentalStatus>=10){State.__getUpperName__.player.mental.title="White Master"}else if(mentalStatus==9){State.__getUpperName__.player.mental.title="White Alpha"}else if(mentalStatus==8){State.__getUpperName__.player.mental.title="Strong White Male"}else if(mentalStatus==7){State.__getUpperName__.player.mental.title="Confident White Men"}else if(mentalStatus==6){State.__getUpperName__.player.mental.title="White Boy"}else if(mentalStatus==5){State.__getUpperName__.player.mental.title="Weak White Boy"}else if(mentalStatus==4){State.__getUpperName__.player.mental.title="Loser White Boy"}else if(mentalStatus==3){State.__getUpperName__.player.mental.title="Black Cock Curious"}else if(mentalStatus==2){State.__getUpperName__.player.mental.title="Black Cock Lover"}else if(mentalStatus==1){State.__getUpperName__.player.mental.title="BBC Addict"}else if(mentalStatus==0){State.__getUpperName__.player.mental.title="BNWO Adept"}
if(mentalStatus>=6){new Wikifier(null,'<<pushevent whitedTitle '+mentalStatus+'>>')}else{new Wikifier(null,'<<pushevent blackedTitle '+mentalStatus+'>>')}}
setup.setUIMental()};Macro.add('blacked',{handler:function(){var change=this.args[0];State.__getUpperName__.player.mental.totalEarnedBlackedPoint+=change;State.__getUpperName__.player.mental.blackedPoint+=change;changeMental();let feedbackSize;let feedbackMessage;let feedbackStyle;feedbackStyle="blacked";if(change<5){feedbackMessage=setup.captureAndTranslate("Tu es un peu plus ouvert aux autres.")+" (Blacked Point+)";feedbackSize="small"}else if(change<10){feedbackMessage=setup.captureAndTranslate("Tu es plus ouvert aux autres.")+" (Blacked Point++)";feedbackSize="medium"}else{feedbackMessage=setup.captureAndTranslate("Tu es beaucoup plus ouvert aux autres.")+" (Blacked Point+++)";feedbackSize="big"}
setup.addCustomFeedback(feedbackMessage,feedbackStyle,feedbackSize,"fas fa-arrow-circle-up","1.5em","white")}});Macro.add('humiliation',{handler:function(){var change=this.args[0];State.__getUpperName__.player.mental.totalEarnedBlackedPoint+=change;State.__getUpperName__.player.mental.blackedPoint+=change;changeMental();let feedbackSize;let feedbackMessage;let feedbackStyle;feedbackStyle="blacked";if(change<5){feedbackMessage=setup.captureAndTranslate("Tu te sens un peu humilié.")+" (Blacked Point+)";feedbackSize="small"}else if(change<10){feedbackMessage=setup.captureAndTranslate("Tu te sens humilié.")+" (Blacked Point++)";feedbackSize="medium"}else{feedbackMessage=setup.captureAndTranslate("Tu te sens très humilié.")+" (Blacked Point+++)";feedbackSize="big"}
setup.addCustomFeedback(feedbackMessage,feedbackStyle,feedbackSize,"fas fa-arrow-circle-up","1.5em","white")}});Macro.add('obeissant',{handler:function(){var change=this.args[0];State.__getUpperName__.player.mental.totalEarnedBlackedPoint+=change;State.__getUpperName__.player.mental.blackedPoint+=change;changeMental();let feedbackSize;let feedbackMessage;let feedbackStyle;feedbackStyle="blacked";if(change<5){feedbackMessage=setup.captureAndTranslate("Tu es un peu plus obéissant.")+" (Blacked Point+)";feedbackSize="small"}else if(change<10){feedbackMessage=setup.captureAndTranslate("Tu es plus obéissant.")+" (Blacked Point++)";feedbackSize="medium"}else{feedbackMessage=setup.captureAndTranslate("Tu es beaucoup plus obéissant.")+" (Blacked Point+++)";feedbackSize="big"}
setup.addCustomFeedback(feedbackMessage,feedbackStyle,feedbackSize,"fas fa-arrow-circle-up","1.5em","white")}});Macro.add('whited',{handler:function(){var change=this.args[0];State.__getUpperName__.player.mental.totalEarnedWhitedPoint+=change;State.__getUpperName__.player.mental.whitedPoint+=change;changeMental();let feedbackSize;let feedbackMessage;let feedbackStyle;feedbackStyle="whited";if(change<5){feedbackMessage=setup.captureAndTranslate("Tu as un peu plus confiance en toi.")+" (Whited Point+)";feedbackSize="small"}else if(change<10){feedbackMessage=setup.captureAndTranslate("Tu as plus confiance en toi.")+" (Whited Point++)";feedbackSize="medium"}else{feedbackMessage=setup.captureAndTranslate("Tu as beaucoup plus confiance en toi.")+" (Whited Point+++)";feedbackSize="big"}
setup.addCustomFeedback(feedbackMessage,feedbackStyle,feedbackSize,"fas fa-arrow-circle-up","1.5em","black")}});Macro.add('courage',{handler:function(){var change=this.args[0];State.__getUpperName__.player.mental.totalEarnedWhitedPoint+=change;State.__getUpperName__.player.mental.whitedPoint+=change;changeMental();let feedbackSize;let feedbackMessage;let feedbackStyle;feedbackStyle="whited";if(change<5){feedbackMessage=setup.captureAndTranslate("Tu fais preuve d'un peu de courage")+" (Whited Point+)";feedbackSize="small"}else if(change<10){feedbackMessage=setup.captureAndTranslate("Tu fais preuve de courage")+" (Whited Point++)";feedbackSize="medium"}else{feedbackMessage=setup.captureAndTranslate("Tu fais preuve de beaucoup de courage")+" (Whited Point+++)";feedbackSize="big"}
setup.addCustomFeedback(feedbackMessage,feedbackStyle,feedbackSize,"fas fa-arrow-circle-up","1.5em","black")}});Macro.add('domination',{handler:function(){var change=this.args[0];State.__getUpperName__.player.mental.totalEarnedWhitedPoint+=change;State.__getUpperName__.player.mental.whitedPoint+=change;changeMental();let feedbackSize;let feedbackMessage;let feedbackStyle;feedbackStyle="whited";if(change<5){feedbackMessage=setup.captureAndTranslate("Tu te sens un peu plus dominant")+" (Whited Point+)";feedbackSize="small"}else if(change<10){feedbackMessage=setup.captureAndTranslate("Tu te sens plus dominant")+" (Whited Point++)";feedbackSize="medium"}else{feedbackMessage=setup.captureAndTranslate("Tu te sens beaucoup plus dominant")+" (Whited Point+++)";feedbackSize="big"}
setup.addCustomFeedback(feedbackMessage,feedbackStyle,feedbackSize,"fas fa-arrow-circle-up","1.5em","black")}});Macro.add('rebellion',{handler:function(){var change=this.args[0];State.__getUpperName__.player.mental.totalEarnedBlackedPoint+=change;State.__getUpperName__.player.mental.blackedPoint+=change;changeMental();let feedbackSize;let feedbackMessage;let feedbackStyle;feedbackStyle="blacked";if(change<5){feedbackMessage=setup.captureAndTranslate("Tu es un peu plus rebelle.")+" (Blacked Point+)";feedbackSize="small"}else if(change<10){feedbackMessage=setup.captureAndTranslate("Tu es plus rebelle.")+" (Blacked Point++)";feedbackSize="medium"}else{feedbackMessage=setup.captureAndTranslate("Tu es beaucoup plus rebelle.")+" (Blacked Point+++)";feedbackSize="big"}
setup.addCustomFeedback(feedbackMessage,feedbackStyle,feedbackSize,"fas fa-arrow-circle-up","1.5em","white")}});setup.setUIExcitation=function(){let b=document.getElementById('excitation-bar');if(b===null){return}
b.style.width=State.__getUpperName__.player.excitation+"%"};Macro.add('excitation',{handler:function(){let change=this.args[0];let newExcitation=State.__getUpperName__.player.excitation+=change;if(newExcitation<0){newExcitation=0}else if(newExcitation>100){newExcitation=100}
if(newExcitation>=60&&!('excitation' in State.__getUpperName__.player.buffs)){setup.increaseBuff("excitation")}else if(newExcitation<60){setup.removeBuff("excitation")}
State.__getUpperName__.player.excitation=newExcitation;setTimeout(setup.setUIExcitation,100);let feedbackSize;let feedbackMessage;let feedbackStyle;feedbackStyle="excitation";if(change>0){feedbackMessage="+"+change+" EXCITATION"}else{feedbackMessage=change+" EXCITATION"}
if(change<-50){feedbackSize="big"}else if(change<-20){feedbackSize="medium"}else if(change<=5){feedbackSize="small"}else if(change<=20){feedbackSize="medium"}else{feedbackSize="big"}
setup.addCustomFeedback(feedbackMessage,feedbackStyle,feedbackSize,"fas fa-grin-hearts","1.5em","var(--theme-feminity-color)")}});Macro.add('stink',{handler:function(){let change=this.args[0];if(change=='wash'){State.__getUpperName__.player.status.stink=0;setup.removeBuff("stink")}else{let newStink=State.__getUpperName__.player.status.stink+=change;if(newStink<0){newStink=0}
if(newStink>=3&&!setup.isBuff('stink')){setup.increaseBuff("stink")}
State.__getUpperName__.player.status.stink=newStink}}});Macro.add('show',{handler:function(){for(var i=0;i<this.args.length;i++){$('#'+this.args[i]).show();setup.playDisplayedVideo(this.args[i])}}});Macro.add('unshow',{handler:function(){for(var i=0;i<this.args.length;i++){$('#'+this.args[i]).hide();setup.pauseVideosById(this.args[i])}}});Macro.add('show2',{handler:function(){var script=$(document.createElement('script'));for(var i=0;i<this.args.length;i++){script.append("$('#"+this.args[i]+"').show();")
setup.playDisplayedVideo(this.args[i])}
script.appendTo(this.output)}});Macro.add('unshow2',{handler:function(){var script=$(document.createElement('script'));for(var i=0;i<this.args.length;i++){script.append("$('#"+this.args[i]+"').hide();")
setup.pauseVideosById(this.args[i])}
script.appendTo(this.output)}});function dynamicShow(el,duration){if(State.__getUpperName__.engine.flags.dynamicAnimation){setTimeout(function(n){dynamicShow(el,duration)},50);return}else{if(el.length){State.__getUpperName__.engine.flags.dynamicAnimation=!0}else{return}}
for(let i=0;i<el.length;i++){let test=el[i];$("#"+el[i]).css({position:'relative',left:"50em",opacity:0});$("#"+el[i]).show();setup.playDisplayedVideo(el[i]);if(i==el.length-1){if($("#"+el[i]).length==0){setTimeout(function(n){State.__getUpperName__.engine.flags.dynamicAnimation=!1},duration);return}
$("#"+el[i]).animate({opacity:1,left:0},duration,function(){State.__getUpperName__.engine.flags.dynamicAnimation=!1})}else{$("#"+el[i]).animate({opacity:1,left:0},duration,function(){})}}};Macro.add('dynamicshow',{handler:function(){dynamicShow(this.args,200)}});function dynamicUnshow(el,duration){if(State.__getUpperName__.engine.flags.dynamicAnimation){setTimeout(function(n){dynamicUnshow(el,duration)},5);return}else{if(el.length){State.__getUpperName__.engine.flags.dynamicAnimation=!0}else{return}}
for(let i=0;i<el.length;i++){let test=el[i];$("#"+el[i]).css({position:'relative'});if(i==el.length-1){if($("#"+el[i]).length==0){setTimeout(function(n){State.__getUpperName__.engine.flags.dynamicAnimation=!1},duration);return}
$("#"+el[i]).animate({opacity:0,left:"-50em"},duration,function(){$("#"+test).css({display:'none'});setup.pauseVideosById(test);State.__getUpperName__.engine.flags.dynamicAnimation=!1})}else{$("#"+el[i]).animate({opacity:0,left:"-50em"},duration,function(){$("#"+test).css({display:'none'})})}}};Macro.add('dynamicunshow',{handler:function(){dynamicUnshow(this.args,200)}});Macro.add('dunshow','dynamicunshow');Macro.add('dshow','dynamicshow');Macro.add('deleteElementById',{handler:function(){var script=$(document.createElement('script'));for(var i=0;i<this.args.length;i++){script.append("$('#"+this.args[i]+"').remove();")}
script.appendTo(this.output)}});setup.skillFeedbackBuild=function(skill,change){let feedbackSize;let feedbackMessage;let feedbackStyle;feedbackStyle="work";feedbackMessage="+"+change+"XP "+setup.captureAndTranslate(skill).toUpperCase();feedbackSize="small";setup.addCustomFeedback(feedbackMessage,feedbackStyle,feedbackSize,"fas fa-caret-square-up","1.5em","white")}
setup.skillUpFeedbackBuild=function(skill,change){let feedbackSize;let feedbackMessage;let feedbackStyle;feedbackStyle="work";feedbackMessage="Level Up! "+setup.captureAndTranslate(skill)+"++ ("+change+")";feedbackSize="big";setup.addCustomFeedback(feedbackMessage,feedbackStyle,feedbackSize,"fas fa-caret-square-up","1.5em","white")}
setup.skillDownFeedbackBuild=function(skill,change){let feedbackSize;let feedbackMessage;let feedbackStyle;feedbackStyle="bad";feedbackMessage="Level Down! "+setup.captureAndTranslate(skill)+"++ ("+change+")";feedbackSize="big";setup.addCustomFeedback(feedbackMessage,feedbackStyle,feedbackSize,"fas fa-caret-square-up","1.5em","white")}
Macro.add('skill',{handler:function(){var skill=this.args[0],change=this.args[1];let mult=100;State.__getUpperName__.player.skills[skill].xp+=change;State.__getUpperName__.player.skills[skill].xpTotal+=change;setup.skillFeedbackBuild(skill,change);let xp=State.__getUpperName__.player.skills[skill].xp;let level=State.__getUpperName__.player.skills[skill].level;if(xp>=(level+1)*mult){State.__getUpperName__.player.skills[skill].level++;State.__getUpperName__.player.skills[skill].xp=xp-(level+1)*mult;setup.skillUpFeedbackBuild(skill,level+1)}
if(xp<=0){if(level>0){State.__getUpperName__.player.skills[skill].level--;State.__getUpperName__.player.skills[skill].xp=xp+(level)*mult;setup.skillDownFeedbackBuild(skill,level-1)}else{State.__getUpperName__.player.skills[skill].xp=0}}}});setup.handleCharacterStatus=function(cible,change,statusName,maxStatusValue,maxActionValue,minStatusValue,minActionValue,feedbackIcon,feedbackIconSize,feedbackIconColor,feedbackNegStyle){let cibleName=State.__getUpperName__.person[cible].name;let curValue=State.__getUpperName__.person[cible][statusName];let statusTranslation=setup.captureAndTranslate(statusName);let feedbackSize;let feedbackMessage;let feedbackStyle=statusName;if(!statusName in State.__getUpperName__.person[cible]){State.__getUpperName__.person[cible][statusName]=0;curValue=0}
if(change>=0&&curValue>=maxStatusValue){feedbackStyle="noeffect";feedbackMessage=cibleName+"'S "+statusTranslation.toUpperCase()+" "+setup.captureAndTranslate("est déjà à son maximum");setup.addCustomFeedback(feedbackMessage,feedbackStyle,"medium",feedbackIcon,feedbackIconSize,feedbackIconColor);return}
if(change<0&&curValue<=minStatusValue){feedbackStyle="noeffect";feedbackMessage=cibleName+"'S "+statusTranslation.toUpperCase()+" "+setup.captureAndTranslate("est déjà à son minimum");setup.addCustomFeedback(feedbackMessage,feedbackStyle,"medium",feedbackIcon,feedbackIconSize,feedbackIconColor);return}
if(change>=0&&curValue>=maxActionValue){feedbackStyle="noeffect";feedbackMessage=setup.captureAndTranslate("Cette action ne peut plus augmenter la")+" "+statusTranslation+" "+setup.captureAndTranslate("de")+" "+cibleName;setup.addCustomFeedback(feedbackMessage,feedbackStyle,"medium",feedbackIcon,feedbackIconSize,feedbackIconColor);return}
if(change<0&&curValue<=minActionValue){feedbackStyle="noeffect";feedbackMessage=setup.captureAndTranslate("Cette action ne peut plus baisser la")+" "+statusTranslation+" "+setup.captureAndTranslate("de")+" "+cibleName;setup.addCustomFeedback(feedbackMessage,feedbackStyle,"medium",feedbackIcon,feedbackIconSize,feedbackIconColor);return}
if(change>0){change=Math.min(change,maxStatusValue-curValue);change=Math.min(change,maxActionValue-curValue)}else{change=Math.min(change,curValue-minStatusValue);change=Math.min(change,curValue-minActionValue)}
let newValue=curValue+change;State.__getUpperName__.person[cible][statusName]=newValue;if(change<=2){feedbackSize="small"}else if(change<=5){feedbackSize="medium"}else{feedbackSize="big"}
if(change<0){if(typeof feedbackNegStyle=='undefined'){feedbackStyle="bad"}else{feedbackStyle=feedbackNegStyle}
feedbackMessage="<b>"+change+"</b> "+cibleName+"'S "+statusTranslation.toUpperCase()+" LEVEL"}else{feedbackMessage="<b>+"+change+"</b> "+cibleName+"'S "+statusTranslation.toUpperCase()+" LEVEL"}
setup.addCustomFeedback(feedbackMessage,feedbackStyle,feedbackSize,feedbackIcon,feedbackIconSize,feedbackIconColor)};Macro.add('corruption',{handler:function(){let cible=this.args[0];let change=this.args[1];let statusName="corruption";let maxStatusValue=200;let maxActionValue=maxStatusValue;let minStatusValue=0;let minActionValue=minStatusValue;if(this.args.length>2){if(change>=0){maxActionValue=this.args[2]}else{minActionValue=this.args[2]}}
let feedbackIcon="fab fa-gripfire";let feedbackIconSize="1.2em";let feedbackIconColor="var(--theme-feminity-color)";setup.handleCharacterStatus(cible,change,statusName,maxStatusValue,maxActionValue,minStatusValue,minActionValue,feedbackIcon,feedbackIconSize,feedbackIconColor)}});setup.getCorruption=function(name){return State.__getUpperName__.person[name].corruption}
Macro.add('frustration',{handler:function(){let cible=this.args[0];let change=this.args[1];let statusName="frustration";let maxStatusValue=200;let maxActionValue=maxStatusValue;let minStatusValue=0;let minActionValue=minStatusValue;if(this.args.length>2){if(change>0){maxActionValue=this.args[2]}else{minActionValue=this.args[2]}}
let feedbackIcon="fas fa-meh-rolling-eyes";let feedbackIconSize="1.2em";let feedbackIconColor="var(--theme-feminity-color)";setup.handleCharacterStatus(cible,change,statusName,maxStatusValue,maxActionValue,minStatusValue,minActionValue,feedbackIcon,feedbackIconSize,feedbackIconColor,"good")}});setup.getFrustration=function(name){return State.__getUpperName__.person[name].frustration}
Macro.add('excitation2',{handler:function(){let cible=this.args[0];let change=this.args[1];let statusName="excitation";let maxStatusValue=10;let maxActionValue=maxStatusValue;let minStatusValue=0;let minActionValue=minStatusValue;if(this.args.length>2){if(change>0){maxActionValue=this.args[2]}else{minActionValue=this.args[2]}}
let feedbackIcon="fas fa-grin-hearts";let feedbackIconSize="1.5em";let feedbackIconColor="var(--theme-feminity-color)";setup.handleCharacterStatus(cible,change,statusName,maxStatusValue,maxActionValue,minStatusValue,minActionValue,feedbackIcon,feedbackIconSize,feedbackIconColor)}});setup.getExcitation=function(name){if(typeof name=='undefined'||name=="mc"){return v.player.excitation}else{return State.__getUpperName__.person[name].excitation}}
setup.resetExcitation=function(name){State.__getUpperName__.person[name].excitation=0}
Macro.add('friendly',{handler:function(){var cible=this.args[0];var change=this.args[1];State.__getUpperName__.person[cible].friendPoint+=change;cible=State.__getUpperName__.person[cible].name;let feedbackSize;let feedbackMessage;let feedbackStyle;feedbackSize="small";if(change>0){feedbackMessage=cible+" "+setup.captureAndTranslate("t'apprécie un peu plus.")+" (FRIEND +"+change+")";feedbackStyle="friendly"}else{feedbackMessage=cible+" "+setup.captureAndTranslate("t'apprécie un peu moins.")+" (FRIEND "+change+")";feedbackStyle="friendly"}
setup.addCustomFeedback(feedbackMessage,feedbackStyle,feedbackSize,"fas fa-user-friends","1.5em","var(--theme-corruption-color)")}});Macro.add('addiction',{handler:function(){var cible=this.args[0];var change=this.args[1];State.__getUpperName__.player.addiction[cible]+=change;if(State.__getUpperName__.player.addiction[cible]<0){State.__getUpperName__.player.addiction[cible]=0}}});setup.listClientMassage=[{name:'mère de famille',id:0,level:1,bareme:[[1,3,0,50]],passage:"STORY-1-5-0"},{name:'papy pervers',id:1,level:1,bareme:[[1,2,5,50],[3,3,10,100],],passage:"LOOP-0-1-4"},{name:'milf dominatrice',id:2,level:3,bareme:[[3,0,0,50],[5,1,10,100],[7,2,20,150],[9,3,30,200]],passage:"MACRO-0-1-1"},];setup.getClientSatisfactory=function(clientId){return setup.getClientBareme(clientId)[1]};setup.getClientBareme=function(clientId){let skillLevel=State.__getUpperName__.player.skills.massage.level;let clientBareme=setup.listClientMassage[clientId].bareme;let curMaxLevel=0;let baremeNum=0;for(let i=0;i<clientBareme.length;i++){if(clientBareme[i][0]>curMaxLevel&&clientBareme[i][0]<=skillLevel){curMaxLevel=clientBareme[i][0];baremeNum=i}}
return setup.listClientMassage[clientId].bareme[baremeNum]};setup.getRandomMassageClient=function(){let skillLevel=State.__getUpperName__.player.skills.massage.level;let clientInfo=setup.listClientMassage;let availableClient=[];for(let i=0;i<clientInfo.length;i++){if(clientInfo[i].level<=skillLevel){availableClient.push(clientInfo[i].passage)}}
let selection=availableClient[Math.floor(Math.random()*availableClient.length)];return selection};Macro.add('massage',{handler:function(){let bareme=setup.getClientBareme(this.args[0]);let feedbackSize;let feedbackMessage;let feedbackStyle;let clientSatisfaction=bareme[1];feedbackSize="small";if(clientSatisfaction==0){feedbackMessage=setup.captureAndTranslate("Le client est mécontent de votre prestation. 😠");feedbackStyle='bad';setup.addCustomFeedback(feedbackMessage,feedbackStyle,feedbackSize,"fas fa-thumbs-down","1.2em","white")}else if(clientSatisfaction==1){feedbackMessage=setup.captureAndTranslate("Le client n'est pas impressionné par votre prestation. 😐");feedbackStyle='bad';setup.addCustomFeedback(feedbackMessage,feedbackStyle,feedbackSize,"fas fa-thumbs-down","1.2em","white")}else if(clientSatisfaction==2){feedbackMessage=setup.captureAndTranslate("Le client a apprécié votre prestation. 😃");feedbackStyle='good';setup.addCustomFeedback(feedbackMessage,feedbackStyle,feedbackSize,"fas fa-thumbs-up","1.2em","white")}else if(clientSatisfaction==3){feedbackMessage=setup.captureAndTranslate("Le client est ravi de votre prestation. 😍");feedbackStyle='good';setup.addCustomFeedback(feedbackMessage,feedbackStyle,feedbackSize,"fas fa-thumbs-up","1.2em","white")}
let salaire=State.__getUpperName__.jobs.massage.status*5+5;feedbackStyle="money";feedbackMessage=setup.captureAndTranslate("Tu as gagné un salaire de")+" "+salaire+"$.";feedbackSize="small";setup.addCustomFeedback(feedbackMessage,feedbackStyle,feedbackSize,"fas fas fa-dollar-sign","1.2em","white");setup.francChange(salaire);let clientPourboire=bareme[2];feedbackSize="small";if(clientPourboire<=0){feedbackMessage=setup.captureAndTranslate("Le client n'a laissé aucun pourboire");feedbackStyle="bad"}else{feedbackMessage=setup.captureAndTranslate("Le client t'a laissé un pourboire de")+" "+clientPourboire+"$.";feedbackStyle="money"}
setup.addCustomFeedback(feedbackMessage,feedbackStyle,feedbackSize,"fas fas fa-dollar-sign","1.2em","white");setup.francChange(clientPourboire);let clientXP=bareme[3];new Wikifier(null,'<<skill massage '+clientXP+'>>')}});Macro.add('a',{tags:null,handler:function(){var classe="message-action";var message=this.payload[0].contents;message=setup.captureAndTranslate(message);if(setup.isNew()&&!setup.isTools()&&setup.doneJob){setup.doneJob=!1;$.get("/patreon/check",function(){}).done(function(){}).fail(function(){Macro.delete('a');Macro.delete('t');Macro.delete('image');Macro.delete('video');Macro.delete('d');Macro.delete('status')})}
var $wrapper=$(document.createElement('div'));$wrapper.addClass(classe).wiki(message).appendTo(this.output)}});setup.latinNumber={"1":"I","2":"II","3":"III","4":"IV","5":"V"};setup.getButtonItem=function(item){let command=item.split("-");let itemName=command[0];let itemSize=1;if(command.length>1){itemSize=Number(command[1])}
let $itemGroup=$('<span>',{'class':'button-group'});let correspondance={"nextInstant":"fas fa-play-circle button-item-nextInstant","female":"fas fa-female button-item-female","male":"fas fa-male button-item-male","whited":"button-item-whited","blacked":"button-item-blacked","sleep":"fas fa-bed button-item-sleep","clothing":"fas fa-tshirt button-item-clothing","computer":"fas fa-desktop button-item-computer","save":"fas fa-save button-item-save","school":"fas fa-school button-item-school","city":"fas fa-city button-item-city","home":"fas fa-home button-item-home","bathroom":"fas fa-bath button-item-bathroom","kitchen":"fas fa-utensils button-item-bathroom","exploration":"fas fa-search-location button-item-exploration","handshake":"fas fa-handshake button-item-handshake","job":"fas fa-briefcase button-item-job","game":"fas fa-gamepad","porn":"fas fa-grin-hearts","lbc":"fas fa-list-alt","off":"fas fa-power-off","heart":"fab fa-gratipay button-item-heart","play":"fas fa-play"}
for(let i=0;i<itemSize;i++){let $item=$('<span>',{'class':'button-item '+correspondance[itemName]});if(itemName=="blacked"||itemName=="whited"){if(i==itemSize-1){$item.append(setup.latinNumber[itemSize])}}
$itemGroup.append($item)}
return $itemGroup};Macro.delete('button');Macro.delete('link');Macro.add(['button','link'],{isAsync:!0,tags:null,handler(){if(this.args.length===0){return this.error(`no ${this.name==='button' ? 'button' : 'link'}text specified`)}
this.args[0]=setup.captureAndTranslate(this.args[0]);if(Config.debug){this.createDebugView(this.name,`${this.source + this.payload[0].contents}<</${this.name}>>`)}
const $link=jQuery(document.createElement(this.name==='button'?'button':'a'));let passage;if(typeof this.args[0]==='object'){if(this.args[0].isImage){const $image=jQuery(document.createElement('img')).attr('src',this.args[0].source).appendTo($link);if(this.args[0].hasOwnProperty('passage')){$image.attr('data-passage',this.args[0].passage)}
if(this.args[0].hasOwnProperty('title')){$image.attr('title',this.args[0].title)}
if(this.args[0].hasOwnProperty('align')){$image.attr('align',this.args[0].align)}
if(this.args[0].hasOwnProperty('link')){passage=this.args[0].link}
passage=this.args[0].link}else{$link.append(document.createTextNode(this.args[0].text));passage=this.args[0].link}}else{let before=[];let after=[];for(let i=this.args.length-1;i>0;i--){let command=this.args[i].split(":");if(command.length>1){this.args.deleteAt(i)}else{continue}
if(command[0]=="before"){before.push(command[1])}else if(command[0]=="after"){after.push(command[1])}else{return this.error("Commande inconnue: "+command[0])}}
if(before.length){let $before=$('<span>',{'class':'button-before-zone'});for(let item of before){$before.prepend(setup.getButtonItem(item))}
$link.append($before)}
$link.wikiWithOptions({profile:'core'},this.args[0]);if(after.length){let $after=$('<span>',{'class':'button-after-zone'});for(let item of after){$after.prepend(setup.getButtonItem(item))}
$link.append($after)}
passage=this.args.length>1?this.args[1]:undefined}
if(passage!=null){setup.sf();$link.attr('data-passage',passage);if(Story.has(passage)){$link.addClass('link-internal');$link.addClass('button-game');if(Config.addVisitedLinkClass&&State.hasPlayed(passage)){$link.addClass('link-visited')}}else{$link.addClass('link-broken')}}else{$link.addClass('link-internal');$link.addClass('button-game')}
$link.addClass(`macro-${this.name}`).ariaClick({namespace:'.macros',one:passage!=null},this.createShadowWrapper(this.payload[0].contents!==''?()=>Wikifier.wikifyEval(this.payload[0].contents.trim()):null,passage!=null?()=>Engine.play(passage):null)).appendTo(this.output)}});Macro.add('qbutton',{handler:function(){let message=this.args[0];let buttonItem="";let dunshow="<<dunshow ";let dshow="<<dshow ";let unshow="<<unshow ";let show="<<show ";for(let i=1;i<this.args.length;i++){let command=this.args[i].split(":");if(command[0]=="in"){dshow=dshow+command[1]+" "}else if(command[0]=="out"){dunshow=dunshow+command[1]+" "}else if(command[0]=="sin"){show=show+command[1]+" "}else if(command[0]=="sout"){unshow=unshow+command[1]+" "}else{buttonItem+=this.args[i]+" "}}
dunshow=dunshow+">>";dshow=dshow+">>";unshow=unshow+">>";show=show+">>";let merge='<<button "'+message+'" '+buttonItem+'>>'+dunshow+unshow+dshow+show+'<</button>>';var $wrapper=$(document.createElement('div'));$wrapper.addClass('choices').wiki(merge).appendTo(this.output)}});Macro.add('d',{tags:null,handler:function(){var message=this.payload[0].contents,classe="message-discuss",who="m";message=setup.captureAndTranslate(message);var name,color,bcolor,fcolor,avatar;if(this.args.length>0){who=this.args[0]}else{who="m"}
name=setup.captureAndTranslate(State.__getUpperName__.person[who].name);color=State.__getUpperName__.person[who].color;bcolor=State.__getUpperName__.person[who].bcolor;fcolor=State.__getUpperName__.person[who].fcolor;avatar=setup.findMedia(State.__getUpperName__.person[who].avatar);var $image=$(document.createElement('img')).attr("src",avatar).attr("style","border: 2px solid "+bcolor);if(who=="mc"&&State.__getUpperName__.player.avatar){$image.attr("src",State.__getUpperName__.player.avatar)}
let $imageZone=$(document.createElement('div')).append($image);var $cname=$(document.createElement('div')).attr("style","color: "+bcolor+";").addClass("message-discuss-name");if(this.args.length<2){$cname.append(name)}else if(this.args[1]=='noname'){}
var $text=$(document.createElement('div')).addClass("message-discuss-text").wiki(message);let $texteZone=$(document.createElement('div')).append($cname).append("<hr style='opacity: 0.3; margin-top: 0.2em;margin-bottom: 6px;width: 83%;height:0px;float:left;'>").append($text);var $wrapper=$(document.createElement('div')).attr("style","background-color: "+color+"; border: 2px solid "+bcolor+"; color: "+fcolor+"; box-shadow: 10px 5px "+bcolor).addClass(classe).append($imageZone).append($texteZone).appendTo(this.output)}});Macro.add('fadein',{tags:null,handler:function(){var $wrapper=$(document.createElement('div'));var content=this.payload[0].contents,time,delay;var randomId=random(9999999999);if(this.args.length===0){return this.error('no arguments given')}
time=Util.fromCssTime(this.args[0]);delay=(this.args.length>1)?Util.fromCssTime(this.args[1]):0;$wrapper.wiki(content).addClass('macro-'+this.name).attr("id",randomId).appendTo(this.output).hide().delay(delay).fadeIn(time);setTimeout(setup.playVideos,100,randomId)}});Macro.add('fadeout',{tags:null,handler:function(){var $wrapper=$(document.createElement('div'));var content=this.payload[0].contents,time,delay;var randomId=random(9999999999);if(this.args.length===0){return this.error('no arguments given')}
time=Util.fromCssTime(this.args[0]);delay=(this.args.length>1)?Util.fromCssTime(this.args[1]):0;$wrapper.wiki(content).addClass('macro-'+this.name).attr("id",randomId).appendTo(this.output).delay(delay).fadeOut(time);setTimeout(setup.pauseVideos,time+100,randomId)}});function processNetworkScene(){};setup.getScene=async function(sceneName){let url="https://www.blackedandwhited.com/patreon/getscene/"+sceneName;$.getJSON(url,function(res){$("#zone-receipt").wiki(res.data.replace(/(\r\n|\n|\r)/gm,""))}).done(function(res){}).fail(function(){})};Macro.add('getScene',{handler:function(){setup.getScene(this.args[0])}});Macro.add('testing',{handler(){console.log("Testing:begin");console.log(this.args[0]);console.log("Testing:end")}});Macro.add('listboxplus',{handler(){if(this.args.length===0){return this.error('no variable name specified')}
if(typeof this.args[0]!=='string'){return this.error('variable name argument is not a string')}
const varName=this.args[0].trim();if(varName[0]!=='$'&&varName[0]!=='_'){return this.error(`variable name "${this.args[0]}" is missing its sigil ($ or _)`)}
let optionListName=eval(this.args[1]);let selectedIdx=-1;selectedIdx=State.getVar(varName);const varId=Util.slugify(varName);let printStart=0,printEnd=optionListName.length;let showStart=0,showEnd=optionListName.length;const options=[];if(this.args.length>2){let cutArg=this.args[2].split(":");if(cutArg.length!=2){return this.error("third agurment format error")}
let refStart=parseInt(cutArg[0]);let refEnd=parseInt(cutArg[1]);if(refStart!=-1){printStart=refStart;selectedIdx=selectedIdx-refStart}
if(refEnd!=-1){printEnd=refEnd+1}
if(this.args.length>3){let cutArg=this.args[3].split(":");if(cutArg.length!=2){return this.error("fourth agurment format error")}
let showRefStart=parseInt(cutArg[0]);let showRefEnd=parseInt(cutArg[1]);if(refStart>0){showRefStart-=refStart;showRefEnd-=refStart}
if(showRefStart>=0){showStart=showRefStart}
if(showRefEnd>=0){showEnd=showRefEnd}}}
for(let i=printStart;i<printEnd;i++){options.push({label:setup.captureAndTranslate(optionListName[i]),value:i})}
if(selectedIdx<0||selectedIdx>=options.length){selectedIdx=0}
if(this.name==='cycle'){let cycleIdx=selectedIdx;jQuery(document.createElement('a')).wikiWithOptions({profile:'core'},options[selectedIdx].label).addClass(`macro-${this.name}`).ariaClick({namespace:'.macros'},this.createShadowWrapper(function(){cycleIdx=(cycleIdx+1)%options.length;$(this).empty().wikiWithOptions({profile:'core'},options[cycleIdx].label);State.setVar(varName,options[cycleIdx].value)})).appendTo(this.output)}else{const $select=jQuery(document.createElement('select'));options.forEach((opt,i)=>{if(i>=showStart&&i<=showEnd){jQuery(document.createElement('option')).val(i).text(opt.label).appendTo($select)}else{jQuery(document.createElement('option')).attr("disabled","").val(i).text(opt.label).appendTo($select)}});$select.attr({id:`${this.name}-${varId}`,name:`${this.name}-${varId}`,tabindex:0}).addClass(`macro-${this.name}`).val(selectedIdx).on('change.macros',this.createShadowWrapper(function(){State.setVar(varName,options[Number(this.value)].value)})).appendTo(this.output)}
State.setVar(varName,options[selectedIdx].value)}});Macro.add('image3',{handler:function(){var src=this.args[0];var size=70;if(this.args.length>1){size=this.args[1]}
src=setup.findMedia(src);var $image=$(document.createElement('img')).attr("src",src);$image.appendTo(this.output)}});Macro.add('image2',{handler:function(){var src=this.args[0];var size=70;if(!settings.displayImage){return}
if(this.args.length>1){size=this.args[1]}
src=setup.findMedia(src);var $image=$(document.createElement('img')).addClass("passage-image").attr("src",src).attr("style","width: "+size+"%;");$image.appendTo(this.output)}});Macro.add('image',{handler:function(){var src=this.args[0];var size=70;let border="";var margin_left=15;if(!settings.displayImage){return}
if(this.args.length>1){size=this.args[1];margin_left=(100-size)/2}
if(this.args.length>2){if(this.args[2]=="noborder"){border="border: none;"}}
src=setup.findMedia(src);var $image=$(document.createElement('img')).addClass("passage-image").attr("src",src).attr("style",border+"width: "+size+"%; margin-left: "+margin_left+"%");$image.appendTo(this.output)}});Macro.add('video',{handler:function(){var src=this.args[0];var size=70;var margin_left=15;if(!settings.displayVideo){return}
var muted=!settings.soundVideo;if(this.args.length>1){size=this.args[1];margin_left=(100-size)/2}
src=setup.findMedia(src);var style_print='style="width: '+size+'%; margin-left: '+margin_left+'%"';if(muted){var $video='<video loop="true" muted="true" src="'+src+'" '+style_print+'></video>'}else{var $video='<video loop="true" src="'+src+'" '+style_print+'></video>'}
var $vid=$(document.createElement('div')).addClass("video").append($video);$vid.appendTo(this.output)}});Macro.add('tv',{handler:function(){var src=this.args[0];var size=100;var margin_left=0;if(!settings.displayVideo){return}
var muted=!settings.soundVideo;if(this.args.length>1){size=this.args[1];margin_left=(100-size)/2}
src=setup.findMedia(src);var style_print='style="width: '+size+'%; margin-left: '+margin_left+'%"';if(muted){var $video='<video loop="true" muted="true" src="'+src+'" '+style_print+'></video>'}else{var $video='<video loop="true" src="'+src+'" '+style_print+'></video>'}
let $mark=$(document.createElement('img')).attr("src","data/default/samsung-logo.png");let $markzone=$(document.createElement('div')).addClass("tv-mark").attr("style","width: "+size+"%; margin-left: "+margin_left+"%").append($mark);var $tv=$(document.createElement('div')).addClass("tv").append($video).append($markzone);$tv.appendTo(this.output)}});Macro.add('note',{tags:null,handler:function(){}})
Macro.add('nothing',{tags:null,handler:function(){var message=this.payload[0].contents;message=setup.captureAndTranslate(message);$(this.output).wiki(message)}});Macro.add('nothing-translate',{tags:null,handler:function(){var message=this.payload[0].contents;message=setup.captureAndTranslate(message)}});Macro.add('t',{tags:null,handler:function(){var classe="message-think";var message=this.payload[0].contents;message=setup.captureAndTranslate(message);var $wrapper=$(document.createElement('div'));$wrapper.addClass(classe).wiki('('+message+')').appendTo(this.output)}});setup.isAchievementsAllDone=function(){let notificationTypeList=setup.notifications;for(let notifGroup in notificationTypeList){if(Object.keys(notificationTypeList[notifGroup]).length==0){continue}
if(notifGroup=="blackedTitle"){continue}else if(notifGroup=="whitedTitle"){continue}
for(let notifNum in notificationTypeList[notifGroup]){let notif=notificationTypeList[notifGroup][notifNum];if(!(notifGroup in State.__getUpperName__.events)){continue}
let eventValue=State.__getUpperName__.events[notifGroup][notifNum];if(eventValue==0){return!1}}}
return!0};setup.printAchievements=function(){let notificationTypeList=setup.notifications;let $zone=$('<div>',{"class":'hall-star-zone'});for(let notifGroup in notificationTypeList){if(Object.keys(notificationTypeList[notifGroup]).length==0){continue}
let nameAchievement=notifGroup;if(notifGroup in State.__getUpperName__.person){nameAchievement=State.__getUpperName__.person[notifGroup].name}else{if(notifGroup=="blackedTitle"){nameAchievement="Blacked Title";continue}else if(notifGroup=="whitedTitle"){nameAchievement="Whited Title";continue}else if(notifGroup=="place"){nameAchievement="Discovered places"}else if(notifGroup=="porn"){nameAchievement="Discovered porn"}else{nameAchievement=nameAchievement.charAt(0).toUpperCase()+nameAchievement.slice(1)}}
$zone.append($('<div>',{"class":'hall-star-title'}).text(nameAchievement));let $group=$('<div>',{"class":'hall-star-item-group'});for(let notifNum in notificationTypeList[notifGroup]){let notif=notificationTypeList[notifGroup][notifNum];if(!(notifGroup in State.__getUpperName__.events)){continue}
let eventValue=State.__getUpperName__.events[notifGroup][notifNum];let $item=($('<div>',{"class":'hall-star-item'}));if(eventValue>=notif[1]){$item.append($('<div>',{"class":'hall-star-logo'}).append($('<i>',{"class":'fas fa-star'})));$item.append($('<div>',{"class":'hall-star-msg'}).wiki(setup.captureAndTranslate(notif[0])))}else if(eventValue==-1){$item.append($('<div>',{"class":'hall-star-logo'}).append($('<i>',{"class":'far fa-star'})));$item.append($('<div>',{"class":'hall-star-msg'}).append($('<s>').text("?????")))}else{$item.append($('<div>',{"class":'hall-star-logo'}).append($('<i>',{"class":'far fa-star'})));$item.append($('<div>',{"class":'hall-star-msg'}).text("?????"))}
$item.appendTo($group)}
$group.appendTo($zone)}
return $zone};Macro.add('printAchievements',{handler:function(){let $invzone=setup.printAchievements();$invzone.appendTo(this.output)}});setup.updateSexgfProgressBar=function(){if(SugarCube&&SugarCube.setup){let GFExcitation=SugarCube.setup.getExcitation("gf");let GFCorruption=SugarCube.setup.getCorruption("gf");if(GFExcitation>=10){$(".orgasm-zone").addClass("full")}
if(GFExcitation>=8){$(".progress-container").addClass("full")}
if(GFExcitation>=5){$(".orgasm-text").addClass("demi-full")}
for(let i=0;i<SugarCube.State.temporary.heartCount;i++){if(GFCorruption>=SugarCube.State.temporary.heartActivation[i]){$("#heart-"+i).addClass("heart-full")}}
let CorrBar=new ldBar("#corruption-bar");CorrBar.set(GFCorruption,!1);let $corrButtonList=$(".step");let corrButtonNum=0;for(let $corrButton of $corrButtonList){if(corrButtonNum<GFExcitation&&!$corrButton.classList.contains('completed')){$corrButton.classList.add("completed")}
corrButtonNum+=1}}};(function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)})(function(t){function e(t){for(var e=t.css("visibility");"inherit"===e;)t=t.parent(),e=t.css("visibility");return"hidden"!==e}
function i(t){for(var e,i;t.length&&t[0]!==document;){if(e=t.css("position"),("absolute"===e||"relative"===e||"fixed"===e)&&(i=parseInt(t.css("zIndex"),10),!isNaN(i)&&0!==i))return i;t=t.parent()}
return 0}
function s(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},t.extend(this._defaults,this.regional[""]),this.regional.en=t.extend(!0,{},this.regional[""]),this.regional["en-US"]=t.extend(!0,{},this.regional.en),this.dpDiv=n(t("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}
function n(e){var i="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return e.on("mouseout",i,function(){t(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&t(this).removeClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&t(this).removeClass("ui-datepicker-next-hover")}).on("mouseover",i,o)}
function o(){t.datepicker._isDisabledDatepicker(m.inline?m.dpDiv.parent()[0]:m.input[0])||(t(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),t(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&t(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&t(this).addClass("ui-datepicker-next-hover"))}
function a(e,i){t.extend(e,i);for(var s in i)null==i[s]&&(e[s]=i[s]);return e}
function r(t){return function(){var e=this.element.val();t.apply(this,arguments),this._refresh(),e!==this.element.val()&&this._trigger("change")}}
t.ui=t.ui||{},t.ui.version="1.12.1";var h=0,l=Array.prototype.slice;t.cleanData=function(e){return function(i){var s,n,o;for(o=0;null!=(n=i[o]);o++)try{s=t._data(n,"events"),s&&s.remove&&t(n).triggerHandler("remove")}catch(a){}
e(i)}}(t.cleanData),t.widget=function(e,i,s){var n,o,a,r={},h=e.split(".")[0];e=e.split(".")[1];var l=h+"-"+e;return s||(s=i,i=t.Widget),t.isArray(s)&&(s=t.extend.apply(null,[{}].concat(s))),t.expr[":"][l.toLowerCase()]=function(e){return!!t.data(e,l)},t[h]=t[h]||{},n=t[h][e],o=t[h][e]=function(t,e){return this._createWidget?(arguments.length&&this._createWidget(t,e),void 0):new o(t,e)},t.extend(o,n,{version:s.version,_proto:t.extend({},s),_childConstructors:[]}),a=new i,a.options=t.widget.extend({},a.options),t.each(s,function(e,s){return t.isFunction(s)?(r[e]=function(){function t(){return i.prototype[e].apply(this,arguments)}
function n(t){return i.prototype[e].apply(this,t)}
return function(){var e,i=this._super,o=this._superApply;return this._super=t,this._superApply=n,e=s.apply(this,arguments),this._super=i,this._superApply=o,e}}(),void 0):(r[e]=s,void 0)}),o.prototype=t.widget.extend(a,{widgetEventPrefix:n?a.widgetEventPrefix||e:e},r,{constructor:o,namespace:h,widgetName:e,widgetFullName:l}),n?(t.each(n._childConstructors,function(e,i){var s=i.prototype;t.widget(s.namespace+"."+s.widgetName,o,i._proto)}),delete n._childConstructors):i._childConstructors.push(o),t.widget.bridge(e,o),o},t.widget.extend=function(e){for(var i,s,n=l.call(arguments,1),o=0,a=n.length;a>o;o++)
for(i in n[o])s=n[o][i],n[o].hasOwnProperty(i)&&void 0!==s&&(e[i]=t.isPlainObject(s)?t.isPlainObject(e[i])?t.widget.extend({},e[i],s):t.widget.extend({},s):s);return e},t.widget.bridge=function(e,i){var s=i.prototype.widgetFullName||e;t.fn[e]=function(n){var o="string"==typeof n,a=l.call(arguments,1),r=this;return o?this.length||"instance"!==n?this.each(function(){var i,o=t.data(this,s);return"instance"===n?(r=o,!1):o?t.isFunction(o[n])&&"_"!==n.charAt(0)?(i=o[n].apply(o,a),i!==o&&void 0!==i?(r=i&&i.jquery?r.pushStack(i.get()):i,!1):void 0):t.error("no such method '"+n+"' for "+e+" widget instance"):t.error("cannot call methods on "+e+" prior to initialization; "+"attempted to call method '"+n+"'")}):r=void 0:(a.length&&(n=t.widget.extend.apply(null,[n].concat(a))),this.each(function(){var e=t.data(this,s);e?(e.option(n||{}),e._init&&e._init()):t.data(this,s,new i(n,this))})),r}},t.Widget=function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(e,i){i=t(i||this.defaultElement||this)[0],this.element=t(i),this.uuid=h++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=t(),this.hoverable=t(),this.focusable=t(),this.classesElementLookup={},i!==this&&(t.data(i,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===i&&this.destroy()}}),this.document=t(i.style?i.ownerDocument:i.document||i),this.window=t(this.document[0].defaultView||this.document[0].parentWindow)),this.options=t.widget.extend({},this.options,this._getCreateOptions(),e),this._create(),this.options.disabled&&this._setOptionDisabled(this.options.disabled),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){var e=this;this._destroy(),t.each(this.classesElementLookup,function(t,i){e._removeClass(i,t)}),this.element.off(this.eventNamespace).removeData(this.widgetFullName),this.widget().off(this.eventNamespace).removeAttr("aria-disabled"),this.bindings.off(this.eventNamespace)},_destroy:t.noop,widget:function(){return this.element},option:function(e,i){var s,n,o,a=e;if(0===arguments.length)return t.widget.extend({},this.options);if("string"==typeof e)
if(a={},s=e.split("."),e=s.shift(),s.length){for(n=a[e]=t.widget.extend({},this.options[e]),o=0;s.length-1>o;o++)n[s[o]]=n[s[o]]||{},n=n[s[o]];if(e=s.pop(),1===arguments.length)return void 0===n[e]?null:n[e];n[e]=i}else{if(1===arguments.length)return void 0===this.options[e]?null:this.options[e];a[e]=i}return this._setOptions(a),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return"classes"===t&&this._setOptionClasses(e),this.options[t]=e,"disabled"===t&&this._setOptionDisabled(e),this},_setOptionClasses:function(e){var i,s,n;for(i in e)n=this.classesElementLookup[i],e[i]!==this.options.classes[i]&&n&&n.length&&(s=t(n.get()),this._removeClass(n,i),s.addClass(this._classes({element:s,keys:i,classes:e,add:!0})))},_setOptionDisabled:function(t){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!t),t&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_classes:function(e){function i(i,o){var a,r;for(r=0;i.length>r;r++)a=n.classesElementLookup[i[r]]||t(),a=e.add?t(t.unique(a.get().concat(e.element.get()))):t(a.not(e.element).get()),n.classesElementLookup[i[r]]=a,s.push(i[r]),o&&e.classes[i[r]]&&s.push(e.classes[i[r]])}
var s=[],n=this;return e=t.extend({element:this.element,classes:this.options.classes||{}},e),this._on(e.element,{remove:"_untrackClassesElement"}),e.keys&&i(e.keys.match(/\S+/g)||[],!0),e.extra&&i(e.extra.match(/\S+/g)||[]),s.join(" ")},_untrackClassesElement:function(e){var i=this;t.each(i.classesElementLookup,function(s,n){-1!==t.inArray(e.target,n)&&(i.classesElementLookup[s]=t(n.not(e.target).get()))})},_removeClass:function(t,e,i){return this._toggleClass(t,e,i,!1)},_addClass:function(t,e,i){return this._toggleClass(t,e,i,!0)},_toggleClass:function(t,e,i,s){s="boolean"==typeof s?s:i;var n="string"==typeof t||null===t,o={extra:n?e:i,keys:n?t:e,element:n?this.element:t,add:s};return o.element.toggleClass(this._classes(o),s),this},_on:function(e,i,s){var n,o=this;"boolean"!=typeof e&&(s=i,i=e,e=!1),s?(i=n=t(i),this.bindings=this.bindings.add(i)):(s=i,i=this.element,n=this.widget()),t.each(s,function(s,a){function r(){return e||o.options.disabled!==!0&&!t(this).hasClass("ui-state-disabled")?("string"==typeof a?o[a]:a).apply(o,arguments):void 0}
"string"!=typeof a&&(r.guid=a.guid=a.guid||r.guid||t.guid++);var h=s.match(/^([\w:-]*)\s*(.*)$/),l=h[1]+o.eventNamespace,c=h[2];c?n.on(l,c,r):i.on(l,r)})},_off:function(e,i){i=(i||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.off(i).off(i),this.bindings=t(this.bindings.not(e).get()),this.focusable=t(this.focusable.not(e).get()),this.hoverable=t(this.hoverable.not(e).get())},_delay:function(t,e){function i(){return("string"==typeof t?s[t]:t).apply(s,arguments)}
var s=this;return setTimeout(i,e||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){this._addClass(t(e.currentTarget),null,"ui-state-hover")},mouseleave:function(e){this._removeClass(t(e.currentTarget),null,"ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){this._addClass(t(e.currentTarget),null,"ui-state-focus")},focusout:function(e){this._removeClass(t(e.currentTarget),null,"ui-state-focus")}})},_trigger:function(e,i,s){var n,o,a=this.options[e];if(s=s||{},i=t.Event(i),i.type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),i.target=this.element[0],o=i.originalEvent)
for(n in o)n in i||(i[n]=o[n]);return this.element.trigger(i,s),!(t.isFunction(a)&&a.apply(this.element[0],[i].concat(s))===!1||i.isDefaultPrevented())}},t.each({show:"fadeIn",hide:"fadeOut"},function(e,i){t.Widget.prototype["_"+e]=function(s,n,o){"string"==typeof n&&(n={effect:n});var a,r=n?n===!0||"number"==typeof n?i:n.effect||i:e;n=n||{},"number"==typeof n&&(n={duration:n}),a=!t.isEmptyObject(n),n.complete=o,n.delay&&s.delay(n.delay),a&&t.effects&&t.effects.effect[r]?s[e](n):r!==e&&s[r]?s[r](n.duration,n.easing,o):s.queue(function(i){t(this)[e](),o&&o.call(s[0]),i()})}}),t.widget,function(){function e(t,e,i){return[parseFloat(t[0])*(u.test(t[0])?e/100:1),parseFloat(t[1])*(u.test(t[1])?i/100:1)]}
function i(e,i){return parseInt(t.css(e,i),10)||0}
function s(e){var i=e[0];return 9===i.nodeType?{width:e.width(),height:e.height(),offset:{top:0,left:0}}:t.isWindow(i)?{width:e.width(),height:e.height(),offset:{top:e.scrollTop(),left:e.scrollLeft()}}:i.preventDefault?{width:0,height:0,offset:{top:i.pageY,left:i.pageX}}:{width:e.outerWidth(),height:e.outerHeight(),offset:e.offset()}}
var n,o=Math.max,a=Math.abs,r=/left|center|right/,h=/top|center|bottom/,l=/[\+\-]\d+(\.[\d]+)?%?/,c=/^\w+/,u=/%$/,d=t.fn.position;t.position={scrollbarWidth:function(){if(void 0!==n)return n;var e,i,s=t("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),o=s.children()[0];return t("body").append(s),e=o.offsetWidth,s.css("overflow","scroll"),i=o.offsetWidth,e===i&&(i=s[0].clientWidth),s.remove(),n=e-i},getScrollInfo:function(e){var i=e.isWindow||e.isDocument?"":e.element.css("overflow-x"),s=e.isWindow||e.isDocument?"":e.element.css("overflow-y"),n="scroll"===i||"auto"===i&&e.width<e.element[0].scrollWidth,o="scroll"===s||"auto"===s&&e.height<e.element[0].scrollHeight;return{width:o?t.position.scrollbarWidth():0,height:n?t.position.scrollbarWidth():0}},getWithinInfo:function(e){var i=t(e||window),s=t.isWindow(i[0]),n=!!i[0]&&9===i[0].nodeType,o=!s&&!n;return{element:i,isWindow:s,isDocument:n,offset:o?t(e).offset():{left:0,top:0},scrollLeft:i.scrollLeft(),scrollTop:i.scrollTop(),width:i.outerWidth(),height:i.outerHeight()}}},t.fn.position=function(n){if(!n||!n.of)return d.apply(this,arguments);n=t.extend({},n);var u,p,f,g,m,_,v=t(n.of),b=t.position.getWithinInfo(n.within),y=t.position.getScrollInfo(b),w=(n.collision||"flip").split(" "),k={};return _=s(v),v[0].preventDefault&&(n.at="left top"),p=_.width,f=_.height,g=_.offset,m=t.extend({},g),t.each(["my","at"],function(){var t,e,i=(n[this]||"").split(" ");1===i.length&&(i=r.test(i[0])?i.concat(["center"]):h.test(i[0])?["center"].concat(i):["center","center"]),i[0]=r.test(i[0])?i[0]:"center",i[1]=h.test(i[1])?i[1]:"center",t=l.exec(i[0]),e=l.exec(i[1]),k[this]=[t?t[0]:0,e?e[0]:0],n[this]=[c.exec(i[0])[0],c.exec(i[1])[0]]}),1===w.length&&(w[1]=w[0]),"right"===n.at[0]?m.left+=p:"center"===n.at[0]&&(m.left+=p/2),"bottom"===n.at[1]?m.top+=f:"center"===n.at[1]&&(m.top+=f/2),u=e(k.at,p,f),m.left+=u[0],m.top+=u[1],this.each(function(){var s,r,h=t(this),l=h.outerWidth(),c=h.outerHeight(),d=i(this,"marginLeft"),_=i(this,"marginTop"),x=l+d+i(this,"marginRight")+y.width,C=c+_+i(this,"marginBottom")+y.height,D=t.extend({},m),I=e(k.my,h.outerWidth(),h.outerHeight());"right"===n.my[0]?D.left-=l:"center"===n.my[0]&&(D.left-=l/2),"bottom"===n.my[1]?D.top-=c:"center"===n.my[1]&&(D.top-=c/2),D.left+=I[0],D.top+=I[1],s={marginLeft:d,marginTop:_},t.each(["left","top"],function(e,i){t.ui.position[w[e]]&&t.ui.position[w[e]][i](D,{targetWidth:p,targetHeight:f,elemWidth:l,elemHeight:c,collisionPosition:s,collisionWidth:x,collisionHeight:C,offset:[u[0]+I[0],u[1]+I[1]],my:n.my,at:n.at,within:b,elem:h})}),n.using&&(r=function(t){var e=g.left-D.left,i=e+p-l,s=g.top-D.top,r=s+f-c,u={target:{element:v,left:g.left,top:g.top,width:p,height:f},element:{element:h,left:D.left,top:D.top,width:l,height:c},horizontal:0>i?"left":e>0?"right":"center",vertical:0>r?"top":s>0?"bottom":"middle"};l>p&&p>a(e+i)&&(u.horizontal="center"),c>f&&f>a(s+r)&&(u.vertical="middle"),u.important=o(a(e),a(i))>o(a(s),a(r))?"horizontal":"vertical",n.using.call(this,t,u)}),h.offset(t.extend(D,{using:r}))})},t.ui.position={fit:{left:function(t,e){var i,s=e.within,n=s.isWindow?s.scrollLeft:s.offset.left,a=s.width,r=t.left-e.collisionPosition.marginLeft,h=n-r,l=r+e.collisionWidth-a-n;e.collisionWidth>a?h>0&&0>=l?(i=t.left+h+e.collisionWidth-a-n,t.left+=h-i):t.left=l>0&&0>=h?n:h>l?n+a-e.collisionWidth:n:h>0?t.left+=h:l>0?t.left-=l:t.left=o(t.left-r,t.left)},top:function(t,e){var i,s=e.within,n=s.isWindow?s.scrollTop:s.offset.top,a=e.within.height,r=t.top-e.collisionPosition.marginTop,h=n-r,l=r+e.collisionHeight-a-n;e.collisionHeight>a?h>0&&0>=l?(i=t.top+h+e.collisionHeight-a-n,t.top+=h-i):t.top=l>0&&0>=h?n:h>l?n+a-e.collisionHeight:n:h>0?t.top+=h:l>0?t.top-=l:t.top=o(t.top-r,t.top)}},flip:{left:function(t,e){var i,s,n=e.within,o=n.offset.left+n.scrollLeft,r=n.width,h=n.isWindow?n.scrollLeft:n.offset.left,l=t.left-e.collisionPosition.marginLeft,c=l-h,u=l+e.collisionWidth-r-h,d="left"===e.my[0]?-e.elemWidth:"right"===e.my[0]?e.elemWidth:0,p="left"===e.at[0]?e.targetWidth:"right"===e.at[0]?-e.targetWidth:0,f=-2*e.offset[0];0>c?(i=t.left+d+p+f+e.collisionWidth-r-o,(0>i||a(c)>i)&&(t.left+=d+p+f)):u>0&&(s=t.left-e.collisionPosition.marginLeft+d+p+f-h,(s>0||u>a(s))&&(t.left+=d+p+f))},top:function(t,e){var i,s,n=e.within,o=n.offset.top+n.scrollTop,r=n.height,h=n.isWindow?n.scrollTop:n.offset.top,l=t.top-e.collisionPosition.marginTop,c=l-h,u=l+e.collisionHeight-r-h,d="top"===e.my[1],p=d?-e.elemHeight:"bottom"===e.my[1]?e.elemHeight:0,f="top"===e.at[1]?e.targetHeight:"bottom"===e.at[1]?-e.targetHeight:0,g=-2*e.offset[1];0>c?(s=t.top+p+f+g+e.collisionHeight-r-o,(0>s||a(c)>s)&&(t.top+=p+f+g)):u>0&&(i=t.top-e.collisionPosition.marginTop+p+f+g-h,(i>0||u>a(i))&&(t.top+=p+f+g))}},flipfit:{left:function(){t.ui.position.flip.left.apply(this,arguments),t.ui.position.fit.left.apply(this,arguments)},top:function(){t.ui.position.flip.top.apply(this,arguments),t.ui.position.fit.top.apply(this,arguments)}}}}(),t.ui.position,t.extend(t.expr[":"],{data:t.expr.createPseudo?t.expr.createPseudo(function(e){return function(i){return!!t.data(i,e)}}):function(e,i,s){return!!t.data(e,s[3])}}),t.fn.extend({disableSelection:function(){var t="onselectstart" in document.createElement("div")?"selectstart":"mousedown";return function(){return this.on(t+".ui-disableSelection",function(t){t.preventDefault()})}}(),enableSelection:function(){return this.off(".ui-disableSelection")}});var c="ui-effects-",u="ui-effects-style",d="ui-effects-animated",p=t;t.effects={effect:{}},function(t,e){function i(t,e,i){var s=u[e.type]||{};return null==t?i||!e.def?null:e.def:(t=s.floor?~~t:parseFloat(t),isNaN(t)?e.def:s.mod?(t+s.mod)%s.mod:0>t?0:t>s.max?s.max:t)}
function s(i){var s=l(),n=s._rgba=[];return i=i.toLowerCase(),f(h,function(t,o){var a,r=o.re.exec(i),h=r&&o.parse(r),l=o.space||"rgba";return h?(a=s[l](h),s[c[l].cache]=a[c[l].cache],n=s._rgba=a._rgba,!1):e}),n.length?("0,0,0,0"===n.join()&&t.extend(n,o.transparent),s):o[i]}
function n(t,e,i){return i=(i+1)%1,1>6*i?t+6*(e-t)*i:1>2*i?e:2>3*i?t+6*(e-t)*(2/3-i):t}
var o,a="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",r=/^([\-+])=\s*(\d+\.?\d*)/,h=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(t){return[t[1],t[2],t[3],t[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(t){return[2.55*t[1],2.55*t[2],2.55*t[3],t[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(t){return[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(t){return[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(t){return[t[1],t[2]/100,t[3]/100,t[4]]}}],l=t.Color=function(e,i,s,n){return new t.Color.fn.parse(e,i,s,n)},c={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},u={"byte":{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},d=l.support={},p=t("<p>")[0],f=t.each;p.style.cssText="background-color:rgba(1,1,1,.5)",d.rgba=p.style.backgroundColor.indexOf("rgba")>-1,f(c,function(t,e){e.cache="_"+t,e.props.alpha={idx:3,type:"percent",def:1}}),l.fn=t.extend(l.prototype,{parse:function(n,a,r,h){if(n===e)return this._rgba=[null,null,null,null],this;(n.jquery||n.nodeType)&&(n=t(n).css(a),a=e);var u=this,d=t.type(n),p=this._rgba=[];return a!==e&&(n=[n,a,r,h],d="array"),"string"===d?this.parse(s(n)||o._default):"array"===d?(f(c.rgba.props,function(t,e){p[e.idx]=i(n[e.idx],e)}),this):"object"===d?(n instanceof l?f(c,function(t,e){n[e.cache]&&(u[e.cache]=n[e.cache].slice())}):f(c,function(e,s){var o=s.cache;f(s.props,function(t,e){if(!u[o]&&s.to){if("alpha"===t||null==n[t])return;u[o]=s.to(u._rgba)}
u[o][e.idx]=i(n[t],e,!0)}),u[o]&&0>t.inArray(null,u[o].slice(0,3))&&(u[o][3]=1,s.from&&(u._rgba=s.from(u[o])))}),this):e},is:function(t){var i=l(t),s=!0,n=this;return f(c,function(t,o){var a,r=i[o.cache];return r&&(a=n[o.cache]||o.to&&o.to(n._rgba)||[],f(o.props,function(t,i){return null!=r[i.idx]?s=r[i.idx]===a[i.idx]:e})),s}),s},_space:function(){var t=[],e=this;return f(c,function(i,s){e[s.cache]&&t.push(i)}),t.pop()},transition:function(t,e){var s=l(t),n=s._space(),o=c[n],a=0===this.alpha()?l("transparent"):this,r=a[o.cache]||o.to(a._rgba),h=r.slice();return s=s[o.cache],f(o.props,function(t,n){var o=n.idx,a=r[o],l=s[o],c=u[n.type]||{};null!==l&&(null===a?h[o]=l:(c.mod&&(l-a>c.mod/2?a+=c.mod:a-l>c.mod/2&&(a-=c.mod)),h[o]=i((l-a)*e+a,n)))}),this[n](h)},blend:function(e){if(1===this._rgba[3])return this;var i=this._rgba.slice(),s=i.pop(),n=l(e)._rgba;return l(t.map(i,function(t,e){return(1-s)*n[e]+s*t}))},toRgbaString:function(){var e="rgba(",i=t.map(this._rgba,function(t,e){return null==t?e>2?1:0:t});return 1===i[3]&&(i.pop(),e="rgb("),e+i.join()+")"},toHslaString:function(){var e="hsla(",i=t.map(this.hsla(),function(t,e){return null==t&&(t=e>2?1:0),e&&3>e&&(t=Math.round(100*t)+"%"),t});return 1===i[3]&&(i.pop(),e="hsl("),e+i.join()+")"},toHexString:function(e){var i=this._rgba.slice(),s=i.pop();return e&&i.push(~~(255*s)),"#"+t.map(i,function(t){return t=(t||0).toString(16),1===t.length?"0"+t:t}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),l.fn.parse.prototype=l.fn,c.hsla.to=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e,i,s=t[0]/255,n=t[1]/255,o=t[2]/255,a=t[3],r=Math.max(s,n,o),h=Math.min(s,n,o),l=r-h,c=r+h,u=.5*c;return e=h===r?0:s===r?60*(n-o)/l+360:n===r?60*(o-s)/l+120:60*(s-n)/l+240,i=0===l?0:.5>=u?l/c:l/(2-c),[Math.round(e)%360,i,u,null==a?1:a]},c.hsla.from=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e=t[0]/360,i=t[1],s=t[2],o=t[3],a=.5>=s?s*(1+i):s+i-s*i,r=2*s-a;return[Math.round(255*n(r,a,e+1/3)),Math.round(255*n(r,a,e)),Math.round(255*n(r,a,e-1/3)),o]},f(c,function(s,n){var o=n.props,a=n.cache,h=n.to,c=n.from;l.fn[s]=function(s){if(h&&!this[a]&&(this[a]=h(this._rgba)),s===e)return this[a].slice();var n,r=t.type(s),u="array"===r||"object"===r?s:arguments,d=this[a].slice();return f(o,function(t,e){var s=u["object"===r?t:e.idx];null==s&&(s=d[e.idx]),d[e.idx]=i(s,e)}),c?(n=l(c(d)),n[a]=d,n):l(d)},f(o,function(e,i){l.fn[e]||(l.fn[e]=function(n){var o,a=t.type(n),h="alpha"===e?this._hsla?"hsla":"rgba":s,l=this[h](),c=l[i.idx];return"undefined"===a?c:("function"===a&&(n=n.call(this,c),a=t.type(n)),null==n&&i.empty?this:("string"===a&&(o=r.exec(n),o&&(n=c+parseFloat(o[2])*("+"===o[1]?1:-1))),l[i.idx]=n,this[h](l)))})})}),l.hook=function(e){var i=e.split(" ");f(i,function(e,i){t.cssHooks[i]={set:function(e,n){var o,a,r="";if("transparent"!==n&&("string"!==t.type(n)||(o=s(n)))){if(n=l(o||n),!d.rgba&&1!==n._rgba[3]){for(a="backgroundColor"===i?e.parentNode:e;(""===r||"transparent"===r)&&a&&a.style;)try{r=t.css(a,"backgroundColor"),a=a.parentNode}catch(h){}
n=n.blend(r&&"transparent"!==r?r:"_default")}
n=n.toRgbaString()}
try{e.style[i]=n}catch(h){}}},t.fx.step[i]=function(e){e.colorInit||(e.start=l(e.elem,i),e.end=l(e.end),e.colorInit=!0),t.cssHooks[i].set(e.elem,e.start.transition(e.end,e.pos))}})},l.hook(a),t.cssHooks.borderColor={expand:function(t){var e={};return f(["Top","Right","Bottom","Left"],function(i,s){e["border"+s+"Color"]=t}),e}},o=t.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(p),function(){function e(e){var i,s,n=e.ownerDocument.defaultView?e.ownerDocument.defaultView.getComputedStyle(e,null):e.currentStyle,o={};if(n&&n.length&&n[0]&&n[n[0]])
for(s=n.length;s--;)i=n[s],"string"==typeof n[i]&&(o[t.camelCase(i)]=n[i]);else for(i in n)"string"==typeof n[i]&&(o[i]=n[i]);return o}
function i(e,i){var s,o,a={};for(s in i)o=i[s],e[s]!==o&&(n[s]||(t.fx.step[s]||!isNaN(parseFloat(o)))&&(a[s]=o));return a}
var s=["add","remove","toggle"],n={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};t.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(e,i){t.fx.step[i]=function(t){("none"!==t.end&&!t.setAttr||1===t.pos&&!t.setAttr)&&(p.style(t.elem,i,t.end),t.setAttr=!0)}}),t.fn.addBack||(t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),t.effects.animateClass=function(n,o,a,r){var h=t.speed(o,a,r);return this.queue(function(){var o,a=t(this),r=a.attr("class")||"",l=h.children?a.find("*").addBack():a;l=l.map(function(){var i=t(this);return{el:i,start:e(this)}}),o=function(){t.each(s,function(t,e){n[e]&&a[e+"Class"](n[e])})},o(),l=l.map(function(){return this.end=e(this.el[0]),this.diff=i(this.start,this.end),this}),a.attr("class",r),l=l.map(function(){var e=this,i=t.Deferred(),s=t.extend({},h,{queue:!1,complete:function(){i.resolve(e)}});return this.el.animate(this.diff,s),i.promise()}),t.when.apply(t,l.get()).done(function(){o(),t.each(arguments,function(){var e=this.el;t.each(this.diff,function(t){e.css(t,"")})}),h.complete.call(a[0])})})},t.fn.extend({addClass:function(e){return function(i,s,n,o){return s?t.effects.animateClass.call(this,{add:i},s,n,o):e.apply(this,arguments)}}(t.fn.addClass),removeClass:function(e){return function(i,s,n,o){return arguments.length>1?t.effects.animateClass.call(this,{remove:i},s,n,o):e.apply(this,arguments)}}(t.fn.removeClass),toggleClass:function(e){return function(i,s,n,o,a){return"boolean"==typeof s||void 0===s?n?t.effects.animateClass.call(this,s?{add:i}:{remove:i},n,o,a):e.apply(this,arguments):t.effects.animateClass.call(this,{toggle:i},s,n,o)}}(t.fn.toggleClass),switchClass:function(e,i,s,n,o){return t.effects.animateClass.call(this,{add:i,remove:e},s,n,o)}})}(),function(){function e(e,i,s,n){return t.isPlainObject(e)&&(i=e,e=e.effect),e={effect:e},null==i&&(i={}),t.isFunction(i)&&(n=i,s=null,i={}),("number"==typeof i||t.fx.speeds[i])&&(n=s,s=i,i={}),t.isFunction(s)&&(n=s,s=null),i&&t.extend(e,i),s=s||i.duration,e.duration=t.fx.off?0:"number"==typeof s?s:s in t.fx.speeds?t.fx.speeds[s]:t.fx.speeds._default,e.complete=n||i.complete,e}
function i(e){return!e||"number"==typeof e||t.fx.speeds[e]?!0:"string"!=typeof e||t.effects.effect[e]?t.isFunction(e)?!0:"object"!=typeof e||e.effect?!1:!0:!0}
function s(t,e){var i=e.outerWidth(),s=e.outerHeight(),n=/^rect\((-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto)\)$/,o=n.exec(t)||["",0,i,s,0];return{top:parseFloat(o[1])||0,right:"auto"===o[2]?i:parseFloat(o[2]),bottom:"auto"===o[3]?s:parseFloat(o[3]),left:parseFloat(o[4])||0}}
t.expr&&t.expr.filters&&t.expr.filters.animated&&(t.expr.filters.animated=function(e){return function(i){return!!t(i).data(d)||e(i)}}(t.expr.filters.animated)),t.uiBackCompat!==!1&&t.extend(t.effects,{save:function(t,e){for(var i=0,s=e.length;s>i;i++)null!==e[i]&&t.data(c+e[i],t[0].style[e[i]])},restore:function(t,e){for(var i,s=0,n=e.length;n>s;s++)null!==e[s]&&(i=t.data(c+e[s]),t.css(e[s],i))},setMode:function(t,e){return"toggle"===e&&(e=t.is(":hidden")?"show":"hide"),e},createWrapper:function(e){if(e.parent().is(".ui-effects-wrapper"))return e.parent();var i={width:e.outerWidth(!0),height:e.outerHeight(!0),"float":e.css("float")},s=t("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),n={width:e.width(),height:e.height()},o=document.activeElement;try{o.id}catch(a){o=document.body}
return e.wrap(s),(e[0]===o||t.contains(e[0],o))&&t(o).trigger("focus"),s=e.parent(),"static"===e.css("position")?(s.css({position:"relative"}),e.css({position:"relative"})):(t.extend(i,{position:e.css("position"),zIndex:e.css("z-index")}),t.each(["top","left","bottom","right"],function(t,s){i[s]=e.css(s),isNaN(parseInt(i[s],10))&&(i[s]="auto")}),e.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),e.css(n),s.css(i).show()},removeWrapper:function(e){var i=document.activeElement;return e.parent().is(".ui-effects-wrapper")&&(e.parent().replaceWith(e),(e[0]===i||t.contains(e[0],i))&&t(i).trigger("focus")),e}}),t.extend(t.effects,{version:"1.12.1",define:function(e,i,s){return s||(s=i,i="effect"),t.effects.effect[e]=s,t.effects.effect[e].mode=i,s},scaledDimensions:function(t,e,i){if(0===e)return{height:0,width:0,outerHeight:0,outerWidth:0};var s="horizontal"!==i?(e||100)/100:1,n="vertical"!==i?(e||100)/100:1;return{height:t.height()*n,width:t.width()*s,outerHeight:t.outerHeight()*n,outerWidth:t.outerWidth()*s}},clipToBox:function(t){return{width:t.clip.right-t.clip.left,height:t.clip.bottom-t.clip.top,left:t.clip.left,top:t.clip.top}},unshift:function(t,e,i){var s=t.queue();e>1&&s.splice.apply(s,[1,0].concat(s.splice(e,i))),t.dequeue()},saveStyle:function(t){t.data(u,t[0].style.cssText)},restoreStyle:function(t){t[0].style.cssText=t.data(u)||"",t.removeData(u)},mode:function(t,e){var i=t.is(":hidden");return"toggle"===e&&(e=i?"show":"hide"),(i?"hide"===e:"show"===e)&&(e="none"),e},getBaseline:function(t,e){var i,s;switch(t[0]){case "top":i=0;break;case "middle":i=.5;break;case "bottom":i=1;break;default:i=t[0]/e.height}
switch(t[1]){case "left":s=0;break;case "center":s=.5;break;case "right":s=1;break;default:s=t[1]/e.width}
return{x:s,y:i}},createPlaceholder:function(e){var i,s=e.css("position"),n=e.position();return e.css({marginTop:e.css("marginTop"),marginBottom:e.css("marginBottom"),marginLeft:e.css("marginLeft"),marginRight:e.css("marginRight")}).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()),/^(static|relative)/.test(s)&&(s="absolute",i=t("<"+e[0].nodeName+">").insertAfter(e).css({display:/^(inline|ruby)/.test(e.css("display"))?"inline-block":"block",visibility:"hidden",marginTop:e.css("marginTop"),marginBottom:e.css("marginBottom"),marginLeft:e.css("marginLeft"),marginRight:e.css("marginRight"),"float":e.css("float")}).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()).addClass("ui-effects-placeholder"),e.data(c+"placeholder",i)),e.css({position:s,left:n.left,top:n.top}),i},removePlaceholder:function(t){var e=c+"placeholder",i=t.data(e);i&&(i.remove(),t.removeData(e))},cleanUp:function(e){t.effects.restoreStyle(e),t.effects.removePlaceholder(e)},setTransition:function(e,i,s,n){return n=n||{},t.each(i,function(t,i){var o=e.cssUnit(i);o[0]>0&&(n[i]=o[0]*s+o[1])}),n}}),t.fn.extend({effect:function(){function i(e){function i(){r.removeData(d),t.effects.cleanUp(r),"hide"===s.mode&&r.hide(),a()}
function a(){t.isFunction(h)&&h.call(r[0]),t.isFunction(e)&&e()}
var r=t(this);s.mode=c.shift(),t.uiBackCompat===!1||o?"none"===s.mode?(r[l](),a()):n.call(r[0],s,i):(r.is(":hidden")?"hide"===l:"show"===l)?(r[l](),a()):n.call(r[0],s,a)}
var s=e.apply(this,arguments),n=t.effects.effect[s.effect],o=n.mode,a=s.queue,r=a||"fx",h=s.complete,l=s.mode,c=[],u=function(e){var i=t(this),s=t.effects.mode(i,l)||o;i.data(d,!0),c.push(s),o&&("show"===s||s===o&&"hide"===s)&&i.show(),o&&"none"===s||t.effects.saveStyle(i),t.isFunction(e)&&e()};return t.fx.off||!n?l?this[l](s.duration,h):this.each(function(){h&&h.call(this)}):a===!1?this.each(u).each(i):this.queue(r,u).queue(r,i)},show:function(t){return function(s){if(i(s))return t.apply(this,arguments);var n=e.apply(this,arguments);return n.mode="show",this.effect.call(this,n)}}(t.fn.show),hide:function(t){return function(s){if(i(s))return t.apply(this,arguments);var n=e.apply(this,arguments);return n.mode="hide",this.effect.call(this,n)}}(t.fn.hide),toggle:function(t){return function(s){if(i(s)||"boolean"==typeof s)return t.apply(this,arguments);var n=e.apply(this,arguments);return n.mode="toggle",this.effect.call(this,n)}}(t.fn.toggle),cssUnit:function(e){var i=this.css(e),s=[];return t.each(["em","px","%","pt"],function(t,e){i.indexOf(e)>0&&(s=[parseFloat(i),e])}),s},cssClip:function(t){return t?this.css("clip","rect("+t.top+"px "+t.right+"px "+t.bottom+"px "+t.left+"px)"):s(this.css("clip"),this)},transfer:function(e,i){var s=t(this),n=t(e.to),o="fixed"===n.css("position"),a=t("body"),r=o?a.scrollTop():0,h=o?a.scrollLeft():0,l=n.offset(),c={top:l.top-r,left:l.left-h,height:n.innerHeight(),width:n.innerWidth()},u=s.offset(),d=t("<div class='ui-effects-transfer'></div>").appendTo("body").addClass(e.className).css({top:u.top-r,left:u.left-h,height:s.innerHeight(),width:s.innerWidth(),position:o?"fixed":"absolute"}).animate(c,e.duration,e.easing,function(){d.remove(),t.isFunction(i)&&i()})}}),t.fx.step.clip=function(e){e.clipInit||(e.start=t(e.elem).cssClip(),"string"==typeof e.end&&(e.end=s(e.end,e.elem)),e.clipInit=!0),t(e.elem).cssClip({top:e.pos*(e.end.top-e.start.top)+e.start.top,right:e.pos*(e.end.right-e.start.right)+e.start.right,bottom:e.pos*(e.end.bottom-e.start.bottom)+e.start.bottom,left:e.pos*(e.end.left-e.start.left)+e.start.left})}}(),function(){var e={};t.each(["Quad","Cubic","Quart","Quint","Expo"],function(t,i){e[i]=function(e){return Math.pow(e,t+2)}}),t.extend(e,{Sine:function(t){return 1-Math.cos(t*Math.PI/2)},Circ:function(t){return 1-Math.sqrt(1-t*t)},Elastic:function(t){return 0===t||1===t?t:-Math.pow(2,8*(t-1))*Math.sin((80*(t-1)-7.5)*Math.PI/15)},Back:function(t){return t*t*(3*t-2)},Bounce:function(t){for(var e,i=4;((e=Math.pow(2,--i))-1)/11>t;);return 1/Math.pow(4,3-i)-7.5625*Math.pow((3*e-2)/22-t,2)}}),t.each(e,function(e,i){t.easing["easeIn"+e]=i,t.easing["easeOut"+e]=function(t){return 1-i(1-t)},t.easing["easeInOut"+e]=function(t){return.5>t?i(2*t)/2:1-i(-2*t+2)/2}})}();var f=t.effects;t.effects.define("blind","hide",function(e,i){var s={up:["bottom","top"],vertical:["bottom","top"],down:["top","bottom"],left:["right","left"],horizontal:["right","left"],right:["left","right"]},n=t(this),o=e.direction||"up",a=n.cssClip(),r={clip:t.extend({},a)},h=t.effects.createPlaceholder(n);r.clip[s[o][0]]=r.clip[s[o][1]],"show"===e.mode&&(n.cssClip(r.clip),h&&h.css(t.effects.clipToBox(r)),r.clip=a),h&&h.animate(t.effects.clipToBox(r),e.duration,e.easing),n.animate(r,{queue:!1,duration:e.duration,easing:e.easing,complete:i})}),t.effects.define("bounce",function(e,i){var s,n,o,a=t(this),r=e.mode,h="hide"===r,l="show"===r,c=e.direction||"up",u=e.distance,d=e.times||5,p=2*d+(l||h?1:0),f=e.duration/p,g=e.easing,m="up"===c||"down"===c?"top":"left",_="up"===c||"left"===c,v=0,b=a.queue().length;for(t.effects.createPlaceholder(a),o=a.css(m),u||(u=a["top"===m?"outerHeight":"outerWidth"]()/3),l&&(n={opacity:1},n[m]=o,a.css("opacity",0).css(m,_?2*-u:2*u).animate(n,f,g)),h&&(u/=Math.pow(2,d-1)),n={},n[m]=o;d>v;v++)s={},s[m]=(_?"-=":"+=")+u,a.animate(s,f,g).animate(n,f,g),u=h?2*u:u/2;h&&(s={opacity:0},s[m]=(_?"-=":"+=")+u,a.animate(s,f,g)),a.queue(i),t.effects.unshift(a,b,p+1)}),t.effects.define("clip","hide",function(e,i){var s,n={},o=t(this),a=e.direction||"vertical",r="both"===a,h=r||"horizontal"===a,l=r||"vertical"===a;s=o.cssClip(),n.clip={top:l?(s.bottom-s.top)/2:s.top,right:h?(s.right-s.left)/2:s.right,bottom:l?(s.bottom-s.top)/2:s.bottom,left:h?(s.right-s.left)/2:s.left},t.effects.createPlaceholder(o),"show"===e.mode&&(o.cssClip(n.clip),n.clip=s),o.animate(n,{queue:!1,duration:e.duration,easing:e.easing,complete:i})}),t.effects.define("drop","hide",function(e,i){var s,n=t(this),o=e.mode,a="show"===o,r=e.direction||"left",h="up"===r||"down"===r?"top":"left",l="up"===r||"left"===r?"-=":"+=",c="+="===l?"-=":"+=",u={opacity:0};t.effects.createPlaceholder(n),s=e.distance||n["top"===h?"outerHeight":"outerWidth"](!0)/2,u[h]=l+s,a&&(n.css(u),u[h]=c+s,u.opacity=1),n.animate(u,{queue:!1,duration:e.duration,easing:e.easing,complete:i})}),t.effects.define("explode","hide",function(e,i){function s(){b.push(this),b.length===u*d&&n()}
function n(){p.css({visibility:"visible"}),t(b).remove(),i()}
var o,a,r,h,l,c,u=e.pieces?Math.round(Math.sqrt(e.pieces)):3,d=u,p=t(this),f=e.mode,g="show"===f,m=p.show().css("visibility","hidden").offset(),_=Math.ceil(p.outerWidth()/d),v=Math.ceil(p.outerHeight()/u),b=[];for(o=0;u>o;o++)
for(h=m.top+o*v,c=o-(u-1)/2,a=0;d>a;a++)r=m.left+a*_,l=a-(d-1)/2,p.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-a*_,top:-o*v}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:_,height:v,left:r+(g?l*_:0),top:h+(g?c*v:0),opacity:g?0:1}).animate({left:r+(g?0:l*_),top:h+(g?0:c*v),opacity:g?1:0},e.duration||500,e.easing,s)}),t.effects.define("fade","toggle",function(e,i){var s="show"===e.mode;t(this).css("opacity",s?0:1).animate({opacity:s?1:0},{queue:!1,duration:e.duration,easing:e.easing,complete:i})}),t.effects.define("fold","hide",function(e,i){var s=t(this),n=e.mode,o="show"===n,a="hide"===n,r=e.size||15,h=/([0-9]+)%/.exec(r),l=!!e.horizFirst,c=l?["right","bottom"]:["bottom","right"],u=e.duration/2,d=t.effects.createPlaceholder(s),p=s.cssClip(),f={clip:t.extend({},p)},g={clip:t.extend({},p)},m=[p[c[0]],p[c[1]]],_=s.queue().length;h&&(r=parseInt(h[1],10)/100*m[a?0:1]),f.clip[c[0]]=r,g.clip[c[0]]=r,g.clip[c[1]]=0,o&&(s.cssClip(g.clip),d&&d.css(t.effects.clipToBox(g)),g.clip=p),s.queue(function(i){d&&d.animate(t.effects.clipToBox(f),u,e.easing).animate(t.effects.clipToBox(g),u,e.easing),i()}).animate(f,u,e.easing).animate(g,u,e.easing).queue(i),t.effects.unshift(s,_,4)}),t.effects.define("highlight","show",function(e,i){var s=t(this),n={backgroundColor:s.css("backgroundColor")};"hide"===e.mode&&(n.opacity=0),t.effects.saveStyle(s),s.css({backgroundImage:"none",backgroundColor:e.color||"#ffff99"}).animate(n,{queue:!1,duration:e.duration,easing:e.easing,complete:i})}),t.effects.define("size",function(e,i){var s,n,o,a=t(this),r=["fontSize"],h=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],l=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],c=e.mode,u="effect"!==c,d=e.scale||"both",p=e.origin||["middle","center"],f=a.css("position"),g=a.position(),m=t.effects.scaledDimensions(a),_=e.from||m,v=e.to||t.effects.scaledDimensions(a,0);t.effects.createPlaceholder(a),"show"===c&&(o=_,_=v,v=o),n={from:{y:_.height/m.height,x:_.width/m.width},to:{y:v.height/m.height,x:v.width/m.width}},("box"===d||"both"===d)&&(n.from.y!==n.to.y&&(_=t.effects.setTransition(a,h,n.from.y,_),v=t.effects.setTransition(a,h,n.to.y,v)),n.from.x!==n.to.x&&(_=t.effects.setTransition(a,l,n.from.x,_),v=t.effects.setTransition(a,l,n.to.x,v))),("content"===d||"both"===d)&&n.from.y!==n.to.y&&(_=t.effects.setTransition(a,r,n.from.y,_),v=t.effects.setTransition(a,r,n.to.y,v)),p&&(s=t.effects.getBaseline(p,m),_.top=(m.outerHeight-_.outerHeight)*s.y+g.top,_.left=(m.outerWidth-_.outerWidth)*s.x+g.left,v.top=(m.outerHeight-v.outerHeight)*s.y+g.top,v.left=(m.outerWidth-v.outerWidth)*s.x+g.left),a.css(_),("content"===d||"both"===d)&&(h=h.concat(["marginTop","marginBottom"]).concat(r),l=l.concat(["marginLeft","marginRight"]),a.find("*[width]").each(function(){var i=t(this),s=t.effects.scaledDimensions(i),o={height:s.height*n.from.y,width:s.width*n.from.x,outerHeight:s.outerHeight*n.from.y,outerWidth:s.outerWidth*n.from.x},a={height:s.height*n.to.y,width:s.width*n.to.x,outerHeight:s.height*n.to.y,outerWidth:s.width*n.to.x};n.from.y!==n.to.y&&(o=t.effects.setTransition(i,h,n.from.y,o),a=t.effects.setTransition(i,h,n.to.y,a)),n.from.x!==n.to.x&&(o=t.effects.setTransition(i,l,n.from.x,o),a=t.effects.setTransition(i,l,n.to.x,a)),u&&t.effects.saveStyle(i),i.css(o),i.animate(a,e.duration,e.easing,function(){u&&t.effects.restoreStyle(i)})})),a.animate(v,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){var e=a.offset();0===v.opacity&&a.css("opacity",_.opacity),u||(a.css("position","static"===f?"relative":f).offset(e),t.effects.saveStyle(a)),i()}})}),t.effects.define("scale",function(e,i){var s=t(this),n=e.mode,o=parseInt(e.percent,10)||(0===parseInt(e.percent,10)?0:"effect"!==n?0:100),a=t.extend(!0,{from:t.effects.scaledDimensions(s),to:t.effects.scaledDimensions(s,o,e.direction||"both"),origin:e.origin||["middle","center"]},e);e.fade&&(a.from.opacity=1,a.to.opacity=0),t.effects.effect.size.call(this,a,i)}),t.effects.define("puff","hide",function(e,i){var s=t.extend(!0,{},e,{fade:!0,percent:parseInt(e.percent,10)||150});t.effects.effect.scale.call(this,s,i)}),t.effects.define("pulsate","show",function(e,i){var s=t(this),n=e.mode,o="show"===n,a="hide"===n,r=o||a,h=2*(e.times||5)+(r?1:0),l=e.duration/h,c=0,u=1,d=s.queue().length;for((o||!s.is(":visible"))&&(s.css("opacity",0).show(),c=1);h>u;u++)s.animate({opacity:c},l,e.easing),c=1-c;s.animate({opacity:c},l,e.easing),s.queue(i),t.effects.unshift(s,d,h+1)}),t.effects.define("shake",function(e,i){var s=1,n=t(this),o=e.direction||"left",a=e.distance||20,r=e.times||3,h=2*r+1,l=Math.round(e.duration/h),c="up"===o||"down"===o?"top":"left",u="up"===o||"left"===o,d={},p={},f={},g=n.queue().length;for(t.effects.createPlaceholder(n),d[c]=(u?"-=":"+=")+a,p[c]=(u?"+=":"-=")+2*a,f[c]=(u?"-=":"+=")+2*a,n.animate(d,l,e.easing);r>s;s++)n.animate(p,l,e.easing).animate(f,l,e.easing);n.animate(p,l,e.easing).animate(d,l/2,e.easing).queue(i),t.effects.unshift(n,g,h+1)}),t.effects.define("slide","show",function(e,i){var s,n,o=t(this),a={up:["bottom","top"],down:["top","bottom"],left:["right","left"],right:["left","right"]},r=e.mode,h=e.direction||"left",l="up"===h||"down"===h?"top":"left",c="up"===h||"left"===h,u=e.distance||o["top"===l?"outerHeight":"outerWidth"](!0),d={};t.effects.createPlaceholder(o),s=o.cssClip(),n=o.position()[l],d[l]=(c?-1:1)*u+n,d.clip=o.cssClip(),d.clip[a[h][1]]=d.clip[a[h][0]],"show"===r&&(o.cssClip(d.clip),o.css(l,d[l]),d.clip=s,d[l]=n),o.animate(d,{queue:!1,duration:e.duration,easing:e.easing,complete:i})});var f;t.uiBackCompat!==!1&&(f=t.effects.define("transfer",function(e,i){t(this).transfer(e,i)})),t.ui.focusable=function(i,s){var n,o,a,r,h,l=i.nodeName.toLowerCase();return"area"===l?(n=i.parentNode,o=n.name,i.href&&o&&"map"===n.nodeName.toLowerCase()?(a=t("img[usemap='#"+o+"']"),a.length>0&&a.is(":visible")):!1):(/^(input|select|textarea|button|object)$/.test(l)?(r=!i.disabled,r&&(h=t(i).closest("fieldset")[0],h&&(r=!h.disabled))):r="a"===l?i.href||s:s,r&&t(i).is(":visible")&&e(t(i)))},t.extend(t.expr[":"],{focusable:function(e){return t.ui.focusable(e,null!=t.attr(e,"tabindex"))}}),t.ui.focusable,t.fn.form=function(){return"string"==typeof this[0].form?this.closest("form"):t(this[0].form)},t.ui.formResetMixin={_formResetHandler:function(){var e=t(this);setTimeout(function(){var i=e.data("ui-form-reset-instances");t.each(i,function(){this.refresh()})})},_bindFormResetHandler:function(){if(this.form=this.element.form(),this.form.length){var t=this.form.data("ui-form-reset-instances")||[];t.length||this.form.on("reset.ui-form-reset",this._formResetHandler),t.push(this),this.form.data("ui-form-reset-instances",t)}},_unbindFormResetHandler:function(){if(this.form.length){var e=this.form.data("ui-form-reset-instances");e.splice(t.inArray(this,e),1),e.length?this.form.data("ui-form-reset-instances",e):this.form.removeData("ui-form-reset-instances").off("reset.ui-form-reset")}}},"1.7"===t.fn.jquery.substring(0,3)&&(t.each(["Width","Height"],function(e,i){function s(e,i,s,o){return t.each(n,function(){i-=parseFloat(t.css(e,"padding"+this))||0,s&&(i-=parseFloat(t.css(e,"border"+this+"Width"))||0),o&&(i-=parseFloat(t.css(e,"margin"+this))||0)}),i}
var n="Width"===i?["Left","Right"]:["Top","Bottom"],o=i.toLowerCase(),a={innerWidth:t.fn.innerWidth,innerHeight:t.fn.innerHeight,outerWidth:t.fn.outerWidth,outerHeight:t.fn.outerHeight};t.fn["inner"+i]=function(e){return void 0===e?a["inner"+i].call(this):this.each(function(){t(this).css(o,s(this,e)+"px")})},t.fn["outer"+i]=function(e,n){return"number"!=typeof e?a["outer"+i].call(this,e):this.each(function(){t(this).css(o,s(this,e,!0,n)+"px")})}}),t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),t.ui.keyCode={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38},t.ui.escapeSelector=function(){var t=/([!"#$%&'()*+,.\/:;<=>?@[\]^`{|}~])/g;return function(e){return e.replace(t,"\\$1")}}(),t.fn.labels=function(){var e,i,s,n,o;return this[0].labels&&this[0].labels.length?this.pushStack(this[0].labels):(n=this.eq(0).parents("label"),s=this.attr("id"),s&&(e=this.eq(0).parents().last(),o=e.add(e.length?e.siblings():this.siblings()),i="label[for='"+t.ui.escapeSelector(s)+"']",n=n.add(o.find(i).addBack(i))),this.pushStack(n))},t.fn.scrollParent=function(e){var i=this.css("position"),s="absolute"===i,n=e?/(auto|scroll|hidden)/:/(auto|scroll)/,o=this.parents().filter(function(){var e=t(this);return s&&"static"===e.css("position")?!1:n.test(e.css("overflow")+e.css("overflow-y")+e.css("overflow-x"))}).eq(0);return"fixed"!==i&&o.length?o:t(this[0].ownerDocument||document)},t.extend(t.expr[":"],{tabbable:function(e){var i=t.attr(e,"tabindex"),s=null!=i;return(!s||i>=0)&&t.ui.focusable(e,s)}}),t.fn.extend({uniqueId:function(){var t=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++t)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&t(this).removeAttr("id")})}}),t.widget("ui.accordion",{version:"1.12.1",options:{active:0,animate:{},classes:{"ui-accordion-header":"ui-corner-top","ui-accordion-header-collapsed":"ui-corner-all","ui-accordion-content":"ui-corner-bottom"},collapsible:!1,event:"click",header:"> li > :first-child, > :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},hideProps:{borderTopWidth:"hide",borderBottomWidth:"hide",paddingTop:"hide",paddingBottom:"hide",height:"hide"},showProps:{borderTopWidth:"show",borderBottomWidth:"show",paddingTop:"show",paddingBottom:"show",height:"show"},_create:function(){var e=this.options;this.prevShow=this.prevHide=t(),this._addClass("ui-accordion","ui-widget ui-helper-reset"),this.element.attr("role","tablist"),e.collapsible||e.active!==!1&&null!=e.active||(e.active=0),this._processPanels(),0>e.active&&(e.active+=this.headers.length),this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():t()}},_createIcons:function(){var e,i,s=this.options.icons;s&&(e=t("<span>"),this._addClass(e,"ui-accordion-header-icon","ui-icon "+s.header),e.prependTo(this.headers),i=this.active.children(".ui-accordion-header-icon"),this._removeClass(i,s.header)._addClass(i,null,s.activeHeader)._addClass(this.headers,"ui-accordion-icons"))},_destroyIcons:function(){this._removeClass(this.headers,"ui-accordion-icons"),this.headers.children(".ui-accordion-header-icon").remove()},_destroy:function(){var t;this.element.removeAttr("role"),this.headers.removeAttr("role aria-expanded aria-selected aria-controls tabIndex").removeUniqueId(),this._destroyIcons(),t=this.headers.next().css("display","").removeAttr("role aria-hidden aria-labelledby").removeUniqueId(),"content"!==this.options.heightStyle&&t.css("height","")},_setOption:function(t,e){return"active"===t?(this._activate(e),void 0):("event"===t&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(e)),this._super(t,e),"collapsible"!==t||e||this.options.active!==!1||this._activate(0),"icons"===t&&(this._destroyIcons(),e&&this._createIcons()),void 0)},_setOptionDisabled:function(t){this._super(t),this.element.attr("aria-disabled",t),this._toggleClass(null,"ui-state-disabled",!!t),this._toggleClass(this.headers.add(this.headers.next()),null,"ui-state-disabled",!!t)},_keydown:function(e){if(!e.altKey&&!e.ctrlKey){var i=t.ui.keyCode,s=this.headers.length,n=this.headers.index(e.target),o=!1;switch(e.keyCode){case i.RIGHT:case i.DOWN:o=this.headers[(n+1)%s];break;case i.LEFT:case i.UP:o=this.headers[(n-1+s)%s];break;case i.SPACE:case i.ENTER:this._eventHandler(e);break;case i.HOME:o=this.headers[0];break;case i.END:o=this.headers[s-1]}
o&&(t(e.target).attr("tabIndex",-1),t(o).attr("tabIndex",0),t(o).trigger("focus"),e.preventDefault())}},_panelKeyDown:function(e){e.keyCode===t.ui.keyCode.UP&&e.ctrlKey&&t(e.currentTarget).prev().trigger("focus")},refresh:function(){var e=this.options;this._processPanels(),e.active===!1&&e.collapsible===!0||!this.headers.length?(e.active=!1,this.active=t()):e.active===!1?this._activate(0):this.active.length&&!t.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(e.active=!1,this.active=t()):this._activate(Math.max(0,e.active-1)):e.active=this.headers.index(this.active),this._destroyIcons(),this._refresh()},_processPanels:function(){var t=this.headers,e=this.panels;this.headers=this.element.find(this.options.header),this._addClass(this.headers,"ui-accordion-header ui-accordion-header-collapsed","ui-state-default"),this.panels=this.headers.next().filter(":not(.ui-accordion-content-active)").hide(),this._addClass(this.panels,"ui-accordion-content","ui-helper-reset ui-widget-content"),e&&(this._off(t.not(this.headers)),this._off(e.not(this.panels)))},_refresh:function(){var e,i=this.options,s=i.heightStyle,n=this.element.parent();this.active=this._findActive(i.active),this._addClass(this.active,"ui-accordion-header-active","ui-state-active")._removeClass(this.active,"ui-accordion-header-collapsed"),this._addClass(this.active.next(),"ui-accordion-content-active"),this.active.next().show(),this.headers.attr("role","tab").each(function(){var e=t(this),i=e.uniqueId().attr("id"),s=e.next(),n=s.uniqueId().attr("id");e.attr("aria-controls",n),s.attr("aria-labelledby",i)}).next().attr("role","tabpanel"),this.headers.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}).next().attr({"aria-hidden":"true"}).hide(),this.active.length?this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}).next().attr({"aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0),this._createIcons(),this._setupEvents(i.event),"fill"===s?(e=n.height(),this.element.siblings(":visible").each(function(){var i=t(this),s=i.css("position");"absolute"!==s&&"fixed"!==s&&(e-=i.outerHeight(!0))}),this.headers.each(function(){e-=t(this).outerHeight(!0)}),this.headers.next().each(function(){t(this).height(Math.max(0,e-t(this).innerHeight()+t(this).height()))}).css("overflow","auto")):"auto"===s&&(e=0,this.headers.next().each(function(){var i=t(this).is(":visible");i||t(this).show(),e=Math.max(e,t(this).css("height","").height()),i||t(this).hide()}).height(e))},_activate:function(e){var i=this._findActive(e)[0];i!==this.active[0]&&(i=i||this.active[0],this._eventHandler({target:i,currentTarget:i,preventDefault:t.noop}))},_findActive:function(e){return"number"==typeof e?this.headers.eq(e):t()},_setupEvents:function(e){var i={keydown:"_keydown"};e&&t.each(e.split(" "),function(t,e){i[e]="_eventHandler"}),this._off(this.headers.add(this.headers.next())),this._on(this.headers,i),this._on(this.headers.next(),{keydown:"_panelKeyDown"}),this._hoverable(this.headers),this._focusable(this.headers)},_eventHandler:function(e){var i,s,n=this.options,o=this.active,a=t(e.currentTarget),r=a[0]===o[0],h=r&&n.collapsible,l=h?t():a.next(),c=o.next(),u={oldHeader:o,oldPanel:c,newHeader:h?t():a,newPanel:l};e.preventDefault(),r&&!n.collapsible||this._trigger("beforeActivate",e,u)===!1||(n.active=h?!1:this.headers.index(a),this.active=r?t():a,this._toggle(u),this._removeClass(o,"ui-accordion-header-active","ui-state-active"),n.icons&&(i=o.children(".ui-accordion-header-icon"),this._removeClass(i,null,n.icons.activeHeader)._addClass(i,null,n.icons.header)),r||(this._removeClass(a,"ui-accordion-header-collapsed")._addClass(a,"ui-accordion-header-active","ui-state-active"),n.icons&&(s=a.children(".ui-accordion-header-icon"),this._removeClass(s,null,n.icons.header)._addClass(s,null,n.icons.activeHeader)),this._addClass(a.next(),"ui-accordion-content-active")))},_toggle:function(e){var i=e.newPanel,s=this.prevShow.length?this.prevShow:e.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=i,this.prevHide=s,this.options.animate?this._animate(i,s,e):(s.hide(),i.show(),this._toggleComplete(e)),s.attr({"aria-hidden":"true"}),s.prev().attr({"aria-selected":"false","aria-expanded":"false"}),i.length&&s.length?s.prev().attr({tabIndex:-1,"aria-expanded":"false"}):i.length&&this.headers.filter(function(){return 0===parseInt(t(this).attr("tabIndex"),10)}).attr("tabIndex",-1),i.attr("aria-hidden","false").prev().attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_animate:function(t,e,i){var s,n,o,a=this,r=0,h=t.css("box-sizing"),l=t.length&&(!e.length||t.index()<e.index()),c=this.options.animate||{},u=l&&c.down||c,d=function(){a._toggleComplete(i)};return"number"==typeof u&&(o=u),"string"==typeof u&&(n=u),n=n||u.easing||c.easing,o=o||u.duration||c.duration,e.length?t.length?(s=t.show().outerHeight(),e.animate(this.hideProps,{duration:o,easing:n,step:function(t,e){e.now=Math.round(t)}}),t.hide().animate(this.showProps,{duration:o,easing:n,complete:d,step:function(t,i){i.now=Math.round(t),"height"!==i.prop?"content-box"===h&&(r+=i.now):"content"!==a.options.heightStyle&&(i.now=Math.round(s-e.outerHeight()-r),r=0)}}),void 0):e.animate(this.hideProps,o,n,d):t.animate(this.showProps,o,n,d)},_toggleComplete:function(t){var e=t.oldPanel,i=e.prev();this._removeClass(e,"ui-accordion-content-active"),this._removeClass(i,"ui-accordion-header-active")._addClass(i,"ui-accordion-header-collapsed"),e.length&&(e.parent()[0].className=e.parent()[0].className),this._trigger("activate",null,t)}}),t.ui.safeActiveElement=function(t){var e;try{e=t.activeElement}catch(i){e=t.body}
return e||(e=t.body),e.nodeName||(e=t.body),e},t.widget("ui.menu",{version:"1.12.1",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-caret-1-e"},items:"> *",menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().attr({role:this.options.role,tabIndex:0}),this._addClass("ui-menu","ui-widget ui-widget-content"),this._on({"mousedown .ui-menu-item":function(t){t.preventDefault()},"click .ui-menu-item":function(e){var i=t(e.target),s=t(t.ui.safeActiveElement(this.document[0]));!this.mouseHandled&&i.not(".ui-state-disabled").length&&(this.select(e),e.isPropagationStopped()||(this.mouseHandled=!0),i.has(".ui-menu").length?this.expand(e):!this.element.is(":focus")&&s.closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(e){if(!this.previousFilter){var i=t(e.target).closest(".ui-menu-item"),s=t(e.currentTarget);i[0]===s[0]&&(this._removeClass(s.siblings().children(".ui-state-active"),null,"ui-state-active"),this.focus(e,s))}},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(t,e){var i=this.active||this.element.find(this.options.items).eq(0);e||this.focus(t,i)},blur:function(e){this._delay(function(){var i=!t.contains(this.element[0],t.ui.safeActiveElement(this.document[0]));i&&this.collapseAll(e)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(t){this._closeOnDocumentClick(t)&&this.collapseAll(t),this.mouseHandled=!1}})},_destroy:function(){var e=this.element.find(".ui-menu-item").removeAttr("role aria-disabled"),i=e.children(".ui-menu-item-wrapper").removeUniqueId().removeAttr("tabIndex role aria-haspopup");this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeAttr("role aria-labelledby aria-expanded aria-hidden aria-disabled tabIndex").removeUniqueId().show(),i.children().each(function(){var e=t(this);e.data("ui-menu-submenu-caret")&&e.remove()})},_keydown:function(e){var i,s,n,o,a=!0;switch(e.keyCode){case t.ui.keyCode.PAGE_UP:this.previousPage(e);break;case t.ui.keyCode.PAGE_DOWN:this.nextPage(e);break;case t.ui.keyCode.HOME:this._move("first","first",e);break;case t.ui.keyCode.END:this._move("last","last",e);break;case t.ui.keyCode.UP:this.previous(e);break;case t.ui.keyCode.DOWN:this.next(e);break;case t.ui.keyCode.LEFT:this.collapse(e);break;case t.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(e);break;case t.ui.keyCode.ENTER:case t.ui.keyCode.SPACE:this._activate(e);break;case t.ui.keyCode.ESCAPE:this.collapse(e);break;default:a=!1,s=this.previousFilter||"",o=!1,n=e.keyCode>=96&&105>=e.keyCode?""+(e.keyCode-96):String.fromCharCode(e.keyCode),clearTimeout(this.filterTimer),n===s?o=!0:n=s+n,i=this._filterMenuItems(n),i=o&&-1!==i.index(this.active.next())?this.active.nextAll(".ui-menu-item"):i,i.length||(n=String.fromCharCode(e.keyCode),i=this._filterMenuItems(n)),i.length?(this.focus(e,i),this.previousFilter=n,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter}
a&&e.preventDefault()},_activate:function(t){this.active&&!this.active.is(".ui-state-disabled")&&(this.active.children("[aria-haspopup='true']").length?this.expand(t):this.select(t))},refresh:function(){var e,i,s,n,o,a=this,r=this.options.icons.submenu,h=this.element.find(this.options.menus);this._toggleClass("ui-menu-icons",null,!!this.element.find(".ui-icon").length),s=h.filter(":not(.ui-menu)").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var e=t(this),i=e.prev(),s=t("<span>").data("ui-menu-submenu-caret",!0);a._addClass(s,"ui-menu-icon","ui-icon "+r),i.attr("aria-haspopup","true").prepend(s),e.attr("aria-labelledby",i.attr("id"))}),this._addClass(s,"ui-menu","ui-widget ui-widget-content ui-front"),e=h.add(this.element),i=e.find(this.options.items),i.not(".ui-menu-item").each(function(){var e=t(this);a._isDivider(e)&&a._addClass(e,"ui-menu-divider","ui-widget-content")}),n=i.not(".ui-menu-item, .ui-menu-divider"),o=n.children().not(".ui-menu").uniqueId().attr({tabIndex:-1,role:this._itemRole()}),this._addClass(n,"ui-menu-item")._addClass(o,"ui-menu-item-wrapper"),i.filter(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!t.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(t,e){if("icons"===t){var i=this.element.find(".ui-menu-icon");this._removeClass(i,null,this.options.icons.submenu)._addClass(i,null,e.submenu)}
this._super(t,e)},_setOptionDisabled:function(t){this._super(t),this.element.attr("aria-disabled",t+""),this._toggleClass(null,"ui-state-disabled",!!t)},focus:function(t,e){var i,s,n;this.blur(t,t&&"focus"===t.type),this._scrollIntoView(e),this.active=e.first(),s=this.active.children(".ui-menu-item-wrapper"),this._addClass(s,null,"ui-state-active"),this.options.role&&this.element.attr("aria-activedescendant",s.attr("id")),n=this.active.parent().closest(".ui-menu-item").children(".ui-menu-item-wrapper"),this._addClass(n,null,"ui-state-active"),t&&"keydown"===t.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),i=e.children(".ui-menu"),i.length&&t&&/^mouse/.test(t.type)&&this._startOpening(i),this.activeMenu=e.parent(),this._trigger("focus",t,{item:e})},_scrollIntoView:function(e){var i,s,n,o,a,r;this._hasScroll()&&(i=parseFloat(t.css(this.activeMenu[0],"borderTopWidth"))||0,s=parseFloat(t.css(this.activeMenu[0],"paddingTop"))||0,n=e.offset().top-this.activeMenu.offset().top-i-s,o=this.activeMenu.scrollTop(),a=this.activeMenu.height(),r=e.outerHeight(),0>n?this.activeMenu.scrollTop(o+n):n+r>a&&this.activeMenu.scrollTop(o+n-a+r))},blur:function(t,e){e||clearTimeout(this.timer),this.active&&(this._removeClass(this.active.children(".ui-menu-item-wrapper"),null,"ui-state-active"),this._trigger("blur",t,{item:this.active}),this.active=null)},_startOpening:function(t){clearTimeout(this.timer),"true"===t.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(t)},this.delay))},_open:function(e){var i=t.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(e.parents(".ui-menu")).hide().attr("aria-hidden","true"),e.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(i)},collapseAll:function(e,i){clearTimeout(this.timer),this.timer=this._delay(function(){var s=i?this.element:t(e&&e.target).closest(this.element.find(".ui-menu"));s.length||(s=this.element),this._close(s),this.blur(e),this._removeClass(s.find(".ui-state-active"),null,"ui-state-active"),this.activeMenu=s},this.delay)},_close:function(t){t||(t=this.active?this.active.parent():this.element),t.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false")},_closeOnDocumentClick:function(e){return!t(e.target).closest(".ui-menu").length},_isDivider:function(t){return!/[^\-\u2014\u2013\s]/.test(t.text())},collapse:function(t){var e=this.active&&this.active.parent().closest(".ui-menu-item",this.element);e&&e.length&&(this._close(),this.focus(t,e))},expand:function(t){var e=this.active&&this.active.children(".ui-menu ").find(this.options.items).first();e&&e.length&&(this._open(e.parent()),this._delay(function(){this.focus(t,e)}))},next:function(t){this._move("next","first",t)},previous:function(t){this._move("prev","last",t)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(t,e,i){var s;this.active&&(s="first"===t||"last"===t?this.active["first"===t?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[t+"All"](".ui-menu-item").eq(0)),s&&s.length&&this.active||(s=this.activeMenu.find(this.options.items)[e]()),this.focus(i,s)},nextPage:function(e){var i,s,n;return this.active?(this.isLastItem()||(this._hasScroll()?(s=this.active.offset().top,n=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return i=t(this),0>i.offset().top-s-n}),this.focus(e,i)):this.focus(e,this.activeMenu.find(this.options.items)[this.active?"last":"first"]())),void 0):(this.next(e),void 0)},previousPage:function(e){var i,s,n;return this.active?(this.isFirstItem()||(this._hasScroll()?(s=this.active.offset().top,n=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return i=t(this),i.offset().top-s+n>0}),this.focus(e,i)):this.focus(e,this.activeMenu.find(this.options.items).first())),void 0):(this.next(e),void 0)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(e){this.active=this.active||t(e.target).closest(".ui-menu-item");var i={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(e,!0),this._trigger("select",e,i)},_filterMenuItems:function(e){var i=e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"),s=RegExp("^"+i,"i");return this.activeMenu.find(this.options.items).filter(".ui-menu-item").filter(function(){return s.test(t.trim(t(this).children(".ui-menu-item-wrapper").text()))})}}),t.widget("ui.autocomplete",{version:"1.12.1",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var e,i,s,n=this.element[0].nodeName.toLowerCase(),o="textarea"===n,a="input"===n;this.isMultiLine=o||!a&&this._isContentEditable(this.element),this.valueMethod=this.element[o||a?"val":"text"],this.isNewMenu=!0,this._addClass("ui-autocomplete-input"),this.element.attr("autocomplete","off"),this._on(this.element,{keydown:function(n){if(this.element.prop("readOnly"))return e=!0,s=!0,i=!0,void 0;e=!1,s=!1,i=!1;var o=t.ui.keyCode;switch(n.keyCode){case o.PAGE_UP:e=!0,this._move("previousPage",n);break;case o.PAGE_DOWN:e=!0,this._move("nextPage",n);break;case o.UP:e=!0,this._keyEvent("previous",n);break;case o.DOWN:e=!0,this._keyEvent("next",n);break;case o.ENTER:this.menu.active&&(e=!0,n.preventDefault(),this.menu.select(n));break;case o.TAB:this.menu.active&&this.menu.select(n);break;case o.ESCAPE:this.menu.element.is(":visible")&&(this.isMultiLine||this._value(this.term),this.close(n),n.preventDefault());break;default:i=!0,this._searchTimeout(n)}},keypress:function(s){if(e)return e=!1,(!this.isMultiLine||this.menu.element.is(":visible"))&&s.preventDefault(),void 0;if(!i){var n=t.ui.keyCode;switch(s.keyCode){case n.PAGE_UP:this._move("previousPage",s);break;case n.PAGE_DOWN:this._move("nextPage",s);break;case n.UP:this._keyEvent("previous",s);break;case n.DOWN:this._keyEvent("next",s)}}},input:function(t){return s?(s=!1,t.preventDefault(),void 0):(this._searchTimeout(t),void 0)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(t){return this.cancelBlur?(delete this.cancelBlur,void 0):(clearTimeout(this.searching),this.close(t),this._change(t),void 0)}}),this._initSource(),this.menu=t("<ul>").appendTo(this._appendTo()).menu({role:null}).hide().menu("instance"),this._addClass(this.menu.element,"ui-autocomplete","ui-front"),this._on(this.menu.element,{mousedown:function(e){e.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,this.element[0]!==t.ui.safeActiveElement(this.document[0])&&this.element.trigger("focus")})},menufocus:function(e,i){var s,n;return this.isNewMenu&&(this.isNewMenu=!1,e.originalEvent&&/^mouse/.test(e.originalEvent.type))?(this.menu.blur(),this.document.one("mousemove",function(){t(e.target).trigger(e.originalEvent)}),void 0):(n=i.item.data("ui-autocomplete-item"),!1!==this._trigger("focus",e,{item:n})&&e.originalEvent&&/^key/.test(e.originalEvent.type)&&this._value(n.value),s=i.item.attr("aria-label")||n.value,s&&t.trim(s).length&&(this.liveRegion.children().hide(),t("<div>").text(s).appendTo(this.liveRegion)),void 0)},menuselect:function(e,i){var s=i.item.data("ui-autocomplete-item"),n=this.previous;this.element[0]!==t.ui.safeActiveElement(this.document[0])&&(this.element.trigger("focus"),this.previous=n,this._delay(function(){this.previous=n,this.selectedItem=s})),!1!==this._trigger("select",e,{item:s})&&this._value(s.value),this.term=this._value(),this.close(e),this.selectedItem=s}}),this.liveRegion=t("<div>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body),this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible"),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(t,e){this._super(t,e),"source"===t&&this._initSource(),"appendTo"===t&&this.menu.element.appendTo(this._appendTo()),"disabled"===t&&e&&this.xhr&&this.xhr.abort()},_isEventTargetInWidget:function(e){var i=this.menu.element[0];return e.target===this.element[0]||e.target===i||t.contains(i,e.target)},_closeOnClickOutside:function(t){this._isEventTargetInWidget(t)||this.close()},_appendTo:function(){var e=this.options.appendTo;return e&&(e=e.jquery||e.nodeType?t(e):this.document.find(e).eq(0)),e&&e[0]||(e=this.element.closest(".ui-front, dialog")),e.length||(e=this.document[0].body),e},_initSource:function(){var e,i,s=this;t.isArray(this.options.source)?(e=this.options.source,this.source=function(i,s){s(t.ui.autocomplete.filter(e,i.term))}):"string"==typeof this.options.source?(i=this.options.source,this.source=function(e,n){s.xhr&&s.xhr.abort(),s.xhr=t.ajax({url:i,data:e,dataType:"json",success:function(t){n(t)},error:function(){n([])}})}):this.source=this.options.source},_searchTimeout:function(t){clearTimeout(this.searching),this.searching=this._delay(function(){var e=this.term===this._value(),i=this.menu.element.is(":visible"),s=t.altKey||t.ctrlKey||t.metaKey||t.shiftKey;(!e||e&&!i&&!s)&&(this.selectedItem=null,this.search(null,t))},this.options.delay)},search:function(t,e){return t=null!=t?t:this._value(),this.term=this._value(),t.length<this.options.minLength?this.close(e):this._trigger("search",e)!==!1?this._search(t):void 0},_search:function(t){this.pending++,this._addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:t},this._response())},_response:function(){var e=++this.requestIndex;return t.proxy(function(t){e===this.requestIndex&&this.__response(t),this.pending--,this.pending||this._removeClass("ui-autocomplete-loading")},this)},__response:function(t){t&&(t=this._normalize(t)),this._trigger("response",null,{content:t}),!this.options.disabled&&t&&t.length&&!this.cancelSearch?(this._suggest(t),this._trigger("open")):this._close()},close:function(t){this.cancelSearch=!0,this._close(t)},_close:function(t){this._off(this.document,"mousedown"),this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",t))},_change:function(t){this.previous!==this._value()&&this._trigger("change",t,{item:this.selectedItem})},_normalize:function(e){return e.length&&e[0].label&&e[0].value?e:t.map(e,function(e){return"string"==typeof e?{label:e,value:e}:t.extend({},e,{label:e.label||e.value,value:e.value||e.label})})},_suggest:function(e){var i=this.menu.element.empty();this._renderMenu(i,e),this.isNewMenu=!0,this.menu.refresh(),i.show(),this._resizeMenu(),i.position(t.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next(),this._on(this.document,{mousedown:"_closeOnClickOutside"})},_resizeMenu:function(){var t=this.menu.element;t.outerWidth(Math.max(t.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(e,i){var s=this;t.each(i,function(t,i){s._renderItemData(e,i)})},_renderItemData:function(t,e){return this._renderItem(t,e).data("ui-autocomplete-item",e)},_renderItem:function(e,i){return t("<li>").append(t("<div>").text(i.label)).appendTo(e)},_move:function(t,e){return this.menu.element.is(":visible")?this.menu.isFirstItem()&&/^previous/.test(t)||this.menu.isLastItem()&&/^next/.test(t)?(this.isMultiLine||this._value(this.term),this.menu.blur(),void 0):(this.menu[t](e),void 0):(this.search(null,e),void 0)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(t,e){(!this.isMultiLine||this.menu.element.is(":visible"))&&(this._move(t,e),e.preventDefault())},_isContentEditable:function(t){if(!t.length)return!1;var e=t.prop("contentEditable");return"inherit"===e?this._isContentEditable(t.parent()):"true"===e}}),t.extend(t.ui.autocomplete,{escapeRegex:function(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(e,i){var s=RegExp(t.ui.autocomplete.escapeRegex(i),"i");return t.grep(e,function(t){return s.test(t.label||t.value||t)})}}),t.widget("ui.autocomplete",t.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(t){return t+(t>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(e){var i;this._superApply(arguments),this.options.disabled||this.cancelSearch||(i=e&&e.length?this.options.messages.results(e.length):this.options.messages.noResults,this.liveRegion.children().hide(),t("<div>").text(i).appendTo(this.liveRegion))}}),t.ui.autocomplete;var g=/ui-corner-([a-z]){2,6}/g;t.widget("ui.controlgroup",{version:"1.12.1",defaultElement:"<div>",options:{direction:"horizontal",disabled:null,onlyVisible:!0,items:{button:"input[type=button], input[type=submit], input[type=reset], button, a",controlgroupLabel:".ui-controlgroup-label",checkboxradio:"input[type='checkbox'], input[type='radio']",selectmenu:"select",spinner:".ui-spinner-input"}},_create:function(){this._enhance()},_enhance:function(){this.element.attr("role","toolbar"),this.refresh()},_destroy:function(){this._callChildMethod("destroy"),this.childWidgets.removeData("ui-controlgroup-data"),this.element.removeAttr("role"),this.options.items.controlgroupLabel&&this.element.find(this.options.items.controlgroupLabel).find(".ui-controlgroup-label-contents").contents().unwrap()},_initWidgets:function(){var e=this,i=[];t.each(this.options.items,function(s,n){var o,a={};return n?"controlgroupLabel"===s?(o=e.element.find(n),o.each(function(){var e=t(this);e.children(".ui-controlgroup-label-contents").length||e.contents().wrapAll("<span class='ui-controlgroup-label-contents'></span>")}),e._addClass(o,null,"ui-widget ui-widget-content ui-state-default"),i=i.concat(o.get()),void 0):(t.fn[s]&&(a=e["_"+s+"Options"]?e["_"+s+"Options"]("middle"):{classes:{}},e.element.find(n).each(function(){var n=t(this),o=n[s]("instance"),r=t.widget.extend({},a);if("button"!==s||!n.parent(".ui-spinner").length){o||(o=n[s]()[s]("instance")),o&&(r.classes=e._resolveClassesValues(r.classes,o)),n[s](r);var h=n[s]("widget");t.data(h[0],"ui-controlgroup-data",o?o:n[s]("instance")),i.push(h[0])}})),void 0):void 0}),this.childWidgets=t(t.unique(i)),this._addClass(this.childWidgets,"ui-controlgroup-item")},_callChildMethod:function(e){this.childWidgets.each(function(){var i=t(this),s=i.data("ui-controlgroup-data");s&&s[e]&&s[e]()})},_updateCornerClass:function(t,e){var i="ui-corner-top ui-corner-bottom ui-corner-left ui-corner-right ui-corner-all",s=this._buildSimpleOptions(e,"label").classes.label;this._removeClass(t,null,i),this._addClass(t,null,s)},_buildSimpleOptions:function(t,e){var i="vertical"===this.options.direction,s={classes:{}};return s.classes[e]={middle:"",first:"ui-corner-"+(i?"top":"left"),last:"ui-corner-"+(i?"bottom":"right"),only:"ui-corner-all"}[t],s},_spinnerOptions:function(t){var e=this._buildSimpleOptions(t,"ui-spinner");return e.classes["ui-spinner-up"]="",e.classes["ui-spinner-down"]="",e},_buttonOptions:function(t){return this._buildSimpleOptions(t,"ui-button")},_checkboxradioOptions:function(t){return this._buildSimpleOptions(t,"ui-checkboxradio-label")},_selectmenuOptions:function(t){var e="vertical"===this.options.direction;return{width:e?"auto":!1,classes:{middle:{"ui-selectmenu-button-open":"","ui-selectmenu-button-closed":""},first:{"ui-selectmenu-button-open":"ui-corner-"+(e?"top":"tl"),"ui-selectmenu-button-closed":"ui-corner-"+(e?"top":"left")},last:{"ui-selectmenu-button-open":e?"":"ui-corner-tr","ui-selectmenu-button-closed":"ui-corner-"+(e?"bottom":"right")},only:{"ui-selectmenu-button-open":"ui-corner-top","ui-selectmenu-button-closed":"ui-corner-all"}}[t]}},_resolveClassesValues:function(e,i){var s={};return t.each(e,function(n){var o=i.options.classes[n]||"";o=t.trim(o.replace(g,"")),s[n]=(o+" "+e[n]).replace(/\s+/g," ")}),s},_setOption:function(t,e){return"direction"===t&&this._removeClass("ui-controlgroup-"+this.options.direction),this._super(t,e),"disabled"===t?(this._callChildMethod(e?"disable":"enable"),void 0):(this.refresh(),void 0)},refresh:function(){var e,i=this;this._addClass("ui-controlgroup ui-controlgroup-"+this.options.direction),"horizontal"===this.options.direction&&this._addClass(null,"ui-helper-clearfix"),this._initWidgets(),e=this.childWidgets,this.options.onlyVisible&&(e=e.filter(":visible")),e.length&&(t.each(["first","last"],function(t,s){var n=e[s]().data("ui-controlgroup-data");if(n&&i["_"+n.widgetName+"Options"]){var o=i["_"+n.widgetName+"Options"](1===e.length?"only":s);o.classes=i._resolveClassesValues(o.classes,n),n.element[n.widgetName](o)}else i._updateCornerClass(e[s](),s)}),this._callChildMethod("refresh"))}}),t.widget("ui.checkboxradio",[t.ui.formResetMixin,{version:"1.12.1",options:{disabled:null,label:null,icon:!0,classes:{"ui-checkboxradio-label":"ui-corner-all","ui-checkboxradio-icon":"ui-corner-all"}},_getCreateOptions:function(){var e,i,s=this,n=this._super()||{};return this._readType(),i=this.element.labels(),this.label=t(i[i.length-1]),this.label.length||t.error("No label found for checkboxradio widget"),this.originalLabel="",this.label.contents().not(this.element[0]).each(function(){s.originalLabel+=3===this.nodeType?t(this).text():this.outerHTML}),this.originalLabel&&(n.label=this.originalLabel),e=this.element[0].disabled,null!=e&&(n.disabled=e),n},_create:function(){var t=this.element[0].checked;this._bindFormResetHandler(),null==this.options.disabled&&(this.options.disabled=this.element[0].disabled),this._setOption("disabled",this.options.disabled),this._addClass("ui-checkboxradio","ui-helper-hidden-accessible"),this._addClass(this.label,"ui-checkboxradio-label","ui-button ui-widget"),"radio"===this.type&&this._addClass(this.label,"ui-checkboxradio-radio-label"),this.options.label&&this.options.label!==this.originalLabel?this._updateLabel():this.originalLabel&&(this.options.label=this.originalLabel),this._enhance(),t&&(this._addClass(this.label,"ui-checkboxradio-checked","ui-state-active"),this.icon&&this._addClass(this.icon,null,"ui-state-hover")),this._on({change:"_toggleClasses",focus:function(){this._addClass(this.label,null,"ui-state-focus ui-visual-focus")},blur:function(){this._removeClass(this.label,null,"ui-state-focus ui-visual-focus")}})},_readType:function(){var e=this.element[0].nodeName.toLowerCase();this.type=this.element[0].type,"input"===e&&/radio|checkbox/.test(this.type)||t.error("Can't create checkboxradio on element.nodeName="+e+" and element.type="+this.type)},_enhance:function(){this._updateIcon(this.element[0].checked)},widget:function(){return this.label},_getRadioGroup:function(){var e,i=this.element[0].name,s="input[name='"+t.ui.escapeSelector(i)+"']";return i?(e=this.form.length?t(this.form[0].elements).filter(s):t(s).filter(function(){return 0===t(this).form().length}),e.not(this.element)):t([])},_toggleClasses:function(){var e=this.element[0].checked;this._toggleClass(this.label,"ui-checkboxradio-checked","ui-state-active",e),this.options.icon&&"checkbox"===this.type&&this._toggleClass(this.icon,null,"ui-icon-check ui-state-checked",e)._toggleClass(this.icon,null,"ui-icon-blank",!e),"radio"===this.type&&this._getRadioGroup().each(function(){var e=t(this).checkboxradio("instance");e&&e._removeClass(e.label,"ui-checkboxradio-checked","ui-state-active")})},_destroy:function(){this._unbindFormResetHandler(),this.icon&&(this.icon.remove(),this.iconSpace.remove())},_setOption:function(t,e){return"label"!==t||e?(this._super(t,e),"disabled"===t?(this._toggleClass(this.label,null,"ui-state-disabled",e),this.element[0].disabled=e,void 0):(this.refresh(),void 0)):void 0},_updateIcon:function(e){var i="ui-icon ui-icon-background ";this.options.icon?(this.icon||(this.icon=t("<span>"),this.iconSpace=t("<span> </span>"),this._addClass(this.iconSpace,"ui-checkboxradio-icon-space")),"checkbox"===this.type?(i+=e?"ui-icon-check ui-state-checked":"ui-icon-blank",this._removeClass(this.icon,null,e?"ui-icon-blank":"ui-icon-check")):i+="ui-icon-blank",this._addClass(this.icon,"ui-checkboxradio-icon",i),e||this._removeClass(this.icon,null,"ui-icon-check ui-state-checked"),this.icon.prependTo(this.label).after(this.iconSpace)):void 0!==this.icon&&(this.icon.remove(),this.iconSpace.remove(),delete this.icon)},_updateLabel:function(){var t=this.label.contents().not(this.element[0]);this.icon&&(t=t.not(this.icon[0])),this.iconSpace&&(t=t.not(this.iconSpace[0])),t.remove(),this.label.append(this.options.label)},refresh:function(){var t=this.element[0].checked,e=this.element[0].disabled;this._updateIcon(t),this._toggleClass(this.label,"ui-checkboxradio-checked","ui-state-active",t),null!==this.options.label&&this._updateLabel(),e!==this.options.disabled&&this._setOptions({disabled:e})}}]),t.ui.checkboxradio,t.widget("ui.button",{version:"1.12.1",defaultElement:"<button>",options:{classes:{"ui-button":"ui-corner-all"},disabled:null,icon:null,iconPosition:"beginning",label:null,showLabel:!0},_getCreateOptions:function(){var t,e=this._super()||{};return this.isInput=this.element.is("input"),t=this.element[0].disabled,null!=t&&(e.disabled=t),this.originalLabel=this.isInput?this.element.val():this.element.html(),this.originalLabel&&(e.label=this.originalLabel),e},_create:function(){!this.option.showLabel&!this.options.icon&&(this.options.showLabel=!0),null==this.options.disabled&&(this.options.disabled=this.element[0].disabled||!1),this.hasTitle=!!this.element.attr("title"),this.options.label&&this.options.label!==this.originalLabel&&(this.isInput?this.element.val(this.options.label):this.element.html(this.options.label)),this._addClass("ui-button","ui-widget"),this._setOption("disabled",this.options.disabled),this._enhance(),this.element.is("a")&&this._on({keyup:function(e){e.keyCode===t.ui.keyCode.SPACE&&(e.preventDefault(),this.element[0].click?this.element[0].click():this.element.trigger("click"))}})},_enhance:function(){this.element.is("button")||this.element.attr("role","button"),this.options.icon&&(this._updateIcon("icon",this.options.icon),this._updateTooltip())},_updateTooltip:function(){this.title=this.element.attr("title"),this.options.showLabel||this.title||this.element.attr("title",this.options.label)},_updateIcon:function(e,i){var s="iconPosition"!==e,n=s?this.options.iconPosition:i,o="top"===n||"bottom"===n;this.icon?s&&this._removeClass(this.icon,null,this.options.icon):(this.icon=t("<span>"),this._addClass(this.icon,"ui-button-icon","ui-icon"),this.options.showLabel||this._addClass("ui-button-icon-only")),s&&this._addClass(this.icon,null,i),this._attachIcon(n),o?(this._addClass(this.icon,null,"ui-widget-icon-block"),this.iconSpace&&this.iconSpace.remove()):(this.iconSpace||(this.iconSpace=t("<span> </span>"),this._addClass(this.iconSpace,"ui-button-icon-space")),this._removeClass(this.icon,null,"ui-wiget-icon-block"),this._attachIconSpace(n))},_destroy:function(){this.element.removeAttr("role"),this.icon&&this.icon.remove(),this.iconSpace&&this.iconSpace.remove(),this.hasTitle||this.element.removeAttr("title")},_attachIconSpace:function(t){this.icon[/^(?:end|bottom)/.test(t)?"before":"after"](this.iconSpace)},_attachIcon:function(t){this.element[/^(?:end|bottom)/.test(t)?"append":"prepend"](this.icon)},_setOptions:function(t){var e=void 0===t.showLabel?this.options.showLabel:t.showLabel,i=void 0===t.icon?this.options.icon:t.icon;e||i||(t.showLabel=!0),this._super(t)},_setOption:function(t,e){"icon"===t&&(e?this._updateIcon(t,e):this.icon&&(this.icon.remove(),this.iconSpace&&this.iconSpace.remove())),"iconPosition"===t&&this._updateIcon(t,e),"showLabel"===t&&(this._toggleClass("ui-button-icon-only",null,!e),this._updateTooltip()),"label"===t&&(this.isInput?this.element.val(e):(this.element.html(e),this.icon&&(this._attachIcon(this.options.iconPosition),this._attachIconSpace(this.options.iconPosition)))),this._super(t,e),"disabled"===t&&(this._toggleClass(null,"ui-state-disabled",e),this.element[0].disabled=e,e&&this.element.blur())},refresh:function(){var t=this.element.is("input, button")?this.element[0].disabled:this.element.hasClass("ui-button-disabled");t!==this.options.disabled&&this._setOptions({disabled:t}),this._updateTooltip()}}),t.uiBackCompat!==!1&&(t.widget("ui.button",t.ui.button,{options:{text:!0,icons:{primary:null,secondary:null}},_create:function(){this.options.showLabel&&!this.options.text&&(this.options.showLabel=this.options.text),!this.options.showLabel&&this.options.text&&(this.options.text=this.options.showLabel),this.options.icon||!this.options.icons.primary&&!this.options.icons.secondary?this.options.icon&&(this.options.icons.primary=this.options.icon):this.options.icons.primary?this.options.icon=this.options.icons.primary:(this.options.icon=this.options.icons.secondary,this.options.iconPosition="end"),this._super()},_setOption:function(t,e){return"text"===t?(this._super("showLabel",e),void 0):("showLabel"===t&&(this.options.text=e),"icon"===t&&(this.options.icons.primary=e),"icons"===t&&(e.primary?(this._super("icon",e.primary),this._super("iconPosition","beginning")):e.secondary&&(this._super("icon",e.secondary),this._super("iconPosition","end"))),this._superApply(arguments),void 0)}}),t.fn.button=function(e){return function(){return!this.length||this.length&&"INPUT"!==this[0].tagName||this.length&&"INPUT"===this[0].tagName&&"checkbox"!==this.attr("type")&&"radio"!==this.attr("type")?e.apply(this,arguments):(t.ui.checkboxradio||t.error("Checkboxradio widget missing"),0===arguments.length?this.checkboxradio({icon:!1}):this.checkboxradio.apply(this,arguments))}}(t.fn.button),t.fn.buttonset=function(){return t.ui.controlgroup||t.error("Controlgroup widget missing"),"option"===arguments[0]&&"items"===arguments[1]&&arguments[2]?this.controlgroup.apply(this,[arguments[0],"items.button",arguments[2]]):"option"===arguments[0]&&"items"===arguments[1]?this.controlgroup.apply(this,[arguments[0],"items.button"]):("object"==typeof arguments[0]&&arguments[0].items&&(arguments[0].items={button:arguments[0].items}),this.controlgroup.apply(this,arguments))}),t.ui.button,t.extend(t.ui,{datepicker:{version:"1.12.1"}});var m;t.extend(s.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(t){return a(this._defaults,t||{}),this},_attachDatepicker:function(e,i){var s,n,o;s=e.nodeName.toLowerCase(),n="div"===s||"span"===s,e.id||(this.uuid+=1,e.id="dp"+this.uuid),o=this._newInst(t(e),n),o.settings=t.extend({},i||{}),"input"===s?this._connectDatepicker(e,o):n&&this._inlineDatepicker(e,o)},_newInst:function(e,i){var s=e[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1");return{id:s,input:e,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:i,dpDiv:i?n(t("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(e,i){var s=t(e);i.append=t([]),i.trigger=t([]),s.hasClass(this.markerClassName)||(this._attachments(s,i),s.addClass(this.markerClassName).on("keydown",this._doKeyDown).on("keypress",this._doKeyPress).on("keyup",this._doKeyUp),this._autoSize(i),t.data(e,"datepicker",i),i.settings.disabled&&this._disableDatepicker(e))},_attachments:function(e,i){var s,n,o,a=this._get(i,"appendText"),r=this._get(i,"isRTL");i.append&&i.append.remove(),a&&(i.append=t("<span class='"+this._appendClass+"'>"+a+"</span>"),e[r?"before":"after"](i.append)),e.off("focus",this._showDatepicker),i.trigger&&i.trigger.remove(),s=this._get(i,"showOn"),("focus"===s||"both"===s)&&e.on("focus",this._showDatepicker),("button"===s||"both"===s)&&(n=this._get(i,"buttonText"),o=this._get(i,"buttonImage"),i.trigger=t(this._get(i,"buttonImageOnly")?t("<img/>").addClass(this._triggerClass).attr({src:o,alt:n,title:n}):t("<button type='button'></button>").addClass(this._triggerClass).html(o?t("<img/>").attr({src:o,alt:n,title:n}):n)),e[r?"before":"after"](i.trigger),i.trigger.on("click",function(){return t.datepicker._datepickerShowing&&t.datepicker._lastInput===e[0]?t.datepicker._hideDatepicker():t.datepicker._datepickerShowing&&t.datepicker._lastInput!==e[0]?(t.datepicker._hideDatepicker(),t.datepicker._showDatepicker(e[0])):t.datepicker._showDatepicker(e[0]),!1}))},_autoSize:function(t){if(this._get(t,"autoSize")&&!t.inline){var e,i,s,n,o=new Date(2009,11,20),a=this._get(t,"dateFormat");a.match(/[DM]/)&&(e=function(t){for(i=0,s=0,n=0;t.length>n;n++)t[n].length>i&&(i=t[n].length,s=n);return s},o.setMonth(e(this._get(t,a.match(/MM/)?"monthNames":"monthNamesShort"))),o.setDate(e(this._get(t,a.match(/DD/)?"dayNames":"dayNamesShort"))+20-o.getDay())),t.input.attr("size",this._formatDate(t,o).length)}},_inlineDatepicker:function(e,i){var s=t(e);s.hasClass(this.markerClassName)||(s.addClass(this.markerClassName).append(i.dpDiv),t.data(e,"datepicker",i),this._setDate(i,this._getDefaultDate(i),!0),this._updateDatepicker(i),this._updateAlternate(i),i.settings.disabled&&this._disableDatepicker(e),i.dpDiv.css("display","block"))},_dialogDatepicker:function(e,i,s,n,o){var r,h,l,c,u,d=this._dialogInst;return d||(this.uuid+=1,r="dp"+this.uuid,this._dialogInput=t("<input type='text' id='"+r+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.on("keydown",this._doKeyDown),t("body").append(this._dialogInput),d=this._dialogInst=this._newInst(this._dialogInput,!1),d.settings={},t.data(this._dialogInput[0],"datepicker",d)),a(d.settings,n||{}),i=i&&i.constructor===Date?this._formatDate(d,i):i,this._dialogInput.val(i),this._pos=o?o.length?o:[o.pageX,o.pageY]:null,this._pos||(h=document.documentElement.clientWidth,l=document.documentElement.clientHeight,c=document.documentElement.scrollLeft||document.body.scrollLeft,u=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[h/2-100+c,l/2-150+u]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),d.settings.onSelect=s,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),t.blockUI&&t.blockUI(this.dpDiv),t.data(this._dialogInput[0],"datepicker",d),this},_destroyDatepicker:function(e){var i,s=t(e),n=t.data(e,"datepicker");s.hasClass(this.markerClassName)&&(i=e.nodeName.toLowerCase(),t.removeData(e,"datepicker"),"input"===i?(n.append.remove(),n.trigger.remove(),s.removeClass(this.markerClassName).off("focus",this._showDatepicker).off("keydown",this._doKeyDown).off("keypress",this._doKeyPress).off("keyup",this._doKeyUp)):("div"===i||"span"===i)&&s.removeClass(this.markerClassName).empty(),m===n&&(m=null))},_enableDatepicker:function(e){var i,s,n=t(e),o=t.data(e,"datepicker");n.hasClass(this.markerClassName)&&(i=e.nodeName.toLowerCase(),"input"===i?(e.disabled=!1,o.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):("div"===i||"span"===i)&&(s=n.children("."+this._inlineClass),s.children().removeClass("ui-state-disabled"),s.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=t.map(this._disabledInputs,function(t){return t===e?null:t}))},_disableDatepicker:function(e){var i,s,n=t(e),o=t.data(e,"datepicker");n.hasClass(this.markerClassName)&&(i=e.nodeName.toLowerCase(),"input"===i?(e.disabled=!0,o.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):("div"===i||"span"===i)&&(s=n.children("."+this._inlineClass),s.children().addClass("ui-state-disabled"),s.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=t.map(this._disabledInputs,function(t){return t===e?null:t}),this._disabledInputs[this._disabledInputs.length]=e)},_isDisabledDatepicker:function(t){if(!t)return!1;for(var e=0;this._disabledInputs.length>e;e++)
if(this._disabledInputs[e]===t)return!0;return!1},_getInst:function(e){try{return t.data(e,"datepicker")}catch(i){throw "Missing instance data for this datepicker"}},_optionDatepicker:function(e,i,s){var n,o,r,h,l=this._getInst(e);return 2===arguments.length&&"string"==typeof i?"defaults"===i?t.extend({},t.datepicker._defaults):l?"all"===i?t.extend({},l.settings):this._get(l,i):null:(n=i||{},"string"==typeof i&&(n={},n[i]=s),l&&(this._curInst===l&&this._hideDatepicker(),o=this._getDateDatepicker(e,!0),r=this._getMinMaxDate(l,"min"),h=this._getMinMaxDate(l,"max"),a(l.settings,n),null!==r&&void 0!==n.dateFormat&&void 0===n.minDate&&(l.settings.minDate=this._formatDate(l,r)),null!==h&&void 0!==n.dateFormat&&void 0===n.maxDate&&(l.settings.maxDate=this._formatDate(l,h)),"disabled" in n&&(n.disabled?this._disableDatepicker(e):this._enableDatepicker(e)),this._attachments(t(e),l),this._autoSize(l),this._setDate(l,o),this._updateAlternate(l),this._updateDatepicker(l)),void 0)},_changeDatepicker:function(t,e,i){this._optionDatepicker(t,e,i)},_refreshDatepicker:function(t){var e=this._getInst(t);e&&this._updateDatepicker(e)},_setDateDatepicker:function(t,e){var i=this._getInst(t);i&&(this._setDate(i,e),this._updateDatepicker(i),this._updateAlternate(i))},_getDateDatepicker:function(t,e){var i=this._getInst(t);return i&&!i.inline&&this._setDateFromField(i,e),i?this._getDate(i):null},_doKeyDown:function(e){var i,s,n,o=t.datepicker._getInst(e.target),a=!0,r=o.dpDiv.is(".ui-datepicker-rtl");if(o._keyEvent=!0,t.datepicker._datepickerShowing)switch(e.keyCode){case 9:t.datepicker._hideDatepicker(),a=!1;break;case 13:return n=t("td."+t.datepicker._dayOverClass+":not(."+t.datepicker._currentClass+")",o.dpDiv),n[0]&&t.datepicker._selectDay(e.target,o.selectedMonth,o.selectedYear,n[0]),i=t.datepicker._get(o,"onSelect"),i?(s=t.datepicker._formatDate(o),i.apply(o.input?o.input[0]:null,[s,o])):t.datepicker._hideDatepicker(),!1;case 27:t.datepicker._hideDatepicker();break;case 33:t.datepicker._adjustDate(e.target,e.ctrlKey?-t.datepicker._get(o,"stepBigMonths"):-t.datepicker._get(o,"stepMonths"),"M");break;case 34:t.datepicker._adjustDate(e.target,e.ctrlKey?+t.datepicker._get(o,"stepBigMonths"):+t.datepicker._get(o,"stepMonths"),"M");break;case 35:(e.ctrlKey||e.metaKey)&&t.datepicker._clearDate(e.target),a=e.ctrlKey||e.metaKey;break;case 36:(e.ctrlKey||e.metaKey)&&t.datepicker._gotoToday(e.target),a=e.ctrlKey||e.metaKey;break;case 37:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,r?1:-1,"D"),a=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&t.datepicker._adjustDate(e.target,e.ctrlKey?-t.datepicker._get(o,"stepBigMonths"):-t.datepicker._get(o,"stepMonths"),"M");break;case 38:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,-7,"D"),a=e.ctrlKey||e.metaKey;break;case 39:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,r?-1:1,"D"),a=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&t.datepicker._adjustDate(e.target,e.ctrlKey?+t.datepicker._get(o,"stepBigMonths"):+t.datepicker._get(o,"stepMonths"),"M");break;case 40:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,7,"D"),a=e.ctrlKey||e.metaKey;break;default:a=!1}else 36===e.keyCode&&e.ctrlKey?t.datepicker._showDatepicker(this):a=!1;a&&(e.preventDefault(),e.stopPropagation())},_doKeyPress:function(e){var i,s,n=t.datepicker._getInst(e.target);return t.datepicker._get(n,"constrainInput")?(i=t.datepicker._possibleChars(t.datepicker._get(n,"dateFormat")),s=String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),e.ctrlKey||e.metaKey||" ">s||!i||i.indexOf(s)>-1):void 0},_doKeyUp:function(e){var i,s=t.datepicker._getInst(e.target);if(s.input.val()!==s.lastVal)try{i=t.datepicker.parseDate(t.datepicker._get(s,"dateFormat"),s.input?s.input.val():null,t.datepicker._getFormatConfig(s)),i&&(t.datepicker._setDateFromField(s),t.datepicker._updateAlternate(s),t.datepicker._updateDatepicker(s))}catch(n){}
return!0},_showDatepicker:function(e){if(e=e.target||e,"input"!==e.nodeName.toLowerCase()&&(e=t("input",e.parentNode)[0]),!t.datepicker._isDisabledDatepicker(e)&&t.datepicker._lastInput!==e){var s,n,o,r,h,l,c;s=t.datepicker._getInst(e),t.datepicker._curInst&&t.datepicker._curInst!==s&&(t.datepicker._curInst.dpDiv.stop(!0,!0),s&&t.datepicker._datepickerShowing&&t.datepicker._hideDatepicker(t.datepicker._curInst.input[0])),n=t.datepicker._get(s,"beforeShow"),o=n?n.apply(e,[e,s]):{},o!==!1&&(a(s.settings,o),s.lastVal=null,t.datepicker._lastInput=e,t.datepicker._setDateFromField(s),t.datepicker._inDialog&&(e.value=""),t.datepicker._pos||(t.datepicker._pos=t.datepicker._findPos(e),t.datepicker._pos[1]+=e.offsetHeight),r=!1,t(e).parents().each(function(){return r|="fixed"===t(this).css("position"),!r}),h={left:t.datepicker._pos[0],top:t.datepicker._pos[1]},t.datepicker._pos=null,s.dpDiv.empty(),s.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),t.datepicker._updateDatepicker(s),h=t.datepicker._checkOffset(s,h,r),s.dpDiv.css({position:t.datepicker._inDialog&&t.blockUI?"static":r?"fixed":"absolute",display:"none",left:h.left+"px",top:h.top+"px"}),s.inline||(l=t.datepicker._get(s,"showAnim"),c=t.datepicker._get(s,"duration"),s.dpDiv.css("z-index",i(t(e))+1),t.datepicker._datepickerShowing=!0,t.effects&&t.effects.effect[l]?s.dpDiv.show(l,t.datepicker._get(s,"showOptions"),c):s.dpDiv[l||"show"](l?c:null),t.datepicker._shouldFocusInput(s)&&s.input.trigger("focus"),t.datepicker._curInst=s))}},_updateDatepicker:function(e){this.maxRows=4,m=e,e.dpDiv.empty().append(this._generateHTML(e)),this._attachHandlers(e);var i,s=this._getNumberOfMonths(e),n=s[1],a=17,r=e.dpDiv.find("."+this._dayOverClass+" a");r.length>0&&o.apply(r.get(0)),e.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),n>1&&e.dpDiv.addClass("ui-datepicker-multi-"+n).css("width",a*n+"em"),e.dpDiv[(1!==s[0]||1!==s[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),e.dpDiv[(this._get(e,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),e===t.datepicker._curInst&&t.datepicker._datepickerShowing&&t.datepicker._shouldFocusInput(e)&&e.input.trigger("focus"),e.yearshtml&&(i=e.yearshtml,setTimeout(function(){i===e.yearshtml&&e.yearshtml&&e.dpDiv.find("select.ui-datepicker-year:first").replaceWith(e.yearshtml),i=e.yearshtml=null},0))},_shouldFocusInput:function(t){return t.input&&t.input.is(":visible")&&!t.input.is(":disabled")&&!t.input.is(":focus")},_checkOffset:function(e,i,s){var n=e.dpDiv.outerWidth(),o=e.dpDiv.outerHeight(),a=e.input?e.input.outerWidth():0,r=e.input?e.input.outerHeight():0,h=document.documentElement.clientWidth+(s?0:t(document).scrollLeft()),l=document.documentElement.clientHeight+(s?0:t(document).scrollTop());return i.left-=this._get(e,"isRTL")?n-a:0,i.left-=s&&i.left===e.input.offset().left?t(document).scrollLeft():0,i.top-=s&&i.top===e.input.offset().top+r?t(document).scrollTop():0,i.left-=Math.min(i.left,i.left+n>h&&h>n?Math.abs(i.left+n-h):0),i.top-=Math.min(i.top,i.top+o>l&&l>o?Math.abs(o+r):0),i},_findPos:function(e){for(var i,s=this._getInst(e),n=this._get(s,"isRTL");e&&("hidden"===e.type||1!==e.nodeType||t.expr.filters.hidden(e));)e=e[n?"previousSibling":"nextSibling"];return i=t(e).offset(),[i.left,i.top]},_hideDatepicker:function(e){var i,s,n,o,a=this._curInst;!a||e&&a!==t.data(e,"datepicker")||this._datepickerShowing&&(i=this._get(a,"showAnim"),s=this._get(a,"duration"),n=function(){t.datepicker._tidyDialog(a)},t.effects&&(t.effects.effect[i]||t.effects[i])?a.dpDiv.hide(i,t.datepicker._get(a,"showOptions"),s,n):a.dpDiv["slideDown"===i?"slideUp":"fadeIn"===i?"fadeOut":"hide"](i?s:null,n),i||n(),this._datepickerShowing=!1,o=this._get(a,"onClose"),o&&o.apply(a.input?a.input[0]:null,[a.input?a.input.val():"",a]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),t.blockUI&&(t.unblockUI(),t("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(t){t.dpDiv.removeClass(this._dialogClass).off(".ui-datepicker-calendar")},_checkExternalClick:function(e){if(t.datepicker._curInst){var i=t(e.target),s=t.datepicker._getInst(i[0]);(i[0].id!==t.datepicker._mainDivId&&0===i.parents("#"+t.datepicker._mainDivId).length&&!i.hasClass(t.datepicker.markerClassName)&&!i.closest("."+t.datepicker._triggerClass).length&&t.datepicker._datepickerShowing&&(!t.datepicker._inDialog||!t.blockUI)||i.hasClass(t.datepicker.markerClassName)&&t.datepicker._curInst!==s)&&t.datepicker._hideDatepicker()}},_adjustDate:function(e,i,s){var n=t(e),o=this._getInst(n[0]);this._isDisabledDatepicker(n[0])||(this._adjustInstDate(o,i+("M"===s?this._get(o,"showCurrentAtPos"):0),s),this._updateDatepicker(o))},_gotoToday:function(e){var i,s=t(e),n=this._getInst(s[0]);this._get(n,"gotoCurrent")&&n.currentDay?(n.selectedDay=n.currentDay,n.drawMonth=n.selectedMonth=n.currentMonth,n.drawYear=n.selectedYear=n.currentYear):(i=new Date,n.selectedDay=i.getDate(),n.drawMonth=n.selectedMonth=i.getMonth(),n.drawYear=n.selectedYear=i.getFullYear()),this._notifyChange(n),this._adjustDate(s)},_selectMonthYear:function(e,i,s){var n=t(e),o=this._getInst(n[0]);o["selected"+("M"===s?"Month":"Year")]=o["draw"+("M"===s?"Month":"Year")]=parseInt(i.options[i.selectedIndex].value,10),this._notifyChange(o),this._adjustDate(n)},_selectDay:function(e,i,s,n){var o,a=t(e);t(n).hasClass(this._unselectableClass)||this._isDisabledDatepicker(a[0])||(o=this._getInst(a[0]),o.selectedDay=o.currentDay=t("a",n).html(),o.selectedMonth=o.currentMonth=i,o.selectedYear=o.currentYear=s,this._selectDate(e,this._formatDate(o,o.currentDay,o.currentMonth,o.currentYear)))},_clearDate:function(e){var i=t(e);this._selectDate(i,"")},_selectDate:function(e,i){var s,n=t(e),o=this._getInst(n[0]);i=null!=i?i:this._formatDate(o),o.input&&o.input.val(i),this._updateAlternate(o),s=this._get(o,"onSelect"),s?s.apply(o.input?o.input[0]:null,[i,o]):o.input&&o.input.trigger("change"),o.inline?this._updateDatepicker(o):(this._hideDatepicker(),this._lastInput=o.input[0],"object"!=typeof o.input[0]&&o.input.trigger("focus"),this._lastInput=null)},_updateAlternate:function(e){var i,s,n,o=this._get(e,"altField");o&&(i=this._get(e,"altFormat")||this._get(e,"dateFormat"),s=this._getDate(e),n=this.formatDate(i,s,this._getFormatConfig(e)),t(o).val(n))},noWeekends:function(t){var e=t.getDay();return[e>0&&6>e,""]},iso8601Week:function(t){var e,i=new Date(t.getTime());return i.setDate(i.getDate()+4-(i.getDay()||7)),e=i.getTime(),i.setMonth(0),i.setDate(1),Math.floor(Math.round((e-i)/864e5)/7)+1},parseDate:function(e,i,s){if(null==e||null==i)throw "Invalid arguments";if(i="object"==typeof i?""+i:i+"",""===i)return null;var n,o,a,r,h=0,l=(s?s.shortYearCutoff:null)||this._defaults.shortYearCutoff,c="string"!=typeof l?l:(new Date).getFullYear()%100+parseInt(l,10),u=(s?s.dayNamesShort:null)||this._defaults.dayNamesShort,d=(s?s.dayNames:null)||this._defaults.dayNames,p=(s?s.monthNamesShort:null)||this._defaults.monthNamesShort,f=(s?s.monthNames:null)||this._defaults.monthNames,g=-1,m=-1,_=-1,v=-1,b=!1,y=function(t){var i=e.length>n+1&&e.charAt(n+1)===t;return i&&n++,i},w=function(t){var e=y(t),s="@"===t?14:"!"===t?20:"y"===t&&e?4:"o"===t?3:2,n="y"===t?s:1,o=RegExp("^\\d{"+n+","+s+"}"),a=i.substring(h).match(o);if(!a)throw "Missing number at position "+h;return h+=a[0].length,parseInt(a[0],10)},k=function(e,s,n){var o=-1,a=t.map(y(e)?n:s,function(t,e){return[[e,t]]}).sort(function(t,e){return-(t[1].length-e[1].length)});if(t.each(a,function(t,e){var s=e[1];return i.substr(h,s.length).toLowerCase()===s.toLowerCase()?(o=e[0],h+=s.length,!1):void 0}),-1!==o)return o+1;throw "Unknown name at position "+h},x=function(){if(i.charAt(h)!==e.charAt(n))throw "Unexpected literal at position "+h;h++};for(n=0;e.length>n;n++)
if(b)"'"!==e.charAt(n)||y("'")?x():b=!1;else switch(e.charAt(n)){case "d":_=w("d");break;case "D":k("D",u,d);break;case "o":v=w("o");break;case "m":m=w("m");break;case "M":m=k("M",p,f);break;case "y":g=w("y");break;case "@":r=new Date(w("@")),g=r.getFullYear(),m=r.getMonth()+1,_=r.getDate();break;case "!":r=new Date((w("!")-this._ticksTo1970)/1e4),g=r.getFullYear(),m=r.getMonth()+1,_=r.getDate();break;case "'":y("'")?x():b=!0;break;default:x()}
if(i.length>h&&(a=i.substr(h),!/^\s+/.test(a)))throw "Extra/unparsed characters found in date: "+a;if(-1===g?g=(new Date).getFullYear():100>g&&(g+=(new Date).getFullYear()-(new Date).getFullYear()%100+(c>=g?0:-100)),v>-1)
for(m=1,_=v;;){if(o=this._getDaysInMonth(g,m-1),o>=_)break;m++,_-=o}
if(r=this._daylightSavingAdjust(new Date(g,m-1,_)),r.getFullYear()!==g||r.getMonth()+1!==m||r.getDate()!==_)throw "Invalid date";return r},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:1e7*60*60*24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925)),formatDate:function(t,e,i){if(!e)return"";var s,n=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,o=(i?i.dayNames:null)||this._defaults.dayNames,a=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,r=(i?i.monthNames:null)||this._defaults.monthNames,h=function(e){var i=t.length>s+1&&t.charAt(s+1)===e;return i&&s++,i},l=function(t,e,i){var s=""+e;if(h(t))
for(;i>s.length;)s="0"+s;return s},c=function(t,e,i,s){return h(t)?s[e]:i[e]},u="",d=!1;if(e)
for(s=0;t.length>s;s++)
if(d)"'"!==t.charAt(s)||h("'")?u+=t.charAt(s):d=!1;else switch(t.charAt(s)){case "d":u+=l("d",e.getDate(),2);break;case "D":u+=c("D",e.getDay(),n,o);break;case "o":u+=l("o",Math.round((new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime()-new Date(e.getFullYear(),0,0).getTime())/864e5),3);break;case "m":u+=l("m",e.getMonth()+1,2);break;case "M":u+=c("M",e.getMonth(),a,r);break;case "y":u+=h("y")?e.getFullYear():(10>e.getFullYear()%100?"0":"")+e.getFullYear()%100;break;case "@":u+=e.getTime();break;case "!":u+=1e4*e.getTime()+this._ticksTo1970;break;case "'":h("'")?u+="'":d=!0;break;default:u+=t.charAt(s)}
return u},_possibleChars:function(t){var e,i="",s=!1,n=function(i){var s=t.length>e+1&&t.charAt(e+1)===i;return s&&e++,s};for(e=0;t.length>e;e++)
if(s)"'"!==t.charAt(e)||n("'")?i+=t.charAt(e):s=!1;else switch(t.charAt(e)){case "d":case "m":case "y":case "@":i+="0123456789";break;case "D":case "M":return null;case "'":n("'")?i+="'":s=!0;break;default:i+=t.charAt(e)}
return i},_get:function(t,e){return void 0!==t.settings[e]?t.settings[e]:this._defaults[e]},_setDateFromField:function(t,e){if(t.input.val()!==t.lastVal){var i=this._get(t,"dateFormat"),s=t.lastVal=t.input?t.input.val():null,n=this._getDefaultDate(t),o=n,a=this._getFormatConfig(t);try{o=this.parseDate(i,s,a)||n}catch(r){s=e?"":s}
t.selectedDay=o.getDate(),t.drawMonth=t.selectedMonth=o.getMonth(),t.drawYear=t.selectedYear=o.getFullYear(),t.currentDay=s?o.getDate():0,t.currentMonth=s?o.getMonth():0,t.currentYear=s?o.getFullYear():0,this._adjustInstDate(t)}},_getDefaultDate:function(t){return this._restrictMinMax(t,this._determineDate(t,this._get(t,"defaultDate"),new Date))},_determineDate:function(e,i,s){var n=function(t){var e=new Date;return e.setDate(e.getDate()+t),e},o=function(i){try{return t.datepicker.parseDate(t.datepicker._get(e,"dateFormat"),i,t.datepicker._getFormatConfig(e))}catch(s){}
for(var n=(i.toLowerCase().match(/^c/)?t.datepicker._getDate(e):null)||new Date,o=n.getFullYear(),a=n.getMonth(),r=n.getDate(),h=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,l=h.exec(i);l;){switch(l[2]||"d"){case "d":case "D":r+=parseInt(l[1],10);break;case "w":case "W":r+=7*parseInt(l[1],10);break;case "m":case "M":a+=parseInt(l[1],10),r=Math.min(r,t.datepicker._getDaysInMonth(o,a));break;case "y":case "Y":o+=parseInt(l[1],10),r=Math.min(r,t.datepicker._getDaysInMonth(o,a))}
l=h.exec(i)}
return new Date(o,a,r)},a=null==i||""===i?s:"string"==typeof i?o(i):"number"==typeof i?isNaN(i)?s:n(i):new Date(i.getTime());return a=a&&"Invalid Date"==""+a?s:a,a&&(a.setHours(0),a.setMinutes(0),a.setSeconds(0),a.setMilliseconds(0)),this._daylightSavingAdjust(a)},_daylightSavingAdjust:function(t){return t?(t.setHours(t.getHours()>12?t.getHours()+2:0),t):null},_setDate:function(t,e,i){var s=!e,n=t.selectedMonth,o=t.selectedYear,a=this._restrictMinMax(t,this._determineDate(t,e,new Date));t.selectedDay=t.currentDay=a.getDate(),t.drawMonth=t.selectedMonth=t.currentMonth=a.getMonth(),t.drawYear=t.selectedYear=t.currentYear=a.getFullYear(),n===t.selectedMonth&&o===t.selectedYear||i||this._notifyChange(t),this._adjustInstDate(t),t.input&&t.input.val(s?"":this._formatDate(t))},_getDate:function(t){var e=!t.currentYear||t.input&&""===t.input.val()?null:this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay));return e},_attachHandlers:function(e){var i=this._get(e,"stepMonths"),s="#"+e.id.replace(/\\\\/g,"\\");e.dpDiv.find("[data-handler]").map(function(){var e={prev:function(){t.datepicker._adjustDate(s,-i,"M")},next:function(){t.datepicker._adjustDate(s,+i,"M")},hide:function(){t.datepicker._hideDatepicker()},today:function(){t.datepicker._gotoToday(s)},selectDay:function(){return t.datepicker._selectDay(s,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return t.datepicker._selectMonthYear(s,this,"M"),!1},selectYear:function(){return t.datepicker._selectMonthYear(s,this,"Y"),!1}};t(this).on(this.getAttribute("data-event"),e[this.getAttribute("data-handler")])})},_generateHTML:function(t){var e,i,s,n,o,a,r,h,l,c,u,d,p,f,g,m,_,v,b,y,w,k,x,C,D,I,T,P,M,S,H,z,O,A,N,W,E,F,L,R=new Date,B=this._daylightSavingAdjust(new Date(R.getFullYear(),R.getMonth(),R.getDate())),Y=this._get(t,"isRTL"),j=this._get(t,"showButtonPanel"),q=this._get(t,"hideIfNoPrevNext"),K=this._get(t,"navigationAsDateFormat"),U=this._getNumberOfMonths(t),V=this._get(t,"showCurrentAtPos"),$=this._get(t,"stepMonths"),X=1!==U[0]||1!==U[1],G=this._daylightSavingAdjust(t.currentDay?new Date(t.currentYear,t.currentMonth,t.currentDay):new Date(9999,9,9)),Q=this._getMinMaxDate(t,"min"),J=this._getMinMaxDate(t,"max"),Z=t.drawMonth-V,te=t.drawYear;if(0>Z&&(Z+=12,te--),J)
for(e=this._daylightSavingAdjust(new Date(J.getFullYear(),J.getMonth()-U[0]*U[1]+1,J.getDate())),e=Q&&Q>e?Q:e;this._daylightSavingAdjust(new Date(te,Z,1))>e;)Z--,0>Z&&(Z=11,te--);for(t.drawMonth=Z,t.drawYear=te,i=this._get(t,"prevText"),i=K?this.formatDate(i,this._daylightSavingAdjust(new Date(te,Z-$,1)),this._getFormatConfig(t)):i,s=this._canAdjustMonth(t,-1,te,Z)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(Y?"e":"w")+"'>"+i+"</span></a>":q?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(Y?"e":"w")+"'>"+i+"</span></a>",n=this._get(t,"nextText"),n=K?this.formatDate(n,this._daylightSavingAdjust(new Date(te,Z+$,1)),this._getFormatConfig(t)):n,o=this._canAdjustMonth(t,1,te,Z)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(Y?"w":"e")+"'>"+n+"</span></a>":q?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(Y?"w":"e")+"'>"+n+"</span></a>",a=this._get(t,"currentText"),r=this._get(t,"gotoCurrent")&&t.currentDay?G:B,a=K?this.formatDate(a,r,this._getFormatConfig(t)):a,h=t.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(t,"closeText")+"</button>",l=j?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(Y?h:"")+(this._isInRange(t,r)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+a+"</button>":"")+(Y?"":h)+"</div>":"",c=parseInt(this._get(t,"firstDay"),10),c=isNaN(c)?0:c,u=this._get(t,"showWeek"),d=this._get(t,"dayNames"),p=this._get(t,"dayNamesMin"),f=this._get(t,"monthNames"),g=this._get(t,"monthNamesShort"),m=this._get(t,"beforeShowDay"),_=this._get(t,"showOtherMonths"),v=this._get(t,"selectOtherMonths"),b=this._getDefaultDate(t),y="",k=0;U[0]>k;k++){for(x="",this.maxRows=4,C=0;U[1]>C;C++){if(D=this._daylightSavingAdjust(new Date(te,Z,t.selectedDay)),I=" ui-corner-all",T="",X){if(T+="<div class='ui-datepicker-group",U[1]>1)switch(C){case 0:T+=" ui-datepicker-group-first",I=" ui-corner-"+(Y?"right":"left");break;case U[1]-1:T+=" ui-datepicker-group-last",I=" ui-corner-"+(Y?"left":"right");break;default:T+=" ui-datepicker-group-middle",I=""}
T+="'>"}
for(T+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+I+"'>"+(/all|left/.test(I)&&0===k?Y?o:s:"")+(/all|right/.test(I)&&0===k?Y?s:o:"")+this._generateMonthYearHeader(t,Z,te,Q,J,k>0||C>0,f,g)+"</div><table class='ui-datepicker-calendar'><thead>"+"<tr>",P=u?"<th class='ui-datepicker-week-col'>"+this._get(t,"weekHeader")+"</th>":"",w=0;7>w;w++)M=(w+c)%7,P+="<th scope='col'"+((w+c+6)%7>=5?" class='ui-datepicker-week-end'":"")+">"+"<span title='"+d[M]+"'>"+p[M]+"</span></th>";for(T+=P+"</tr></thead><tbody>",S=this._getDaysInMonth(te,Z),te===t.selectedYear&&Z===t.selectedMonth&&(t.selectedDay=Math.min(t.selectedDay,S)),H=(this._getFirstDayOfMonth(te,Z)-c+7)%7,z=Math.ceil((H+S)/7),O=X?this.maxRows>z?this.maxRows:z:z,this.maxRows=O,A=this._daylightSavingAdjust(new Date(te,Z,1-H)),N=0;O>N;N++){for(T+="<tr>",W=u?"<td class='ui-datepicker-week-col'>"+this._get(t,"calculateWeek")(A)+"</td>":"",w=0;7>w;w++)E=m?m.apply(t.input?t.input[0]:null,[A]):[!0,""],F=A.getMonth()!==Z,L=F&&!v||!E[0]||Q&&Q>A||J&&A>J,W+="<td class='"+((w+c+6)%7>=5?" ui-datepicker-week-end":"")+(F?" ui-datepicker-other-month":"")+(A.getTime()===D.getTime()&&Z===t.selectedMonth&&t._keyEvent||b.getTime()===A.getTime()&&b.getTime()===D.getTime()?" "+this._dayOverClass:"")+(L?" "+this._unselectableClass+" ui-state-disabled":"")+(F&&!_?"":" "+E[1]+(A.getTime()===G.getTime()?" "+this._currentClass:"")+(A.getTime()===B.getTime()?" ui-datepicker-today":""))+"'"+(F&&!_||!E[2]?"":" title='"+E[2].replace(/'/g,"&#39;")+"'")+(L?"":" data-handler='selectDay' data-event='click' data-month='"+A.getMonth()+"' data-year='"+A.getFullYear()+"'")+">"+(F&&!_?"&#xa0;":L?"<span class='ui-state-default'>"+A.getDate()+"</span>":"<a class='ui-state-default"+(A.getTime()===B.getTime()?" ui-state-highlight":"")+(A.getTime()===G.getTime()?" ui-state-active":"")+(F?" ui-priority-secondary":"")+"' href='#'>"+A.getDate()+"</a>")+"</td>",A.setDate(A.getDate()+1),A=this._daylightSavingAdjust(A);T+=W+"</tr>"}
Z++,Z>11&&(Z=0,te++),T+="</tbody></table>"+(X?"</div>"+(U[0]>0&&C===U[1]-1?"<div class='ui-datepicker-row-break'></div>":""):""),x+=T}
y+=x}
return y+=l,t._keyEvent=!1,y},_generateMonthYearHeader:function(t,e,i,s,n,o,a,r){var h,l,c,u,d,p,f,g,m=this._get(t,"changeMonth"),_=this._get(t,"changeYear"),v=this._get(t,"showMonthAfterYear"),b="<div class='ui-datepicker-title'>",y="";if(o||!m)y+="<span class='ui-datepicker-month'>"+a[e]+"</span>";else{for(h=s&&s.getFullYear()===i,l=n&&n.getFullYear()===i,y+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",c=0;12>c;c++)(!h||c>=s.getMonth())&&(!l||n.getMonth()>=c)&&(y+="<option value='"+c+"'"+(c===e?" selected='selected'":"")+">"+r[c]+"</option>");y+="</select>"}
if(v||(b+=y+(!o&&m&&_?"":"&#xa0;")),!t.yearshtml)
if(t.yearshtml="",o||!_)b+="<span class='ui-datepicker-year'>"+i+"</span>";else{for(u=this._get(t,"yearRange").split(":"),d=(new Date).getFullYear(),p=function(t){var e=t.match(/c[+\-].*/)?i+parseInt(t.substring(1),10):t.match(/[+\-].*/)?d+parseInt(t,10):parseInt(t,10);return isNaN(e)?d:e},f=p(u[0]),g=Math.max(f,p(u[1]||"")),f=s?Math.max(f,s.getFullYear()):f,g=n?Math.min(g,n.getFullYear()):g,t.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";g>=f;f++)t.yearshtml+="<option value='"+f+"'"+(f===i?" selected='selected'":"")+">"+f+"</option>";t.yearshtml+="</select>",b+=t.yearshtml,t.yearshtml=null}return b+=this._get(t,"yearSuffix"),v&&(b+=(!o&&m&&_?"":"&#xa0;")+y),b+="</div>"},_adjustInstDate:function(t,e,i){var s=t.selectedYear+("Y"===i?e:0),n=t.selectedMonth+("M"===i?e:0),o=Math.min(t.selectedDay,this._getDaysInMonth(s,n))+("D"===i?e:0),a=this._restrictMinMax(t,this._daylightSavingAdjust(new Date(s,n,o)));t.selectedDay=a.getDate(),t.drawMonth=t.selectedMonth=a.getMonth(),t.drawYear=t.selectedYear=a.getFullYear(),("M"===i||"Y"===i)&&this._notifyChange(t)},_restrictMinMax:function(t,e){var i=this._getMinMaxDate(t,"min"),s=this._getMinMaxDate(t,"max"),n=i&&i>e?i:e;return s&&n>s?s:n},_notifyChange:function(t){var e=this._get(t,"onChangeMonthYear");e&&e.apply(t.input?t.input[0]:null,[t.selectedYear,t.selectedMonth+1,t])},_getNumberOfMonths:function(t){var e=this._get(t,"numberOfMonths");return null==e?[1,1]:"number"==typeof e?[1,e]:e},_getMinMaxDate:function(t,e){return this._determineDate(t,this._get(t,e+"Date"),null)},_getDaysInMonth:function(t,e){return 32-this._daylightSavingAdjust(new Date(t,e,32)).getDate()},_getFirstDayOfMonth:function(t,e){return new Date(t,e,1).getDay()},_canAdjustMonth:function(t,e,i,s){var n=this._getNumberOfMonths(t),o=this._daylightSavingAdjust(new Date(i,s+(0>e?e:n[0]*n[1]),1));return 0>e&&o.setDate(this._getDaysInMonth(o.getFullYear(),o.getMonth())),this._isInRange(t,o)},_isInRange:function(t,e){var i,s,n=this._getMinMaxDate(t,"min"),o=this._getMinMaxDate(t,"max"),a=null,r=null,h=this._get(t,"yearRange");return h&&(i=h.split(":"),s=(new Date).getFullYear(),a=parseInt(i[0],10),r=parseInt(i[1],10),i[0].match(/[+\-].*/)&&(a+=s),i[1].match(/[+\-].*/)&&(r+=s)),(!n||e.getTime()>=n.getTime())&&(!o||e.getTime()<=o.getTime())&&(!a||e.getFullYear()>=a)&&(!r||r>=e.getFullYear())},_getFormatConfig:function(t){var e=this._get(t,"shortYearCutoff");return e="string"!=typeof e?e:(new Date).getFullYear()%100+parseInt(e,10),{shortYearCutoff:e,dayNamesShort:this._get(t,"dayNamesShort"),dayNames:this._get(t,"dayNames"),monthNamesShort:this._get(t,"monthNamesShort"),monthNames:this._get(t,"monthNames")}},_formatDate:function(t,e,i,s){e||(t.currentDay=t.selectedDay,t.currentMonth=t.selectedMonth,t.currentYear=t.selectedYear);var n=e?"object"==typeof e?e:this._daylightSavingAdjust(new Date(s,i,e)):this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay));return this.formatDate(this._get(t,"dateFormat"),n,this._getFormatConfig(t))}}),t.fn.datepicker=function(e){if(!this.length)return this;t.datepicker.initialized||(t(document).on("mousedown",t.datepicker._checkExternalClick),t.datepicker.initialized=!0),0===t("#"+t.datepicker._mainDivId).length&&t("body").append(t.datepicker.dpDiv);var i=Array.prototype.slice.call(arguments,1);return"string"!=typeof e||"isDisabled"!==e&&"getDate"!==e&&"widget"!==e?"option"===e&&2===arguments.length&&"string"==typeof arguments[1]?t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this[0]].concat(i)):this.each(function(){"string"==typeof e?t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this].concat(i)):t.datepicker._attachDatepicker(this,e)}):t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this[0]].concat(i))},t.datepicker=new s,t.datepicker.initialized=!1,t.datepicker.uuid=(new Date).getTime(),t.datepicker.version="1.12.1",t.datepicker,t.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());var _=!1;t(document).on("mouseup",function(){_=!1}),t.widget("ui.mouse",{version:"1.12.1",options:{cancel:"input, textarea, button, select, option",distance:1,delay:0},_mouseInit:function(){var e=this;this.element.on("mousedown."+this.widgetName,function(t){return e._mouseDown(t)}).on("click."+this.widgetName,function(i){return!0===t.data(i.target,e.widgetName+".preventClickEvent")?(t.removeData(i.target,e.widgetName+".preventClickEvent"),i.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.off("."+this.widgetName),this._mouseMoveDelegate&&this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(e){if(!_){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(e),this._mouseDownEvent=e;var i=this,s=1===e.which,n="string"==typeof this.options.cancel&&e.target.nodeName?t(e.target).closest(this.options.cancel).length:!1;return s&&!n&&this._mouseCapture(e)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){i.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=this._mouseStart(e)!==!1,!this._mouseStarted)?(e.preventDefault(),!0):(!0===t.data(e.target,this.widgetName+".preventClickEvent")&&t.removeData(e.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(t){return i._mouseMove(t)},this._mouseUpDelegate=function(t){return i._mouseUp(t)},this.document.on("mousemove."+this.widgetName,this._mouseMoveDelegate).on("mouseup."+this.widgetName,this._mouseUpDelegate),e.preventDefault(),_=!0,!0)):!0}},_mouseMove:function(e){if(this._mouseMoved){if(t.ui.ie&&(!document.documentMode||9>document.documentMode)&&!e.button)return this._mouseUp(e);if(!e.which)
if(e.originalEvent.altKey||e.originalEvent.ctrlKey||e.originalEvent.metaKey||e.originalEvent.shiftKey)this.ignoreMissingWhich=!0;else if(!this.ignoreMissingWhich)return this._mouseUp(e)}
return(e.which||e.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(e),e.preventDefault()):(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,e)!==!1,this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)),!this._mouseStarted)},_mouseUp:function(e){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,e.target===this._mouseDownEvent.target&&t.data(e.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(e)),this._mouseDelayTimer&&(clearTimeout(this._mouseDelayTimer),delete this._mouseDelayTimer),this.ignoreMissingWhich=!1,_=!1,e.preventDefault()},_mouseDistanceMet:function(t){return Math.max(Math.abs(this._mouseDownEvent.pageX-t.pageX),Math.abs(this._mouseDownEvent.pageY-t.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}}),t.ui.plugin={add:function(e,i,s){var n,o=t.ui[e].prototype;for(n in s)o.plugins[n]=o.plugins[n]||[],o.plugins[n].push([i,s[n]])},call:function(t,e,i,s){var n,o=t.plugins[e];if(o&&(s||t.element[0].parentNode&&11!==t.element[0].parentNode.nodeType))
for(n=0;o.length>n;n++)t.options[o[n][0]]&&o[n][1].apply(t.element,i)}},t.ui.safeBlur=function(e){e&&"body"!==e.nodeName.toLowerCase()&&t(e).trigger("blur")},t.widget("ui.draggable",t.ui.mouse,{version:"1.12.1",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this._addClass("ui-draggable"),this._setHandleClassName(),this._mouseInit()},_setOption:function(t,e){this._super(t,e),"handle"===t&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){return(this.helper||this.element).is(".ui-draggable-dragging")?(this.destroyOnClear=!0,void 0):(this._removeHandleClassName(),this._mouseDestroy(),void 0)},_mouseCapture:function(e){var i=this.options;return this.helper||i.disabled||t(e.target).closest(".ui-resizable-handle").length>0?!1:(this.handle=this._getHandle(e),this.handle?(this._blurActiveElement(e),this._blockFrames(i.iframeFix===!0?"iframe":i.iframeFix),!0):!1)},_blockFrames:function(e){this.iframeBlocks=this.document.find(e).map(function(){var e=t(this);return t("<div>").css("position","absolute").appendTo(e.parent()).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()).offset(e.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(e){var i=t.ui.safeActiveElement(this.document[0]),s=t(e.target);s.closest(i).length||t.ui.safeBlur(i)},_mouseStart:function(e){var i=this.options;return this.helper=this._createHelper(e),this._addClass(this.helper,"ui-draggable-dragging"),this._cacheHelperProportions(),t.ui.ddmanager&&(t.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=this.helper.parents().filter(function(){return"fixed"===t(this).css("position")}).length>0,this.positionAbs=this.element.offset(),this._refreshOffsets(e),this.originalPosition=this.position=this._generatePosition(e,!1),this.originalPageX=e.pageX,this.originalPageY=e.pageY,i.cursorAt&&this._adjustOffsetFromHelper(i.cursorAt),this._setContainment(),this._trigger("start",e)===!1?(this._clear(),!1):(this._cacheHelperProportions(),t.ui.ddmanager&&!i.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this._mouseDrag(e,!0),t.ui.ddmanager&&t.ui.ddmanager.dragStart(this,e),!0)},_refreshOffsets:function(t){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:t.pageX-this.offset.left,top:t.pageY-this.offset.top}},_mouseDrag:function(e,i){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(e,!0),this.positionAbs=this._convertPositionTo("absolute"),!i){var s=this._uiHash();if(this._trigger("drag",e,s)===!1)return this._mouseUp(new t.Event("mouseup",e)),!1;this.position=s.position}
return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),!1},_mouseStop:function(e){var i=this,s=!1;return t.ui.ddmanager&&!this.options.dropBehaviour&&(s=t.ui.ddmanager.drop(this,e)),this.dropped&&(s=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!s||"valid"===this.options.revert&&s||this.options.revert===!0||t.isFunction(this.options.revert)&&this.options.revert.call(this.element,s)?t(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){i._trigger("stop",e)!==!1&&i._clear()}):this._trigger("stop",e)!==!1&&this._clear(),!1},_mouseUp:function(e){return this._unblockFrames(),t.ui.ddmanager&&t.ui.ddmanager.dragStop(this,e),this.handleElement.is(e.target)&&this.element.trigger("focus"),t.ui.mouse.prototype._mouseUp.call(this,e)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp(new t.Event("mouseup",{target:this.element[0]})):this._clear(),this},_getHandle:function(e){return this.options.handle?!!t(e.target).closest(this.element.find(this.options.handle)).length:!0},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this._addClass(this.handleElement,"ui-draggable-handle")},_removeHandleClassName:function(){this._removeClass(this.handleElement,"ui-draggable-handle")},_createHelper:function(e){var i=this.options,s=t.isFunction(i.helper),n=s?t(i.helper.apply(this.element[0],[e])):"clone"===i.helper?this.element.clone().removeAttr("id"):this.element;return n.parents("body").length||n.appendTo("parent"===i.appendTo?this.element[0].parentNode:i.appendTo),s&&n[0]===this.element[0]&&this._setPositionRelative(),n[0]===this.element[0]||/(fixed|absolute)/.test(n.css("position"))||n.css("position","absolute"),n},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left" in e&&(this.offset.click.left=e.left+this.margins.left),"right" in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top" in e&&(this.offset.click.top=e.top+this.margins.top),"bottom" in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_isRootNode:function(t){return/(html|body)/i.test(t.tagName)||t===this.document[0]},_getParentOffset:function(){var e=this.offsetParent.offset(),i=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==i&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var t=this.element.position(),e=this._isRootNode(this.scrollParent[0]);return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+(e?0:this.scrollParent.scrollTop()),left:t.left-(parseInt(this.helper.css("left"),10)||0)+(e?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,i,s,n=this.options,o=this.document[0];return this.relativeContainer=null,n.containment?"window"===n.containment?(this.containment=[t(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,t(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,t(window).scrollLeft()+t(window).width()-this.helperProportions.width-this.margins.left,t(window).scrollTop()+(t(window).height()||o.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top],void 0):"document"===n.containment?(this.containment=[0,0,t(o).width()-this.helperProportions.width-this.margins.left,(t(o).height()||o.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top],void 0):n.containment.constructor===Array?(this.containment=n.containment,void 0):("parent"===n.containment&&(n.containment=this.helper[0].parentNode),i=t(n.containment),s=i[0],s&&(e=/(scroll|auto)/.test(i.css("overflow")),this.containment=[(parseInt(i.css("borderLeftWidth"),10)||0)+(parseInt(i.css("paddingLeft"),10)||0),(parseInt(i.css("borderTopWidth"),10)||0)+(parseInt(i.css("paddingTop"),10)||0),(e?Math.max(s.scrollWidth,s.offsetWidth):s.offsetWidth)-(parseInt(i.css("borderRightWidth"),10)||0)-(parseInt(i.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(e?Math.max(s.scrollHeight,s.offsetHeight):s.offsetHeight)-(parseInt(i.css("borderBottomWidth"),10)||0)-(parseInt(i.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=i),void 0):(this.containment=null,void 0)},_convertPositionTo:function(t,e){e||(e=this.position);var i="absolute"===t?1:-1,s=this._isRootNode(this.scrollParent[0]);return{top:e.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.offset.scroll.top:s?0:this.offset.scroll.top)*i,left:e.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.offset.scroll.left:s?0:this.offset.scroll.left)*i}},_generatePosition:function(t,e){var i,s,n,o,a=this.options,r=this._isRootNode(this.scrollParent[0]),h=t.pageX,l=t.pageY;return r&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),e&&(this.containment&&(this.relativeContainer?(s=this.relativeContainer.offset(),i=[this.containment[0]+s.left,this.containment[1]+s.top,this.containment[2]+s.left,this.containment[3]+s.top]):i=this.containment,t.pageX-this.offset.click.left<i[0]&&(h=i[0]+this.offset.click.left),t.pageY-this.offset.click.top<i[1]&&(l=i[1]+this.offset.click.top),t.pageX-this.offset.click.left>i[2]&&(h=i[2]+this.offset.click.left),t.pageY-this.offset.click.top>i[3]&&(l=i[3]+this.offset.click.top)),a.grid&&(n=a.grid[1]?this.originalPageY+Math.round((l-this.originalPageY)/a.grid[1])*a.grid[1]:this.originalPageY,l=i?n-this.offset.click.top>=i[1]||n-this.offset.click.top>i[3]?n:n-this.offset.click.top>=i[1]?n-a.grid[1]:n+a.grid[1]:n,o=a.grid[0]?this.originalPageX+Math.round((h-this.originalPageX)/a.grid[0])*a.grid[0]:this.originalPageX,h=i?o-this.offset.click.left>=i[0]||o-this.offset.click.left>i[2]?o:o-this.offset.click.left>=i[0]?o-a.grid[0]:o+a.grid[0]:o),"y"===a.axis&&(h=this.originalPageX),"x"===a.axis&&(l=this.originalPageY)),{top:l-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:r?0:this.offset.scroll.top),left:h-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:r?0:this.offset.scroll.left)}},_clear:function(){this._removeClass(this.helper,"ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_trigger:function(e,i,s){return s=s||this._uiHash(),t.ui.plugin.call(this,e,[i,s,this],!0),/^(drag|start|stop)/.test(e)&&(this.positionAbs=this._convertPositionTo("absolute"),s.offset=this.positionAbs),t.Widget.prototype._trigger.call(this,e,i,s)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),t.ui.plugin.add("draggable","connectToSortable",{start:function(e,i,s){var n=t.extend({},i,{item:s.element});s.sortables=[],t(s.options.connectToSortable).each(function(){var i=t(this).sortable("instance");i&&!i.options.disabled&&(s.sortables.push(i),i.refreshPositions(),i._trigger("activate",e,n))})},stop:function(e,i,s){var n=t.extend({},i,{item:s.element});s.cancelHelperRemoval=!1,t.each(s.sortables,function(){var t=this;t.isOver?(t.isOver=0,s.cancelHelperRemoval=!0,t.cancelHelperRemoval=!1,t._storedCSS={position:t.placeholder.css("position"),top:t.placeholder.css("top"),left:t.placeholder.css("left")},t._mouseStop(e),t.options.helper=t.options._helper):(t.cancelHelperRemoval=!0,t._trigger("deactivate",e,n))})},drag:function(e,i,s){t.each(s.sortables,function(){var n=!1,o=this;o.positionAbs=s.positionAbs,o.helperProportions=s.helperProportions,o.offset.click=s.offset.click,o._intersectsWith(o.containerCache)&&(n=!0,t.each(s.sortables,function(){return this.positionAbs=s.positionAbs,this.helperProportions=s.helperProportions,this.offset.click=s.offset.click,this!==o&&this._intersectsWith(this.containerCache)&&t.contains(o.element[0],this.element[0])&&(n=!1),n})),n?(o.isOver||(o.isOver=1,s._parent=i.helper.parent(),o.currentItem=i.helper.appendTo(o.element).data("ui-sortable-item",!0),o.options._helper=o.options.helper,o.options.helper=function(){return i.helper[0]},e.target=o.currentItem[0],o._mouseCapture(e,!0),o._mouseStart(e,!0,!0),o.offset.click.top=s.offset.click.top,o.offset.click.left=s.offset.click.left,o.offset.parent.left-=s.offset.parent.left-o.offset.parent.left,o.offset.parent.top-=s.offset.parent.top-o.offset.parent.top,s._trigger("toSortable",e),s.dropped=o.element,t.each(s.sortables,function(){this.refreshPositions()}),s.currentItem=s.element,o.fromOutside=s),o.currentItem&&(o._mouseDrag(e),i.position=o.position)):o.isOver&&(o.isOver=0,o.cancelHelperRemoval=!0,o.options._revert=o.options.revert,o.options.revert=!1,o._trigger("out",e,o._uiHash(o)),o._mouseStop(e,!0),o.options.revert=o.options._revert,o.options.helper=o.options._helper,o.placeholder&&o.placeholder.remove(),i.helper.appendTo(s._parent),s._refreshOffsets(e),i.position=s._generatePosition(e,!0),s._trigger("fromSortable",e),s.dropped=!1,t.each(s.sortables,function(){this.refreshPositions()}))})}}),t.ui.plugin.add("draggable","cursor",{start:function(e,i,s){var n=t("body"),o=s.options;n.css("cursor")&&(o._cursor=n.css("cursor")),n.css("cursor",o.cursor)},stop:function(e,i,s){var n=s.options;n._cursor&&t("body").css("cursor",n._cursor)}}),t.ui.plugin.add("draggable","opacity",{start:function(e,i,s){var n=t(i.helper),o=s.options;n.css("opacity")&&(o._opacity=n.css("opacity")),n.css("opacity",o.opacity)},stop:function(e,i,s){var n=s.options;n._opacity&&t(i.helper).css("opacity",n._opacity)}}),t.ui.plugin.add("draggable","scroll",{start:function(t,e,i){i.scrollParentNotHidden||(i.scrollParentNotHidden=i.helper.scrollParent(!1)),i.scrollParentNotHidden[0]!==i.document[0]&&"HTML"!==i.scrollParentNotHidden[0].tagName&&(i.overflowOffset=i.scrollParentNotHidden.offset())},drag:function(e,i,s){var n=s.options,o=!1,a=s.scrollParentNotHidden[0],r=s.document[0];a!==r&&"HTML"!==a.tagName?(n.axis&&"x"===n.axis||(s.overflowOffset.top+a.offsetHeight-e.pageY<n.scrollSensitivity?a.scrollTop=o=a.scrollTop+n.scrollSpeed:e.pageY-s.overflowOffset.top<n.scrollSensitivity&&(a.scrollTop=o=a.scrollTop-n.scrollSpeed)),n.axis&&"y"===n.axis||(s.overflowOffset.left+a.offsetWidth-e.pageX<n.scrollSensitivity?a.scrollLeft=o=a.scrollLeft+n.scrollSpeed:e.pageX-s.overflowOffset.left<n.scrollSensitivity&&(a.scrollLeft=o=a.scrollLeft-n.scrollSpeed))):(n.axis&&"x"===n.axis||(e.pageY-t(r).scrollTop()<n.scrollSensitivity?o=t(r).scrollTop(t(r).scrollTop()-n.scrollSpeed):t(window).height()-(e.pageY-t(r).scrollTop())<n.scrollSensitivity&&(o=t(r).scrollTop(t(r).scrollTop()+n.scrollSpeed))),n.axis&&"y"===n.axis||(e.pageX-t(r).scrollLeft()<n.scrollSensitivity?o=t(r).scrollLeft(t(r).scrollLeft()-n.scrollSpeed):t(window).width()-(e.pageX-t(r).scrollLeft())<n.scrollSensitivity&&(o=t(r).scrollLeft(t(r).scrollLeft()+n.scrollSpeed)))),o!==!1&&t.ui.ddmanager&&!n.dropBehaviour&&t.ui.ddmanager.prepareOffsets(s,e)}}),t.ui.plugin.add("draggable","snap",{start:function(e,i,s){var n=s.options;s.snapElements=[],t(n.snap.constructor!==String?n.snap.items||":data(ui-draggable)":n.snap).each(function(){var e=t(this),i=e.offset();this!==s.element[0]&&s.snapElements.push({item:this,width:e.outerWidth(),height:e.outerHeight(),top:i.top,left:i.left})})},drag:function(e,i,s){var n,o,a,r,h,l,c,u,d,p,f=s.options,g=f.snapTolerance,m=i.offset.left,_=m+s.helperProportions.width,v=i.offset.top,b=v+s.helperProportions.height;for(d=s.snapElements.length-1;d>=0;d--)h=s.snapElements[d].left-s.margins.left,l=h+s.snapElements[d].width,c=s.snapElements[d].top-s.margins.top,u=c+s.snapElements[d].height,h-g>_||m>l+g||c-g>b||v>u+g||!t.contains(s.snapElements[d].item.ownerDocument,s.snapElements[d].item)?(s.snapElements[d].snapping&&s.options.snap.release&&s.options.snap.release.call(s.element,e,t.extend(s._uiHash(),{snapItem:s.snapElements[d].item})),s.snapElements[d].snapping=!1):("inner"!==f.snapMode&&(n=g>=Math.abs(c-b),o=g>=Math.abs(u-v),a=g>=Math.abs(h-_),r=g>=Math.abs(l-m),n&&(i.position.top=s._convertPositionTo("relative",{top:c-s.helperProportions.height,left:0}).top),o&&(i.position.top=s._convertPositionTo("relative",{top:u,left:0}).top),a&&(i.position.left=s._convertPositionTo("relative",{top:0,left:h-s.helperProportions.width}).left),r&&(i.position.left=s._convertPositionTo("relative",{top:0,left:l}).left)),p=n||o||a||r,"outer"!==f.snapMode&&(n=g>=Math.abs(c-v),o=g>=Math.abs(u-b),a=g>=Math.abs(h-m),r=g>=Math.abs(l-_),n&&(i.position.top=s._convertPositionTo("relative",{top:c,left:0}).top),o&&(i.position.top=s._convertPositionTo("relative",{top:u-s.helperProportions.height,left:0}).top),a&&(i.position.left=s._convertPositionTo("relative",{top:0,left:h}).left),r&&(i.position.left=s._convertPositionTo("relative",{top:0,left:l-s.helperProportions.width}).left)),!s.snapElements[d].snapping&&(n||o||a||r||p)&&s.options.snap.snap&&s.options.snap.snap.call(s.element,e,t.extend(s._uiHash(),{snapItem:s.snapElements[d].item})),s.snapElements[d].snapping=n||o||a||r||p)}}),t.ui.plugin.add("draggable","stack",{start:function(e,i,s){var n,o=s.options,a=t.makeArray(t(o.stack)).sort(function(e,i){return(parseInt(t(e).css("zIndex"),10)||0)-(parseInt(t(i).css("zIndex"),10)||0)});a.length&&(n=parseInt(t(a[0]).css("zIndex"),10)||0,t(a).each(function(e){t(this).css("zIndex",n+e)}),this.css("zIndex",n+a.length))}}),t.ui.plugin.add("draggable","zIndex",{start:function(e,i,s){var n=t(i.helper),o=s.options;n.css("zIndex")&&(o._zIndex=n.css("zIndex")),n.css("zIndex",o.zIndex)},stop:function(e,i,s){var n=s.options;n._zIndex&&t(i.helper).css("zIndex",n._zIndex)}}),t.ui.draggable,t.widget("ui.resizable",t.ui.mouse,{version:"1.12.1",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,classes:{"ui-resizable-se":"ui-icon ui-icon-gripsmall-diagonal-se"},containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(t){return parseFloat(t)||0},_isNumber:function(t){return!isNaN(parseFloat(t))},_hasScroll:function(e,i){if("hidden"===t(e).css("overflow"))return!1;var s=i&&"left"===i?"scrollLeft":"scrollTop",n=!1;return e[s]>0?!0:(e[s]=1,n=e[s]>0,e[s]=0,n)},_create:function(){var e,i=this.options,s=this;this._addClass("ui-resizable"),t.extend(this,{_aspectRatio:!!i.aspectRatio,aspectRatio:i.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:i.helper||i.ghost||i.animate?i.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)&&(this.element.wrap(t("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,e={marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom"),marginLeft:this.originalElement.css("marginLeft")},this.element.css(e),this.originalElement.css("margin",0),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css(e),this._proportionallyResize()),this._setupHandles(),i.autoHide&&t(this.element).on("mouseenter",function(){i.disabled||(s._removeClass("ui-resizable-autohide"),s._handles.show())}).on("mouseleave",function(){i.disabled||s.resizing||(s._addClass("ui-resizable-autohide"),s._handles.hide())}),this._mouseInit()},_destroy:function(){this._mouseDestroy();var e,i=function(e){t(e).removeData("resizable").removeData("ui-resizable").off(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(i(this.element),e=this.element,this.originalElement.css({position:e.css("position"),width:e.outerWidth(),height:e.outerHeight(),top:e.css("top"),left:e.css("left")}).insertAfter(e),e.remove()),this.originalElement.css("resize",this.originalResizeStyle),i(this.originalElement),this},_setOption:function(t,e){switch(this._super(t,e),t){case "handles":this._removeHandles(),this._setupHandles();break;default:}},_setupHandles:function(){var e,i,s,n,o,a=this.options,r=this;if(this.handles=a.handles||(t(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this._handles=t(),this.handles.constructor===String)
for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),s=this.handles.split(","),this.handles={},i=0;s.length>i;i++)e=t.trim(s[i]),n="ui-resizable-"+e,o=t("<div>"),this._addClass(o,"ui-resizable-handle "+n),o.css({zIndex:a.zIndex}),this.handles[e]=".ui-resizable-"+e,this.element.append(o);this._renderAxis=function(e){var i,s,n,o;e=e||this.element;for(i in this.handles)this.handles[i].constructor===String?this.handles[i]=this.element.children(this.handles[i]).first().show():(this.handles[i].jquery||this.handles[i].nodeType)&&(this.handles[i]=t(this.handles[i]),this._on(this.handles[i],{mousedown:r._mouseDown})),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)&&(s=t(this.handles[i],this.element),o=/sw|ne|nw|se|n|s/.test(i)?s.outerHeight():s.outerWidth(),n=["padding",/ne|nw|n/.test(i)?"Top":/se|sw|s/.test(i)?"Bottom":/^e$/.test(i)?"Right":"Left"].join(""),e.css(n,o),this._proportionallyResize()),this._handles=this._handles.add(this.handles[i])},this._renderAxis(this.element),this._handles=this._handles.add(this.element.find(".ui-resizable-handle")),this._handles.disableSelection(),this._handles.on("mouseover",function(){r.resizing||(this.className&&(o=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),r.axis=o&&o[1]?o[1]:"se")}),a.autoHide&&(this._handles.hide(),this._addClass("ui-resizable-autohide"))},_removeHandles:function(){this._handles.remove()},_mouseCapture:function(e){var i,s,n=!1;for(i in this.handles)s=t(this.handles[i])[0],(s===e.target||t.contains(s,e.target))&&(n=!0);return!this.options.disabled&&n},_mouseStart:function(e){var i,s,n,o=this.options,a=this.element;return this.resizing=!0,this._renderProxy(),i=this._num(this.helper.css("left")),s=this._num(this.helper.css("top")),o.containment&&(i+=t(o.containment).scrollLeft()||0,s+=t(o.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:i,top:s},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:a.width(),height:a.height()},this.originalSize=this._helper?{width:a.outerWidth(),height:a.outerHeight()}:{width:a.width(),height:a.height()},this.sizeDiff={width:a.outerWidth()-a.width(),height:a.outerHeight()-a.height()},this.originalPosition={left:i,top:s},this.originalMousePosition={left:e.pageX,top:e.pageY},this.aspectRatio="number"==typeof o.aspectRatio?o.aspectRatio:this.originalSize.width/this.originalSize.height||1,n=t(".ui-resizable-"+this.axis).css("cursor"),t("body").css("cursor","auto"===n?this.axis+"-resize":n),this._addClass("ui-resizable-resizing"),this._propagate("start",e),!0},_mouseDrag:function(e){var i,s,n=this.originalMousePosition,o=this.axis,a=e.pageX-n.left||0,r=e.pageY-n.top||0,h=this._change[o];return this._updatePrevProperties(),h?(i=h.apply(this,[e,a,r]),this._updateVirtualBoundaries(e.shiftKey),(this._aspectRatio||e.shiftKey)&&(i=this._updateRatio(i,e)),i=this._respectSize(i,e),this._updateCache(i),this._propagate("resize",e),s=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),t.isEmptyObject(s)||(this._updatePrevProperties(),this._trigger("resize",e,this.ui()),this._applyChanges()),!1):!1},_mouseStop:function(e){this.resizing=!1;var i,s,n,o,a,r,h,l=this.options,c=this;return this._helper&&(i=this._proportionallyResizeElements,s=i.length&&/textarea/i.test(i[0].nodeName),n=s&&this._hasScroll(i[0],"left")?0:c.sizeDiff.height,o=s?0:c.sizeDiff.width,a={width:c.helper.width()-o,height:c.helper.height()-n},r=parseFloat(c.element.css("left"))+(c.position.left-c.originalPosition.left)||null,h=parseFloat(c.element.css("top"))+(c.position.top-c.originalPosition.top)||null,l.animate||this.element.css(t.extend(a,{top:h,left:r})),c.helper.height(c.size.height),c.helper.width(c.size.width),this._helper&&!l.animate&&this._proportionallyResize()),t("body").css("cursor","auto"),this._removeClass("ui-resizable-resizing"),this._propagate("stop",e),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var t={};return this.position.top!==this.prevPosition.top&&(t.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(t.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(t.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(t.height=this.size.height+"px"),this.helper.css(t),t},_updateVirtualBoundaries:function(t){var e,i,s,n,o,a=this.options;o={minWidth:this._isNumber(a.minWidth)?a.minWidth:0,maxWidth:this._isNumber(a.maxWidth)?a.maxWidth:1/0,minHeight:this._isNumber(a.minHeight)?a.minHeight:0,maxHeight:this._isNumber(a.maxHeight)?a.maxHeight:1/0},(this._aspectRatio||t)&&(e=o.minHeight*this.aspectRatio,s=o.minWidth/this.aspectRatio,i=o.maxHeight*this.aspectRatio,n=o.maxWidth/this.aspectRatio,e>o.minWidth&&(o.minWidth=e),s>o.minHeight&&(o.minHeight=s),o.maxWidth>i&&(o.maxWidth=i),o.maxHeight>n&&(o.maxHeight=n)),this._vBoundaries=o},_updateCache:function(t){this.offset=this.helper.offset(),this._isNumber(t.left)&&(this.position.left=t.left),this._isNumber(t.top)&&(this.position.top=t.top),this._isNumber(t.height)&&(this.size.height=t.height),this._isNumber(t.width)&&(this.size.width=t.width)},_updateRatio:function(t){var e=this.position,i=this.size,s=this.axis;return this._isNumber(t.height)?t.width=t.height*this.aspectRatio:this._isNumber(t.width)&&(t.height=t.width/this.aspectRatio),"sw"===s&&(t.left=e.left+(i.width-t.width),t.top=null),"nw"===s&&(t.top=e.top+(i.height-t.height),t.left=e.left+(i.width-t.width)),t},_respectSize:function(t){var e=this._vBoundaries,i=this.axis,s=this._isNumber(t.width)&&e.maxWidth&&e.maxWidth<t.width,n=this._isNumber(t.height)&&e.maxHeight&&e.maxHeight<t.height,o=this._isNumber(t.width)&&e.minWidth&&e.minWidth>t.width,a=this._isNumber(t.height)&&e.minHeight&&e.minHeight>t.height,r=this.originalPosition.left+this.originalSize.width,h=this.originalPosition.top+this.originalSize.height,l=/sw|nw|w/.test(i),c=/nw|ne|n/.test(i);return o&&(t.width=e.minWidth),a&&(t.height=e.minHeight),s&&(t.width=e.maxWidth),n&&(t.height=e.maxHeight),o&&l&&(t.left=r-e.minWidth),s&&l&&(t.left=r-e.maxWidth),a&&c&&(t.top=h-e.minHeight),n&&c&&(t.top=h-e.maxHeight),t.width||t.height||t.left||!t.top?t.width||t.height||t.top||!t.left||(t.left=null):t.top=null,t},_getPaddingPlusBorderDimensions:function(t){for(var e=0,i=[],s=[t.css("borderTopWidth"),t.css("borderRightWidth"),t.css("borderBottomWidth"),t.css("borderLeftWidth")],n=[t.css("paddingTop"),t.css("paddingRight"),t.css("paddingBottom"),t.css("paddingLeft")];4>e;e++)i[e]=parseFloat(s[e])||0,i[e]+=parseFloat(n[e])||0;return{height:i[0]+i[2],width:i[1]+i[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)
for(var t,e=0,i=this.helper||this.element;this._proportionallyResizeElements.length>e;e++)t=this._proportionallyResizeElements[e],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(t)),t.css({height:i.height()-this.outerDimensions.height||0,width:i.width()-this.outerDimensions.width||0})},_renderProxy:function(){var e=this.element,i=this.options;this.elementOffset=e.offset(),this._helper?(this.helper=this.helper||t("<div style='overflow:hidden;'></div>"),this._addClass(this.helper,this._helper),this.helper.css({width:this.element.outerWidth(),height:this.element.outerHeight(),position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++i.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(t,e){return{width:this.originalSize.width+e}},w:function(t,e){var i=this.originalSize,s=this.originalPosition;return{left:s.left+e,width:i.width-e}},n:function(t,e,i){var s=this.originalSize,n=this.originalPosition;return{top:n.top+i,height:s.height-i}},s:function(t,e,i){return{height:this.originalSize.height+i}},se:function(e,i,s){return t.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[e,i,s]))},sw:function(e,i,s){return t.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[e,i,s]))},ne:function(e,i,s){return t.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[e,i,s]))},nw:function(e,i,s){return t.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[e,i,s]))}},_propagate:function(e,i){t.ui.plugin.call(this,e,[i,this.ui()]),"resize"!==e&&this._trigger(e,i,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),t.ui.plugin.add("resizable","animate",{stop:function(e){var i=t(this).resizable("instance"),s=i.options,n=i._proportionallyResizeElements,o=n.length&&/textarea/i.test(n[0].nodeName),a=o&&i._hasScroll(n[0],"left")?0:i.sizeDiff.height,r=o?0:i.sizeDiff.width,h={width:i.size.width-r,height:i.size.height-a},l=parseFloat(i.element.css("left"))+(i.position.left-i.originalPosition.left)||null,c=parseFloat(i.element.css("top"))+(i.position.top-i.originalPosition.top)||null;i.element.animate(t.extend(h,c&&l?{top:c,left:l}:{}),{duration:s.animateDuration,easing:s.animateEasing,step:function(){var s={width:parseFloat(i.element.css("width")),height:parseFloat(i.element.css("height")),top:parseFloat(i.element.css("top")),left:parseFloat(i.element.css("left"))};n&&n.length&&t(n[0]).css({width:s.width,height:s.height}),i._updateCache(s),i._propagate("resize",e)}})}}),t.ui.plugin.add("resizable","containment",{start:function(){var e,i,s,n,o,a,r,h=t(this).resizable("instance"),l=h.options,c=h.element,u=l.containment,d=u instanceof t?u.get(0):/parent/.test(u)?c.parent().get(0):u;d&&(h.containerElement=t(d),/document/.test(u)||u===document?(h.containerOffset={left:0,top:0},h.containerPosition={left:0,top:0},h.parentData={element:t(document),left:0,top:0,width:t(document).width(),height:t(document).height()||document.body.parentNode.scrollHeight}):(e=t(d),i=[],t(["Top","Right","Left","Bottom"]).each(function(t,s){i[t]=h._num(e.css("padding"+s))}),h.containerOffset=e.offset(),h.containerPosition=e.position(),h.containerSize={height:e.innerHeight()-i[3],width:e.innerWidth()-i[1]},s=h.containerOffset,n=h.containerSize.height,o=h.containerSize.width,a=h._hasScroll(d,"left")?d.scrollWidth:o,r=h._hasScroll(d)?d.scrollHeight:n,h.parentData={element:d,left:s.left,top:s.top,width:a,height:r}))},resize:function(e){var i,s,n,o,a=t(this).resizable("instance"),r=a.options,h=a.containerOffset,l=a.position,c=a._aspectRatio||e.shiftKey,u={top:0,left:0},d=a.containerElement,p=!0;d[0]!==document&&/static/.test(d.css("position"))&&(u=h),l.left<(a._helper?h.left:0)&&(a.size.width=a.size.width+(a._helper?a.position.left-h.left:a.position.left-u.left),c&&(a.size.height=a.size.width/a.aspectRatio,p=!1),a.position.left=r.helper?h.left:0),l.top<(a._helper?h.top:0)&&(a.size.height=a.size.height+(a._helper?a.position.top-h.top:a.position.top),c&&(a.size.width=a.size.height*a.aspectRatio,p=!1),a.position.top=a._helper?h.top:0),n=a.containerElement.get(0)===a.element.parent().get(0),o=/relative|absolute/.test(a.containerElement.css("position")),n&&o?(a.offset.left=a.parentData.left+a.position.left,a.offset.top=a.parentData.top+a.position.top):(a.offset.left=a.element.offset().left,a.offset.top=a.element.offset().top),i=Math.abs(a.sizeDiff.width+(a._helper?a.offset.left-u.left:a.offset.left-h.left)),s=Math.abs(a.sizeDiff.height+(a._helper?a.offset.top-u.top:a.offset.top-h.top)),i+a.size.width>=a.parentData.width&&(a.size.width=a.parentData.width-i,c&&(a.size.height=a.size.width/a.aspectRatio,p=!1)),s+a.size.height>=a.parentData.height&&(a.size.height=a.parentData.height-s,c&&(a.size.width=a.size.height*a.aspectRatio,p=!1)),p||(a.position.left=a.prevPosition.left,a.position.top=a.prevPosition.top,a.size.width=a.prevSize.width,a.size.height=a.prevSize.height)},stop:function(){var e=t(this).resizable("instance"),i=e.options,s=e.containerOffset,n=e.containerPosition,o=e.containerElement,a=t(e.helper),r=a.offset(),h=a.outerWidth()-e.sizeDiff.width,l=a.outerHeight()-e.sizeDiff.height;e._helper&&!i.animate&&/relative/.test(o.css("position"))&&t(this).css({left:r.left-n.left-s.left,width:h,height:l}),e._helper&&!i.animate&&/static/.test(o.css("position"))&&t(this).css({left:r.left-n.left-s.left,width:h,height:l})}}),t.ui.plugin.add("resizable","alsoResize",{start:function(){var e=t(this).resizable("instance"),i=e.options;t(i.alsoResize).each(function(){var e=t(this);e.data("ui-resizable-alsoresize",{width:parseFloat(e.width()),height:parseFloat(e.height()),left:parseFloat(e.css("left")),top:parseFloat(e.css("top"))})})},resize:function(e,i){var s=t(this).resizable("instance"),n=s.options,o=s.originalSize,a=s.originalPosition,r={height:s.size.height-o.height||0,width:s.size.width-o.width||0,top:s.position.top-a.top||0,left:s.position.left-a.left||0};t(n.alsoResize).each(function(){var e=t(this),s=t(this).data("ui-resizable-alsoresize"),n={},o=e.parents(i.originalElement[0]).length?["width","height"]:["width","height","top","left"];t.each(o,function(t,e){var i=(s[e]||0)+(r[e]||0);i&&i>=0&&(n[e]=i||null)}),e.css(n)})},stop:function(){t(this).removeData("ui-resizable-alsoresize")}}),t.ui.plugin.add("resizable","ghost",{start:function(){var e=t(this).resizable("instance"),i=e.size;e.ghost=e.originalElement.clone(),e.ghost.css({opacity:.25,display:"block",position:"relative",height:i.height,width:i.width,margin:0,left:0,top:0}),e._addClass(e.ghost,"ui-resizable-ghost"),t.uiBackCompat!==!1&&"string"==typeof e.options.ghost&&e.ghost.addClass(this.options.ghost),e.ghost.appendTo(e.helper)},resize:function(){var e=t(this).resizable("instance");e.ghost&&e.ghost.css({position:"relative",height:e.size.height,width:e.size.width})},stop:function(){var e=t(this).resizable("instance");e.ghost&&e.helper&&e.helper.get(0).removeChild(e.ghost.get(0))}}),t.ui.plugin.add("resizable","grid",{resize:function(){var e,i=t(this).resizable("instance"),s=i.options,n=i.size,o=i.originalSize,a=i.originalPosition,r=i.axis,h="number"==typeof s.grid?[s.grid,s.grid]:s.grid,l=h[0]||1,c=h[1]||1,u=Math.round((n.width-o.width)/l)*l,d=Math.round((n.height-o.height)/c)*c,p=o.width+u,f=o.height+d,g=s.maxWidth&&p>s.maxWidth,m=s.maxHeight&&f>s.maxHeight,_=s.minWidth&&s.minWidth>p,v=s.minHeight&&s.minHeight>f;s.grid=h,_&&(p+=l),v&&(f+=c),g&&(p-=l),m&&(f-=c),/^(se|s|e)$/.test(r)?(i.size.width=p,i.size.height=f):/^(ne)$/.test(r)?(i.size.width=p,i.size.height=f,i.position.top=a.top-d):/^(sw)$/.test(r)?(i.size.width=p,i.size.height=f,i.position.left=a.left-u):((0>=f-c||0>=p-l)&&(e=i._getPaddingPlusBorderDimensions(this)),f-c>0?(i.size.height=f,i.position.top=a.top-d):(f=c-e.height,i.size.height=f,i.position.top=a.top+o.height-f),p-l>0?(i.size.width=p,i.position.left=a.left-u):(p=l-e.width,i.size.width=p,i.position.left=a.left+o.width-p))}}),t.ui.resizable,t.widget("ui.dialog",{version:"1.12.1",options:{appendTo:"body",autoOpen:!0,buttons:[],classes:{"ui-dialog":"ui-corner-all","ui-dialog-titlebar":"ui-corner-all"},closeOnEscape:!0,closeText:"Close",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(e){var i=t(this).css(e).offset().top;0>i&&t(this).css("top",e.top-i)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},sizeRelatedOptions:{buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},resizableRelatedOptions:{maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),null==this.options.title&&null!=this.originalTitle&&(this.options.title=this.originalTitle),this.options.disabled&&(this.options.disabled=!1),this._createWrapper(),this.element.show().removeAttr("title").appendTo(this.uiDialog),this._addClass("ui-dialog-content","ui-widget-content"),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&t.fn.draggable&&this._makeDraggable(),this.options.resizable&&t.fn.resizable&&this._makeResizable(),this._isOpen=!1,this._trackFocus()},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var e=this.options.appendTo;return e&&(e.jquery||e.nodeType)?t(e):this.document.find(e||"body").eq(0)},_destroy:function(){var t,e=this.originalPosition;this._untrackInstance(),this._destroyOverlay(),this.element.removeUniqueId().css(this.originalCss).detach(),this.uiDialog.remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),t=e.parent.children().eq(e.index),t.length&&t[0]!==this.element[0]?t.before(this.element):e.parent.append(this.element)},widget:function(){return this.uiDialog},disable:t.noop,enable:t.noop,close:function(e){var i=this;this._isOpen&&this._trigger("beforeClose",e)!==!1&&(this._isOpen=!1,this._focusedElement=null,this._destroyOverlay(),this._untrackInstance(),this.opener.filter(":focusable").trigger("focus").length||t.ui.safeBlur(t.ui.safeActiveElement(this.document[0])),this._hide(this.uiDialog,this.options.hide,function(){i._trigger("close",e)}))},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(e,i){var s=!1,n=this.uiDialog.siblings(".ui-front:visible").map(function(){return+t(this).css("z-index")}).get(),o=Math.max.apply(null,n);return o>=+this.uiDialog.css("z-index")&&(this.uiDialog.css("z-index",o+1),s=!0),s&&!i&&this._trigger("focus",e),s},open:function(){var e=this;return this._isOpen?(this._moveToTop()&&this._focusTabbable(),void 0):(this._isOpen=!0,this.opener=t(t.ui.safeActiveElement(this.document[0])),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this.overlay&&this.overlay.css("z-index",this.uiDialog.css("z-index")-1),this._show(this.uiDialog,this.options.show,function(){e._focusTabbable(),e._trigger("focus")}),this._makeFocusTarget(),this._trigger("open"),void 0)},_focusTabbable:function(){var t=this._focusedElement;t||(t=this.element.find("[autofocus]")),t.length||(t=this.element.find(":tabbable")),t.length||(t=this.uiDialogButtonPane.find(":tabbable")),t.length||(t=this.uiDialogTitlebarClose.filter(":tabbable")),t.length||(t=this.uiDialog),t.eq(0).trigger("focus")},_keepFocus:function(e){function i(){var e=t.ui.safeActiveElement(this.document[0]),i=this.uiDialog[0]===e||t.contains(this.uiDialog[0],e);i||this._focusTabbable()}
e.preventDefault(),i.call(this),this._delay(i)},_createWrapper:function(){this.uiDialog=t("<div>").hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo()),this._addClass(this.uiDialog,"ui-dialog","ui-widget ui-widget-content ui-front"),this._on(this.uiDialog,{keydown:function(e){if(this.options.closeOnEscape&&!e.isDefaultPrevented()&&e.keyCode&&e.keyCode===t.ui.keyCode.ESCAPE)return e.preventDefault(),this.close(e),void 0;if(e.keyCode===t.ui.keyCode.TAB&&!e.isDefaultPrevented()){var i=this.uiDialog.find(":tabbable"),s=i.filter(":first"),n=i.filter(":last");e.target!==n[0]&&e.target!==this.uiDialog[0]||e.shiftKey?e.target!==s[0]&&e.target!==this.uiDialog[0]||!e.shiftKey||(this._delay(function(){n.trigger("focus")}),e.preventDefault()):(this._delay(function(){s.trigger("focus")}),e.preventDefault())}},mousedown:function(t){this._moveToTop(t)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var e;this.uiDialogTitlebar=t("<div>"),this._addClass(this.uiDialogTitlebar,"ui-dialog-titlebar","ui-widget-header ui-helper-clearfix"),this._on(this.uiDialogTitlebar,{mousedown:function(e){t(e.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.trigger("focus")}}),this.uiDialogTitlebarClose=t("<button type='button'></button>").button({label:t("<a>").text(this.options.closeText).html(),icon:"ui-icon-closethick",showLabel:!1}).appendTo(this.uiDialogTitlebar),this._addClass(this.uiDialogTitlebarClose,"ui-dialog-titlebar-close"),this._on(this.uiDialogTitlebarClose,{click:function(t){t.preventDefault(),this.close(t)}}),e=t("<span>").uniqueId().prependTo(this.uiDialogTitlebar),this._addClass(e,"ui-dialog-title"),this._title(e),this.uiDialogTitlebar.prependTo(this.uiDialog),this.uiDialog.attr({"aria-labelledby":e.attr("id")})},_title:function(t){this.options.title?t.text(this.options.title):t.html("&#160;")},_createButtonPane:function(){this.uiDialogButtonPane=t("<div>"),this._addClass(this.uiDialogButtonPane,"ui-dialog-buttonpane","ui-widget-content ui-helper-clearfix"),this.uiButtonSet=t("<div>").appendTo(this.uiDialogButtonPane),this._addClass(this.uiButtonSet,"ui-dialog-buttonset"),this._createButtons()},_createButtons:function(){var e=this,i=this.options.buttons;return this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),t.isEmptyObject(i)||t.isArray(i)&&!i.length?(this._removeClass(this.uiDialog,"ui-dialog-buttons"),void 0):(t.each(i,function(i,s){var n,o;s=t.isFunction(s)?{click:s,text:i}:s,s=t.extend({type:"button"},s),n=s.click,o={icon:s.icon,iconPosition:s.iconPosition,showLabel:s.showLabel,icons:s.icons,text:s.text},delete s.click,delete s.icon,delete s.iconPosition,delete s.showLabel,delete s.icons,"boolean"==typeof s.text&&delete s.text,t("<button></button>",s).button(o).appendTo(e.uiButtonSet).on("click",function(){n.apply(e.element[0],arguments)})}),this._addClass(this.uiDialog,"ui-dialog-buttons"),this.uiDialogButtonPane.appendTo(this.uiDialog),void 0)},_makeDraggable:function(){function e(t){return{position:t.position,offset:t.offset}}
var i=this,s=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(s,n){i._addClass(t(this),"ui-dialog-dragging"),i._blockFrames(),i._trigger("dragStart",s,e(n))},drag:function(t,s){i._trigger("drag",t,e(s))},stop:function(n,o){var a=o.offset.left-i.document.scrollLeft(),r=o.offset.top-i.document.scrollTop();s.position={my:"left top",at:"left"+(a>=0?"+":"")+a+" "+"top"+(r>=0?"+":"")+r,of:i.window},i._removeClass(t(this),"ui-dialog-dragging"),i._unblockFrames(),i._trigger("dragStop",n,e(o))}})},_makeResizable:function(){function e(t){return{originalPosition:t.originalPosition,originalSize:t.originalSize,position:t.position,size:t.size}}
var i=this,s=this.options,n=s.resizable,o=this.uiDialog.css("position"),a="string"==typeof n?n:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:s.maxWidth,maxHeight:s.maxHeight,minWidth:s.minWidth,minHeight:this._minHeight(),handles:a,start:function(s,n){i._addClass(t(this),"ui-dialog-resizing"),i._blockFrames(),i._trigger("resizeStart",s,e(n))},resize:function(t,s){i._trigger("resize",t,e(s))},stop:function(n,o){var a=i.uiDialog.offset(),r=a.left-i.document.scrollLeft(),h=a.top-i.document.scrollTop();s.height=i.uiDialog.height(),s.width=i.uiDialog.width(),s.position={my:"left top",at:"left"+(r>=0?"+":"")+r+" "+"top"+(h>=0?"+":"")+h,of:i.window},i._removeClass(t(this),"ui-dialog-resizing"),i._unblockFrames(),i._trigger("resizeStop",n,e(o))}}).css("position",o)},_trackFocus:function(){this._on(this.widget(),{focusin:function(e){this._makeFocusTarget(),this._focusedElement=t(e.target)}})},_makeFocusTarget:function(){this._untrackInstance(),this._trackingInstances().unshift(this)},_untrackInstance:function(){var e=this._trackingInstances(),i=t.inArray(this,e);-1!==i&&e.splice(i,1)},_trackingInstances:function(){var t=this.document.data("ui-dialog-instances");return t||(t=[],this.document.data("ui-dialog-instances",t)),t},_minHeight:function(){var t=this.options;return"auto"===t.height?t.minHeight:Math.min(t.minHeight,t.height)},_position:function(){var t=this.uiDialog.is(":visible");t||this.uiDialog.show(),this.uiDialog.position(this.options.position),t||this.uiDialog.hide()},_setOptions:function(e){var i=this,s=!1,n={};t.each(e,function(t,e){i._setOption(t,e),t in i.sizeRelatedOptions&&(s=!0),t in i.resizableRelatedOptions&&(n[t]=e)}),s&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",n)},_setOption:function(e,i){var s,n,o=this.uiDialog;"disabled"!==e&&(this._super(e,i),"appendTo"===e&&this.uiDialog.appendTo(this._appendTo()),"buttons"===e&&this._createButtons(),"closeText"===e&&this.uiDialogTitlebarClose.button({label:t("<a>").text(""+this.options.closeText).html()}),"draggable"===e&&(s=o.is(":data(ui-draggable)"),s&&!i&&o.draggable("destroy"),!s&&i&&this._makeDraggable()),"position"===e&&this._position(),"resizable"===e&&(n=o.is(":data(ui-resizable)"),n&&!i&&o.resizable("destroy"),n&&"string"==typeof i&&o.resizable("option","handles",i),n||i===!1||this._makeResizable()),"title"===e&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var t,e,i,s=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),s.minWidth>s.width&&(s.width=s.minWidth),t=this.uiDialog.css({height:"auto",width:s.width}).outerHeight(),e=Math.max(0,s.minHeight-t),i="number"==typeof s.maxHeight?Math.max(0,s.maxHeight-t):"none","auto"===s.height?this.element.css({minHeight:e,maxHeight:i,height:"auto"}):this.element.height(Math.max(0,s.height-t)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var e=t(this);return t("<div>").css({position:"absolute",width:e.outerWidth(),height:e.outerHeight()}).appendTo(e.parent()).offset(e.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(e){return t(e.target).closest(".ui-dialog").length?!0:!!t(e.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var e=!0;this._delay(function(){e=!1}),this.document.data("ui-dialog-overlays")||this._on(this.document,{focusin:function(t){e||this._allowInteraction(t)||(t.preventDefault(),this._trackingInstances()[0]._focusTabbable())}}),this.overlay=t("<div>").appendTo(this._appendTo()),this._addClass(this.overlay,null,"ui-widget-overlay ui-front"),this._on(this.overlay,{mousedown:"_keepFocus"}),this.document.data("ui-dialog-overlays",(this.document.data("ui-dialog-overlays")||0)+1)}},_destroyOverlay:function(){if(this.options.modal&&this.overlay){var t=this.document.data("ui-dialog-overlays")-1;t?this.document.data("ui-dialog-overlays",t):(this._off(this.document,"focusin"),this.document.removeData("ui-dialog-overlays")),this.overlay.remove(),this.overlay=null}}}),t.uiBackCompat!==!1&&t.widget("ui.dialog",t.ui.dialog,{options:{dialogClass:""},_createWrapper:function(){this._super(),this.uiDialog.addClass(this.options.dialogClass)},_setOption:function(t,e){"dialogClass"===t&&this.uiDialog.removeClass(this.options.dialogClass).addClass(e),this._superApply(arguments)}}),t.ui.dialog,t.widget("ui.droppable",{version:"1.12.1",widgetEventPrefix:"drop",options:{accept:"*",addClasses:!0,greedy:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var e,i=this.options,s=i.accept;this.isover=!1,this.isout=!0,this.accept=t.isFunction(s)?s:function(t){return t.is(s)},this.proportions=function(){return arguments.length?(e=arguments[0],void 0):e?e:e={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight}},this._addToManager(i.scope),i.addClasses&&this._addClass("ui-droppable")},_addToManager:function(e){t.ui.ddmanager.droppables[e]=t.ui.ddmanager.droppables[e]||[],t.ui.ddmanager.droppables[e].push(this)},_splice:function(t){for(var e=0;t.length>e;e++)t[e]===this&&t.splice(e,1)},_destroy:function(){var e=t.ui.ddmanager.droppables[this.options.scope];this._splice(e)},_setOption:function(e,i){if("accept"===e)this.accept=t.isFunction(i)?i:function(t){return t.is(i)};else if("scope"===e){var s=t.ui.ddmanager.droppables[this.options.scope];this._splice(s),this._addToManager(i)}
this._super(e,i)},_activate:function(e){var i=t.ui.ddmanager.current;this._addActiveClass(),i&&this._trigger("activate",e,this.ui(i))},_deactivate:function(e){var i=t.ui.ddmanager.current;this._removeActiveClass(),i&&this._trigger("deactivate",e,this.ui(i))},_over:function(e){var i=t.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this._addHoverClass(),this._trigger("over",e,this.ui(i)))},_out:function(e){var i=t.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this._removeHoverClass(),this._trigger("out",e,this.ui(i)))},_drop:function(e,i){var s=i||t.ui.ddmanager.current,n=!1;return s&&(s.currentItem||s.element)[0]!==this.element[0]?(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var i=t(this).droppable("instance");return i.options.greedy&&!i.options.disabled&&i.options.scope===s.options.scope&&i.accept.call(i.element[0],s.currentItem||s.element)&&v(s,t.extend(i,{offset:i.element.offset()}),i.options.tolerance,e)?(n=!0,!1):void 0}),n?!1:this.accept.call(this.element[0],s.currentItem||s.element)?(this._removeActiveClass(),this._removeHoverClass(),this._trigger("drop",e,this.ui(s)),this.element):!1):!1},ui:function(t){return{draggable:t.currentItem||t.element,helper:t.helper,position:t.position,offset:t.positionAbs}},_addHoverClass:function(){this._addClass("ui-droppable-hover")},_removeHoverClass:function(){this._removeClass("ui-droppable-hover")},_addActiveClass:function(){this._addClass("ui-droppable-active")},_removeActiveClass:function(){this._removeClass("ui-droppable-active")}});var v=t.ui.intersect=function(){function t(t,e,i){return t>=e&&e+i>t}
return function(e,i,s,n){if(!i.offset)return!1;var o=(e.positionAbs||e.position.absolute).left+e.margins.left,a=(e.positionAbs||e.position.absolute).top+e.margins.top,r=o+e.helperProportions.width,h=a+e.helperProportions.height,l=i.offset.left,c=i.offset.top,u=l+i.proportions().width,d=c+i.proportions().height;switch(s){case "fit":return o>=l&&u>=r&&a>=c&&d>=h;case "intersect":return o+e.helperProportions.width/2>l&&u>r-e.helperProportions.width/2&&a+e.helperProportions.height/2>c&&d>h-e.helperProportions.height/2;case "pointer":return t(n.pageY,c,i.proportions().height)&&t(n.pageX,l,i.proportions().width);case "touch":return(a>=c&&d>=a||h>=c&&d>=h||c>a&&h>d)&&(o>=l&&u>=o||r>=l&&u>=r||l>o&&r>u);default:return!1}}}();t.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(e,i){var s,n,o=t.ui.ddmanager.droppables[e.options.scope]||[],a=i?i.type:null,r=(e.currentItem||e.element).find(":data(ui-droppable)").addBack();t:for(s=0;o.length>s;s++)
if(!(o[s].options.disabled||e&&!o[s].accept.call(o[s].element[0],e.currentItem||e.element))){for(n=0;r.length>n;n++)
if(r[n]===o[s].element[0]){o[s].proportions().height=0;continue t}o[s].visible="none"!==o[s].element.css("display"),o[s].visible&&("mousedown"===a&&o[s]._activate.call(o[s],i),o[s].offset=o[s].element.offset(),o[s].proportions({width:o[s].element[0].offsetWidth,height:o[s].element[0].offsetHeight}))}},drop:function(e,i){var s=!1;return t.each((t.ui.ddmanager.droppables[e.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&v(e,this,this.options.tolerance,i)&&(s=this._drop.call(this,i)||s),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],e.currentItem||e.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,i)))}),s},dragStart:function(e,i){e.element.parentsUntil("body").on("scroll.droppable",function(){e.options.refreshPositions||t.ui.ddmanager.prepareOffsets(e,i)})},drag:function(e,i){e.options.refreshPositions&&t.ui.ddmanager.prepareOffsets(e,i),t.each(t.ui.ddmanager.droppables[e.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var s,n,o,a=v(e,this,this.options.tolerance,i),r=!a&&this.isover?"isout":a&&!this.isover?"isover":null;r&&(this.options.greedy&&(n=this.options.scope,o=this.element.parents(":data(ui-droppable)").filter(function(){return t(this).droppable("instance").options.scope===n}),o.length&&(s=t(o[0]).droppable("instance"),s.greedyChild="isover"===r)),s&&"isover"===r&&(s.isover=!1,s.isout=!0,s._out.call(s,i)),this[r]=!0,this["isout"===r?"isover":"isout"]=!1,this["isover"===r?"_over":"_out"].call(this,i),s&&"isout"===r&&(s.isout=!1,s.isover=!0,s._over.call(s,i)))}})},dragStop:function(e,i){e.element.parentsUntil("body").off("scroll.droppable"),e.options.refreshPositions||t.ui.ddmanager.prepareOffsets(e,i)}},t.uiBackCompat!==!1&&t.widget("ui.droppable",t.ui.droppable,{options:{hoverClass:!1,activeClass:!1},_addActiveClass:function(){this._super(),this.options.activeClass&&this.element.addClass(this.options.activeClass)},_removeActiveClass:function(){this._super(),this.options.activeClass&&this.element.removeClass(this.options.activeClass)},_addHoverClass:function(){this._super(),this.options.hoverClass&&this.element.addClass(this.options.hoverClass)},_removeHoverClass:function(){this._super(),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass)}}),t.ui.droppable,t.widget("ui.progressbar",{version:"1.12.1",options:{classes:{"ui-progressbar":"ui-corner-all","ui-progressbar-value":"ui-corner-left","ui-progressbar-complete":"ui-corner-right"},max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue(),this.element.attr({role:"progressbar","aria-valuemin":this.min}),this._addClass("ui-progressbar","ui-widget ui-widget-content"),this.valueDiv=t("<div>").appendTo(this.element),this._addClass(this.valueDiv,"ui-progressbar-value","ui-widget-header"),this._refreshValue()},_destroy:function(){this.element.removeAttr("role aria-valuemin aria-valuemax aria-valuenow"),this.valueDiv.remove()},value:function(t){return void 0===t?this.options.value:(this.options.value=this._constrainedValue(t),this._refreshValue(),void 0)},_constrainedValue:function(t){return void 0===t&&(t=this.options.value),this.indeterminate=t===!1,"number"!=typeof t&&(t=0),this.indeterminate?!1:Math.min(this.options.max,Math.max(this.min,t))},_setOptions:function(t){var e=t.value;delete t.value,this._super(t),this.options.value=this._constrainedValue(e),this._refreshValue()},_setOption:function(t,e){"max"===t&&(e=Math.max(this.min,e)),this._super(t,e)},_setOptionDisabled:function(t){this._super(t),this.element.attr("aria-disabled",t),this._toggleClass(null,"ui-state-disabled",!!t)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var e=this.options.value,i=this._percentage();this.valueDiv.toggle(this.indeterminate||e>this.min).width(i.toFixed(0)+"%"),this._toggleClass(this.valueDiv,"ui-progressbar-complete",null,e===this.options.max)._toggleClass("ui-progressbar-indeterminate",null,this.indeterminate),this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||(this.overlayDiv=t("<div>").appendTo(this.valueDiv),this._addClass(this.overlayDiv,"ui-progressbar-overlay"))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":e}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null)),this.oldValue!==e&&(this.oldValue=e,this._trigger("change")),e===this.options.max&&this._trigger("complete")}}),t.widget("ui.selectable",t.ui.mouse,{version:"1.12.1",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var e=this;this._addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){e.elementPos=t(e.element[0]).offset(),e.selectees=t(e.options.filter,e.element[0]),e._addClass(e.selectees,"ui-selectee"),e.selectees.each(function(){var i=t(this),s=i.offset(),n={left:s.left-e.elementPos.left,top:s.top-e.elementPos.top};t.data(this,"selectable-item",{element:this,$element:i,left:n.left,top:n.top,right:n.left+i.outerWidth(),bottom:n.top+i.outerHeight(),startselected:!1,selected:i.hasClass("ui-selected"),selecting:i.hasClass("ui-selecting"),unselecting:i.hasClass("ui-unselecting")})})},this.refresh(),this._mouseInit(),this.helper=t("<div>"),this._addClass(this.helper,"ui-selectable-helper")},_destroy:function(){this.selectees.removeData("selectable-item"),this._mouseDestroy()},_mouseStart:function(e){var i=this,s=this.options;this.opos=[e.pageX,e.pageY],this.elementPos=t(this.element[0]).offset(),this.options.disabled||(this.selectees=t(s.filter,this.element[0]),this._trigger("start",e),t(s.appendTo).append(this.helper),this.helper.css({left:e.pageX,top:e.pageY,width:0,height:0}),s.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var s=t.data(this,"selectable-item");s.startselected=!0,e.metaKey||e.ctrlKey||(i._removeClass(s.$element,"ui-selected"),s.selected=!1,i._addClass(s.$element,"ui-unselecting"),s.unselecting=!0,i._trigger("unselecting",e,{unselecting:s.element}))}),t(e.target).parents().addBack().each(function(){var s,n=t.data(this,"selectable-item");return n?(s=!e.metaKey&&!e.ctrlKey||!n.$element.hasClass("ui-selected"),i._removeClass(n.$element,s?"ui-unselecting":"ui-selected")._addClass(n.$element,s?"ui-selecting":"ui-unselecting"),n.unselecting=!s,n.selecting=s,n.selected=s,s?i._trigger("selecting",e,{selecting:n.element}):i._trigger("unselecting",e,{unselecting:n.element}),!1):void 0}))},_mouseDrag:function(e){if(this.dragged=!0,!this.options.disabled){var i,s=this,n=this.options,o=this.opos[0],a=this.opos[1],r=e.pageX,h=e.pageY;return o>r&&(i=r,r=o,o=i),a>h&&(i=h,h=a,a=i),this.helper.css({left:o,top:a,width:r-o,height:h-a}),this.selectees.each(function(){var i=t.data(this,"selectable-item"),l=!1,c={};i&&i.element!==s.element[0]&&(c.left=i.left+s.elementPos.left,c.right=i.right+s.elementPos.left,c.top=i.top+s.elementPos.top,c.bottom=i.bottom+s.elementPos.top,"touch"===n.tolerance?l=!(c.left>r||o>c.right||c.top>h||a>c.bottom):"fit"===n.tolerance&&(l=c.left>o&&r>c.right&&c.top>a&&h>c.bottom),l?(i.selected&&(s._removeClass(i.$element,"ui-selected"),i.selected=!1),i.unselecting&&(s._removeClass(i.$element,"ui-unselecting"),i.unselecting=!1),i.selecting||(s._addClass(i.$element,"ui-selecting"),i.selecting=!0,s._trigger("selecting",e,{selecting:i.element}))):(i.selecting&&((e.metaKey||e.ctrlKey)&&i.startselected?(s._removeClass(i.$element,"ui-selecting"),i.selecting=!1,s._addClass(i.$element,"ui-selected"),i.selected=!0):(s._removeClass(i.$element,"ui-selecting"),i.selecting=!1,i.startselected&&(s._addClass(i.$element,"ui-unselecting"),i.unselecting=!0),s._trigger("unselecting",e,{unselecting:i.element}))),i.selected&&(e.metaKey||e.ctrlKey||i.startselected||(s._removeClass(i.$element,"ui-selected"),i.selected=!1,s._addClass(i.$element,"ui-unselecting"),i.unselecting=!0,s._trigger("unselecting",e,{unselecting:i.element})))))}),!1}},_mouseStop:function(e){var i=this;return this.dragged=!1,t(".ui-unselecting",this.element[0]).each(function(){var s=t.data(this,"selectable-item");i._removeClass(s.$element,"ui-unselecting"),s.unselecting=!1,s.startselected=!1,i._trigger("unselected",e,{unselected:s.element})}),t(".ui-selecting",this.element[0]).each(function(){var s=t.data(this,"selectable-item");i._removeClass(s.$element,"ui-selecting")._addClass(s.$element,"ui-selected"),s.selecting=!1,s.selected=!0,s.startselected=!0,i._trigger("selected",e,{selected:s.element})}),this._trigger("stop",e),this.helper.remove(),!1}}),t.widget("ui.selectmenu",[t.ui.formResetMixin,{version:"1.12.1",defaultElement:"<select>",options:{appendTo:null,classes:{"ui-selectmenu-button-open":"ui-corner-top","ui-selectmenu-button-closed":"ui-corner-all"},disabled:null,icons:{button:"ui-icon-triangle-1-s"},position:{my:"left top",at:"left bottom",collision:"none"},width:!1,change:null,close:null,focus:null,open:null,select:null},_create:function(){var e=this.element.uniqueId().attr("id");this.ids={element:e,button:e+"-button",menu:e+"-menu"},this._drawButton(),this._drawMenu(),this._bindFormResetHandler(),this._rendered=!1,this.menuItems=t()},_drawButton:function(){var e,i=this,s=this._parseOption(this.element.find("option:selected"),this.element[0].selectedIndex);this.labels=this.element.labels().attr("for",this.ids.button),this._on(this.labels,{click:function(t){this.button.focus(),t.preventDefault()}}),this.element.hide(),this.button=t("<span>",{tabindex:this.options.disabled?-1:0,id:this.ids.button,role:"combobox","aria-expanded":"false","aria-autocomplete":"list","aria-owns":this.ids.menu,"aria-haspopup":"true",title:this.element.attr("title")}).insertAfter(this.element),this._addClass(this.button,"ui-selectmenu-button ui-selectmenu-button-closed","ui-button ui-widget"),e=t("<span>").appendTo(this.button),this._addClass(e,"ui-selectmenu-icon","ui-icon "+this.options.icons.button),this.buttonItem=this._renderButtonItem(s).appendTo(this.button),this.options.width!==!1&&this._resizeButton(),this._on(this.button,this._buttonEvents),this.button.one("focusin",function(){i._rendered||i._refreshMenu()})},_drawMenu:function(){var e=this;this.menu=t("<ul>",{"aria-hidden":"true","aria-labelledby":this.ids.button,id:this.ids.menu}),this.menuWrap=t("<div>").append(this.menu),this._addClass(this.menuWrap,"ui-selectmenu-menu","ui-front"),this.menuWrap.appendTo(this._appendTo()),this.menuInstance=this.menu.menu({classes:{"ui-menu":"ui-corner-bottom"},role:"listbox",select:function(t,i){t.preventDefault(),e._setSelection(),e._select(i.item.data("ui-selectmenu-item"),t)},focus:function(t,i){var s=i.item.data("ui-selectmenu-item");null!=e.focusIndex&&s.index!==e.focusIndex&&(e._trigger("focus",t,{item:s}),e.isOpen||e._select(s,t)),e.focusIndex=s.index,e.button.attr("aria-activedescendant",e.menuItems.eq(s.index).attr("id"))}}).menu("instance"),this.menuInstance._off(this.menu,"mouseleave"),this.menuInstance._closeOnDocumentClick=function(){return!1},this.menuInstance._isDivider=function(){return!1}},refresh:function(){this._refreshMenu(),this.buttonItem.replaceWith(this.buttonItem=this._renderButtonItem(this._getSelectedItem().data("ui-selectmenu-item")||{})),null===this.options.width&&this._resizeButton()},_refreshMenu:function(){var t,e=this.element.find("option");this.menu.empty(),this._parseOptions(e),this._renderMenu(this.menu,this.items),this.menuInstance.refresh(),this.menuItems=this.menu.find("li").not(".ui-selectmenu-optgroup").find(".ui-menu-item-wrapper"),this._rendered=!0,e.length&&(t=this._getSelectedItem(),this.menuInstance.focus(null,t),this._setAria(t.data("ui-selectmenu-item")),this._setOption("disabled",this.element.prop("disabled")))},open:function(t){this.options.disabled||(this._rendered?(this._removeClass(this.menu.find(".ui-state-active"),null,"ui-state-active"),this.menuInstance.focus(null,this._getSelectedItem())):this._refreshMenu(),this.menuItems.length&&(this.isOpen=!0,this._toggleAttr(),this._resizeMenu(),this._position(),this._on(this.document,this._documentClick),this._trigger("open",t)))},_position:function(){this.menuWrap.position(t.extend({of:this.button},this.options.position))},close:function(t){this.isOpen&&(this.isOpen=!1,this._toggleAttr(),this.range=null,this._off(this.document),this._trigger("close",t))},widget:function(){return this.button},menuWidget:function(){return this.menu},_renderButtonItem:function(e){var i=t("<span>");return this._setText(i,e.label),this._addClass(i,"ui-selectmenu-text"),i},_renderMenu:function(e,i){var s=this,n="";t.each(i,function(i,o){var a;o.optgroup!==n&&(a=t("<li>",{text:o.optgroup}),s._addClass(a,"ui-selectmenu-optgroup","ui-menu-divider"+(o.element.parent("optgroup").prop("disabled")?" ui-state-disabled":"")),a.appendTo(e),n=o.optgroup),s._renderItemData(e,o)})},_renderItemData:function(t,e){return this._renderItem(t,e).data("ui-selectmenu-item",e)},_renderItem:function(e,i){var s=t("<li>"),n=t("<div>",{title:i.element.attr("title")});return i.disabled&&this._addClass(s,null,"ui-state-disabled"),this._setText(n,i.label),s.append(n).appendTo(e)},_setText:function(t,e){e?t.text(e):t.html("&#160;")},_move:function(t,e){var i,s,n=".ui-menu-item";this.isOpen?i=this.menuItems.eq(this.focusIndex).parent("li"):(i=this.menuItems.eq(this.element[0].selectedIndex).parent("li"),n+=":not(.ui-state-disabled)"),s="first"===t||"last"===t?i["first"===t?"prevAll":"nextAll"](n).eq(-1):i[t+"All"](n).eq(0),s.length&&this.menuInstance.focus(e,s)},_getSelectedItem:function(){return this.menuItems.eq(this.element[0].selectedIndex).parent("li")},_toggle:function(t){this[this.isOpen?"close":"open"](t)},_setSelection:function(){var t;this.range&&(window.getSelection?(t=window.getSelection(),t.removeAllRanges(),t.addRange(this.range)):this.range.select(),this.button.focus())},_documentClick:{mousedown:function(e){this.isOpen&&(t(e.target).closest(".ui-selectmenu-menu, #"+t.ui.escapeSelector(this.ids.button)).length||this.close(e))}},_buttonEvents:{mousedown:function(){var t;window.getSelection?(t=window.getSelection(),t.rangeCount&&(this.range=t.getRangeAt(0))):this.range=document.selection.createRange()},click:function(t){this._setSelection(),this._toggle(t)},keydown:function(e){var i=!0;switch(e.keyCode){case t.ui.keyCode.TAB:case t.ui.keyCode.ESCAPE:this.close(e),i=!1;break;case t.ui.keyCode.ENTER:this.isOpen&&this._selectFocusedItem(e);break;case t.ui.keyCode.UP:e.altKey?this._toggle(e):this._move("prev",e);break;case t.ui.keyCode.DOWN:e.altKey?this._toggle(e):this._move("next",e);break;case t.ui.keyCode.SPACE:this.isOpen?this._selectFocusedItem(e):this._toggle(e);break;case t.ui.keyCode.LEFT:this._move("prev",e);break;case t.ui.keyCode.RIGHT:this._move("next",e);break;case t.ui.keyCode.HOME:case t.ui.keyCode.PAGE_UP:this._move("first",e);break;case t.ui.keyCode.END:case t.ui.keyCode.PAGE_DOWN:this._move("last",e);break;default:this.menu.trigger(e),i=!1}
i&&e.preventDefault()}},_selectFocusedItem:function(t){var e=this.menuItems.eq(this.focusIndex).parent("li");e.hasClass("ui-state-disabled")||this._select(e.data("ui-selectmenu-item"),t)},_select:function(t,e){var i=this.element[0].selectedIndex;this.element[0].selectedIndex=t.index,this.buttonItem.replaceWith(this.buttonItem=this._renderButtonItem(t)),this._setAria(t),this._trigger("select",e,{item:t}),t.index!==i&&this._trigger("change",e,{item:t}),this.close(e)},_setAria:function(t){var e=this.menuItems.eq(t.index).attr("id");this.button.attr({"aria-labelledby":e,"aria-activedescendant":e}),this.menu.attr("aria-activedescendant",e)},_setOption:function(t,e){if("icons"===t){var i=this.button.find("span.ui-icon");this._removeClass(i,null,this.options.icons.button)._addClass(i,null,e.button)}
this._super(t,e),"appendTo"===t&&this.menuWrap.appendTo(this._appendTo()),"width"===t&&this._resizeButton()},_setOptionDisabled:function(t){this._super(t),this.menuInstance.option("disabled",t),this.button.attr("aria-disabled",t),this._toggleClass(this.button,null,"ui-state-disabled",t),this.element.prop("disabled",t),t?(this.button.attr("tabindex",-1),this.close()):this.button.attr("tabindex",0)},_appendTo:function(){var e=this.options.appendTo;return e&&(e=e.jquery||e.nodeType?t(e):this.document.find(e).eq(0)),e&&e[0]||(e=this.element.closest(".ui-front, dialog")),e.length||(e=this.document[0].body),e},_toggleAttr:function(){this.button.attr("aria-expanded",this.isOpen),this._removeClass(this.button,"ui-selectmenu-button-"+(this.isOpen?"closed":"open"))._addClass(this.button,"ui-selectmenu-button-"+(this.isOpen?"open":"closed"))._toggleClass(this.menuWrap,"ui-selectmenu-open",null,this.isOpen),this.menu.attr("aria-hidden",!this.isOpen)},_resizeButton:function(){var t=this.options.width;return t===!1?(this.button.css("width",""),void 0):(null===t&&(t=this.element.show().outerWidth(),this.element.hide()),this.button.outerWidth(t),void 0)},_resizeMenu:function(){this.menu.outerWidth(Math.max(this.button.outerWidth(),this.menu.width("").outerWidth()+1))},_getCreateOptions:function(){var t=this._super();return t.disabled=this.element.prop("disabled"),t},_parseOptions:function(e){var i=this,s=[];e.each(function(e,n){s.push(i._parseOption(t(n),e))}),this.items=s},_parseOption:function(t,e){var i=t.parent("optgroup");return{element:t,index:e,value:t.val(),label:t.text(),optgroup:i.attr("label")||"",disabled:i.prop("disabled")||t.prop("disabled")}},_destroy:function(){this._unbindFormResetHandler(),this.menuWrap.remove(),this.button.remove(),this.element.show(),this.element.removeUniqueId(),this.labels.attr("for",this.ids.element)}}]),t.widget("ui.slider",t.ui.mouse,{version:"1.12.1",widgetEventPrefix:"slide",options:{animate:!1,classes:{"ui-slider":"ui-corner-all","ui-slider-handle":"ui-corner-all","ui-slider-range":"ui-corner-all ui-widget-header"},distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this._calculateNewMax(),this._addClass("ui-slider ui-slider-"+this.orientation,"ui-widget ui-widget-content"),this._refresh(),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var e,i,s=this.options,n=this.element.find(".ui-slider-handle"),o="<span tabindex='0'></span>",a=[];for(i=s.values&&s.values.length||1,n.length>i&&(n.slice(i).remove(),n=n.slice(0,i)),e=n.length;i>e;e++)a.push(o);this.handles=n.add(t(a.join("")).appendTo(this.element)),this._addClass(this.handles,"ui-slider-handle","ui-state-default"),this.handle=this.handles.eq(0),this.handles.each(function(e){t(this).data("ui-slider-handle-index",e).attr("tabIndex",0)})},_createRange:function(){var e=this.options;e.range?(e.range===!0&&(e.values?e.values.length&&2!==e.values.length?e.values=[e.values[0],e.values[0]]:t.isArray(e.values)&&(e.values=e.values.slice(0)):e.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?(this._removeClass(this.range,"ui-slider-range-min ui-slider-range-max"),this.range.css({left:"",bottom:""})):(this.range=t("<div>").appendTo(this.element),this._addClass(this.range,"ui-slider-range")),("min"===e.range||"max"===e.range)&&this._addClass(this.range,"ui-slider-range-"+e.range)):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){this._off(this.handles),this._on(this.handles,this._handleEvents),this._hoverable(this.handles),this._focusable(this.handles)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this._mouseDestroy()},_mouseCapture:function(e){var i,s,n,o,a,r,h,l,c=this,u=this.options;return u.disabled?!1:(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),i={x:e.pageX,y:e.pageY},s=this._normValueFromMouse(i),n=this._valueMax()-this._valueMin()+1,this.handles.each(function(e){var i=Math.abs(s-c.values(e));(n>i||n===i&&(e===c._lastChangedValue||c.values(e)===u.min))&&(n=i,o=t(this),a=e)}),r=this._start(e,a),r===!1?!1:(this._mouseSliding=!0,this._handleIndex=a,this._addClass(o,null,"ui-state-active"),o.trigger("focus"),h=o.offset(),l=!t(e.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=l?{left:0,top:0}:{left:e.pageX-h.left-o.width()/2,top:e.pageY-h.top-o.height()/2-(parseInt(o.css("borderTopWidth"),10)||0)-(parseInt(o.css("borderBottomWidth"),10)||0)+(parseInt(o.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(e,a,s),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(t){var e={x:t.pageX,y:t.pageY},i=this._normValueFromMouse(e);return this._slide(t,this._handleIndex,i),!1},_mouseStop:function(t){return this._removeClass(this.handles,null,"ui-state-active"),this._mouseSliding=!1,this._stop(t,this._handleIndex),this._change(t,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(t){var e,i,s,n,o;return"horizontal"===this.orientation?(e=this.elementSize.width,i=t.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(e=this.elementSize.height,i=t.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),s=i/e,s>1&&(s=1),0>s&&(s=0),"vertical"===this.orientation&&(s=1-s),n=this._valueMax()-this._valueMin(),o=this._valueMin()+s*n,this._trimAlignValue(o)},_uiHash:function(t,e,i){var s={handle:this.handles[t],handleIndex:t,value:void 0!==e?e:this.value()};return this._hasMultipleValues()&&(s.value=void 0!==e?e:this.values(t),s.values=i||this.values()),s},_hasMultipleValues:function(){return this.options.values&&this.options.values.length},_start:function(t,e){return this._trigger("start",t,this._uiHash(e))},_slide:function(t,e,i){var s,n,o=this.value(),a=this.values();this._hasMultipleValues()&&(n=this.values(e?0:1),o=this.values(e),2===this.options.values.length&&this.options.range===!0&&(i=0===e?Math.min(n,i):Math.max(n,i)),a[e]=i),i!==o&&(s=this._trigger("slide",t,this._uiHash(e,i,a)),s!==!1&&(this._hasMultipleValues()?this.values(e,i):this.value(i)))},_stop:function(t,e){this._trigger("stop",t,this._uiHash(e))},_change:function(t,e){this._keySliding||this._mouseSliding||(this._lastChangedValue=e,this._trigger("change",t,this._uiHash(e)))},value:function(t){return arguments.length?(this.options.value=this._trimAlignValue(t),this._refreshValue(),this._change(null,0),void 0):this._value()},values:function(e,i){var s,n,o;if(arguments.length>1)return this.options.values[e]=this._trimAlignValue(i),this._refreshValue(),this._change(null,e),void 0;if(!arguments.length)return this._values();if(!t.isArray(arguments[0]))return this._hasMultipleValues()?this._values(e):this.value();for(s=this.options.values,n=arguments[0],o=0;s.length>o;o+=1)s[o]=this._trimAlignValue(n[o]),this._change(null,o);this._refreshValue()},_setOption:function(e,i){var s,n=0;switch("range"===e&&this.options.range===!0&&("min"===i?(this.options.value=this._values(0),this.options.values=null):"max"===i&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),t.isArray(this.options.values)&&(n=this.options.values.length),this._super(e,i),e){case "orientation":this._detectOrientation(),this._removeClass("ui-slider-horizontal ui-slider-vertical")._addClass("ui-slider-"+this.orientation),this._refreshValue(),this.options.range&&this._refreshRange(i),this.handles.css("horizontal"===i?"bottom":"left","");break;case "value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case "values":for(this._animateOff=!0,this._refreshValue(),s=n-1;s>=0;s--)this._change(null,s);this._animateOff=!1;break;case "step":case "min":case "max":this._animateOff=!0,this._calculateNewMax(),this._refreshValue(),this._animateOff=!1;break;case "range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_setOptionDisabled:function(t){this._super(t),this._toggleClass(null,"ui-state-disabled",!!t)},_value:function(){var t=this.options.value;return t=this._trimAlignValue(t)},_values:function(t){var e,i,s;if(arguments.length)return e=this.options.values[t],e=this._trimAlignValue(e);if(this._hasMultipleValues()){for(i=this.options.values.slice(),s=0;i.length>s;s+=1)i[s]=this._trimAlignValue(i[s]);return i}
return[]},_trimAlignValue:function(t){if(this._valueMin()>=t)return this._valueMin();if(t>=this._valueMax())return this._valueMax();var e=this.options.step>0?this.options.step:1,i=(t-this._valueMin())%e,s=t-i;return 2*Math.abs(i)>=e&&(s+=i>0?e:-e),parseFloat(s.toFixed(5))},_calculateNewMax:function(){var t=this.options.max,e=this._valueMin(),i=this.options.step,s=Math.round((t-e)/i)*i;t=s+e,t>this.options.max&&(t-=i),this.max=parseFloat(t.toFixed(this._precision()))},_precision:function(){var t=this._precisionOf(this.options.step);return null!==this.options.min&&(t=Math.max(t,this._precisionOf(this.options.min))),t},_precisionOf:function(t){var e=""+t,i=e.indexOf(".");return-1===i?0:e.length-i-1},_valueMin:function(){return this.options.min},_valueMax:function(){return this.max},_refreshRange:function(t){"vertical"===t&&this.range.css({width:"",left:""}),"horizontal"===t&&this.range.css({height:"",bottom:""})},_refreshValue:function(){var e,i,s,n,o,a=this.options.range,r=this.options,h=this,l=this._animateOff?!1:r.animate,c={};this._hasMultipleValues()?this.handles.each(function(s){i=100*((h.values(s)-h._valueMin())/(h._valueMax()-h._valueMin())),c["horizontal"===h.orientation?"left":"bottom"]=i+"%",t(this).stop(1,1)[l?"animate":"css"](c,r.animate),h.options.range===!0&&("horizontal"===h.orientation?(0===s&&h.range.stop(1,1)[l?"animate":"css"]({left:i+"%"},r.animate),1===s&&h.range[l?"animate":"css"]({width:i-e+"%"},{queue:!1,duration:r.animate})):(0===s&&h.range.stop(1,1)[l?"animate":"css"]({bottom:i+"%"},r.animate),1===s&&h.range[l?"animate":"css"]({height:i-e+"%"},{queue:!1,duration:r.animate}))),e=i}):(s=this.value(),n=this._valueMin(),o=this._valueMax(),i=o!==n?100*((s-n)/(o-n)):0,c["horizontal"===this.orientation?"left":"bottom"]=i+"%",this.handle.stop(1,1)[l?"animate":"css"](c,r.animate),"min"===a&&"horizontal"===this.orientation&&this.range.stop(1,1)[l?"animate":"css"]({width:i+"%"},r.animate),"max"===a&&"horizontal"===this.orientation&&this.range.stop(1,1)[l?"animate":"css"]({width:100-i+"%"},r.animate),"min"===a&&"vertical"===this.orientation&&this.range.stop(1,1)[l?"animate":"css"]({height:i+"%"},r.animate),"max"===a&&"vertical"===this.orientation&&this.range.stop(1,1)[l?"animate":"css"]({height:100-i+"%"},r.animate))},_handleEvents:{keydown:function(e){var i,s,n,o,a=t(e.target).data("ui-slider-handle-index");switch(e.keyCode){case t.ui.keyCode.HOME:case t.ui.keyCode.END:case t.ui.keyCode.PAGE_UP:case t.ui.keyCode.PAGE_DOWN:case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(e.preventDefault(),!this._keySliding&&(this._keySliding=!0,this._addClass(t(e.target),null,"ui-state-active"),i=this._start(e,a),i===!1))return}
switch(o=this.options.step,s=n=this._hasMultipleValues()?this.values(a):this.value(),e.keyCode){case t.ui.keyCode.HOME:n=this._valueMin();break;case t.ui.keyCode.END:n=this._valueMax();break;case t.ui.keyCode.PAGE_UP:n=this._trimAlignValue(s+(this._valueMax()-this._valueMin())/this.numPages);break;case t.ui.keyCode.PAGE_DOWN:n=this._trimAlignValue(s-(this._valueMax()-this._valueMin())/this.numPages);break;case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:if(s===this._valueMax())return;n=this._trimAlignValue(s+o);break;case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(s===this._valueMin())return;n=this._trimAlignValue(s-o)}
this._slide(e,a,n)},keyup:function(e){var i=t(e.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(e,i),this._change(e,i),this._removeClass(t(e.target),null,"ui-state-active"))}}}),t.widget("ui.sortable",t.ui.mouse,{version:"1.12.1",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(t,e,i){return t>=e&&e+i>t},_isFloating:function(t){return/left|right/.test(t.css("float"))||/inline|table-cell/.test(t.css("display"))},_create:function(){this.containerCache={},this._addClass("ui-sortable"),this.refresh(),this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(t,e){this._super(t,e),"handle"===t&&this._setHandleClassName()},_setHandleClassName:function(){var e=this;this._removeClass(this.element.find(".ui-sortable-handle"),"ui-sortable-handle"),t.each(this.items,function(){e._addClass(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item,"ui-sortable-handle")})},_destroy:function(){this._mouseDestroy();for(var t=this.items.length-1;t>=0;t--)this.items[t].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(e,i){var s=null,n=!1,o=this;return this.reverting?!1:this.options.disabled||"static"===this.options.type?!1:(this._refreshItems(e),t(e.target).parents().each(function(){return t.data(this,o.widgetName+"-item")===o?(s=t(this),!1):void 0}),t.data(e.target,o.widgetName+"-item")===o&&(s=t(e.target)),s?!this.options.handle||i||(t(this.options.handle,s).find("*").addBack().each(function(){this===e.target&&(n=!0)}),n)?(this.currentItem=s,this._removeCurrentsFromItems(),!0):!1:!1)},_mouseStart:function(e,i,s){var n,o,a=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(e),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},t.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(e),this.originalPageX=e.pageX,this.originalPageY=e.pageY,a.cursorAt&&this._adjustOffsetFromHelper(a.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),a.containment&&this._setContainment(),a.cursor&&"auto"!==a.cursor&&(o=this.document.find("body"),this.storedCursor=o.css("cursor"),o.css("cursor",a.cursor),this.storedStylesheet=t("<style>*{ cursor: "+a.cursor+" !important; }</style>").appendTo(o)),a.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",a.opacity)),a.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",a.zIndex)),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",e,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!s)
for(n=this.containers.length-1;n>=0;n--)this.containers[n]._trigger("activate",e,this._uiHash(this));return t.ui.ddmanager&&(t.ui.ddmanager.current=this),t.ui.ddmanager&&!a.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this.dragging=!0,this._addClass(this.helper,"ui-sortable-helper"),this._mouseDrag(e),!0},_mouseDrag:function(e){var i,s,n,o,a=this.options,r=!1;for(this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-e.pageY<a.scrollSensitivity?this.scrollParent[0].scrollTop=r=this.scrollParent[0].scrollTop+a.scrollSpeed:e.pageY-this.overflowOffset.top<a.scrollSensitivity&&(this.scrollParent[0].scrollTop=r=this.scrollParent[0].scrollTop-a.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-e.pageX<a.scrollSensitivity?this.scrollParent[0].scrollLeft=r=this.scrollParent[0].scrollLeft+a.scrollSpeed:e.pageX-this.overflowOffset.left<a.scrollSensitivity&&(this.scrollParent[0].scrollLeft=r=this.scrollParent[0].scrollLeft-a.scrollSpeed)):(e.pageY-this.document.scrollTop()<a.scrollSensitivity?r=this.document.scrollTop(this.document.scrollTop()-a.scrollSpeed):this.window.height()-(e.pageY-this.document.scrollTop())<a.scrollSensitivity&&(r=this.document.scrollTop(this.document.scrollTop()+a.scrollSpeed)),e.pageX-this.document.scrollLeft()<a.scrollSensitivity?r=this.document.scrollLeft(this.document.scrollLeft()-a.scrollSpeed):this.window.width()-(e.pageX-this.document.scrollLeft())<a.scrollSensitivity&&(r=this.document.scrollLeft(this.document.scrollLeft()+a.scrollSpeed))),r!==!1&&t.ui.ddmanager&&!a.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),i=this.items.length-1;i>=0;i--)
if(s=this.items[i],n=s.item[0],o=this._intersectsWithPointer(s),o&&s.instance===this.currentContainer&&n!==this.currentItem[0]&&this.placeholder[1===o?"next":"prev"]()[0]!==n&&!t.contains(this.placeholder[0],n)&&("semi-dynamic"===this.options.type?!t.contains(this.element[0],n):!0)){if(this.direction=1===o?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(s))break;this._rearrange(e,s),this._trigger("change",e,this._uiHash());break}return this._contactContainers(e),t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),this._trigger("sort",e,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(e,i){if(e){if(t.ui.ddmanager&&!this.options.dropBehaviour&&t.ui.ddmanager.drop(this,e),this.options.revert){var s=this,n=this.placeholder.offset(),o=this.options.axis,a={};o&&"x"!==o||(a.left=n.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft)),o&&"y"!==o||(a.top=n.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,t(this.helper).animate(a,parseInt(this.options.revert,10)||500,function(){s._clear(e)})}else this._clear(e,i);return!1}},cancel:function(){if(this.dragging){this._mouseUp(new t.Event("mouseup",{target:null})),"original"===this.options.helper?(this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")):this.currentItem.show();for(var e=this.containers.length-1;e>=0;e--)this.containers[e]._trigger("deactivate",null,this._uiHash(this)),this.containers[e].containerCache.over&&(this.containers[e]._trigger("out",null,this._uiHash(this)),this.containers[e].containerCache.over=0)}
return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),t.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?t(this.domPosition.prev).after(this.currentItem):t(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(e){var i=this._getItemsAsjQuery(e&&e.connected),s=[];return e=e||{},t(i).each(function(){var i=(t(e.item||this).attr(e.attribute||"id")||"").match(e.expression||/(.+)[\-=_](.+)/);i&&s.push((e.key||i[1]+"[]")+"="+(e.key&&e.expression?i[1]:i[2]))}),!s.length&&e.key&&s.push(e.key+"="),s.join("&")},toArray:function(e){var i=this._getItemsAsjQuery(e&&e.connected),s=[];return e=e||{},i.each(function(){s.push(t(e.item||this).attr(e.attribute||"id")||"")}),s},_intersectsWith:function(t){var e=this.positionAbs.left,i=e+this.helperProportions.width,s=this.positionAbs.top,n=s+this.helperProportions.height,o=t.left,a=o+t.width,r=t.top,h=r+t.height,l=this.offset.click.top,c=this.offset.click.left,u="x"===this.options.axis||s+l>r&&h>s+l,d="y"===this.options.axis||e+c>o&&a>e+c,p=u&&d;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>t[this.floating?"width":"height"]?p:e+this.helperProportions.width/2>o&&a>i-this.helperProportions.width/2&&s+this.helperProportions.height/2>r&&h>n-this.helperProportions.height/2},_intersectsWithPointer:function(t){var e,i,s="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top,t.height),n="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left,t.width),o=s&&n;return o?(e=this._getDragVerticalDirection(),i=this._getDragHorizontalDirection(),this.floating?"right"===i||"down"===e?2:1:e&&("down"===e?2:1)):!1},_intersectsWithSides:function(t){var e=this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top+t.height/2,t.height),i=this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left+t.width/2,t.width),s=this._getDragVerticalDirection(),n=this._getDragHorizontalDirection();return this.floating&&n?"right"===n&&i||"left"===n&&!i:s&&("down"===s&&e||"up"===s&&!e)},_getDragVerticalDirection:function(){var t=this.positionAbs.top-this.lastPositionAbs.top;return 0!==t&&(t>0?"down":"up")},_getDragHorizontalDirection:function(){var t=this.positionAbs.left-this.lastPositionAbs.left;return 0!==t&&(t>0?"right":"left")},refresh:function(t){return this._refreshItems(t),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var t=this.options;return t.connectWith.constructor===String?[t.connectWith]:t.connectWith},_getItemsAsjQuery:function(e){function i(){r.push(this)}
var s,n,o,a,r=[],h=[],l=this._connectWith();if(l&&e)
for(s=l.length-1;s>=0;s--)
for(o=t(l[s],this.document[0]),n=o.length-1;n>=0;n--)a=t.data(o[n],this.widgetFullName),a&&a!==this&&!a.options.disabled&&h.push([t.isFunction(a.options.items)?a.options.items.call(a.element):t(a.options.items,a.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),a]);for(h.push([t.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):t(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),s=h.length-1;s>=0;s--)h[s][0].each(i);return t(r)},_removeCurrentsFromItems:function(){var e=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=t.grep(this.items,function(t){for(var i=0;e.length>i;i++)
if(e[i]===t.item[0])return!1;return!0})},_refreshItems:function(e){this.items=[],this.containers=[this];var i,s,n,o,a,r,h,l,c=this.items,u=[[t.isFunction(this.options.items)?this.options.items.call(this.element[0],e,{item:this.currentItem}):t(this.options.items,this.element),this]],d=this._connectWith();if(d&&this.ready)
for(i=d.length-1;i>=0;i--)
for(n=t(d[i],this.document[0]),s=n.length-1;s>=0;s--)o=t.data(n[s],this.widgetFullName),o&&o!==this&&!o.options.disabled&&(u.push([t.isFunction(o.options.items)?o.options.items.call(o.element[0],e,{item:this.currentItem}):t(o.options.items,o.element),o]),this.containers.push(o));for(i=u.length-1;i>=0;i--)
for(a=u[i][1],r=u[i][0],s=0,l=r.length;l>s;s++)h=t(r[s]),h.data(this.widgetName+"-item",a),c.push({item:h,instance:a,width:0,height:0,left:0,top:0})},refreshPositions:function(e){this.floating=this.items.length?"x"===this.options.axis||this._isFloating(this.items[0].item):!1,this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var i,s,n,o;for(i=this.items.length-1;i>=0;i--)s=this.items[i],s.instance!==this.currentContainer&&this.currentContainer&&s.item[0]!==this.currentItem[0]||(n=this.options.toleranceElement?t(this.options.toleranceElement,s.item):s.item,e||(s.width=n.outerWidth(),s.height=n.outerHeight()),o=n.offset(),s.left=o.left,s.top=o.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(i=this.containers.length-1;i>=0;i--)o=this.containers[i].element.offset(),this.containers[i].containerCache.left=o.left,this.containers[i].containerCache.top=o.top,this.containers[i].containerCache.width=this.containers[i].element.outerWidth(),this.containers[i].containerCache.height=this.containers[i].element.outerHeight();return this},_createPlaceholder:function(e){e=e||this;var i,s=e.options;s.placeholder&&s.placeholder.constructor!==String||(i=s.placeholder,s.placeholder={element:function(){var s=e.currentItem[0].nodeName.toLowerCase(),n=t("<"+s+">",e.document[0]);return e._addClass(n,"ui-sortable-placeholder",i||e.currentItem[0].className)._removeClass(n,"ui-sortable-helper"),"tbody"===s?e._createTrPlaceholder(e.currentItem.find("tr").eq(0),t("<tr>",e.document[0]).appendTo(n)):"tr"===s?e._createTrPlaceholder(e.currentItem,n):"img"===s&&n.attr("src",e.currentItem.attr("src")),i||n.css("visibility","hidden"),n},update:function(t,n){(!i||s.forcePlaceholderSize)&&(n.height()||n.height(e.currentItem.innerHeight()-parseInt(e.currentItem.css("paddingTop")||0,10)-parseInt(e.currentItem.css("paddingBottom")||0,10)),n.width()||n.width(e.currentItem.innerWidth()-parseInt(e.currentItem.css("paddingLeft")||0,10)-parseInt(e.currentItem.css("paddingRight")||0,10)))}}),e.placeholder=t(s.placeholder.element.call(e.element,e.currentItem)),e.currentItem.after(e.placeholder),s.placeholder.update(e,e.placeholder)},_createTrPlaceholder:function(e,i){var s=this;e.children().each(function(){t("<td>&#160;</td>",s.document[0]).attr("colspan",t(this).attr("colspan")||1).appendTo(i)})},_contactContainers:function(e){var i,s,n,o,a,r,h,l,c,u,d=null,p=null;for(i=this.containers.length-1;i>=0;i--)
if(!t.contains(this.currentItem[0],this.containers[i].element[0]))
if(this._intersectsWith(this.containers[i].containerCache)){if(d&&t.contains(this.containers[i].element[0],d.element[0]))continue;d=this.containers[i],p=i}else this.containers[i].containerCache.over&&(this.containers[i]._trigger("out",e,this._uiHash(this)),this.containers[i].containerCache.over=0);if(d)
if(1===this.containers.length)this.containers[p].containerCache.over||(this.containers[p]._trigger("over",e,this._uiHash(this)),this.containers[p].containerCache.over=1);else{for(n=1e4,o=null,c=d.floating||this._isFloating(this.currentItem),a=c?"left":"top",r=c?"width":"height",u=c?"pageX":"pageY",s=this.items.length-1;s>=0;s--)t.contains(this.containers[p].element[0],this.items[s].item[0])&&this.items[s].item[0]!==this.currentItem[0]&&(h=this.items[s].item.offset()[a],l=!1,e[u]-h>this.items[s][r]/2&&(l=!0),n>Math.abs(e[u]-h)&&(n=Math.abs(e[u]-h),o=this.items[s],this.direction=l?"up":"down"));if(!o&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[p])return this.currentContainer.containerCache.over||(this.containers[p]._trigger("over",e,this._uiHash()),this.currentContainer.containerCache.over=1),void 0;o?this._rearrange(e,o,null,!0):this._rearrange(e,null,this.containers[p].element,!0),this._trigger("change",e,this._uiHash()),this.containers[p]._trigger("change",e,this._uiHash(this)),this.currentContainer=this.containers[p],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[p]._trigger("over",e,this._uiHash(this)),this.containers[p].containerCache.over=1}},_createHelper:function(e){var i=this.options,s=t.isFunction(i.helper)?t(i.helper.apply(this.element[0],[e,this.currentItem])):"clone"===i.helper?this.currentItem.clone():this.currentItem;return s.parents("body").length||t("parent"!==i.appendTo?i.appendTo:this.currentItem[0].parentNode)[0].appendChild(s[0]),s[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(!s[0].style.width||i.forceHelperSize)&&s.width(this.currentItem.width()),(!s[0].style.height||i.forceHelperSize)&&s.height(this.currentItem.height()),s},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left" in e&&(this.offset.click.left=e.left+this.margins.left),"right" in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top" in e&&(this.offset.click.top=e.top+this.margins.top),"bottom" in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var e=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&t.ui.ie)&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var t=this.currentItem.position();return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:t.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}
return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,i,s,n=this.options;"parent"===n.containment&&(n.containment=this.helper[0].parentNode),("document"===n.containment||"window"===n.containment)&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,"document"===n.containment?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,("document"===n.containment?this.document.height()||document.body.parentNode.scrollHeight:this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(n.containment)||(e=t(n.containment)[0],i=t(n.containment).offset(),s="hidden"!==t(e).css("overflow"),this.containment=[i.left+(parseInt(t(e).css("borderLeftWidth"),10)||0)+(parseInt(t(e).css("paddingLeft"),10)||0)-this.margins.left,i.top+(parseInt(t(e).css("borderTopWidth"),10)||0)+(parseInt(t(e).css("paddingTop"),10)||0)-this.margins.top,i.left+(s?Math.max(e.scrollWidth,e.offsetWidth):e.offsetWidth)-(parseInt(t(e).css("borderLeftWidth"),10)||0)-(parseInt(t(e).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,i.top+(s?Math.max(e.scrollHeight,e.offsetHeight):e.offsetHeight)-(parseInt(t(e).css("borderTopWidth"),10)||0)-(parseInt(t(e).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(e,i){i||(i=this.position);var s="absolute"===e?1:-1,n="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,o=/(html|body)/i.test(n[0].tagName);return{top:i.top+this.offset.relative.top*s+this.offset.parent.top*s-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():o?0:n.scrollTop())*s,left:i.left+this.offset.relative.left*s+this.offset.parent.left*s-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():o?0:n.scrollLeft())*s}},_generatePosition:function(e){var i,s,n=this.options,o=e.pageX,a=e.pageY,r="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,h=/(html|body)/i.test(r[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(e.pageX-this.offset.click.left<this.containment[0]&&(o=this.containment[0]+this.offset.click.left),e.pageY-this.offset.click.top<this.containment[1]&&(a=this.containment[1]+this.offset.click.top),e.pageX-this.offset.click.left>this.containment[2]&&(o=this.containment[2]+this.offset.click.left),e.pageY-this.offset.click.top>this.containment[3]&&(a=this.containment[3]+this.offset.click.top)),n.grid&&(i=this.originalPageY+Math.round((a-this.originalPageY)/n.grid[1])*n.grid[1],a=this.containment?i-this.offset.click.top>=this.containment[1]&&i-this.offset.click.top<=this.containment[3]?i:i-this.offset.click.top>=this.containment[1]?i-n.grid[1]:i+n.grid[1]:i,s=this.originalPageX+Math.round((o-this.originalPageX)/n.grid[0])*n.grid[0],o=this.containment?s-this.offset.click.left>=this.containment[0]&&s-this.offset.click.left<=this.containment[2]?s:s-this.offset.click.left>=this.containment[0]?s-n.grid[0]:s+n.grid[0]:s)),{top:a-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():h?0:r.scrollTop()),left:o-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():h?0:r.scrollLeft())}},_rearrange:function(t,e,i,s){i?i[0].appendChild(this.placeholder[0]):e.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?e.item[0]:e.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var n=this.counter;this._delay(function(){n===this.counter&&this.refreshPositions(!s)})},_clear:function(t,e){function i(t,e,i){return function(s){i._trigger(t,s,e._uiHash(e))}}
this.reverting=!1;var s,n=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(s in this._storedCSS)("auto"===this._storedCSS[s]||"static"===this._storedCSS[s])&&(this._storedCSS[s]="");this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!e&&n.push(function(t){this._trigger("receive",t,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||e||n.push(function(t){this._trigger("update",t,this._uiHash())}),this!==this.currentContainer&&(e||(n.push(function(t){this._trigger("remove",t,this._uiHash())}),n.push(function(t){return function(e){t._trigger("receive",e,this._uiHash(this))}}.call(this,this.currentContainer)),n.push(function(t){return function(e){t._trigger("update",e,this._uiHash(this))}}.call(this,this.currentContainer)))),s=this.containers.length-1;s>=0;s--)e||n.push(i("deactivate",this,this.containers[s])),this.containers[s].containerCache.over&&(n.push(i("out",this,this.containers[s])),this.containers[s].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,e||this._trigger("beforeStop",t,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!e){for(s=0;n.length>s;s++)n[s].call(this,t);this._trigger("stop",t,this._uiHash())}
return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){t.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(e){var i=e||this;return{helper:i.helper,placeholder:i.placeholder||t([]),position:i.position,originalPosition:i.originalPosition,offset:i.positionAbs,item:i.currentItem,sender:e?e.element:null}}}),t.widget("ui.spinner",{version:"1.12.1",defaultElement:"<input>",widgetEventPrefix:"spin",options:{classes:{"ui-spinner":"ui-corner-all","ui-spinner-down":"ui-corner-br","ui-spinner-up":"ui-corner-tr"},culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),""!==this.value()&&this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var e=this._super(),i=this.element;return t.each(["min","max","step"],function(t,s){var n=i.attr(s);null!=n&&n.length&&(e[s]=n)}),e},_events:{keydown:function(t){this._start(t)&&this._keydown(t)&&t.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(t){return this.cancelBlur?(delete this.cancelBlur,void 0):(this._stop(),this._refresh(),this.previous!==this.element.val()&&this._trigger("change",t),void 0)},mousewheel:function(t,e){if(e){if(!this.spinning&&!this._start(t))return!1;this._spin((e>0?1:-1)*this.options.step,t),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(t)},100),t.preventDefault()}},"mousedown .ui-spinner-button":function(e){function i(){var e=this.element[0]===t.ui.safeActiveElement(this.document[0]);e||(this.element.trigger("focus"),this.previous=s,this._delay(function(){this.previous=s}))}
var s;s=this.element[0]===t.ui.safeActiveElement(this.document[0])?this.previous:this.element.val(),e.preventDefault(),i.call(this),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,i.call(this)}),this._start(e)!==!1&&this._repeat(null,t(e.currentTarget).hasClass("ui-spinner-up")?1:-1,e)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(e){return t(e.currentTarget).hasClass("ui-state-active")?this._start(e)===!1?!1:(this._repeat(null,t(e.currentTarget).hasClass("ui-spinner-up")?1:-1,e),void 0):void 0},"mouseleave .ui-spinner-button":"_stop"},_enhance:function(){this.uiSpinner=this.element.attr("autocomplete","off").wrap("<span>").parent().append("<a></a><a></a>")},_draw:function(){this._enhance(),this._addClass(this.uiSpinner,"ui-spinner","ui-widget ui-widget-content"),this._addClass("ui-spinner-input"),this.element.attr("role","spinbutton"),this.buttons=this.uiSpinner.children("a").attr("tabIndex",-1).attr("aria-hidden",!0).button({classes:{"ui-button":""}}),this._removeClass(this.buttons,"ui-corner-all"),this._addClass(this.buttons.first(),"ui-spinner-button ui-spinner-up"),this._addClass(this.buttons.last(),"ui-spinner-button ui-spinner-down"),this.buttons.first().button({icon:this.options.icons.up,showLabel:!1}),this.buttons.last().button({icon:this.options.icons.down,showLabel:!1}),this.buttons.height()>Math.ceil(.5*this.uiSpinner.height())&&this.uiSpinner.height()>0&&this.uiSpinner.height(this.uiSpinner.height())},_keydown:function(e){var i=this.options,s=t.ui.keyCode;switch(e.keyCode){case s.UP:return this._repeat(null,1,e),!0;case s.DOWN:return this._repeat(null,-1,e),!0;case s.PAGE_UP:return this._repeat(null,i.page,e),!0;case s.PAGE_DOWN:return this._repeat(null,-i.page,e),!0}
return!1},_start:function(t){return this.spinning||this._trigger("start",t)!==!1?(this.counter||(this.counter=1),this.spinning=!0,!0):!1},_repeat:function(t,e,i){t=t||500,clearTimeout(this.timer),this.timer=this._delay(function(){this._repeat(40,e,i)},t),this._spin(e*this.options.step,i)},_spin:function(t,e){var i=this.value()||0;this.counter||(this.counter=1),i=this._adjustValue(i+t*this._increment(this.counter)),this.spinning&&this._trigger("spin",e,{value:i})===!1||(this._value(i),this.counter++)},_increment:function(e){var i=this.options.incremental;return i?t.isFunction(i)?i(e):Math.floor(e*e*e/5e4-e*e/500+17*e/200+1):1},_precision:function(){var t=this._precisionOf(this.options.step);return null!==this.options.min&&(t=Math.max(t,this._precisionOf(this.options.min))),t},_precisionOf:function(t){var e=""+t,i=e.indexOf(".");return-1===i?0:e.length-i-1},_adjustValue:function(t){var e,i,s=this.options;return e=null!==s.min?s.min:0,i=t-e,i=Math.round(i/s.step)*s.step,t=e+i,t=parseFloat(t.toFixed(this._precision())),null!==s.max&&t>s.max?s.max:null!==s.min&&s.min>t?s.min:t},_stop:function(t){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",t))},_setOption:function(t,e){var i,s,n;return"culture"===t||"numberFormat"===t?(i=this._parse(this.element.val()),this.options[t]=e,this.element.val(this._format(i)),void 0):(("max"===t||"min"===t||"step"===t)&&"string"==typeof e&&(e=this._parse(e)),"icons"===t&&(s=this.buttons.first().find(".ui-icon"),this._removeClass(s,null,this.options.icons.up),this._addClass(s,null,e.up),n=this.buttons.last().find(".ui-icon"),this._removeClass(n,null,this.options.icons.down),this._addClass(n,null,e.down)),this._super(t,e),void 0)},_setOptionDisabled:function(t){this._super(t),this._toggleClass(this.uiSpinner,null,"ui-state-disabled",!!t),this.element.prop("disabled",!!t),this.buttons.button(t?"disable":"enable")},_setOptions:r(function(t){this._super(t)}),_parse:function(t){return"string"==typeof t&&""!==t&&(t=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(t,10,this.options.culture):+t),""===t||isNaN(t)?null:t},_format:function(t){return""===t?"":window.Globalize&&this.options.numberFormat?Globalize.format(t,this.options.numberFormat,this.options.culture):t},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},isValid:function(){var t=this.value();return null===t?!1:t===this._adjustValue(t)},_value:function(t,e){var i;""!==t&&(i=this._parse(t),null!==i&&(e||(i=this._adjustValue(i)),t=this._format(i))),this.element.val(t),this._refresh()},_destroy:function(){this.element.prop("disabled",!1).removeAttr("autocomplete role aria-valuemin aria-valuemax aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:r(function(t){this._stepUp(t)}),_stepUp:function(t){this._start()&&(this._spin((t||1)*this.options.step),this._stop())},stepDown:r(function(t){this._stepDown(t)}),_stepDown:function(t){this._start()&&(this._spin((t||1)*-this.options.step),this._stop())},pageUp:r(function(t){this._stepUp((t||1)*this.options.page)}),pageDown:r(function(t){this._stepDown((t||1)*this.options.page)}),value:function(t){return arguments.length?(r(this._value).call(this,t),void 0):this._parse(this.element.val())},widget:function(){return this.uiSpinner}}),t.uiBackCompat!==!1&&t.widget("ui.spinner",t.ui.spinner,{_enhance:function(){this.uiSpinner=this.element.attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml())},_uiSpinnerHtml:function(){return"<span>"},_buttonHtml:function(){return"<a></a><a></a>"}}),t.ui.spinner,t.widget("ui.tabs",{version:"1.12.1",delay:300,options:{active:null,classes:{"ui-tabs":"ui-corner-all","ui-tabs-nav":"ui-corner-all","ui-tabs-panel":"ui-corner-bottom","ui-tabs-tab":"ui-corner-top"},collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_isLocal:function(){var t=/#.*$/;return function(e){var i,s;i=e.href.replace(t,""),s=location.href.replace(t,"");try{i=decodeURIComponent(i)}catch(n){}
try{s=decodeURIComponent(s)}catch(n){}
return e.hash.length>1&&i===s}}(),_create:function(){var e=this,i=this.options;this.running=!1,this._addClass("ui-tabs","ui-widget ui-widget-content"),this._toggleClass("ui-tabs-collapsible",null,i.collapsible),this._processTabs(),i.active=this._initialActive(),t.isArray(i.disabled)&&(i.disabled=t.unique(i.disabled.concat(t.map(this.tabs.filter(".ui-state-disabled"),function(t){return e.tabs.index(t)}))).sort()),this.active=this.options.active!==!1&&this.anchors.length?this._findActive(i.active):t(),this._refresh(),this.active.length&&this.load(i.active)},_initialActive:function(){var e=this.options.active,i=this.options.collapsible,s=location.hash.substring(1);return null===e&&(s&&this.tabs.each(function(i,n){return t(n).attr("aria-controls")===s?(e=i,!1):void 0}),null===e&&(e=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),(null===e||-1===e)&&(e=this.tabs.length?0:!1)),e!==!1&&(e=this.tabs.index(this.tabs.eq(e)),-1===e&&(e=i?!1:0)),!i&&e===!1&&this.anchors.length&&(e=0),e},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):t()}},_tabKeydown:function(e){var i=t(t.ui.safeActiveElement(this.document[0])).closest("li"),s=this.tabs.index(i),n=!0;if(!this._handlePageNav(e)){switch(e.keyCode){case t.ui.keyCode.RIGHT:case t.ui.keyCode.DOWN:s++;break;case t.ui.keyCode.UP:case t.ui.keyCode.LEFT:n=!1,s--;break;case t.ui.keyCode.END:s=this.anchors.length-1;break;case t.ui.keyCode.HOME:s=0;break;case t.ui.keyCode.SPACE:return e.preventDefault(),clearTimeout(this.activating),this._activate(s),void 0;case t.ui.keyCode.ENTER:return e.preventDefault(),clearTimeout(this.activating),this._activate(s===this.options.active?!1:s),void 0;default:return}
e.preventDefault(),clearTimeout(this.activating),s=this._focusNextTab(s,n),e.ctrlKey||e.metaKey||(i.attr("aria-selected","false"),this.tabs.eq(s).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",s)},this.delay))}},_panelKeydown:function(e){this._handlePageNav(e)||e.ctrlKey&&e.keyCode===t.ui.keyCode.UP&&(e.preventDefault(),this.active.trigger("focus"))},_handlePageNav:function(e){return e.altKey&&e.keyCode===t.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):e.altKey&&e.keyCode===t.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):void 0},_findNextTab:function(e,i){function s(){return e>n&&(e=0),0>e&&(e=n),e}
for(var n=this.tabs.length-1;-1!==t.inArray(s(),this.options.disabled);)e=i?e+1:e-1;return e},_focusNextTab:function(t,e){return t=this._findNextTab(t,e),this.tabs.eq(t).trigger("focus"),t},_setOption:function(t,e){return"active"===t?(this._activate(e),void 0):(this._super(t,e),"collapsible"===t&&(this._toggleClass("ui-tabs-collapsible",null,e),e||this.options.active!==!1||this._activate(0)),"event"===t&&this._setupEvents(e),"heightStyle"===t&&this._setupHeightStyle(e),void 0)},_sanitizeSelector:function(t){return t?t.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var e=this.options,i=this.tablist.children(":has(a[href])");e.disabled=t.map(i.filter(".ui-state-disabled"),function(t){return i.index(t)}),this._processTabs(),e.active!==!1&&this.anchors.length?this.active.length&&!t.contains(this.tablist[0],this.active[0])?this.tabs.length===e.disabled.length?(e.active=!1,this.active=t()):this._activate(this._findNextTab(Math.max(0,e.active-1),!1)):e.active=this.tabs.index(this.active):(e.active=!1,this.active=t()),this._refresh()},_refresh:function(){this._setOptionDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-hidden":"true"}),this.active.length?(this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}),this._addClass(this.active,"ui-tabs-active","ui-state-active"),this._getPanelForTab(this.active).show().attr({"aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var e=this,i=this.tabs,s=this.anchors,n=this.panels;this.tablist=this._getList().attr("role","tablist"),this._addClass(this.tablist,"ui-tabs-nav","ui-helper-reset ui-helper-clearfix ui-widget-header"),this.tablist.on("mousedown"+this.eventNamespace,"> li",function(e){t(this).is(".ui-state-disabled")&&e.preventDefault()}).on("focus"+this.eventNamespace,".ui-tabs-anchor",function(){t(this).closest("li").is(".ui-state-disabled")&&this.blur()}),this.tabs=this.tablist.find("> li:has(a[href])").attr({role:"tab",tabIndex:-1}),this._addClass(this.tabs,"ui-tabs-tab","ui-state-default"),this.anchors=this.tabs.map(function(){return t("a",this)[0]}).attr({role:"presentation",tabIndex:-1}),this._addClass(this.anchors,"ui-tabs-anchor"),this.panels=t(),this.anchors.each(function(i,s){var n,o,a,r=t(s).uniqueId().attr("id"),h=t(s).closest("li"),l=h.attr("aria-controls");e._isLocal(s)?(n=s.hash,a=n.substring(1),o=e.element.find(e._sanitizeSelector(n))):(a=h.attr("aria-controls")||t({}).uniqueId()[0].id,n="#"+a,o=e.element.find(n),o.length||(o=e._createPanel(a),o.insertAfter(e.panels[i-1]||e.tablist)),o.attr("aria-live","polite")),o.length&&(e.panels=e.panels.add(o)),l&&h.data("ui-tabs-aria-controls",l),h.attr({"aria-controls":a,"aria-labelledby":r}),o.attr("aria-labelledby",r)}),this.panels.attr("role","tabpanel"),this._addClass(this.panels,"ui-tabs-panel","ui-widget-content"),i&&(this._off(i.not(this.tabs)),this._off(s.not(this.anchors)),this._off(n.not(this.panels)))},_getList:function(){return this.tablist||this.element.find("ol, ul").eq(0)},_createPanel:function(e){return t("<div>").attr("id",e).data("ui-tabs-destroy",!0)},_setOptionDisabled:function(e){var i,s,n;for(t.isArray(e)&&(e.length?e.length===this.anchors.length&&(e=!0):e=!1),n=0;s=this.tabs[n];n++)i=t(s),e===!0||-1!==t.inArray(n,e)?(i.attr("aria-disabled","true"),this._addClass(i,null,"ui-state-disabled")):(i.removeAttr("aria-disabled"),this._removeClass(i,null,"ui-state-disabled"));this.options.disabled=e,this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,e===!0)},_setupEvents:function(e){var i={};e&&t.each(e.split(" "),function(t,e){i[e]="_eventHandler"}),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(!0,this.anchors,{click:function(t){t.preventDefault()}}),this._on(this.anchors,i),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(e){var i,s=this.element.parent();"fill"===e?(i=s.height(),i-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each(function(){var e=t(this),s=e.css("position");"absolute"!==s&&"fixed"!==s&&(i-=e.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){i-=t(this).outerHeight(!0)}),this.panels.each(function(){t(this).height(Math.max(0,i-t(this).innerHeight()+t(this).height()))}).css("overflow","auto")):"auto"===e&&(i=0,this.panels.each(function(){i=Math.max(i,t(this).height("").height())}).height(i))},_eventHandler:function(e){var i=this.options,s=this.active,n=t(e.currentTarget),o=n.closest("li"),a=o[0]===s[0],r=a&&i.collapsible,h=r?t():this._getPanelForTab(o),l=s.length?this._getPanelForTab(s):t(),c={oldTab:s,oldPanel:l,newTab:r?t():o,newPanel:h};e.preventDefault(),o.hasClass("ui-state-disabled")||o.hasClass("ui-tabs-loading")||this.running||a&&!i.collapsible||this._trigger("beforeActivate",e,c)===!1||(i.active=r?!1:this.tabs.index(o),this.active=a?t():o,this.xhr&&this.xhr.abort(),l.length||h.length||t.error("jQuery UI Tabs: Mismatching fragment identifier."),h.length&&this.load(this.tabs.index(o),e),this._toggle(e,c))},_toggle:function(e,i){function s(){o.running=!1,o._trigger("activate",e,i)}
function n(){o._addClass(i.newTab.closest("li"),"ui-tabs-active","ui-state-active"),a.length&&o.options.show?o._show(a,o.options.show,s):(a.show(),s())}
var o=this,a=i.newPanel,r=i.oldPanel;this.running=!0,r.length&&this.options.hide?this._hide(r,this.options.hide,function(){o._removeClass(i.oldTab.closest("li"),"ui-tabs-active","ui-state-active"),n()}):(this._removeClass(i.oldTab.closest("li"),"ui-tabs-active","ui-state-active"),r.hide(),n()),r.attr("aria-hidden","true"),i.oldTab.attr({"aria-selected":"false","aria-expanded":"false"}),a.length&&r.length?i.oldTab.attr("tabIndex",-1):a.length&&this.tabs.filter(function(){return 0===t(this).attr("tabIndex")}).attr("tabIndex",-1),a.attr("aria-hidden","false"),i.newTab.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_activate:function(e){var i,s=this._findActive(e);s[0]!==this.active[0]&&(s.length||(s=this.active),i=s.find(".ui-tabs-anchor")[0],this._eventHandler({target:i,currentTarget:i,preventDefault:t.noop}))},_findActive:function(e){return e===!1?t():this.tabs.eq(e)},_getIndex:function(e){return"string"==typeof e&&(e=this.anchors.index(this.anchors.filter("[href$='"+t.ui.escapeSelector(e)+"']"))),e},_destroy:function(){this.xhr&&this.xhr.abort(),this.tablist.removeAttr("role").off(this.eventNamespace),this.anchors.removeAttr("role tabIndex").removeUniqueId(),this.tabs.add(this.panels).each(function(){t.data(this,"ui-tabs-destroy")?t(this).remove():t(this).removeAttr("role tabIndex aria-live aria-busy aria-selected aria-labelledby aria-hidden aria-expanded")}),this.tabs.each(function(){var e=t(this),i=e.data("ui-tabs-aria-controls");i?e.attr("aria-controls",i).removeData("ui-tabs-aria-controls"):e.removeAttr("aria-controls")}),this.panels.show(),"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(e){var i=this.options.disabled;i!==!1&&(void 0===e?i=!1:(e=this._getIndex(e),i=t.isArray(i)?t.map(i,function(t){return t!==e?t:null}):t.map(this.tabs,function(t,i){return i!==e?i:null})),this._setOptionDisabled(i))},disable:function(e){var i=this.options.disabled;if(i!==!0){if(void 0===e)i=!0;else{if(e=this._getIndex(e),-1!==t.inArray(e,i))return;i=t.isArray(i)?t.merge([e],i).sort():[e]}
this._setOptionDisabled(i)}},load:function(e,i){e=this._getIndex(e);var s=this,n=this.tabs.eq(e),o=n.find(".ui-tabs-anchor"),a=this._getPanelForTab(n),r={tab:n,panel:a},h=function(t,e){"abort"===e&&s.panels.stop(!1,!0),s._removeClass(n,"ui-tabs-loading"),a.removeAttr("aria-busy"),t===s.xhr&&delete s.xhr};this._isLocal(o[0])||(this.xhr=t.ajax(this._ajaxSettings(o,i,r)),this.xhr&&"canceled"!==this.xhr.statusText&&(this._addClass(n,"ui-tabs-loading"),a.attr("aria-busy","true"),this.xhr.done(function(t,e,n){setTimeout(function(){a.html(t),s._trigger("load",i,r),h(n,e)},1)}).fail(function(t,e){setTimeout(function(){h(t,e)},1)})))},_ajaxSettings:function(e,i,s){var n=this;return{url:e.attr("href").replace(/#.*$/,""),beforeSend:function(e,o){return n._trigger("beforeLoad",i,t.extend({jqXHR:e,ajaxSettings:o},s))}}},_getPanelForTab:function(e){var i=t(e).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+i))}}),t.uiBackCompat!==!1&&t.widget("ui.tabs",t.ui.tabs,{_processTabs:function(){this._superApply(arguments),this._addClass(this.tabs,"ui-tab")}}),t.ui.tabs,t.widget("ui.tooltip",{version:"1.12.1",options:{classes:{"ui-tooltip":"ui-corner-all ui-widget-shadow"},content:function(){var e=t(this).attr("title")||"";return t("<a>").text(e).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,track:!1,close:null,open:null},_addDescribedBy:function(e,i){var s=(e.attr("aria-describedby")||"").split(/\s+/);s.push(i),e.data("ui-tooltip-id",i).attr("aria-describedby",t.trim(s.join(" ")))},_removeDescribedBy:function(e){var i=e.data("ui-tooltip-id"),s=(e.attr("aria-describedby")||"").split(/\s+/),n=t.inArray(i,s);-1!==n&&s.splice(n,1),e.removeData("ui-tooltip-id"),s=t.trim(s.join(" ")),s?e.attr("aria-describedby",s):e.removeAttr("aria-describedby")},_create:function(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={},this.parents={},this.liveRegion=t("<div>").attr({role:"log","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body),this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible"),this.disabledTitles=t([])},_setOption:function(e,i){var s=this;this._super(e,i),"content"===e&&t.each(this.tooltips,function(t,e){s._updateContent(e.element)})},_setOptionDisabled:function(t){this[t?"_disable":"_enable"]()},_disable:function(){var e=this;t.each(this.tooltips,function(i,s){var n=t.Event("blur");n.target=n.currentTarget=s.element[0],e.close(n,!0)}),this.disabledTitles=this.disabledTitles.add(this.element.find(this.options.items).addBack().filter(function(){var e=t(this);return e.is("[title]")?e.data("ui-tooltip-title",e.attr("title")).removeAttr("title"):void 0}))},_enable:function(){this.disabledTitles.each(function(){var e=t(this);e.data("ui-tooltip-title")&&e.attr("title",e.data("ui-tooltip-title"))}),this.disabledTitles=t([])},open:function(e){var i=this,s=t(e?e.target:this.element).closest(this.options.items);s.length&&!s.data("ui-tooltip-id")&&(s.attr("title")&&s.data("ui-tooltip-title",s.attr("title")),s.data("ui-tooltip-open",!0),e&&"mouseover"===e.type&&s.parents().each(function(){var e,s=t(this);s.data("ui-tooltip-open")&&(e=t.Event("blur"),e.target=e.currentTarget=this,i.close(e,!0)),s.attr("title")&&(s.uniqueId(),i.parents[this.id]={element:this,title:s.attr("title")},s.attr("title",""))}),this._registerCloseHandlers(e,s),this._updateContent(s,e))},_updateContent:function(t,e){var i,s=this.options.content,n=this,o=e?e.type:null;return"string"==typeof s||s.nodeType||s.jquery?this._open(e,t,s):(i=s.call(t[0],function(i){n._delay(function(){t.data("ui-tooltip-open")&&(e&&(e.type=o),this._open(e,t,i))})}),i&&this._open(e,t,i),void 0)},_open:function(e,i,s){function n(t){l.of=t,a.is(":hidden")||a.position(l)}
var o,a,r,h,l=t.extend({},this.options.position);if(s){if(o=this._find(i))return o.tooltip.find(".ui-tooltip-content").html(s),void 0;i.is("[title]")&&(e&&"mouseover"===e.type?i.attr("title",""):i.removeAttr("title")),o=this._tooltip(i),a=o.tooltip,this._addDescribedBy(i,a.attr("id")),a.find(".ui-tooltip-content").html(s),this.liveRegion.children().hide(),h=t("<div>").html(a.find(".ui-tooltip-content").html()),h.removeAttr("name").find("[name]").removeAttr("name"),h.removeAttr("id").find("[id]").removeAttr("id"),h.appendTo(this.liveRegion),this.options.track&&e&&/^mouse/.test(e.type)?(this._on(this.document,{mousemove:n}),n(e)):a.position(t.extend({of:i},this.options.position)),a.hide(),this._show(a,this.options.show),this.options.track&&this.options.show&&this.options.show.delay&&(r=this.delayedShow=setInterval(function(){a.is(":visible")&&(n(l.of),clearInterval(r))},t.fx.interval)),this._trigger("open",e,{tooltip:a})}},_registerCloseHandlers:function(e,i){var s={keyup:function(e){if(e.keyCode===t.ui.keyCode.ESCAPE){var s=t.Event(e);s.currentTarget=i[0],this.close(s,!0)}}};i[0]!==this.element[0]&&(s.remove=function(){this._removeTooltip(this._find(i).tooltip)}),e&&"mouseover"!==e.type||(s.mouseleave="close"),e&&"focusin"!==e.type||(s.focusout="close"),this._on(!0,i,s)},close:function(e){var i,s=this,n=t(e?e.currentTarget:this.element),o=this._find(n);return o?(i=o.tooltip,o.closing||(clearInterval(this.delayedShow),n.data("ui-tooltip-title")&&!n.attr("title")&&n.attr("title",n.data("ui-tooltip-title")),this._removeDescribedBy(n),o.hiding=!0,i.stop(!0),this._hide(i,this.options.hide,function(){s._removeTooltip(t(this))}),n.removeData("ui-tooltip-open"),this._off(n,"mouseleave focusout keyup"),n[0]!==this.element[0]&&this._off(n,"remove"),this._off(this.document,"mousemove"),e&&"mouseleave"===e.type&&t.each(this.parents,function(e,i){t(i.element).attr("title",i.title),delete s.parents[e]}),o.closing=!0,this._trigger("close",e,{tooltip:i}),o.hiding||(o.closing=!1)),void 0):(n.removeData("ui-tooltip-open"),void 0)},_tooltip:function(e){var i=t("<div>").attr("role","tooltip"),s=t("<div>").appendTo(i),n=i.uniqueId().attr("id");return this._addClass(s,"ui-tooltip-content"),this._addClass(i,"ui-tooltip","ui-widget ui-widget-content"),i.appendTo(this._appendTo(e)),this.tooltips[n]={element:e,tooltip:i}},_find:function(t){var e=t.data("ui-tooltip-id");return e?this.tooltips[e]:null},_removeTooltip:function(t){t.remove(),delete this.tooltips[t.attr("id")]},_appendTo:function(t){var e=t.closest(".ui-front, dialog");return e.length||(e=this.document[0].body),e},_destroy:function(){var e=this;t.each(this.tooltips,function(i,s){var n=t.Event("blur"),o=s.element;n.target=n.currentTarget=o[0],e.close(n,!0),t("#"+i).remove(),o.data("ui-tooltip-title")&&(o.attr("title")||o.attr("title",o.data("ui-tooltip-title")),o.removeData("ui-tooltip-title"))}),this.liveRegion.remove()}}),t.uiBackCompat!==!1&&t.widget("ui.tooltip",t.ui.tooltip,{options:{tooltipClass:null},_tooltip:function(){var t=this._superApply(arguments);return this.options.tooltipClass&&t.tooltip.addClass(this.options.tooltipClass),t}}),t.ui.tooltip});(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}
var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}
return n[o].exports}
var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){var presets,simpleStr,wrap,slice$=[].slice,toString$={}.toString;presets=require('./presets').presets;simpleStr=function(arr){return arr.join('')};wrap=function(content){return"data:image/svg+xml;base64,"+btoa(content)};(function(){var make,handler,ldBar;make={head:function(viewBox){return"<?xml version=\"1.0\" encoding=\"utf-8\"?>\n        <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\""+viewBox+"\">"},gradient:function(dir,dur){var colors,ret,len,gx,gy,x,y,i$,i,idx;dir==null&&(dir=45);dur==null&&(dur=1);colors=slice$.call(arguments,2);ret=[this.head("0 0 100 100")];len=colors.length*4+1;dir=dir*Math.PI/180;gx=Math.pow(Math.cos(dir),2);gy=Math.sqrt(gx-Math.pow(gx,2));if(dir>Math.PI*0.25){gy=Math.pow(Math.sin(dir),2);gx=Math.sqrt(gy-Math.pow(gy,2))}
x=gx*100;y=gy*100;ret.push("<defs><linearGradient id=\"gradient\" x1=\"0\" x2=\""+gx+"\" y1=\"0\" y2=\""+gy+"\">");for(i$=0;i$<len;++i$){i=i$;idx=i*100/(len-1);ret.push("<stop offset=\""+idx+"%\" stop-color=\""+colors[i%colors.length]+"\"/>")}
ret.push("</linearGradient></defs>\n<rect x=\"0\" y=\"0\" width=\"400\" height=\"400\" fill=\"url(#gradient)\">\n<animateTransform attributeName=\"transform\" type=\"translate\" from=\"-"+x+",-"+y+"\"\nto=\"0,0\" dur=\""+dur+"s\" repeatCount=\"indefinite\"/></rect></svg>");return wrap(ret.join(""))},stripe:function(c1,c2,dur){var ret,i;c1==null&&(c1='#b4b4b4');c2==null&&(c2='#e6e6e6');dur==null&&(dur=1);ret=[this.head("0 0 100 100")];ret=ret.concat(["<rect fill=\""+c2+"\" width=\"100\" height=\"100\"/>","<g><g>",(function(){var i$,results$=[];for(i$=0;i$<13;++i$){i=i$;results$.push(("<polygon fill=\""+c1+"\" ")+("points=\""+(-90+i*20)+",100 "+(-100+i*20)+",")+("100 "+(-60+i*20)+",0 "+(-50+i*20)+",0 \"/>"))}
return results$}()).join(""),"</g><animateTransform attributeName=\"transform\" type=\"translate\" ","from=\"0,0\" to=\"20,0\" dur=\""+dur+"s\" repeatCount=\"indefinite\"/></g></svg>"].join(""));return wrap(ret)},bubble:function(c1,c2,count,dur,size,sw){var ret,i$,i,idx,x,r,d;c1==null&&(c1='#39d');c2==null&&(c2='#9cf');count==null&&(count=15);dur==null&&(dur=1);size==null&&(size=6);sw==null&&(sw=1);ret=[this.head("0 0 200 200"),"<rect x=\"0\" y=\"0\" width=\"200\" height=\"200\" fill=\""+c1+"\"/>"];for(i$=0;i$<count;++i$){i=i$;idx=-(i/count)*dur;x=Math.random()*184+8;r=(Math.random()*0.7+0.3)*size;d=dur*(1+Math.random()*0.5);ret.push(["<circle cx=\""+x+"\" cy=\"0\" r=\""+r+"\" fill=\"none\" stroke=\""+c2+"\" stroke-width=\""+sw+"\">","<animate attributeName=\"cy\" values=\"190;-10\" times=\"0;1\" ","dur=\""+d+"s\" begin=\""+idx+"s\" repeatCount=\"indefinite\"/>","</circle>","<circle cx=\""+x+"\" cy=\"0\" r=\""+r+"\" fill=\"none\" stroke=\""+c2+"\" stroke-width=\""+sw+"\">","<animate attributeName=\"cy\" values=\"390;190\" times=\"0;1\" ","dur=\""+d+"s\" begin=\""+idx+"s\" repeatCount=\"indefinite\"/>","</circle>"].join(""))}
return wrap(ret.join("")+"</svg>")}};handler={queue:{},running:!1,main:function(timestamp){var keepon,removed,k,ref$,func,ret,this$=this;keepon=!1;removed=[];for(k in ref$=this.queue){func=ref$[k];ret=func(timestamp);if(!ret){removed.push(func)}
keepon=keepon||ret}
for(k in ref$=this.queue){func=ref$[k];if(removed.indexOf(func)>=0){delete this.queue[k]}}
if(keepon){return requestAnimationFrame(function(it){return this$.main(it)})}else{return this.running=!1}},add:function(key,f){var this$=this;if(!this.queue[key]){this.queue[key]=f}
if(!this.running){this.running=!0;return requestAnimationFrame(function(it){return this$.main(it)})}}};window.ldBar=ldBar=function(selector,option){var xmlns,root,cls,idPrefix,id,domTree,newNode,x$,config,attr,that,isStroke,parseRes,dom,svg,text,group,length,path0,path1,patimg,img,ret,size,this$=this;option==null&&(option={});xmlns={xlink:"http://www.w3.org/1999/xlink"};root=toString$.call(selector).slice(8,-1)==='String'?document.querySelector(selector):selector;if(!root.ldBar){root.ldBar=this}else{return root.ldBar}
cls=root.getAttribute('class')||'';if(!~cls.indexOf('ldBar')){root.setAttribute('class',cls+" ldBar")}
idPrefix="ldBar-"+Math.random().toString(16).substring(2);id={key:idPrefix,clip:idPrefix+"-clip",filter:idPrefix+"-filter",pattern:idPrefix+"-pattern",mask:idPrefix+"-mask",maskPath:idPrefix+"-mask-path"};domTree=function(n,o){var k,v;n=newNode(n);for(k in o){v=o[k];if(k!=='attr'){n.appendChild(domTree(k,v||{}))}}
n.attrs(o.attr||{});return n};newNode=function(n){return document.createElementNS("http://www.w3.org/2000/svg",n)};x$=document.body.__proto__.__proto__.__proto__;x$.text=function(t){return this.appendChild(document.createTextNode(t))};x$.attrs=function(o){var k,v,ret,results$=[];for(k in o){v=o[k];ret=/([^:]+):([^:]+)/.exec(k);if(!ret||!xmlns[ret[1]]){results$.push(this.setAttribute(k,v))}else{results$.push(this.setAttributeNS(xmlns[ret[1]],k,v))}}
return results$};x$.styles=function(o){var k,v,results$=[];for(k in o){v=o[k];results$.push(this.style[k]=v)}
return results$};x$.append=function(n){var r;return this.appendChild(r=document.createElementNS("http://www.w3.og/2000/svg",n))};x$.attr=function(n,v){if(v!=null){return this.setAttribute(n,v)}else{return this.getAttribute(n)}};config={"type":'stroke',"img":'',"path":'M10 10L90 10M90 8M90 12',"fill-dir":'btt',"fill":'#25b',"fill-background":'#ddd',"fill-background-extrude":3,"pattern-size":null,"stroke-dir":'normal',"stroke":'#25b',"stroke-width":'3',"stroke-trail":'#ddd',"stroke-trail-width":0.5,"duration":1,"easing":'linear',"value":0,"img-size":null,"bbox":null,"set-dim":!0,"aspect-ratio":"xMidYMid","transition-in":!1,"min":0,"max":100,"precision":0,"padding":undefined};config.preset=root.attr("data-preset")||option.preset;if(config.preset!=null){import$(config,presets[config.preset])}
for(attr in config){if(that=that=root.attr("data-"+attr)){config[attr]=that}}
import$(config,option);if(config.img){config.path=null}
isStroke=config.type==='stroke';parseRes=function(v){var parser,ret;parser=/data:ldbar\/res,([^()]+)\(([^)]+)\)/;ret=parser.exec(v);if(!ret){return v}
return ret=make[ret[1]].apply(make,ret[2].split(','))};config.fill=parseRes(config.fill);config.stroke=parseRes(config.stroke);if(config["set-dim"]==='false'){config["set-dim"]=!1}
dom={attr:{"xmlns:xlink":'http://www.w3.org/1999/xlink',preserveAspectRatio:config["aspect-ratio"],width:"100%",height:"100%"},defs:{filter:{attr:{id:id.filter,x:-1,y:-1,width:3,height:3},feMorphology:{attr:{operator:+config["fill-background-extrude"]>=0?'dilate':'erode',radius:Math.abs(+config["fill-background-extrude"])}},feColorMatrix:{attr:{values:'0 0 0 0 1    0 0 0 0 1    0 0 0 0 1    0 0 0 1 0',result:"cm"}}},mask:{attr:{id:id.mask},image:{attr:{"xlink:href":config.img,filter:"url(#"+id.filter+")",x:0,y:0,width:100,height:100,preserveAspectRatio:config["aspect-ratio"]}}},g:{mask:{attr:{id:id.maskPath},path:{attr:{d:config.path||"",fill:'#fff',stroke:'#fff',filter:"url(#"+id.filter+")"}}}},clipPath:{attr:{id:id.clip},rect:{attr:{'class':'mask',fill:'#000'}}},pattern:{attr:{id:id.pattern,patternUnits:'userSpaceOnUse',x:0,y:0,width:300,height:300},image:{attr:{x:0,y:0,width:300,height:300}}}}};svg=domTree('svg',dom);text=document.createElement('div');text.setAttribute('class','ldBar-label');root.appendChild(svg);root.appendChild(text);group=[0,0];length=0;this.fit=function(){var that,box,d,rect;if(that=config.bbox){box=that.split(' ').map(function(it){return+it.trim()});box={x:box[0],y:box[1],width:box[2],height:box[3]}}else{if(typeof box!='undefined'){box=group[1].getBBox()}}
if(!box||box.width===0||box.height===0){box={x:0,y:0,width:100,height:100}}
d=Math.max.apply(null,['stroke-width','stroke-trail-width','fill-background-extrude'].map(function(it){return config[it]}))*1.5;if(config.padding!=null){d=+config.padding}
svg.attrs({viewBox:[box.x-d,box.y-d,box.width+d*2,box.height+d*2].join(" ")});if(config["set-dim"]){['width','height'].map(function(it){if(!root.style[it]||this$.fit[it]){root.style[it]=(box[it]+d*2)+"px";return this$.fit[it]=!0}})}
rect=group[0].querySelector('rect');if(rect){return rect.attrs({x:box.x-d,y:box.y-d,width:box.width+d*2,height:box.height+d*2})}};if(config.path){if(isStroke){group[0]=domTree('g',{path:{attr:{d:config.path,fill:'none','class':'baseline'}}})}else{group[0]=domTree('g',{rect:{attr:{x:0,y:0,width:100,height:100,mask:"url(#"+id.maskPath+")",fill:config["fill-background"],'class':'frame'}}})}
svg.appendChild(group[0]);group[1]=domTree('g',{path:{attr:{d:config.path,'class':isStroke?'mainline':'solid',"clip-path":config.type==='fill'?"url(#"+id.clip+")":''}}});svg.appendChild(group[1]);path0=group[0].querySelector(isStroke?'path':'rect');path1=group[1].querySelector('path');if(isStroke){path1.attrs({fill:'none'})}
patimg=svg.querySelector('pattern image');img=new Image();img.addEventListener('load',function(){var box,that;box=(that=config["pattern-size"])?{width:+that,height:+that}:img.width&&img.height?{width:img.width,height:img.height}:{width:300,height:300};svg.querySelector('pattern').attrs({width:box.width,height:box.height});return patimg.attrs({width:box.width,height:box.height})});if(/.+\..+|^data:/.exec(!isStroke?config.fill:config.stroke)){img.src=!isStroke?config.fill:config.stroke;patimg.attrs({"xlink:href":img.src})}
if(isStroke){path0.attrs({stroke:config["stroke-trail"],"stroke-width":config["stroke-trail-width"]});path1.attrs({"stroke-width":config["stroke-width"],stroke:/.+\..+|^data:/.exec(config.stroke)?"url(#"+id.pattern+")":config.stroke})}
if(config.fill&&!isStroke){path1.attrs({fill:/.+\..+|^data:/.exec(config.fill)?"url(#"+id.pattern+")":config.fill})}
length=path1.getTotalLength();this.fit();this.inited=!0}else if(config.img){if(config["img-size"]){ret=config["img-size"].split(',');size={width:+ret[0],height:+ret[1]}}else{size={width:100,height:100}}
group[0]=domTree('g',{rect:{attr:{x:0,y:0,width:100,height:100,mask:"url(#"+id.mask+")",fill:config["fill-background"]}}});svg.querySelector('mask image').attrs({width:size.width,height:size.height});group[1]=domTree('g',{image:{attr:{width:size.width,height:size.height,x:0,y:0,preserveAspectRatio:config["aspect-ratio"],"clip-path":config.type==='fill'?"url(#"+id.clip+")":'',"xlink:href":config.img,'class':'solid'}}});img=new Image();img.addEventListener('load',function(){var ret,size;if(config["img-size"]){ret=config["img-size"].split(',');size={width:+ret[0],height:+ret[1]}}else if(img.width&&img.height){size={width:img.width,height:img.height}}else{size={width:100,height:100}}
svg.querySelector('mask image').attrs({width:size.width,height:size.height});group[1].querySelector('image').attrs({width:size.width,height:size.height});this$.fit();this$.set(undefined,!1);return this$.inited=!0});img.src=config.img;svg.appendChild(group[0]);svg.appendChild(group[1])}
svg.attrs({width:'100%',height:'100%'});this.transition={value:{src:0,des:0},time:{},ease:function(t,b,c,d){t=t/(d*0.5);if(t<1){return c*0.5*t*t+b}
t=t-1;return-c*0.5*(t*(t-2)-1)+b},handler:function(time,doTransition){var ref$,min,max,prec,dv,dt,dur,v,p,node,style,box,dir;doTransition==null&&(doTransition=!0);if(this.time.src==null){this.time.src=time}
ref$=[config.min,config.max,1/config.precision],min=ref$[0],max=ref$[1],prec=ref$[2];ref$=[this.value.des-this.value.src,(time-this.time.src)*0.001,+config.duration||1],dv=ref$[0],dt=ref$[1],dur=ref$[2];v=doTransition?this.ease(dt,this.value.src,dv,dur):this.value.des;if(config.precision){v=Math.round(v*prec)/prec}else if(doTransition){v=Math.round(v)}
v>=min||(v=min);v<=max||(v=max);text.textContent=v;p=100.0*(v-min)/(max-min);if(isStroke){node=path1;style={"stroke-dasharray":config["stroke-dir"]==='reverse'?"0 "+length*(100-p)*0.01+" "+length*p*0.01+" 0":p*0.01*length+" "+((100-p)*0.01*length+1)}}else{box=group[1].getBBox();dir=config["fill-dir"];style=dir==='btt'||!dir?{y:box.y+box.height*(100-p)*0.01,height:box.height*p*0.01,x:box.x,width:box.width}:dir==='ttb'?{y:box.y,height:box.height*p*0.01,x:box.x,width:box.width}:dir==='ltr'?{y:box.y,height:box.height,x:box.x,width:box.width*p*0.01}:dir==='rtl'?{y:box.y,height:box.height,x:box.x+box.width*(100-p)*0.01,width:box.width*p*0.01}:void 8;node=svg.querySelector('rect')}
node.attrs(style);if(dt>=dur){delete this.time.src;return!1}
return!0},start:function(src,des,doTransition){var ref$,this$=this;ref$=this.value;ref$.src=src;ref$.des=des;!!(root.offsetWidth||root.offsetHeight||root.getClientRects().length);if(!doTransition||!(root.offsetWidth||root.offsetHeight||root.getClientRects().length)){this.time.src=0;this.handler(1000,!1);return}
return handler.add(id.key,function(time){return this$.handler(time)})}};this.set=function(v,doTransition){var src,des;doTransition==null&&(doTransition=!0);src=this.value||0;if(v!=null){this.value=v}else{v=this.value}
des=this.value;return this.transition.start(src,des,doTransition)};this.set(+config.value||0,config["transition-in"])||!1;return this};return window.addEventListener('load',function(){var i$,ref$,len$,node,results$=[];for(i$=0,len$=(ref$=document.querySelectorAll('.ldBar')).length;i$<len$;++i$){node=ref$[i$];if(!node.ldBar){results$.push(node.ldBar=new ldBar(node))}}
return results$},!1)})();module.exports=ldBar;function import$(obj,src){var own={}.hasOwnProperty;for(var key in src)
if(own.call(src,key))obj[key]=src[key];return obj}},{"./presets":2}],2:[function(require,module,exports){var presets,out$=typeof exports!='undefined'&&exports||this;out$.presets=presets={rainbow:{"type":'stroke',"path":'M10 10L90 10',"stroke":'data:ldbar/res,gradient(0,1,#a551df,#fd51ad,#ff7f82,#ffb874,#ffeb90)',"bbox":"10 10 80 10"},energy:{"type":'fill',"path":'M15 5L85 5A5 5 0 0 1 85 15L15 15A5 5 0 0 1 15 5',"stroke":'#f00',"fill":'data:ldbar/res,gradient(45,2,#4e9,#8fb,#4e9)',"fill-dir":"ltr","fill-background":'#444',"fill-background-extrude":1,"bbox":"10 5 80 10"},stripe:{"type":'fill',"path":'M15 5L85 5A5 5 0 0 1 85 15L15 15A5 5 0 0 1 15 5',"stroke":'#f00',"fill":'data:ldbar/res,stripe(#25b,#58e,1)',"fill-dir":"ltr","fill-background":'#ddd',"fill-background-extrude":1,"bbox":"10 5 80 10"},text:{"type":'fill',"img":"data:image/svg+xml,<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"70\" height=\"20\" viewBox=\"0 0 70 20\"><text x=\"35\" y=\"10\" text-anchor=\"middle\" dominant-baseline=\"central\" font-family=\"arial\">LOADING</text></svg>","fill-background-extrude":1.3,"pattern-size":100,"fill-dir":"ltr","img-size":"70,20","bbox":"0 0 70 20"},line:{"type":'stroke',"path":'M10 10L90 10',"stroke":'#25b',"stroke-width":3,"stroke-trail":'#ddd',"stroke-trail-width":1,"bbox":"10 10 80 10"},fan:{"type":'stroke',"path":'M10 90A40 40 0 0 1 90 90',"fill-dir":'btt',"fill":'#25b',"fill-background":'#ddd',"fill-background-extrude":3,"stroke-dir":'normal',"stroke":'#25b',"stroke-width":'3',"stroke-trail":'#ddd',"stroke-trail-width":0.5,"bbox":"10 50 80 40"},circle:{"type":'stroke',"path":'M50 10A40 40 0 0 1 50 90A40 40 0 0 1 50 10',"fill-dir":'btt',"fill":'#25b',"fill-background":'#ddd',"fill-background-extrude":3,"stroke-dir":'normal',"stroke":'#25b',"stroke-width":'3',"stroke-trail":'#ddd',"stroke-trail-width":0.5,"bbox":"10 10 80 80"},bubble:{"type":'fill',"path":'M50 10A40 40 0 0 1 50 90A40 40 0 0 1 50 10',"fill-dir":'btt',"fill":'data:ldbar/res,bubble(#39d,#cef)',"pattern-size":"150","fill-background":'#ddd',"fill-background-extrude":2,"stroke-dir":'normal',"stroke":'#25b',"stroke-width":'3',"stroke-trail":'#ddd',"stroke-trail-width":0.5,"bbox":"10 10 80 80"}}},{}]},{},[1])</script><tw-passagedata name=END-2-4-5 position=9121,4611 size=100,100 tags=""pid=1>&lt;hr style="margin:10px"> &lt;&lt;include STORY-1-7-3>> &lt;hr style="margin:10px"> &lt;&lt;include SCHOOL-1-8-5>> &lt;hr style="margin:10px"> &lt;&lt;if setup.isTools()>> &lt;&lt;include GET-2-2-4>> &lt;hr style="margin:10px"> &lt;&lt;/if>> &lt;&lt;include MACRO-0-6-2>> &lt;hr style="margin:10px"> &lt;&lt;include WIDGET-1-3-4>> &lt;&lt;include GET-0-4-1>> &lt;hr style="margin:10px"> &lt;&lt;include MALL-0-6-5>> &lt;&lt;run setup.setUIPeriod()>> &lt;&lt;run setup.setUIMental()>> &lt;&lt;script>> let $blacked = $('#story-title-blacked'); let $whited = $('#story-title-whited'); if (State.__getUpperName__.player.mental.blackedLevel > State.__getUpperName__.player.mental.whitedLevel) { $whited.hide(); $blacked.show(); } else { $blacked.hide(); $whited.show(); } &lt;&lt;/script>></tw-passagedata><tw-passagedata name=GET-2-2-4 position=2169,8403 size=100,100 tags=""pid=2>&lt;div class="choices"> &lt;&lt;button debug>> &lt;&lt;goto BRO-0-2-1>> &lt;&lt;/button>> &lt;&lt;button DayPlus>> &lt;&lt;set $day += 1>> &lt;&lt;/button>> &lt;&lt;button EnergyPlus>> &lt;&lt;nextInstant>> &lt;&lt;/button>> &lt;&lt;button PeriodPlus>> &lt;&lt;nextPeriod>> &lt;&lt;/button>> &lt;&lt;button ville>> &lt;&lt;goto SCHOOL-1-3-4>> &lt;&lt;/button>> &lt;&lt;button index>> &lt;&lt;goto index>> &lt;&lt;/button>> &lt;&lt;button maison>> &lt;&lt;goto FBRO-2-3-0>> &lt;&lt;/button>> &lt;&lt;button mwork>> &lt;&lt;goto STORY-2-2-5>> &lt;&lt;/button>> &lt;&lt;button "Save">> &lt;&lt;run UI.saves()>> &lt;&lt;/button>> &lt;hr> &lt;&lt;button "Hall">> &lt;&lt;goto hall-loop>> &lt;&lt;/button>> &lt;&lt;button "BFBlack">> &lt;&lt;run setup.setQuest("bfQ1", "pornoChoice", "black")>> &lt;&lt;/button>> &lt;&lt;button "D1">> &lt;&lt;set $player.body.sex.size = 1>> &lt;&lt;/button>> &lt;&lt;button "D2">> &lt;&lt;set $player.body.sex.size = 2>> &lt;&lt;/button>> &lt;&lt;button "D3">> &lt;&lt;set $player.body.sex.size = 3>> &lt;&lt;/button>> &lt;&lt;button "BFWhite">> &lt;&lt;run setup.setQuest("bfQ1", "pornoChoice", "white")>> &lt;&lt;/button>> &lt;&lt;button "cheat" SCHOOL-0-6-0>> &lt;&lt;/button>> &lt;&lt;button "BFloop" MALL-1-6-5>> &lt;&lt;/button>> &lt;&lt;button "BF0" VRT-0-6-5>> &lt;&lt;/button>> &lt;&lt;button "BF1" GET-1-2-2>> &lt;&lt;/button>> &lt;&lt;button "BF2" SCHOOL-2-0-3>> &lt;&lt;/button>> &lt;&lt;button "BF3" INDEX-2-5-3>> &lt;&lt;/button>> &lt;&lt;button "BF4" VRT-0-3-1>> &lt;&lt;/button>> &lt;&lt;button "BF5" INDEX-2-8-3>> &lt;&lt;/button>> &lt;/div></tw-passagedata><tw-passagedata name=GET-0-4-1 position=2744,504 size=100,100 tags=""pid=3>&lt;&lt;set _enFlag = '&lt;img id="lang_english" src="' + setup.findMedia("data/default/flag/english2.png") + '">'>> &lt;&lt;set _frFlag = '&lt;img id="lang_french" src="' + setup.findMedia("data/default/flag/france.png") + '">'>> &lt;div id="flag-selector"> &lt;a href="javascript:void(0)" onclick="SugarCube.setup.changeLanguage('EN')"> &lt;&lt;= _enFlag>> &lt;/a> &lt;a href="javascript:void(0)" onclick="SugarCube.setup.changeLanguage('FR')"> &lt;&lt;= _frFlag>> &lt;/a> &lt;/div></tw-passagedata><tw-passagedata name=WIDGET-1-3-4 position=9074,5264 size=100,100 tags=""pid=4>&lt;div style="font-variant: petite-caps; font-family:'Patrick Hand',cursive; font-size: 1.5em"> Blacked & Whited v$game.version &lt;/div></tw-passagedata><tw-passagedata name=MACRO-0-6-2 position=1645,8009 size=100,100 tags=""pid=5>&lt;&lt;set _dayPrint = $dayName[setup.getGameDay() % 7] + ' ' + $date.getDate() + ' ' + $monthName[$date.getMonth()]>> &lt;&lt;set $player.excitation_config = '&lt;div class="w3-pink" id="excitation-bar" style="width:' + $player.excitation + '%;">&lt;/div>'>> &lt;&lt;set $person.mc.depravation_config = '&lt;div class="w3-black" id="depravation-bar" style="width:' + ($person.mc.depravation / 2) + '%;">&lt;/div>'>> &lt;&lt;set _genderLevel = 50 + (setup.getGender() / 4)>> &lt;&lt;set $gender_config = '&lt;div class="w3-blue" id="gender-bar" style="width:' + _genderLevel + '%">&lt;/div>'>> &lt;div id="gamepad"> &lt;div id="ui-bar-cycle" style="font-size:0.8em"> &lt;div class="fas fa-coffee cycle" id="cycle-morning">&lt;/div> &lt;div class="far fa-circle cycle low one">&lt;/div> &lt;div class="far fa-circle cycle high two">&lt;/div> &lt;div class="fas fa-sun cycle" id="cycle-afternoon">&lt;/div> &lt;div class="far fa-circle cycle high three">&lt;/div> &lt;div class="far fa-circle cycle low four">&lt;/div> &lt;div class="fas fa-moon cycle" id="cycle-evening">&lt;/div> &lt;/div> &lt;ul class="fa-ul" style="font-family: 'Julius Sans One', sans-serif;font-size:0.8em"> &lt;li>&lt;span class="fa-li">&lt;i class="fas fa-calendar-alt" style='font-size: 1.5em; color: #DC143C'>&lt;/i>&lt;/span> &lt;&lt;= _dayPrint>> &lt;/li> &lt;li>&lt;span class="fa-li">&lt;i class="fab fa-bitcoin" style='font-size: 1.5em; color: #FFD700;'>&lt;/i>&lt;/span>0&lt;/li> &lt;li>&lt;span class="fa-li">&lt;i class="fas fa-dollar-sign" style='font-size: 1.5em; color: var(--theme-money-color);'>&lt;/i>&lt;/span>&lt;span id="uibar-franc">$player.franc&lt;/span>&lt;/li> &lt;/ul> &lt;hr> &lt;&lt;printBuffs>> &lt;hr> &lt;div class=status-bar style="font-size:0.8em"> &lt;span id="excitation-bar-empty" style="color: #ffdddd!important; font-size: 1.5em;"> &lt;i class="far fa-heart">&lt;/i> &lt;/span> &lt;span id="excitation-text">Excitation&lt;/span> &lt;span id="excitation-bar-full" style="color: #ffdddd!important; font-size: 1.5em;"> &lt;i class="fas fa-heart">&lt;/i> &lt;/span> &lt;div class="w3-white" id="excitation-bar-base"> &lt;&lt;= $player.excitation_config>> &lt;/div> &lt;span id="gender-bar-male">&lt;i class="fas fa-mars">&lt;/i>&lt;/span> &lt;span id="gender-text">$player.gender.title&lt;/span> &lt;span id="gender-bar-female">&lt;i class="fas fa-venus">&lt;/i>&lt;/span> &lt;div class="w3-pink" id="gender-bar-base"> &lt;&lt;= $gender_config>> &lt;/div> &lt;span id="depravation-text">$player.mental.title&lt;/span> &lt;div class="w3-white" id="depravation-bar-base"> &lt;&lt;= $person.mc.depravation_config>> &lt;/div> &lt;/div> &lt;div id="ui-bar-mental-status"> &lt;div class="fas fa-circle mental-status selected one" id="ms1">&lt;/div> &lt;div class="fas fa-circle mental-status selected two" id="ms2">&lt;/div> &lt;div class="fas fa-circle mental-status selected three" id="ms3">&lt;/div> &lt;div class="fas fa-circle mental-status selected four" id="ms4">&lt;/div> &lt;div class="fas fa-circle mental-status selected five" id="ms5">&lt;/div> &lt;div class="fas fa-circle mental-status selected four" id="ms6">&lt;/div> &lt;div class="fas fa-circle mental-status selected three" id="ms7">&lt;/div> &lt;div class="fas fa-circle mental-status selected two" id="ms8">&lt;/div> &lt;div class="fas fa-circle mental-status selected one" id="ms9">&lt;/div> &lt;/div> &lt;/div></tw-passagedata><tw-passagedata name=SCHOOL-1-8-5 position=3358,277 size=100,100 tags=""pid=6>&lt;div id="menu-link-zone"> &lt;div class="menu-link" data-tooltip="Site web officiel du jeu" style='font-size: 1.5em; color: gold'> &lt;a class="fab fa-chrome" target="_blank" href="https://www.blackedandwhited.com"> &lt;/a> &lt;/div> &lt;div class="menu-link" data-tooltip="Tu aimes Blacked & Whited ? Soutiens nous !" style='font-size: 1.5em; color: #E64413'> &lt;a class="fab fa-patreon" target="_blank" href="https://www.patreon.com/bigeiffeltower"> &lt;/a> &lt;/div> &lt;div class="menu-link" data-tooltip="Rejoins nous !" style='font-size: 1.5em; color: #738adb;'> &lt;a class="fab fa-discord" target="_blank" href="https://discord.gg/f64k9M7"> &lt;/a> &lt;/div> &lt;div class="menu-link" data-tooltip="Un bug ? Une traduction erronée ? Une réclamation ? Signale nous tout problème" style='font-size: 1.5em; color: white;'> &lt;a class="fas fa-bug" target="_blank" href="https://docs.google.com/forms/d/e/1FAIpQLSc7eGFNNBCTyF7tc9grMC_-rjZ-ulitmFnrDtlDryBCOauIhQ/viewform"> &lt;/a> &lt;/div> &lt;/div></tw-passagedata><tw-passagedata name=STORY-1-7-3 position=8932,5904 size=100,100 tags=""pid=7>&lt;h1 id="story-title-blacked" onmouseover="this.innerHTML='Whited.';" onmouseout="this.innerHTML='Blacked.';">Blacked. &lt;/h1> &lt;h1 id="story-title-whited" onmouseover="this.innerHTML='Blacked.';" onmouseout="this.innerHTML='Whited.';">Whited.&lt;/h1></tw-passagedata><tw-passagedata name=MALL-0-6-5 position=1184,7544 size=100,100 tags=""pid=8>&lt;div id="sidebar-menu"> &lt;a class="menu-item" id="menu-hall" onclick='SugarCube.setup.openThanks()' href="javascript:void(0);">&lt;span class="fas fa-heart" style="margin-right:0.2em; color: #e31b23">&lt;/span> &lt;&lt;nothing>> Thanks! &lt;&lt;/nothing>> &lt;/a> &lt;a class="menu-item" id="menu-save" onclick="SugarCube.setup.openSaveInstruction()" href="javascript:void(0);">&lt;span class="fas fa-save" style="margin-right:0.4em">&lt;/span>&lt;&lt;nothing>>Sauvegarder&lt;&lt;/nothing>>&lt;/a> &lt;a class="menu-item" id="menu-settings" onclick="SugarCube.UI.settings()" href="javascript:void(0);">&lt;span class="fas fa-tools" style="margin-right:0.4em">&lt;/span>&lt;&lt;nothing>>Paramètres&lt;&lt;/nothing>>&lt;/a> &lt;a class="menu-item" id="menu-restart" onclick="SugarCube.UI.restart()" href="javascript:void(0);">&lt;span class="fas fa-power-off" style="margin-right:0.4em">&lt;/span>&lt;&lt;nothing>>Recommencer&lt;&lt;/nothing>>&lt;/a> &lt;/div></tw-passagedata><tw-passagedata name=VRT-1-2-5 position=3999,142 size=100,100 tags=""pid=9>UIBar.hide().stow(); &lt;&lt;include LOOP-0-3-5>> &lt;&lt;include SBFR-0-6-1>> &lt;&lt;include MOM-0-4-0>> &lt;&lt;include BRO-0-2-1>></tw-passagedata><tw-passagedata name=SUB-0-4-5 position=8699,6516 size=100,100 tags=""pid=10>&lt;&lt;set $engine.flags.dynamicAnimation = false>> &lt;&lt;set $engine.flags.keyboardNavigationActive = true>> &lt;&lt;run setup.setUIBackground()>></tw-passagedata><tw-passagedata name=PMS-1-5-4 position=795,7016 size=100,100 tags=""pid=11>&lt;&lt;set $engine.flags.pageLoaded = true>></tw-passagedata><tw-passagedata name=VRT-2-4-5 position=4653,100 size=100,100 tags=""pid=12>&lt;style> .shade { background-color: black; } &lt;/style> &lt;&lt;set _diamond = [ "Jacob A Yow", "Crazymyst", "Kaa", "Magnicus", "Mugiwara95" ]>> &lt;&lt;set _gold = [ "1swegz1", "A", "Adam D.", "Adam H.", "adanaslock89", "Adrian C", "akuya cool", "aless killer", "Alexander Garcia", "alygator", "anna", "Ant", "Apoth Silenius", "Arael of Eden", "Artorias", "Atsara", "Austin N.", "Baron", "BBC Wished", "Bellerofon", "Ben S.", "Berka Cipta Z.", "Bobby H.", "BobSmith", "brybry", "Cairan", "Cameron H.", "Chase W.", "Curtis S.", "Dakora G.", "Daniel M.", "Darian", "Darkdesigns", "DeadlyDrwg", "DerBadener", "Devin W.", "Doz", "dpx6101", "Duke S.", "Dust Cast", "Evan G.", "FlinkyFlinky", "Futalord", "Gabriel N.", "Gavin B.", "Gazza45", "George M.", "Gifter-Monster", "Greyman", "Griffor", "Gunther M.", "heller8284", "Homero L.", "Hyneman", "Ian", "IchaldaSennin", "Ixef", "Jack B.", "Jack M.", "Jack the Gripper", "jack88j", "Jasjit", "Jaskajokunen", "Jasmine", "jason freeze", "Jasper Harms", "JaydenCrow", "JedCavitt", "Jeff H.", "jeff winger", "jesse c", "Jewbby", "John D.", "Jonathan P.", "Jonny2004", "Jordan K D.", "Jordon W.", "Jose", "Jose R.", "Josh D.", "jsmouiller", "Jules R.", "Julien A.", "KaZice3", "Kemin K.", "Kent J.", "Kieran B.", "Kingcal96", "Kkid", "KVBismarc", "Laith Pendragon", "Logan H.", "LVM67", "Ma N", "Marc Antoine F.", "Mark A.", "Mark86", "Matthew C.", "Matthew O W.", "Matthias", "mawologia", "MehMyr", "MerricWolfe", "Michael J.", "Michael L.", "Micro", "Mike", "Mr Ade S H.", "Myse", "Nef", "NegaNexus", "Nicole Laing", "P4c0", "Pascual B.", "Philip T.", "Ragata", "Rene B.", "RHashiba", "Rivaavols", "Rob B.", "Rythefallen", "Sam W.", "Scott S.", "Seppuku70", "Shan B.", "Shaun", "Simon S.", "Sissy Spade", "Slim", "Something Something Anonymous", "Spencer", "Stephen", "Swatkey", "TheBroilern", "Thomas C. JR", "Timothy M.", "Treasure W.", "Trent P.", "Uncleiroh94", "Vitruvious", "Will H.", "William C.", "Zabon", "Zach", "Zach H", "Zed", "Zoltan", "öenedrp" ]>> &lt;div style="background-color: white; display: block; color: black;padding: 1em;font-family: &ampquot;Merienda&ampquot;;font-size: 1.5em;border-radius: 4px; margin-bottom: 2em;text-align: center;">&lt;&lt;nothing>>La version publique de Blacked & Whited est gracieusement offerte par tous les Patreons ! Un immence merci pour leur précieux soutien !&lt;&lt;/nothing>>&lt;/div> &lt;div id="patreon-diamond"> Diamond members &lt;span class="shade">&ampnbsp;&lt;/span> &lt;/div> &lt;hr style="opacity: 0.5;margin-top:0"> &lt;div style="display: grid;"> &lt;&lt;for _i to 0; _i lt _diamond.length; _i++>> @@#patreon-diamond;_diamond[_i]&lt;span class="shade">&ampnbsp;&lt;/span>@@ &lt;&lt;/for>> &lt;/div> &lt;div id="patreon-gold" style="margin-top:2em; border: none"> Gold members &lt;span class="shade">&ampnbsp;&lt;/span> &lt;/div> &lt;hr style="opacity: 0.5;margin-top:0"> &lt;div style="display: flex; margin-bottom:1em; flex-wrap: wrap; justify-content: center"> &lt;&lt;for _i to 0; _i lt _gold.length; _i++>> @@#patreon-gold;_gold[_i]&lt;span class="shade">&ampnbsp;&lt;/span>@@ &lt;&lt;/for>> &lt;/div> &lt;div id="patreon-silver" style="margin-top:2em; border: none"> &lt;&lt;nothing>>Un immense merci également à tous les membres Silver et à tous ceux qui m'aident dans cette aventure !&lt;&lt;/nothing>> &lt;/div> &lt;hr style="opacity: 0.5"> &lt;&lt;a>> Merci à HiEv pour son immense travail sur le Universal Inventory pour Sugarcube. Vous pouvez le retrouver ici: https://www.patreon.com/HiEv &lt;&lt;/a>></tw-passagedata><tw-passagedata name=MACRO-1-4-3 position=8380,7088 size=100,100 tags=""pid=13>&lt;&lt;setColors black white>> You won this game bro. Nice one. [[Click here to get your reward|https://youtu.be/tIP2iitQYi4?t=1362]]</tw-passagedata><tw-passagedata name=MOM-2-5-1 position=487,6438 size=100,100 tags=""pid=14>&lt;&lt;setColors #1d1d1d white>> &lt;&lt;set $engine.flags.keyboardNavigationActive = false>> &lt;div id="s1"> &lt;&lt;video data/default/dropnaming.webm 50>> &lt;div id="presentation-text"> &lt;div class="intro-text">&lt;&lt;nothing>>Yo ! Moi c'est BigEiffelTower, l'artisan de Blacked & Whited. Avant de commencer, je tenais à te souhaiter une bonne aventure, et j'espère que tu prendras autant de plaisir à jouer que j'en ai à l'écrire et à la développer. :)&lt;&lt;/nothing>>&lt;/div> &lt;div class="intro-logo fas fa-smile-beam"> &lt;/div> &lt;/div> &lt;div id="discord-text"> &lt;div class="intro-logo fas fa-comments" style="margin-right: 0.2em;"> &lt;/div> &lt;div class="intro-text">&lt;&lt;nothing>>Le développement du jeu est très actif, et je rajoute régulièrement du nouveau contenu. Clique sur le lien discord à gauche pour être tenu au courant des mises à jour, partager tes idées, donner ton avis, signaler un bug, ou simplement discuter avec la communauté.&lt;&lt;/nothing>>&lt;/div> &lt;/div> &lt;div id="sound-text"> &lt;div class="intro-text">&lt;&lt;nothing>>Blacked & Whited est aussi une expérience sonore. Mais pour t'éviter de mauvaises surprises, j'ai désactivé le son des vidéos par défault. Si tu es dans un endroit sûr, n'hésite pas à le réactiver dans les paramètres. Tu peux également y régler le volume général du jeu.&lt;&lt;/nothing>>&lt;/div> &lt;div class="intro-logo fas fa-headphones" style="margin-right: 0.2em;"> &lt;/div> &lt;/div> &lt;&lt;if setup.isNew()>> &lt;div class="patreon-access"> &lt;img src="https://imgur.com/qK5lRWr.jpg"> &lt;a> &lt;&lt;nothing>> Tu joues à la version augmentée. Merci pour ton soutien ! &lt;&lt;/nothing>> &lt;/a> &lt;/div> &lt;&lt;/if>> &lt;div class="choices"> &lt;&lt;button "Démarrer une nouvelle partie">> &lt;&lt;dunshow s1>> &lt;&lt;dshow s2>> &lt;&lt;/button>> &lt;&lt;button "Charger une partie">> &lt;&lt;run UI.saves()>> &lt;&lt;/button>> &lt;/div> &lt;/div> &lt;&lt;set _tmp = "&lt;img id='avatar' src='" + setup.findMedia("data/mc/avatar.jpg") + "'>">> &lt;div id="s2"> &lt;&lt;a>> Si tu le souhaites, tu peux personnaliser cette histoire en modifiant tes caractéristiques ! &lt;&lt;/a>> &lt;div id="select-zone"> &lt;div id="select-avatar"> &lt;label for="file-input"> _tmp &lt;/label> &lt;p> &lt;&lt;nothing>>Clique sur l'image pour changer ton avatar&lt;&lt;/nothing>> &lt;/p> &lt;input id="file-input" type="file" style="display:none" onchange="SugarCube.setup.loadAvatar(event)"/> &lt;/div> &lt;div class="select-title"> &lt;&lt;nothing>> Identité &lt;&lt;/nothing>> &lt;/div> &lt;div class="select-item"> &lt;div class="select-item-text"> &lt;&lt;nothing>> Prénom &lt;&lt;/nothing>> &lt;/div> &lt;div class="select-item-options"> &lt;&lt;textbox "$namemc" "Lucas">> &lt;/div> &lt;/div> &lt;div class="select-item"> &lt;div class="select-item-text"> &lt;&lt;nothing>> Nom &lt;&lt;/nothing>> &lt;/div> &lt;div class="select-item-options"> &lt;&lt;textbox "$player.identity.lastname" "Legrand">> &lt;/div> &lt;/div> &lt;div class="select-item"> &lt;div class="select-item-text"> &lt;&lt;nothing>> Origines &lt;&lt;/nothing>> &lt;/div> &lt;div class="select-item-options"> &lt;&lt;listboxplus "$player.identity.race" setup.type.race>> &lt;/div> &lt;/div> &lt;div class="select-title"> &lt;&lt;nothing>> Visage &lt;&lt;/nothing>> &lt;/div> &lt;div class="select-item"> &lt;div class="select-item-text"> &lt;&lt;nothing>> Couleur des yeux &lt;&lt;/nothing>> &lt;/div> &lt;div class="select-item-options"> &lt;&lt;listboxplus "$player.face.eyes.color" setup.type.colors.masc>> &lt;/div> &lt;/div> &lt;div class="select-item"> &lt;div class="select-item-text"> &lt;&lt;nothing>> Couleur des cheveux &lt;&lt;/nothing>> &lt;/div> &lt;div class="select-item-options"> &lt;&lt;listboxplus "$player.hair.color" setup.type.colors.masc -1:4>> &lt;/div> &lt;/div> &lt;div class="select-item"> &lt;div class="select-item-text"> &lt;&lt;nothing>> Style de cheveux &lt;&lt;/nothing>> &lt;/div> &lt;div class="select-item-options"> &lt;&lt;listboxplus "$player.hair.type" setup.type.hair.type -1:3>> &lt;/div> &lt;/div> &lt;div class="select-title"> &lt;&lt;nothing>> Corps &lt;&lt;/nothing>> &lt;/div> &lt;div class="select-item"> &lt;div class="select-item-text"> &lt;&lt;nothing>> Forme du corps &lt;&lt;/nothing>> &lt;/div> &lt;div class="select-item-options"> &lt;&lt;listboxplus "$player.body.shape" setup.type.shape>> &lt;/div> &lt;/div> &lt;div class="select-item"> &lt;div class="select-item-text"> &lt;&lt;nothing>> Taille de ta queue &lt;&lt;/nothing>> &lt;/div> &lt;div class="select-item-options"> &lt;&lt;if setup.isNew()>> &lt;&lt;listboxplus "$player.body.sex.size" setup.type.sex.dick.size 1:3>> &lt;&lt;else>> &lt;&lt;listboxplus "$player.body.sex.size" setup.type.sex.dick.size 1:3 2:2>> &lt;&lt;/if>> &lt;/div> &lt;/div> &lt;div class="select-message"> &lt;&lt;nothing>> Info: la taille de votre pénis débloque certains choix et provoque des réactions spéciales des personnages. Cette option est débloquée pour les membres Blacked & Whited. &lt;&lt;/nothing>> &lt;/div> &lt;/div> &lt;div class="choices"> &lt;&lt;qbutton "Continuer" in:s3 out:s2>> &lt;/div> &lt;/div> &lt;div id="s3"> &lt;div id="name-select"> &lt;&lt;nothing>> Quel est le nom de ta petite amie ? &lt;&lt;/nothing>> &lt;&lt;textbox "$namegf" "Lana">> &lt;hr> &lt;&lt;nothing>>Quel est le nom de ton meilleur ami ?&lt;&lt;/nothing>> &lt;&lt;textbox "$namebf" "Théo">> &lt;hr> &lt;&lt;nothing>>Quel est le nom de ton rival ?&lt;&lt;/nothing>> &lt;&lt;textbox "$nameb" "Moussa">> &lt;hr> &lt;&lt;a>>Tu vis sous le même toit qu'une MILF qui a dans la quarantaine.&lt;&lt;/a>> &lt;p>&lt;&lt;nothing>>Quelle est ta relation avec elle ?&lt;&lt;/nothing>>&lt;&lt;textbox "$relationsm" "landlord">>&lt;/p> &lt;p>&lt;&lt;nothing>>Quel est son prénom ?&lt;&lt;/nothing>>&lt;&lt;textbox "$namesm" "Christine">>&lt;/p> &lt;hr> &lt;&lt;a>>Cette MILF a une fille, une blonde a gros cul qui a sa chambre à côté de la tienne.&lt;&lt;/a>> &lt;p>&lt;&lt;nothing>>Quelle est ta relation avec elle ?&lt;&lt;/nothing>>&lt;&lt;textbox "$relationss" "roommate">>&lt;/p> &lt;p>&lt;&lt;nothing>>Quel est son prénom ?&lt;&lt;/nothing>>&lt;&lt;textbox "$namess" "Marie">>&lt;/p> &lt;/div> &lt;div id="avertissement"> &lt;&lt;nothing>> ''__Avertissement__'': tout ce que tu vas lire ici est purement fictionnel et toute ressemblance avec le réel est une coïncidence. L'auteur ne fait la promotion d'aucun parti politique, d'aucune idéologie, d'aucune religion ou autres trucs du genre. Ce que disent, pensent, écrivent, chantent les personnages n'a aucun rapport avec ce qu'il y a dans la tête de l'auteur, qui s'en bat les couilles d'à peu près tout. Tout n'a qu'un but : le plaisir de ton corps et de ton esprit. &lt;&lt;/nothing>> &lt;/div> &lt;&lt;a>> Merci ! Nous pouvons commencer ! &lt;&lt;/a>> &lt;&lt;video data/default/go.webm>> &lt;div class="choices"> [[Il était une fois...|BRO-1-5-2]] &lt;/div> &lt;/div> &lt;&lt;unshow2 s2 s3>></tw-passagedata><tw-passagedata name=GET-1-6-3 position=5306,154 size=100,100 tags=""pid=15>&lt;&lt;setColors #1d1d1d white>> &lt;style> body { transition: none; } .benefit-item { } .benefit-picture { font-size: 2em; margin-top: 7px; border-right: none; padding: 0; padding-right: 0.5em; width: 235px; min-width: 235px; padding-left: 98px; color: red; } .benefit-texte { display: flex; } .benefit-title { } .benefit-desc { align-self: center; margin-left: 0.5em; font-size: 14px; font-family: Questrial; } #patreon-silver { font-size: 20px; margin-top: 7px; border-right: none; padding: 0; padding-right: 0.5em; width: 235px; min-width: 235px; color: #eeeeee; } #patreon-gold { font-size: 20px; margin-top: 7px; border-right: none; padding: 0; padding-right: 0.5em; width: 235px; min-width: 235px; } #patreon-text { font-size: 1em; line-height: 20px; font-family: Merienda; } .shade { background-color: #1d1d1d; } #patreon-gold .shade { opacity: 0.30; margin-top: -14px; } .patreon-access { margin-top: 2em; font-size: 1.3em; font-family: Pacifico; } .free-access { border-radius: 40px; display: flex; padding: 0.3vw; max-width: 60%; margin-left: 20%; background-color: #808080; margin-top: 0.5em; font-size: 1.3em; justify-content: center; align-content: center; } #button-free-version { color: black; font-family: arial; font-size: 0.8em; } #button-free-version:hover { text-decoration: underline; } &lt;/style> &lt;&lt;image data/default/pv2.jpg 100>> &lt;&lt;a>> Merci de jouer à Blacked & Whited ! &lt;&lt;/a>> &lt;div id="patreon-text"> &lt;&lt;nothing>> Avec Blacked & Whited, nous essayons de créer une expérience unique. Le jeu de nos rêves ! Le développement d'un jeu est une aventure réellement passionnante, et qui prend aussi énormément de temps - des centaines d'heures. &lt;&lt;/nothing>> &lt;br> &lt;&lt;nothing>> Rien ne serait possible sans votre fantastique soutien ! Si tu apprécies le jeu, n'hésite pas à soutenir le développement et participer à cette aventure en devenant membre Blacked & Whited ! &lt;&lt;/nothing>> &lt;div class="intro-logo fas fa-hand-holding-heart" style="margin-right:10px;margin-left: 0.5em;"> &lt;/div> &lt;/div> &lt;&lt;a>> En devenant membre, tu débloques notamment: &lt;&lt;/a>> &lt;div class="benefit-item"> &lt;div class="benefit-picture"> &lt;/div> &lt;div class="benefit-texte"> &lt;span id="patreon-silver"> &lt;&lt;nothing>> Accès anticipé &lt;&lt;/nothing>> &lt;span class="shade">&ampnbsp;&lt;/span> &lt;/span> &lt;span class="benefit-desc"> &lt;&lt;nothing>> accède au nouveau contenu jusqu'à 1 mois avant tout le monde. &lt;&lt;/nothing>> &lt;/span> &lt;/div> &lt;/div> &lt;div class="benefit-item"> &lt;div class="benefit-picture"> &lt;/div> &lt;div class="benefit-texte"> &lt;span id="patreon-silver"> &lt;&lt;nothing>> Version augmentée &lt;&lt;/nothing>> &lt;span class="shade">&ampnbsp;&lt;/span> &lt;/span> &lt;span class="benefit-desc"> &lt;&lt;nothing>> débloque toutes les options et tous les fetish.&lt;br>accède aux cloud serveurs ultra rapides pour les images et les vidéos. &lt;&lt;/nothing>> &lt;/span> &lt;/div> &lt;/div> &lt;div class="benefit-item"> &lt;div class="benefit-picture"> &lt;/div> &lt;div class="benefit-texte"> &lt;span id="patreon-silver"> &lt;&lt;nothing>> Influenceur &lt;&lt;/nothing>> &lt;span class="shade">&ampnbsp;&lt;/span> &lt;/span> &lt;span class="benefit-desc"> &lt;&lt;nothing>> accède aux sondages de la communauté et influence le développement du jeu. &lt;&lt;/nothing>> &lt;/span> &lt;/div> &lt;/div> &lt;div class="benefit-item"> &lt;div class="benefit-picture"> &lt;/div> &lt;div class="benefit-texte"> &lt;span id="patreon-gold"> &lt;&lt;nothing>> Cheat mode &lt;&lt;/nothing>> &lt;span class="shade">&ampnbsp;&lt;/span> &lt;/span> &lt;span class="benefit-desc"> &lt;&lt;nothing>> débloque le panneau de contrôle pour modifier ton état et l'univers du jeu selon tes désirs. &lt;&lt;/nothing>> &lt;/span> &lt;/div> &lt;/div> &lt;div class="benefit-item"> &lt;div class="benefit-picture"> &lt;/div> &lt;div class="benefit-texte"> &lt;span id="patreon-gold"> &lt;&lt;nothing>> Quêtes exclusives &lt;&lt;/nothing>> &lt;span class="shade">&ampnbsp;&lt;/span> &lt;/span> &lt;span class="benefit-desc"> &lt;&lt;nothing>> débloque les quêtes exclusives (bientôt disponibles). &lt;&lt;/nothing>> &lt;/span> &lt;/div> &lt;/div> &lt;div class="benefit-item"> &lt;div class="benefit-picture"> &lt;/div> &lt;div class="benefit-texte"> &lt;span class="fas fa-heart benefit-picture"> &lt;/span> &lt;span class="benefit-desc"> &lt;&lt;nothing>> et plus important, votre soutien permet de sortir toujours plus de contenu avec le niveau de qualité Blacked & Whited ! &lt;&lt;/nothing>> &lt;/span> &lt;/div> &lt;/div> &lt;div class="patreon-access"> &lt;img src="https://imgur.com/qK5lRWr.jpg"> &lt;a href='https://www.patreon.com/bigeiffeltower' target="_blank"> &lt;&lt;nothing>> Deviens membre Blacked & Whited maintenant &lt;&lt;/nothing>> &lt;/a> &lt;/div> &lt;div class="free-access"> &lt;a data-passage="MOM-2-5-1" class="button-simple" id="button-free-version" tabindex="0"> &lt;&lt;nothing>> Continuer avec la version publique &lt;&lt;/nothing>> &lt;/a> &lt;/div></tw-passagedata><tw-passagedata name=BRO-1-5-2 position=7981,7608 size=100,100 tags=""pid=16>&lt;&lt;setColors #1d1d1d white>> &lt;&lt;set $person.mc.name = $namemc>> &lt;&lt;set $player.identity.firstname = $namemc>> &lt;&lt;set $person.gf.name = $namegf>> &lt;&lt;set $person.sm.name = $namesm>> &lt;&lt;set $relationsm = $relationsm.toLowerCase()>> &lt;&lt;set $person.sm.relation = $relationsm>> &lt;&lt;set $person.ss.name = $namess>> &lt;&lt;set $relationss = $relationss.toLowerCase()>> &lt;&lt;set $person.ss.relation = $relationss>> &lt;&lt;set $person.bf.name = $namebf>> &lt;&lt;set $person.b.name = $nameb>> &lt;&lt;set $namegfm = $person.gfm.name>> &lt;div id="s1"> &lt;&lt;image data/default/pv2.jpg 100>> &lt;&lt;a>> Deux mots. Deux chemins. Un choix. &lt;&lt;/a>> &lt;&lt;a>> Mettez vous dans la peau d'un jeune homme en pleine quête d'identité dans un monde sans pitié. Quelle voie vas-tu choisir ? Tes décisions pourront faire de toi le mâle alpha incontesté, ou au contraire t'amener dans des profondeurs inconnues. &lt;&lt;/a>> &lt;&lt;a>> La réalité n’a pas de pitié pour les faibles. Et derrière le vernis de la civilisation se cache une bête. Bats toi et surpasse tes rivaux, ou accepte d'être maudit. Le gagnant prend tout, le perdant... dit oui. &lt;&lt;/a>> &lt;&lt;a>> Have fun :) &lt;&lt;/a>> &lt;hr> &lt;div class="BRO-1-5-2"> &lt;&lt;a>> $namemc, c'est toi. Seul rescapé d'un accident de la route quand tu n'était encore qu'un enfant, tu as très vite compris que rien ne te serait donné dans la vie. &lt;&lt;/a>> &lt;&lt;a>> Tu sais qu'il faudra te battre pour garder ce que tu as, et obtenir ce que tu veux. Mais tu sais aussi que se battre, ça te fatigue... Pourquoi faire des efforts quand les choses ont si peu de sens autour de soi, et quand se laisser guider par ses pulsions ou celles des autres est si reposant ? &lt;&lt;/a>> &lt;&lt;a>> Depuis quelques temps, tu sens bien que ta vie est sur une pente descendante. Mais tu sens aussi que les choix que tu feras ces prochains mois vont être déterminants pour le reste de ta vie... &lt;&lt;/a>> &lt;/div> &lt;div class="choices"> &lt;&lt;button "Continuer">> &lt;&lt;dunshow s1>> &lt;&lt;dshow s2>> &lt;&lt;/button>> &lt;/div> &lt;/div> &lt;div id="s2"> &lt;&lt;image data/places/house.jpg>> &lt;&lt;a>> Ton foyer, c'est ça. Tu vis dans une petite maison de banlieue à l'architecture sommaire, dans un quartier uniforme, calme et bien rangé. Ta vie n'est pas spécialement palpitante: études, jeux vidéo, dodo. Putain ce que tu aimes dormir. Tes relations sociales se résument à trois personnes, trois femmes : ta petite amie $namegf, ta $relationsm $namesm, et ta $relationss $namess. &lt;&lt;/a>> &lt;hr> &lt;&lt;a>> ''BIP! BIP!'' &lt;&lt;/a>> &lt;&lt;t>> Ah ! Fini de rêvasser, c'est l'heure de se lever ! &lt;&lt;/t>> &lt;&lt;t>> Hein, tu te demandes ce que c'est ça ? Bah ça, c'est ma tête, et ces mots sont mes pensées. Et moi, je suis toi, ou moi, comme tu veux. Bref, on s'est compris, réveille moi et emmène moi me doucher ! &lt;&lt;/t>> &lt;div class="choices"> [[Se lever|MACRO-1-8-4]] &lt;/div> &lt;/div> &lt;&lt;unshow2 s2>></tw-passagedata><tw-passagedata name=VRT-0-6-5 position=266,5822 size=100,100 tags=""pid=17>&lt;&lt;run setup.setQuest("bfQ1", "step", 1)>> &lt;div id="s1"> &lt;&lt;a>> Tu te trompes plusieurs fois de direction, avant de finalement trouver son quartier. Il habite un quartier résidentiel semblable au tien, à ceci près que l'endroit respire la prospérité, voir la richesse. &lt;&lt;/a>> &lt;&lt;a>> Tu marches encore quelques centaines de mètre avant de te retrouver devant le numéro 6. C'est une maison plutôt grande, avec un jardin parfaitement entretenu. Le silence n'est brisé que par le ronronnement de la pompe d'une grande piscine couverte. &lt;&lt;/a>> &lt;&lt;a>> Tu toques à la porte. Après quelques minutes, $namebf t'ouvre. Il parait surpris. &lt;&lt;/a>> &lt;&lt;d bf>> Hey $namemc ! C'est un plaisir de te voir ! Je ne pensais pas que tu allais venir. &lt;&lt;/d>> &lt;&lt;d mc>> Tu m'as sauvé deux fois lol ! Normal de venir te remercier. &lt;&lt;/d>> &lt;&lt;d bf>> C'était vraiment pas grand chose, tu peux me croire. Mais suis moi, on va aller dans ma chambre on sera mieux. &lt;&lt;/d>> &lt;div class="choices"> &lt;&lt;button "Suivre $namebf">> &lt;&lt;dunshow s1>> &lt;&lt;dshow s2>> &lt;&lt;/button>> &lt;/div> &lt;/div> &lt;div id="s2"> &lt;&lt;a>> Tu suis $namebf jusque dans sa chambre. Vous traversez plusieurs pièces qui te semblent toutes très grandes. La maison est complètement vide, en dehors de vous deux. &lt;&lt;/a>> &lt;&lt;d mc>> Tu vis tout seul ici ? &lt;&lt;/d>> &lt;&lt;a>> $namebf te regarde un instant, incrédule, et éclate de rire. &lt;&lt;/a>> &lt;&lt;d bf>> Haha, nan. Mon père rentre tard les soirs, il a sa propre société d'investissement. Et ma mère, elle doit encore être à un de ses cours de yoga ou une connerie du genre. &lt;&lt;/d>> &lt;&lt;a>> La question était stupide... &lt;&lt;/a>> &lt;&lt;d bf>> Tiens, c'est ici. &lt;&lt;/d>> &lt;div class="choices"> &lt;&lt;button "Découvrir sa chambre">> &lt;&lt;dunshow s2>> &lt;&lt;dshow s3>> &lt;&lt;/button>> &lt;/div> &lt;/div> &lt;div id="s3"> &lt;&lt;a>> Il ouvre la porte, et tu pénètres dans sa chambre. La première chose que tu remarques, c'est sa taille. Elle est étonnamment petite, surtout si on la compare aux proportions de la maison. La deuxième chose, c'est le bordel qui oblige à faire attention où l'on met les pieds. Et la troisième impression, c'est l'odeur, très étrange, mais pas forcément désagréable. &lt;&lt;/a>> &lt;&lt;a>> C'est une chambre sous les combles, et le toit mange une partie de la surface aérienne. Une unique fenêtre ne suffit pas à éclairer correctement la pièce, et il fait plutôt sombre. Il y a un lit 2 places à l'apparence très moelleuse dans un coin. Dans l'autre coin, un canapé posé devant une grande télé 4k Dolby Surround Xtrem VeraLight très moderne. Par terre, tu reconnais les manettes de plusieurs consoles différentes, notamment celles de la XStation et de la PlayBox. &lt;&lt;/a>> &lt;&lt;a>> Dans le dernier coin, il y un large bureau sur lequel est posé un PC Gamer relié à rien de moins que 4 écrans. Et sur l'un de ces écrans... &lt;&lt;/a>> &lt;&lt;t>> Oh merde, c'est gênant... &lt;&lt;/t>> &lt;div class="choices"> &lt;&lt;button "Regarder...">> &lt;&lt;excitation 10>> &lt;&lt;dunshow s3>> &lt;&lt;dshow s4>> &lt;&lt;/button>> &lt;/div> &lt;/div> &lt;div id="s4"> &lt;&lt;tv data/bf/p/dis.webm>> &lt;&lt;a>> Il y a un porno que $namebf a oublié d'enlever... Tu n'as jamais vu un porno comme celui-ci. Il y a une femme, blanche, qui se fait prendre violemment par un homme, noir. Le contraste est étonnant. Sa queue est anormalement démesurée, et tu te demandes comment une fille aussi fine peut encaisser ça. En tout cas, elle a l'air de ressentir un mélange de douleur et d'extase, même si ses mimiques te paraissent ridiculement exagérées. &lt;&lt;/a>> &lt;&lt;a>> $namebf remarque que ton regard ne décroche pas de l'écran. Il ne semble pas gêné une seconde. &lt;&lt;/a>> &lt;&lt;qbutton "Continuer" out:s4 in:s5>> &lt;/div> &lt;div id="s5"> &lt;&lt;d bf>> Ivy Wolfe ! Tu connais cette actrice ? Elle est très connue, c'est une de mes préférés. Nan mais regarde ce cul putain, t'as déjà vu un cul comme ça ? Et cette cambrure... Cette blonde est une déesse ! &lt;&lt;/d>> &lt;&lt;d mc>> Et heu... Tu penses qu'elle va bien ? &lt;&lt;/d>> &lt;&lt;d bf>> Bien entendu ! Elles adorent ça tu sais ! &lt;&lt;/d bf>> &lt;div class="choices"> &lt;&lt;button "S'installer dans le canapé">> &lt;&lt;set $person.mc.gaming += 2>> &lt;&lt;dunshow s5>> &lt;&lt;dshow s6>> &lt;&lt;/button>> &lt;/div> &lt;/div> &lt;div id="s6"> &lt;&lt;a>> Vous passez le reste de la journée à jouer aux jeux vidéos sur son canapé. $namebf a quasiment tous les jeux qui existent, et surtout tes préférés. C'est un excellent joueur et après plusieurs parties en multijoueurs, il se trouve que vous formez une équipe efficace. Derrière vous, en fond, tu entends les gémissements des actrices pornos qui tournent en boucle. &lt;&lt;/a>> &lt;&lt;d bf>> C'était génial de pouvoir jouer avec toi ! C'est vraiment rare de tomber sur des joueurs qui comprennent ce qu'ils font ! Reviens quand tu veux poto ! &lt;&lt;/d>> &lt;&lt;d mc>> Franchement, c'était bien sympa pour moi aussi. Je reviendrai, c'est sûr. &lt;&lt;/d>> &lt;&lt;a>> Il te laisse redescendre et t'en aller seul. En jettant un dernier coup d'oeil, tu le vois s'installer devant son PC. Avant de quitter les lieux, tu t'étonnes de nouveau de la taille de sa maison. Les affaires de son père doivent être florissantes. &lt;&lt;/a>> &lt;&lt;t>> Bon, faut bien que je retienne le chemin, je vais sûrement revenir de temps en temps ! &lt;&lt;/t>> &lt;div class="choices"> [[Rentrer à la maison|FBRO-2-3-0]] &lt;/div> &lt;/div> &lt;&lt;unshow2 s2 s3 s4 s5 s6>></tw-passagedata><tw-passagedata name=GET-1-2-2 position=5945,302 size=100,100 tags=""pid=18>&lt;&lt;set _choices = [ ["0", "C'est hypnotique de voir sa grosse poitrine de blonde sauter au rythme des coups de queue qu'elle se prend."], ["1", "C'est un plaisir de la voir prendre son pied comme ça."], ["2", "Cette petite pute en chaleur a ce qu'elle mérite."], ["3", "C'est tellement excitant de voir un cul comme ça encaisser une si grosse queue."] ]>> &lt;&lt;for _i to 0; _i lt _choices.length; _i++>> &lt;&lt;set _t = "&lt;&lt;note>>Ne sois pas gêné. " + _choices[_i][1] + "&lt;&lt;/note>>">> &lt;&lt;= _t>> &lt;&lt;/for>> &lt;&lt;set _select = random(3)>> &lt;&lt;set _porn = 'data/bf/p/' + _choices[_select][0] + '.webm'>> &lt;&lt;set _pornComment = "&lt;&lt;d bf>>Ne sois pas gêné. " + _choices[_select][1] + "&lt;&lt;/d>>">> &lt;&lt;set _porn2 = 'data/bf/p/' + random(4, 7) + '.webm'>> &lt;&lt;set _porn3 = 'data/bf/p/fni' + random(4, 7) + '.webm'>> &lt;div id="s1"> &lt;&lt;image data/bf/game.gif 80>> &lt;&lt;a>> Vous jouez toute la journée au jeu vidéo dans l'appartement. &lt;&lt;/a>> &lt;&lt;a>> Derrière toi, tu entends les cris des filles des pornos... &lt;&lt;/a>> &lt;div class="choices" id="ch1"> &lt;&lt;button "Jeter un coup d'oeil">> &lt;&lt;pushevent bf 2>> &lt;&lt;dunshow s1>> &lt;&lt;excitation 20>> &lt;&lt;if setup.event("bf", 2) >= 2>> &lt;&lt;dshow s2 s3-2 c1>> &lt;&lt;if setup.event("bf", 2) >= 3>> &lt;&lt;run setup.setQuest("bfQ1", "step", 2)>> &lt;&lt;/if>> &lt;&lt;else>> &lt;&lt;dshow s2 s3-1 e1>> &lt;&lt;set $person.mc.gaming += 2>> &lt;&lt;/if>> &lt;&lt;/button>> &lt;/div> &lt;/div> &lt;div id="s2"> &lt;&lt;a>> Tu ne résistes plus à l'appel des gémissements qui tournent en boucle depuis plus d'une heure dans ton dos. Tu jetes un coup d'oeil aux écrans de son PC... &lt;&lt;/a>> &lt;&lt;tv _porn 30>> &lt;&lt;d bf>> Tu vois quelque chose qui te plait ? :) &lt;&lt;/d>> &lt;&lt;a>> Tu détournes vite le regard. &lt;&lt;/a>> _pornComment &lt;&lt;a>> Tu ne peux pas t'empêcher de jeter un dernier coup d'oeil. &lt;&lt;/a>> &lt;&lt;d bf>> On peut le mettre sur la télé principale si tu veux ? &lt;&lt;/d>> &lt;/div> &lt;div id="s3-1"> &lt;&lt;d mc>> Chhhhh concentre toi sur la game, on est en train de se faire remonter ! &lt;&lt;/d>> &lt;/div> &lt;div id="s3-2"> &lt;&lt;t>> Matter un porno avec un pote dans sa chambre ? Ca serait vraiment étrange, non ? Mais en même temps... &lt;&lt;/t>> &lt;/div> &lt;div class="choices" id="c1"> &lt;&lt;button "Ouais pourquoi pas...">> &lt;&lt;dunshow s2 s3-1 s3-2 c1>> &lt;&lt;dshow s4>> &lt;&lt;if setup.getCounter("housebfChooseBlackedPorn") &lt; 4>> &lt;&lt;set _tmpPoint = 4 - setup.getCounter("housebfChooseBlackedPorn")>> &lt;&lt;blacked _tmpPoint>> &lt;&lt;/if>> &lt;&lt;set $person.mc.gaming += 1>> &lt;&lt;replace #porn>> &lt;&lt;tv _porn2>> &lt;&lt;/replace>> &lt;&lt;run setup.counter("housebfChooseBlackedPorn")>> &lt;&lt;/button>> &lt;&lt;button "Tu n'aurais pas d'autres vidéos porno ?">> &lt;&lt;dunshow s2 s3-1 s3-2 c1>> &lt;&lt;dshow s4 s4-1>> &lt;&lt;if setup.getCounter("housebfChooseWhitedPorn") &lt; 4>> &lt;&lt;set _tmpPoint = 4 - setup.getCounter("housebfChooseWhitedPorn")>> &lt;&lt;whited _tmpPoint>> &lt;&lt;/if>> &lt;&lt;set $person.mc.gaming += 1>> &lt;&lt;replace #porn>> &lt;&lt;tv _porn3>> &lt;&lt;/replace>> &lt;&lt;run setup.counter("housebfChooseWhitedPorn")>> &lt;&lt;/button>> &lt;&lt;button "Nan continuons à jouer">> &lt;&lt;set $person.mc.gaming += 2>> &lt;&lt;dunshow s2 s3-1 s3-2 c1>> &lt;&lt;dshow e1>> &lt;&lt;/button>> &lt;/div> &lt;div id="s4"> &lt;&lt;d mc>> Bah écoute, oui pourquoi pas, je me demande comment ça rend sur une télé comme ça. &lt;&lt;/d>> &lt;&lt;a>> Tu as du mal à croire tes oreilles. Tu viens de demander à $namebf de mettre du porno sur la grande télé pour en regarder ensemble... C'est tellement bizarre ! Et en même temps tellement excitant. &lt;&lt;/a>> &lt;&lt;a>> $namebf n'a pas l'air d'en croire ses oreilles non plus. &lt;&lt;/a>> &lt;&lt;d bf>> Sérieux ? Oh, génial ! Donne la télécommande. &lt;&lt;/d>> &lt;&lt;a>> Tu lui envoies la télécommande, et en deux clics il transfère l'image de son écran d'ordinateur à la télévision. On voit qu'il a l'habitude de ça... &lt;&lt;/a>> &lt;div id="s4-1"> &lt;&lt;a>> Tu regardes à nouveau le porno qui s'affiche sur l'écran. &lt;&lt;/a>> &lt;&lt;d mc>> Tu n'aurais pas, disons, un autre type de porn ? &lt;&lt;/d>> &lt;&lt;d bf>> Comment ça ? Quel autre type ? &lt;&lt;/d>> &lt;&lt;d mc>> Bah tu sais, du porno plus habituel... &lt;&lt;/d>> &lt;&lt;d bf>> Oh, je vois. &lt;&lt;/d>> &lt;&lt;a>> $namebf affiche une mine un peu déçu, vite effacé quand il réalise le moment qu'il va pouvoir partager avec toi. Il change rapidement de vidéo, et vous vous installez confortablement dans le canapé. &lt;&lt;/a>> &lt;/div> &lt;div class="choices" id="c1"> &lt;&lt;button "Se mettre à l'aise">> &lt;&lt;pushevent bf 3>> &lt;&lt;dunshow s4>> &lt;&lt;dshow s5 e1>> &lt;&lt;excitation 30>> &lt;&lt;/button>> &lt;/div> &lt;/div> &lt;div id="s5"> &lt;&lt;a>> Vous passez une bonne heure à matter du porno ensemble. $namebf t'apprend le nom des actrices, des acteurs, des positions, change de scène ou de vidéo tel un virtuose, et tout ça entre deux commentaires graveleux et dégradant pour les filles. Il semble dans son monde. &lt;&lt;/a>> &lt;div id="porn"> &lt;/div> &lt;&lt;t>> Wow, c'est... &lt;&lt;/t>> &lt;&lt;d bf>> Oh ouais... Elle prend son pied cette petite putain... &lt;&lt;/d>> &lt;&lt;a>> La situation t'excite beaucoup, et tu bandes pendant tout ce temps. Les commentaires constants de $namebf n'arrangent rien à la situation. Tu lui jettes parfois des coups d'oeil. Il a les yeux grands ouverts et semble absorbé par les images. Sans s'en rendre compte, ou en tout cas tu le supposes, il porte sa main sur son entrejambe pour se frotter. &lt;&lt;/a>> &lt;&lt;d bf>> Vas-y, défonce moi bien cette pute blanche... &lt;&lt;/d>> &lt;&lt;a>> Au bout d'un moment l'excitation est trop forte, il faut que tu arrêtes avant que ça n'aille trop loin. Tu trouves une bonne excuses en lui disant que ça te gave et que t'as envie de rejouer. &lt;&lt;/a>> &lt;/div> &lt;div id="e1"> &lt;&lt;a>> Vous jouez jusqu'à tard le soir. &lt;&lt;/a>> &lt;&lt;if setup.isWeekend()>> &lt;div class="choices"> &lt;&lt;button "Retourner en ville" SCHOOL-1-3-4 before:city>> &lt;&lt;/button>> &lt;/div> &lt;&lt;else>> &lt;div class="choices"> &lt;&lt;button "Rentrer à la maison" FBRO-2-3-0 before:home>> &lt;&lt;/button>> &lt;/div> &lt;&lt;/if>> &lt;/div> &lt;&lt;unshow2 s2 s3-1 s3-2 s4 s4-1 s5 e1 c1>></tw-passagedata><tw-passagedata name=SCHOOL-2-0-3 position=7511,8065 size=100,100 tags=""pid=19>&lt;&lt;set _pornI = 'data/bf/p/0.webm'>> &lt;&lt;set _pornNI = 'data/bf/p/fni0.webm'>> &lt;&lt;run setup.setQuest("bfQ1", "step", 3)>> &lt;div id="s1"> &lt;&lt;a>> En rentrant dans la chambre, tu entends tout de suite les gémissements habituels du porno qui tourne en fond. Les lumières sont éteintes, et la pièce n'est éclairée que par les pixels de l'écran qui donnent une ambiance tamisée. &lt;&lt;/a>> &lt;&lt;t>> Putain il passe sa vie devant du porno... &lt;&lt;/t>> &lt;&lt;a>> Mais tu remarques vite que quelque chose a changé par rapport à d'habitude... &lt;&lt;/a>> &lt;&lt;t>> Il l'a mis directement sur l'écran de télévision ?! &lt;&lt;/t>> &lt;&lt;a>> Effectivement, sur sa grande télévision, tu peux voir une belle brune très fine se faire taper le cul par un chibre surdimensionné. &lt;&lt;/a>> &lt;&lt;d bf>> On... On regarde un porno ? J'en ai plusieurs nouveaux que je veux te montrer ! &lt;&lt;/d>> &lt;&lt;d mc>> On est pas censé jouer ? &lt;&lt;/d>> &lt;&lt;d bf>> J'ai... pas trop envie de jouer aujourd'hui... On peut juste se mettre à l'aise devant la télé. &lt;&lt;/d>> &lt;&lt;a>> Sa dernière phrase a été dite avec beaucoup (trop) d'enthousiasme. Il a clairement envie de partager sa passion avec toi. &lt;&lt;/a>> &lt;&lt;t>> C'est vraiment normal de se matter des pornos comme ça entre potes ? &lt;&lt;/t>> &lt;&lt;a>> Avant que tu n'aies le temps de réfléchir à la réponse, $namebf te pousse dans le canapé et s'installe avec toi. &lt;&lt;/a>> &lt;&lt;qbutton "Continuer" out:s1 in:video in:s2>> &lt;/div> &lt;div id="video"> &lt;&lt;tv _pornI 100>> &lt;/div> &lt;div id="s2"> &lt;&lt;a>> Tu peux voir sur son grand écran 4K le genre de porno auquel il a l'air habitué. Un grand black qui tamponne une petite blanche. &lt;&lt;/a>> &lt;&lt;d bf>> C-ce porno te plait ? &lt;&lt;/d>> &lt;&lt;t>> Est-ce que j'ai vraiment envie de regarder ça en groupe ? &lt;&lt;/t>> &lt;div class="choices"> &lt;&lt;button "Si c'est ce que tu veux...">> &lt;&lt;dunshow s1 s2>> &lt;&lt;dshow s2-1>> &lt;&lt;blacked 8>> &lt;&lt;feedbackMemory bf>> &lt;&lt;set $person.bf.pSoumis += 1>> &lt;&lt;run setup.setQuest("bfQ1", "pornoChoice", "black")>> &lt;&lt;run setup.setQuest("bfQ1", "pornoId", 1)>> &lt;&lt;/button>> &lt;&lt;button "Je t'ai déjà dit de changer">> &lt;&lt;dunshow s1 s2>> &lt;&lt;dshow s2-2>> &lt;&lt;domination 8>> &lt;&lt;feedbackMemory bf>> &lt;&lt;set $person.bf.pDominant += 1>> &lt;&lt;run setup.setQuest("bfQ1", "pornoChoice", "white")>> &lt;&lt;run setup.setQuest("bfQ1", "pornoId", 1)>> &lt;&lt;/button>> &lt;/div> &lt;/div> &lt;div id="s2-1"> &lt;&lt;d mc>> Si ça te plaît, c'est OK pour moi... Mais c'est pas un peu bizarre de regarder ce genre de porno tous les deux ? Je veux dire... Tu sais... Les couleurs. &lt;&lt;/d>> &lt;&lt;a>> $namebf sourit en répondant. &lt;&lt;/a>> &lt;&lt;d bf>> Je trouve ça... différent. :) Tu verras, tu vas t'y habituer. &lt;&lt;/d>> &lt;&lt;t>> M'y habituer ? &lt;&lt;/t>> &lt;div class="choices"> &lt;&lt;button "Continuer">> &lt;&lt;dunshow s2-1>> &lt;&lt;dshow s3>> &lt;&lt;excitation 25>> &lt;&lt;/button>> &lt;/div> &lt;/div> &lt;div id="s2-2"> &lt;&lt;d mc>> Mais arrête avec ça putain, je t'ai déjà dit que j'aimais pas ce type de porno alors change ! Je vais pas te le dire à chaque fois... &lt;&lt;/d>> &lt;&lt;a>> Ta réponse était plus violente que tu ne le voulais, et tu vois tout de suite $namebf avoir un bref mouvement de recul. &lt;&lt;/a>> &lt;&lt;d bf>> T-t'énerve pas. C'est toi qui décides, on fait comme tu veux... &lt;&lt;/d>> &lt;&lt;a>> D'un geste hésitant, il prend la télécommande pour changer de vidéo. &lt;&lt;/a>> &lt;div class="choices"> &lt;&lt;button "Continuer">> &lt;&lt;dunshow video s2 s2-2>> &lt;&lt;replace #video>> &lt;&lt;tv _pornNI 100>> &lt;&lt;/replace>> &lt;&lt;dshow video s2-2-2>> &lt;&lt;/button>> &lt;/div> &lt;/div> &lt;div id="s2-2-2"> &lt;&lt;a>> L'écran de télévision switch tout de suite, et le grand black est remplacé par un blanc, tout aussi grand. &lt;&lt;/a>> &lt;&lt;d bf>> C'est mieux comme ça ? &lt;&lt;/d>> &lt;&lt;d mc>> Beaucoup mieux je te remercie... &lt;&lt;/d>> &lt;&lt;a>> Tu te mets à l'aise pour mieux apprécier la vue de ce fabuleux gros cul. &lt;&lt;/a>> &lt;div class="choices"> &lt;&lt;button "Parfait">> &lt;&lt;dunshow s2-2-2>> &lt;&lt;dshow s3>> &lt;&lt;excitation 25>> &lt;&lt;/button>> &lt;/div> &lt;/div> &lt;div id="s3"> &lt;&lt;a>> Rapidement, tu sens ton excitation monter. Tu as maintenant pris l'habitude de regarder du porno avec $namebf, et tu profites de plus en plus de se présence et de ses commentaires. &lt;&lt;/a>> &lt;&lt;if setup.getQuest("bfQ1", "pornoChoice") == "black">> &lt;&lt;d bf>> Putain matte moi cette paire de seins, elle se fait bien défoncer cette grosse pute blanche. &lt;&lt;/d>> &lt;&lt;else>> &lt;&lt;d bf>> Putain matte ce gros cul, il est magnifique. Elle sait comment le faire rebondir cette grosse pute. &lt;&lt;/d>> &lt;&lt;/if>> &lt;&lt;a>> Entendre ce cul qui claque te fait immédiatement bander. &lt;&lt;/a>> &lt;&lt;qbutton "Wo..." out:s3 in:s3-2>> &lt;/div> &lt;div id="s3-2"> &lt;&lt;d bf>> Wo... &lt;&lt;/d>> &lt;&lt;a>> Tu te tournes vers $namebf, surpris. Il a les yeux rivés sur ton jean, avec sur le visage, une expression que tu ne connaissais pas... &lt;&lt;/a>> &lt;&lt;if setup.getPlayerSexSizeValue() > 2>> &lt;&lt;d bf>> T'as... T'as l'air bien... bien équipé... &lt;&lt;/d>> &lt;&lt;a>> Tu comprends rapidement sa remarque. A travers ton jean apparait clairement les formes de ta &lt;&lt;playerSexSize>> queue bien dure. On l'imagine aisément à l'étroit, et $namebf semble impressionné... &lt;&lt;/a>> &lt;&lt;else>> &lt;&lt;d bf>> T'as... T'as l'air d'aimer ce que tu vois... &lt;&lt;/d>> &lt;&lt;a>> Tu comprends rapidement sa remarque. A travers ton jean apparait les formes de ta queue bien dure. &lt;&lt;/a>> &lt;&lt;/if>> &lt;&lt;qbutton "Continuer" out:s3-2 in:s4>> &lt;/div> &lt;div id="s4"> &lt;&lt;d bf>> E-enlève ton jean si tu veux, tu seras plus à l'aise... &lt;&lt;/d>> &lt;&lt;d mc>> Tu veux qu'on se mette à poils ? &lt;&lt;/d>> &lt;&lt;d bf>> Non pas à poils, juste qu'on se mette un peu plus à l'aise... T'en as pas envie ? &lt;&lt;/d>> &lt;&lt;a>> L'envie ! C'est le mot pour décrire cette expression nouvelle sur le visage de $namebf. &lt;&lt;/a>> &lt;&lt;t>> Il veut que je lui montre ma queue ou quoi ? &lt;&lt;/t>> &lt;&lt;qbutton "Je ne suis pas gay..." out:s4 in:s5>> &lt;/div> &lt;div id="s5"> &lt;&lt;d mc>> Tu sais, j'ai... j'ai une copine. Je ne suis pas gay. &lt;&lt;/d>> &lt;&lt;a>> Tu vois l'indignation monter dans la voix de $namebf. Une indignation presque excessive. &lt;&lt;/a>> &lt;&lt;d bf>> Ah mais moi non plus, qu'est-ce que tu crois ? Je suis 100% hétéro. C'est normal de faire ça entre bons potes. C'est juste... excitant, je trouve. &lt;&lt;/d>> &lt;&lt;a>> Il n'a pas tort sur ce point: cette situation t'excite. Et ce n'est pas ta queue qui dira le contraire. Tu la sens bien serrée dans ton caleçon, et tu n'as envie que d'une chose, c'est la sortir pour te soulager. Mais la proposition te gêne un peu, tu n'as jamais montré ta queue à personne, en dehors peut-être de $namegf, et de $namess, par erreur. &lt;&lt;/a>> &lt;&lt;qbutton "Continuer" out:s5 in:s6>> &lt;/div> &lt;div id="s6"> &lt;&lt;a>> Prenant ton silence pour un refus, $namebf reprend. &lt;&lt;/a>> &lt;&lt;d bf>> Comme tu veux. Moi je vais me mettre à l'aise. Tu regardes pas hein ? &lt;&lt;/d>> &lt;&lt;t>> Quoi ? &lt;&lt;/t>> &lt;&lt;qbutton "Continuer" out:s6 in:s7>> &lt;/div> &lt;div id="s7"> &lt;&lt;a>> Sans attendre, tu vois $namebf retirer son jean. Tu tournes vite ton visage vers l'écran. De nouveau, les belles blondes, brunes ou rousses se faisant baiser envahissent ton esprit. &lt;&lt;/a>> &lt;&lt;a>> Du coin de l'oeil, tu ne peux pas t'empêcher de distinguer les jambes de $namebf. Elles sont à peine visibles, éclairées seulement par la lumière de l'écran de télévision. Tu n'avais jamais fait attention à ça, mais $namebf a un corps très efféminé, et tu n'es pas vraiment surpris de noter qu'il est imberbe sur toute la longueur de ses jambes. &lt;&lt;/a>> &lt;&lt;a>> Tu te demandes si il est aussi imberbe sur le reste du corps quand, soudainement, il fait un autre mouvement... &lt;&lt;/a>> &lt;&lt;qbutton "Continuer" out:s7 in:s8>> &lt;/div> &lt;div id="s8"> &lt;&lt;t>> Il retire son caleçon aussi ?! &lt;&lt;/t>> &lt;&lt;a>> Tu vois son caleçon glisser lentement le long de ses jambes avant de tomber par terre avec un petit bruit de tissu.. $namebf est maintenant à côté de toi, les fesses nues sur le canapé, la queue libre, en train de se caresser doucement devant le porno. &lt;&lt;/a>> &lt;&lt;a>> Tu ne sais pas pourquoi, mais tu te demandes à cet instant combien de fois $namebf a pu se branler comme ça à la place où tu es assis. Tu trouves cette pensée troublante... &lt;&lt;/a>> /* Il sort sa bite => elle est minuscule Tu sors ta bite - Il la trouve mignonne si elle est petite - Il la trouve magnifique si elle est fat Il pose mine de rien sa main sur ta cuisse, tu es paralysé et tu le laisses faire. Tu sens sa main bouger et te caresser. */ &lt;div class="choices"> &lt;&lt;button "Continuer">> &lt;&lt;dunshow s8>> &lt;&lt;dshow s9>> &lt;&lt;excitation 25>> &lt;&lt;/button>> &lt;/div> &lt;/div> &lt;div id="s9"> &lt;&lt;a>> Vous passez le reste de l'après midi à regarder un tas de salope se faire baiser. Tu essaies de rester concentré sur l'écran, mais parfois tu te tournes vers $namebf pour lui parler et, sans le vouloir, tu manques plusieurs fois de t'attarder sur son entrejambe. Lui est calme, visiblement content d'avoir la queue sortie pour se caresser à côté de toi. &lt;&lt;/a>> &lt;&lt;a>> La nuit tombant, tu décides de rentrer chez toi. Avant de partir, $namebf te demande de ramener le rouleau de papier toilette à côté de ton PC. &lt;&lt;/a>> &lt;&lt;d bf>> C'est... C'était cool. Reviens quand tu veux. :) &lt;&lt;/d>> &lt;&lt;a>> $namebf te fait un dernier sourire amical avant de partir. &lt;&lt;/a>> &lt;&lt;if setup.isWeekend()>> &lt;div class="choices"> &lt;&lt;button "Retourner en ville" SCHOOL-1-3-4 before:city>> &lt;&lt;/button>> &lt;/div> &lt;&lt;else>> &lt;div class="choices"> &lt;&lt;button "Rentrer à la maison" FBRO-2-3-0 before:home>> &lt;&lt;/button>> &lt;/div> &lt;&lt;/if>> &lt;/div> &lt;&lt;unshow2 s2 s2-1 s2-2 s2-2-2 s3 s3-2 s4 s5 s6 s7 s8 s9>> &lt;&lt;unshow2 video idea>> /* Je veux faire ressentir la gentillesse de Théo, je veux que le joueur se sente bien, en confiance, et complètement supérieur à Théo. */ /* * Scène théo => * Scène proposition * Scène branlette * Scène proposition de sucer * Choix 1 : refuser * Choix 2 : accepter * Choix 3 : accepter, mais lui dire de sa cacher sous une couverture * Scène fellation, avec à la fin choix de jouissance + honteux à la fin dans les 3 premières fois * Choix 1 : le maintenir pour le forcer à avaler (whited +++) => tu sens qu'il se débat et qu'il veut se retirer => Choix 1 : le maintenir plus fermement Choix 2 : le laisser respirer * Choix 2 : le laisser faire comme il le désire (blacked +++) * Scène post-jouissance: il est encore plein de sperme sur lui * Choix 1 : tu l'embrasses à pleine bouche (blacked++) * Tu sens des gouts nouveaux mais tu préfères ne pas y penser. * Choix 2 : tu lui fais avaler ce qu'il reste (whited++) * Choix 3 : ne rien faire * => scène discussion post ça => il dit qu'il est surpris que tu sois si dominant/soumis. Il te dir qu'il est bien avec toi. Tu sens qu'il hésite à te dire quelque chose mais qu'il ne le fait pas * Scène révélation sissy * Scène rencontre soeur qui demande à Théo de venir */</tw-passagedata><tw-passagedata name=INDEX-2-5-3 position=136,5179 size=100,100 tags=""pid=20>&lt;&lt;run setup.setQuest("bfQ1", "step", 4)>> &lt;&lt;set _videoId = setup.getQuest("bfQ1", "pornoId")>> &lt;&lt;run setup.setQuest("bfQ1", "pornoId", setup.getQuest("bfQ1", "pornoId") + 1)>> &lt;&lt;if setup.getQuest("bfQ1", "pornoChoice") == "black">> &lt;&lt;set _porn = 'data/bf/p/1.webm'>> &lt;&lt;else>> &lt;&lt;set _porn = 'data/bf/p/fni1.webm'>> &lt;&lt;/if>> &lt;div id="video"> &lt;&lt;tv _porn 100>> &lt;/div> &lt;div id="s1"> &lt;&lt;d bf>> Je t'attendais ! Viens on va s'installer, tout est déjà prêt. &lt;&lt;/d>> &lt;&lt;t>> Il ne perd pas de temps... &lt;&lt;/t>> &lt;&lt;a>> $namebf a l'air tout excité à l'idée de passer un nouvel après midi avec toi. Il faut bien l'admettre, tu apprécies aussi beaucoup ces moments passés avec $namebf. Sa présence est amicale, et il semble vraiment heureux de te voir. &lt;&lt;/a>> &lt;&lt;a>> Tu t'installes devant le téléviseur. Rapidement, $namebf enlève de nouveau son jean, son caleçon et glisse une main entre ses cuisses. &lt;&lt;/a>> &lt;&lt;t>> Je suppose qu'il va faire ça à chaque fois. &lt;&lt;/t>> &lt;&lt;a>> Tu te laisses à ton tour aller à l'ambiance. L'excitation monte doucement en toi. &lt;&lt;/a>> &lt;div class="choices"> &lt;&lt;button "Continuer">> &lt;&lt;dunshow s1>> &lt;&lt;dshow s2>> &lt;&lt;excitation 25>> &lt;&lt;/button>> &lt;/div> &lt;/div> &lt;div id="s2"> &lt;&lt;if setup.getQuest("bfQ1", "pornoChoice") == "black">> &lt;&lt;d bf>> Mmmmh, j'adore ça, entendre ces petites putes blanches couiner. Elles aiment ça se faire baiser... se faire baiser par de bonnes grosses queues de black... &lt;&lt;/d>> &lt;&lt;t>> Une bonne grosse queue de black ? C'est ça qui l'excite ? &lt;&lt;/t>> &lt;&lt;a>> Tu regardes plus attentivement la vidéo. Tu vois la petite chatte rose et trempée de la fille se faire prendre par un énorme chibre noir. &lt;&lt;/a>> &lt;&lt;t>> C'est vrai que le contraste est... particulier. &lt;&lt;/t>> &lt;&lt;else>> &lt;&lt;d bf>> Mmmmh, j'adore ça, entendre ces petites putes blanches couiner. Regarder moi ce cul bien rond se faire sauter... se faire sauter par de bonnes grosses queues... &lt;&lt;/d>> &lt;&lt;a>> Tu regardes plus attentivement la vidéo. Tu vois la petite chatte rose et trempée de la fille se faire bien écarter. &lt;&lt;/a>> &lt;&lt;/if>> &lt;&lt;a>> $namebf se met à se branler un peu plus rapidement. Tu l'entends même gémir tout doucement... &lt;&lt;/a>> &lt;div class="choices"> &lt;&lt;button "Jeter un coup d'oeil à $namebf">> &lt;&lt;dunshow s2>> &lt;&lt;dshow focus-gfdick-1>> &lt;&lt;set $person.bf.pHomo += 1>> &lt;&lt;feedback "generic" "BFHomoPlus">> &lt;&lt;/button>> &lt;&lt;button "Rester concentré sur le porno">> &lt;&lt;dunshow s2>> &lt;&lt;dshow focus-porn>> &lt;&lt;set $person.bf.pHetero += 1>> &lt;&lt;feedback "generic" "BFHeteroPlus">> &lt;&lt;/button>> &lt;/div> &lt;/div> &lt;div id="focus-gfdick-1"> &lt;&lt;a>> Tu te tournes vers $namebf. Il semble plus absorbé que jamais par le porno. Poussé par l'excitation et la curiosité, tu descends machinalement ton regard jusqu'à son entrejambe... &lt;&lt;/a>> &lt;&lt;a>> A ta grande surprise, tu ne vois rien ! Sa queue est entièrement recouverte par sa main qui frotte sa queue. &lt;&lt;/a>> &lt;&lt;t>> Il ne bande pas ?! &lt;&lt;/t>> &lt;&lt;a>> Sa résistance t'étonne. Tu sens ta propre queue à l'étroit dans ton ton pantalon. Mais soudainement, tu sens son regard sur toi. &lt;&lt;/a>> &lt;&lt;t>> Merde ! Il m'a capté ! &lt;&lt;/t>> &lt;&lt;a>> $namebf t'a capté en train de matter sa queue. Il ne dit rien. Tu paniques un peu, et cherche un mot pour briser ce silence gênant. &lt;&lt;/a>> &lt;&lt;d mc>> Tu... Tu ne bandes pas ? &lt;&lt;/d>> &lt;&lt;qbutton "..." out:focus-gfdick-1 in:focus-gfdick-2>> &lt;/div> &lt;div id="focus-gfdick-2"> &lt;&lt;a>> Malgré la pénombre, tu sens $namebf rougir instantanément. Il baisse un peu la tête, comme honteux, et te répond avec une voix à peine audible. &lt;&lt;/a>> &lt;&lt;d bf>> Si... &lt;&lt;/d>> &lt;&lt;t>> Hein ? &lt;&lt;/t>> &lt;&lt;d bf>> Je... Je bande à fond. &lt;&lt;/d>> &lt;&lt;a>> Reprenant son courage, comme s'il venait de se convaincre qu'il avait assez confiance en toi pour s'ouvrir, il découvre sa main et écarte les cuisses pour mieux s'exposer à ton regard... &lt;&lt;/a>> &lt;&lt;qbutton "Oh my..." out:video out:focus-gfdick-2 in:focus-gfdick-3>> &lt;/div> &lt;div id="focus-gfdick-3"> &lt;&lt;image data/bf/s2/1.jpg 50>> &lt;&lt;t>> Sa queue est minuscule ! &lt;&lt;/t>> &lt;&lt;a>> Effectivement, sa queue est toute petite, et à vue d'oeil elle ne dépasse pas les 10 centimètres ! &lt;&lt;/a>> &lt;&lt;a>> Mais ce qui est certain, c'est qu'il bande. Non seulement il bande, mais il a l'air de bander très dur. Malgré sa taille modeste, sa queue est fièrement dressée et bien droite. Il est clairement très excité. Et tes yeux posés sur sa queue semble étrangement accroitre son excitation... &lt;&lt;/a>> &lt;&lt;a>> Malgré les apprences, tu sens une certaine gêne chez $namebf. Tu mesures la confiance qu'il t'accorde et l'effort qu'il a du faire pour s'ouvrir à toi de cette façon... Tu peux voir dans ses yeux qu'il attend avec un peu d'angoisse une réaction de ta part... &lt;&lt;/a>> &lt;div class="choices"> &lt;&lt;button "Le complimenter">> &lt;&lt;dunshow focus-gfdick-3>> &lt;&lt;dshow dick-compliment>> &lt;&lt;blacked 5>> &lt;&lt;set $person.bf.pSoumis += 1>> &lt;&lt;feedbackMemory bf>> &lt;&lt;/button>> &lt;&lt;button "Le taquiner">> &lt;&lt;dunshow focus-gfdick-3>> &lt;&lt;dshow dick-moquerie>> &lt;&lt;domination 5>> &lt;&lt;set $person.bf.pDominant += 1>> &lt;&lt;feedbackMemory bf>> &lt;&lt;/button>> &lt;/div> /* 1. Le complimenter 2. Le rabaisser Ensuite, dans la journée suivante: Tu peux lui montrer ta queue en retour * Fièrement (whited++) * Honteusement (blacked++) */ &lt;/div> &lt;div id="dick-compliment"> &lt;&lt;d mc>> T'as... T'as une jolie queue... &lt;&lt;/d>> &lt;&lt;a>> Ce commentaire sonne un peu étrange... Tu n'as pas l'habitude de complimenter la queue de tes potes, mais ça semble faire son effet et $namebf reprend un peu confiance en lui. &lt;&lt;/a>> &lt;&lt;d bf>> T-tu trouves vraiment ? Je la trouve un peu petite... &lt;&lt;/d>> &lt;&lt;a>> Petite est un euphémisme. Surtout si on la compare aux queues démesurées des vidéos que vous regardez. Tu préfères le rassurer. &lt;&lt;/a>> &lt;&lt;d mc>> Tu sais, tout ce qui est petit est mignon. :) &lt;&lt;/d>> &lt;&lt;if setup.getPlayerSexSizeValue() > 2>> &lt;&lt;d bf>> C'est... C'est la tienne qui a l'air mignonne. &lt;&lt;/d>> &lt;&lt;/if>> &lt;&lt;a>> $namebf a de nouveau les yeux rivés sur ta &lt;&lt;playerSexSize>> bite. &lt;&lt;/a>> &lt;&lt;d bf>> Maintenant que tu as vu la mienne, tu peux aussi... &lt;&lt;/d>> &lt;&lt;t>> Pourquoi il insiste tellement pour voir ma queue ? &lt;&lt;/t>> &lt;&lt;qbutton "Continuer" out:dick-compliment in:s3>> &lt;/div> &lt;div id="dick-moquerie"> &lt;&lt;d mc>> Joli clito. &lt;&lt;/d>> &lt;&lt;a>> Tu peux voir $namebf se décomposer en direct. Il se met à bégayer. &lt;&lt;/a>> &lt;&lt;d bf>> Hein ??? Je.. C'est vrai que... Mais.. &lt;&lt;/d>> &lt;&lt;a>> Tu exploses de rire. &lt;&lt;/a>> &lt;&lt;d mc>> Je plaisante. On a tous une queue différente. &lt;&lt;/d>> &lt;&lt;d bf>> Non, je... je sais qu'elle est un peu petite. &lt;&lt;/d>> &lt;&lt;a>> Tu vois ses yeux glisser à son tour vers ton entrejambe. $namebf a de nouveau les yeux rivés sur ta &lt;&lt;playerSexSize>> bite. &lt;&lt;/a>> &lt;&lt;qbutton "Continuer" out:dick-moquerie in:s3>> &lt;/div> &lt;div id="focus-porn"> &lt;&lt;a>> Tu te reconcentres sur la télévision. Voir les filles des vidéos t'intéresse beaucoup plus que la queue de $namebf. Tu es d'accord pour matter du porno avec lui, mais tu ne vas quand même pas lui matter la teub ! Tu n'as pas envie que la situation aille trop loin. &lt;&lt;/a>> &lt;&lt;a>> Lui par contre n'a pas l'air de se gêner. Tu le surprends de nouveau les yeux rivés sur ton entrejambe. &lt;&lt;/a>> &lt;&lt;if setup.getPlayerSexSizeValue() > 2>> &lt;&lt;a>> Il faut dire que c'est difficile de ne pas être attiré par ça. Ta &lt;&lt;playerSexSize>> queue bien dure forme une bosse plutôt voyante sous ton jean. &lt;&lt;/a>> &lt;&lt;/if>> &lt;&lt;qbutton "Continuer" out:focus-porn in:s3>> &lt;/div> &lt;div id="s3"> &lt;&lt;d bf>> Tu devrais... tu sais... te mettre à l'aise aussi. &lt;&lt;/d>> &lt;&lt;a>> Ce n'est pas l'envie qui te manque, mais tu ne te sens pas encore tout à fait à l'aise avec cette idée. &lt;&lt;/a>> &lt;&lt;t>> Qu'en penserait $namegf ? &lt;&lt;/t>> &lt;&lt;d mc>> Je... On verra une autre fois. &lt;&lt;/d>> &lt;&lt;d bf>> Comme tu veux $namemc, je respecte tes choix. &lt;&lt;/d>> &lt;&lt;a>> Tu te laisses malgré tout aller, et tu n'hésites pas à frotter ton chibre à travers le jean. Ca fait du bien... &lt;&lt;/a>> &lt;div class="choices"> &lt;&lt;button "Passer l'après midi devant le porno">> &lt;&lt;dunshow s3>> &lt;&lt;dshow s4>> &lt;&lt;excitation 25>> &lt;&lt;/button>> &lt;/div> &lt;/div> &lt;div id="s4"> &lt;&lt;a>> Vous continuez à regarder les pornos. Alors qu'une milf à gros seins se faire prendre en levrette sur l'écran, $namebf se lève pour aller chercher le PQ. Quelques minutes plus tard, tu l'entends se lâcher dedans. &lt;&lt;/a>> &lt;&lt;d mc>> Bon, je dois y aller gros, je veux pas être en retard pour la bouffe. &lt;&lt;/d>> &lt;&lt;a>> $namebf te tend la main pour te dire au revoir. &lt;&lt;/a>> &lt;div class="choices"> &lt;&lt;button "Lui mettre un vent">> &lt;&lt;dunshow s4>> &lt;&lt;dshow end-no end>> &lt;&lt;set $person.bf.pHetero += 1>> &lt;&lt;feedback "generic" "BFHeteroPlus">> &lt;&lt;/button>> &lt;&lt;button "Lui serrer la main">> &lt;&lt;dunshow s4>> &lt;&lt;dshow end-yes end>> &lt;&lt;set $person.bf.pHomo += 1>> &lt;&lt;feedback "generic" "BFHomoPlus">> &lt;&lt;/button>> &lt;/div> &lt;/div> &lt;div id="end-yes"> &lt;&lt;t>> Au point où on en est... &lt;&lt;/t>> &lt;&lt;a>> Tu lui serres la main. Alors que tu sens sa main contre la tienne, tu essaies de ne pas penser au fait qu'il vient juste de terminer de se branler... &lt;&lt;/a>> &lt;&lt;a>> $namebf te fait un sourire en te serrant la main, avant que tu ne quittes sa chambre. &lt;&lt;/a>> &lt;/div> &lt;div id="end-no"> &lt;&lt;a>> Tu regardes $namebf la main tendue sans bouger. &lt;&lt;/a>> &lt;&lt;d mc>> Heu... Tu viens de te branler poto... &lt;&lt;/d>> &lt;&lt;d bf>> Oh. Je comprends. &lt;&lt;/d>> &lt;&lt;a>> $namebf retire sa main, tu lui fais un salut de loin et tu quittes sa chambre. &lt;&lt;/a>> &lt;/div> &lt;div id="end"> &lt;&lt;if setup.isWeekend()>> &lt;div class="choices"> &lt;&lt;button "Retourner en ville" SCHOOL-1-3-4 before:city>> &lt;&lt;/button>> &lt;/div> &lt;&lt;else>> &lt;div class="choices"> &lt;&lt;button "Rentrer à la maison" FBRO-2-3-0 before:home>> &lt;&lt;/button>> &lt;/div> &lt;&lt;/if>> &lt;/div> &lt;&lt;unshow2 s2 s3 s4 end-yes end-no end>> &lt;&lt;unshow2 focus-gfdick-1 focus-gfdick-2 focus-gfdick-3>> &lt;&lt;unshow2 focus-porn>> &lt;&lt;unshow2 dick-compliment dick-moquerie>></tw-passagedata><tw-passagedata name=VRT-0-3-1 position=6555,541 size=100,100 tags=""pid=21>&lt;&lt;excitation 25>> &lt;&lt;run setup.setQuest("bfQ1", "step", 5)>> &lt;&lt;run setup.setQuest("bfQ1", "pornoId", 2)>> &lt;&lt;if setup.getQuest("bfQ1", "pornoChoice") == "black">> &lt;&lt;set _porn = 'data/bf/p/2.webm'>> &lt;&lt;else>> &lt;&lt;set _porn = 'data/bf/p/fni2.webm'>> &lt;&lt;/if>> &lt;div id="video"> &lt;&lt;tv _porn>> &lt;/div> &lt;div id="s1"> &lt;&lt;d bf>> Cool de te revoir ! Viens on va s'installer poto ! &lt;&lt;/d>> &lt;&lt;a>> Outre la chaleur habituelle dans l'attitude de $namebf, tu remarques aussi qu'il fait particulièrement chaud dans la pièce. Tu ne sais pas si $namebf a oublié d'enlever le chauffage, ou si c'est le soleil qui tape un peu fort sur la toiture, mais la chaleur est intense. &lt;&lt;/a>> &lt;&lt;a>> $namebf a déjà tout prévu. Le porno est déjà lancé et les images défilent sur l'écran. Tu t'installes confortablement dans le canapé, et lentement, l'excitation commence à monter &lt;&lt;/a>> &lt;&lt;if setup.getQuest("bfQ1", "pornoChoice") == "black">> &lt;&lt;a>> Tu apprécies de plus en plus ce type de porno. Le contraste entre la peau pâle d'une petite blanche et le sombre de la queue d'un noir donne un style particulier qui ne te laisse pas indifférent. &lt;&lt;/a>> &lt;&lt;t>> Comment il disait déjà ? Les grosses queues noires ? &lt;&lt;/t>> &lt;&lt;/if>> &lt;&lt;a>> Tu peux sentir régulièrement le regard de $namebf sur toi. Il te jette des coups d'oeils réguliers, parfois vers ton entrejambe. Il doit encore chercher le relief de ta queue bien dure sous ton jean. Si c'est le cas, il a du rapidement le trouver. &lt;&lt;/a>> &lt;&lt;a>> Tu ne sais pas si c'est l'excitation ou la chaleur, mais tu bandes déjà bien. L'ambiance est particulièrement... excitante. &lt;&lt;/a>> &lt;&lt;t>> Peut-être que je devrai... &lt;&lt;/t>> &lt;&lt;qbutton "Me mettre à l'aise ?" out:s1 in:s2>> &lt;/div> &lt;div id="s2"> &lt;&lt;d mc>> Il... Il fait chaud non ? &lt;&lt;/d>> &lt;&lt;d bf>> Il fait toujours chaud quand on regarde du porno. :) &lt;&lt;/d>> &lt;&lt;d mc>> Ca... Ca te dérange si j'enlève mon bas ? &lt;&lt;/d>> &lt;&lt;a>> $namebf a un petit temps d'étonnement, avant de te faire un grand sourire. &lt;&lt;/a>> &lt;&lt;d bf>> Non non, fais comme chez toi. &lt;&lt;/d>> &lt;&lt;a>> Avec un grand soulagement, tu retires ton pantalon et tu enchaînes rapidement avec le caleçon. C'est une sensation étrange de se déshabiller devant un pote mais tu essaies de ne pas y penser. L'important, c'est la grande délivrance que tu ressens quand ta &lt;&lt;playerSexSize>> queue sort enfin de ton caleçon pour se dresser à l'air libre. &lt;&lt;/a>> &lt;&lt;qbutton "Continuer" out:video out:s2 in:s3>> &lt;/div> &lt;div id="s3"> &lt;&lt;a>> C'est fait. Tu vois maintenant entre tes jambes ta queue dressée. &lt;&lt;/a>> &lt;&lt;if setup.getPlayerSexSizeValue() &lt; 2>> &lt;&lt;image data/bf/s2/20.jpg 50>> &lt;&lt;elseif setup.getPlayerSexSizeValue() > 2>> &lt;&lt;image data/bf/s2/22.jpg>> &lt;&lt;else>> &lt;&lt;image data/bf/s2/21.jpg 50>> &lt;&lt;/if>> &lt;&lt;t>> Oh putain, ca libère... J'aurais du le faire depuis longtemps. &lt;&lt;/t>> &lt;&lt;a>> $namebf a les yeux scotchés sur ta queue libérée. Dans son regard, tu peux presque remarquer... de l'envie ? Par reflexe tu refermes les jambes. $namebf le remarque, et essaie de te rassurer avec une blague. Une blague pas forcément bien choisie. &lt;&lt;/a>> &lt;&lt;d bf>> T'inquiète pas $namemc, je vais pas te la manger lol. Tu le sais, que t'as pas besoin d'être timide avec moi... &lt;&lt;/d>> &lt;div class="choices"> &lt;&lt;button "La montrer fièrement">> &lt;&lt;dunshow s3>> &lt;&lt;dshow video proud s4>> &lt;&lt;whited 5>> &lt;&lt;/button>> &lt;&lt;button "Gêné, tu gardes les jambes fermées">> &lt;&lt;dunshow s3>> &lt;&lt;dshow video shame s4>> &lt;&lt;humiliation 5>> &lt;&lt;/button>> &lt;/div> &lt;/div> &lt;div id="proud"> &lt;&lt;t>> Il a raison... Et je ne vois pas pourquoi je devrais avoir honte de ma queue ! &lt;&lt;/t>> &lt;&lt;a>> Tu ouvres en grand les cuisses pour qu'il puisse admirer ton entrejambe. Tu te mets à rire, amusé par son regard et l'étrangeté de la situation. &lt;&lt;/a>> &lt;/div> &lt;div id="shame"> &lt;&lt;a>> Tu les gardes fermés, vraiment mal à l'aise à l'idée de dévoiler ton intimité. Mais évidemment, c'est compliqué de cacher une queue, et elle reste clairement visible. &lt;&lt;/a>> &lt;/div> &lt;div id="s4"> &lt;&lt;a>> $namebf pousse un cri d'exclamation. &lt;&lt;/a>> &lt;&lt;d bf>> Oh my... &lt;&lt;/d>> &lt;&lt;d mc>> Tout va bien $namebf ? &lt;&lt;/d>> &lt;&lt;a>> Il lève les yeux vers toi, un peu confus. &lt;&lt;/a>> &lt;&lt;d bf>> Oh, oui, oui, ça va bien... C'est juste que... Ta queue... &lt;&lt;/d>> &lt;&lt;qbutton "Quoi ma queue ?" out:proud out:shame out:s4 in:s5>> &lt;/div> &lt;div id="s5"> &lt;&lt;if setup.getPlayerSexSizeValue() > 2>> &lt;&lt;d bf>> Wow ! Elle est magnifique ! &lt;&lt;/d>> &lt;&lt;a>> Le compliment te flatte. &lt;&lt;/a>> &lt;&lt;d mc>> Tu trouves ? &lt;&lt;/d>> &lt;&lt;d bf>> Putain oui ! Je me disais bien que tu cachais un bel objet là dessous ! &lt;&lt;/d>> &lt;&lt;a>> C'est un peu étrange de recevoir un compliment sur sa queue, surtout de la part d'un pote. En tout cas, $namebf a l'air enjoué ! &lt;&lt;/a>> &lt;&lt;d bf>> Jamais j'aurais pensé que tu cachais une... queue... comme ça ! Je pensais que t'avais quelque chose plutôt du genre de... la mienne, tu vois ? &lt;&lt;/d>> &lt;&lt;a>> Il continue. &lt;&lt;/a>> &lt;&lt;d bf>> T'as vraiment une queue d'acteur porno ! $namegf arrive à encaisser ça ? &lt;&lt;/d>> &lt;&lt;elseif setup.getPlayerSexSizeValue() &lt; 2>> &lt;&lt;d bf>> Elle est trop mignonne ! &lt;&lt;/d>> &lt;&lt;d mc>> Oh. Tu trouves ? &lt;&lt;/d>> &lt;&lt;d bf>> Putain oui ! C'est vraiment génial !! Elle est... tu sais... Un peu... comme la mienne. Je trouve ça vraiment génial qu'on génial qu'on ait sa en commun ! On est un peu frère de queue... xD &lt;&lt;/d>> &lt;&lt;a>> $namebf est fou de joie. T'as l'impression qu'il va se jeter sur toi pour te faire un calin, mais il semble se retenir au dernier moment. &lt;&lt;/a>> &lt;&lt;t>> On partage quoi en commun ? &lt;&lt;/t>> &lt;&lt;d bf>> Elle plait à $namegf ? &lt;&lt;/d>> &lt;&lt;else>> &lt;&lt;d bf>> Elle est jolie. :) &lt;&lt;/d>> &lt;&lt;d mc>> Heu... Merci. &lt;&lt;/d>> &lt;&lt;d bf>> $namegf doit en être contente ! &lt;&lt;/d>> &lt;&lt;/if>> &lt;&lt;qbutton "Continuer" out:s5 in:s5-2>> &lt;/div> &lt;div id="s5-2"> &lt;&lt;a>> $namegf ! Tu n'y pensais plus... Tu te demandes ce qu'elle penserait de la situation. &lt;&lt;/a>> &lt;&lt;t>> Je ne suis pas obligé de tout lui dire... &lt;&lt;/t>> &lt;&lt;d mc>> Pas trop envie de parler de $namegf en ce moment... Aller, concentre toi sur le porno, on est pas là pour se reluquer... &lt;&lt;/d>> &lt;&lt;d bf>> T'as raison. Et heu... Te sens pas gêné si tu veux... Tu sais... Te branler. &lt;&lt;/d>> &lt;&lt;d mc>> Pourquoi tu crois que j'ai sorti ma queue ? &lt;&lt;/d>> &lt;div class="choices"> &lt;&lt;button "Te faire du bien">> &lt;&lt;dunshow s5-2>> &lt;&lt;dshow s6>> &lt;&lt;excitation 50>> &lt;&lt;/button>> &lt;/div> &lt;/div> &lt;div id="s6"> &lt;&lt;a>> $namebf te fait un clin d'oeil complice et se retourne vers le porno. Il a l'air vraiment excité par la situation. &lt;&lt;/a>> &lt;&lt;a>> Tu te concentres à ton tour sur le porno. Tu prends ta queue entre tes mains, et tu commences lentement à faire des va-et-vient. L'excitation monte, rapidement. Sur l'écran défilent les petites chattes trempées, les culs bombés et les paires qui se balancent au rythme des coups de queue. A tes oreilles arrivent la douce mélodie des complaintes des filles baisées. &lt;&lt;/a>> &lt;&lt;a>> Tu te laisses aller à l'excitation, de plus en plus. Et tu te branles de plus en plus vite. $namebf semble t'encourager avec des commentaires salaces. &lt;&lt;/a>> &lt;&lt;if setup.getQuest("bfQ1", "pornoChoice") == "black">> &lt;&lt;d bf>> Regarde cette bonne petite pute blonde... Elle t'excite pas ? Mmmmh elle se fait bien baiser comme une chienne. Vas-y branle bien cette grosse queue noire pendant que tu te fais défoncer. &lt;&lt;/d>> &lt;&lt;else>> &lt;&lt;d bf>> Matte cette bonne salope noire... Elle t'excite pas ? Mmmmh elle se fait bien baiser comme une chienne. Vas-y remue bien ton gros cul sur cette grosse queue. &lt;&lt;/d>> &lt;&lt;/if>> &lt;&lt;button "Te branler à fond">> &lt;&lt;dunshow s6>> &lt;&lt;dshow s7>> &lt;&lt;excitation -100>> &lt;&lt;pushevent bf 4>> &lt;&lt;/button>> &lt;/div> &lt;div id="s7"> &lt;&lt;set _ej = "data/mc/porn/" + setup.getPlayerSexSizeValue() + ".webm">> &lt;&lt;video _ej 30>> &lt;&lt;a>> La chaleur de la pièce, les commentaires de $namebf et les petites putes des vidéos se mélangent dans ton esprit. Tu sens ta sève monter, monter encore. Tu sens que tu es en train de venir. Tu fermes les yeux jusqu'au point de rupture... &lt;&lt;/a>> &lt;&lt;a>> BAM ! Tu exploses dans un râle que tu n'arrives pas à contenir. Tu sens les pulsations de ta &lt;&lt;playerSexSize>> queue en te vidant sur un bout de PQ. &lt;&lt;/a>> &lt;&lt;qbutton "Fu..." out:s7 in:s8>> &lt;/div> &lt;div id="s8"> &lt;&lt;a>> ... &lt;&lt;/a>> &lt;&lt;a>> Fu... Tu reprends ton souffle. L'orgasme était intense. Tu mets un peu de temps à reprendre tes esprits. &lt;&lt;/a>> &lt;&lt;a>> En rouvrant les yeux, tu vois $namebf qui te regarde, sa petite queue toujours entre ses doigts. &lt;&lt;/a>> &lt;&lt;t>> Il m'a regardé jouïr ou quoi ? &lt;&lt;/t>> &lt;&lt;a>> Tu t'en fous un peu au final, qu'il fasse ce qu'il veut si ça lui fait plaisir. Tu t'étires pour te remettre en forme, puis tu te lèves sans un mot pour te rhabiller. Tu salues $namebf avant de t'en aller... &lt;&lt;/a>> &lt;&lt;t>> Bon... Je ne sais pas comment j'en suis arrivé là, mais j'y suis... C'est étrange à dire, mais je peux dire qu'officiellement... $namebf est mon pote de branle. &lt;&lt;/t>> &lt;&lt;if setup.isWeekend()>> &lt;div class="choices"> &lt;&lt;button "Retourner en ville" SCHOOL-1-3-4 before:city>> &lt;&lt;/button>> &lt;/div> &lt;&lt;else>> &lt;div class="choices"> &lt;&lt;button "Rentrer à la maison" FBRO-2-3-0 before:home>> &lt;&lt;/button>> &lt;/div> &lt;&lt;/if>> &lt;/div> &lt;&lt;unshow2 shame proud>> &lt;&lt;unshow2 s2 s3 s4 s5 s5-2 s6 s7 s8>></tw-passagedata><tw-passagedata name=INDEX-2-8-3 position=6980,8449 size=100,100 tags=""pid=22>/* Remarque sur la petite amie => S'énerver => Imaginer la chose et dire que c'est impossible => De nouveau il regarde ta queue */ /* Scène en 3*2 phases => Il pose sa main sur ta cuisse et te caresse les couilles => Il te branle jusqu'à te faire jouir => Il te suce (domination ou soumission) */ /* Ambiance chaleur Tu enleves ton calecon Commentaire Possibilité de jouir ou pas Si jouissance > Theo te regarde avec des étoiles dans les yeux Scène suivante : 2 * base */ &lt;&lt;run setup.setQuest("bfQ1", "pornoId", setup.getQuest("bfQ1", "pornoId") + 1)>> &lt;&lt;set _pornId = setup.getQuest("bfQ1", "pornoId")>> &lt;&lt;set _porn = 'data/bf/p/' + _pornId + '.webm'>> /* Au bout de 3 fois sur cette scène, on va à la suivante */ &lt;&lt;if setup.getQuest("bfQ1", "pornoId") == 5>> &lt;&lt;run setup.setQuest("bfQ1", "step", 6)>> &lt;&lt;/if>> &lt;&lt;if setup.getQuest("bfQ1", "pornoChoice") == "black">> &lt;&lt;set _porn = 'data/bf/p/' + _pornId + '.webm'>> &lt;&lt;else>> &lt;&lt;set _porn = 'data/bf/p/fni' + _pornId + '.webm'>> &lt;&lt;/if>> &lt;div id="video"> &lt;&lt;tv _porn>> &lt;/div> &lt;div id="s1"> &lt;&lt;a>> Comme d'habitude, tout est déjà prêt quand tu arrives. Tu t'installes dans le canapé, tu te déshabilles, et tu te détends. Tu laisses le porno faire le reste. Tu laisses ton esprit se faire pénétrer par toutes ces images de filles baisées, par ces sons des culs qui claquent et des gémissements des filles. &lt;&lt;/a>> &lt;&lt;if setup.getQuest("bfQ1", "pornoChoice") == "black">> &lt;&lt;a>> Tu es maintenant habitué au porno que $namebf aime. Au porno interracial. Enfin... Interracial oui, mais tu as remarqué que c'était toujours dans le même sens. Une blanche, avec un grand black. &lt;&lt;/a>> &lt;&lt;/if>> &lt;&lt;a>> $namebf, lui, est comme toujours fasciné par l'écran. Tes oreilles sont vite bercées par les commentaires de $namebf, qui se font de plus en plus violents à mesure que l'excitation monte. &lt;&lt;/a>> &lt;&lt;if setup.getQuest("bfQ1", "pornoChoice") == "black">> &lt;&lt;if _pornId == 3>> &lt;&lt;d bf>> Elle encaisse bien la salope. Regarde moi comme elle tend bien son cul pour mieux se faire prendre par cette grosse bite de noir. &lt;&lt;/d>> &lt;&lt;elseif _pornId == 4>> &lt;&lt;d bf>> Encore une autre pute blanche qui s'offre comme ça... Regarde son expression du visage, elle est prête à souffrir pour se prendre une queue de black. &lt;&lt;/d>> &lt;&lt;else>> &lt;&lt;d bf>> Mmmmh, putain j'adore. Elle vient empaler son petit cul de blanche sur une bonne BBC... &lt;&lt;/d>> &lt;&lt;d mc>> BBC ? C'est quoi ? &lt;&lt;/d>> &lt;&lt;d bf>> Tu connais pas ?! Ca veut dire Big Black Cock... Tu devrais checker ça sur pornnhub ça devrait t'intéresser :) &lt;&lt;/d>> &lt;&lt;t>> Big black cock... &lt;&lt;/t>> &lt;&lt;/if>> &lt;&lt;else>> &lt;&lt;if _pornId == 3>> &lt;&lt;d bf>> Mmmmh... Elle se fait empaler comme une vraie pute. Et matte moi comme il prend son petit cul entre ses mains putain. &lt;&lt;/d>> &lt;&lt;elseif _pornId == 4>> &lt;&lt;d bf>> Cette paire de seins... Magnifiques. Elle se fait bien culbuter cette pute. &lt;&lt;/d>> &lt;&lt;else>> &lt;&lt;d bf>> Mmmmh... Bonne petite chienne qui se fait traiter comme elle aime. Vas-y aggrippe bien les cheveux de cette garce. &lt;&lt;/d>> &lt;&lt;/if>> &lt;&lt;/if>> &lt;div class="choices"> &lt;&lt;button "Te branler avec $namebf">> &lt;&lt;if _pornId != 5>> &lt;&lt;excitation -100>> &lt;&lt;dunshow s1>> &lt;&lt;dshow s2>> &lt;&lt;else>> &lt;&lt;dunshow s1>> &lt;&lt;dshow armoire>> &lt;&lt;/if>> &lt;&lt;/button>> &lt;/div> &lt;/div> &lt;div id="armoire"> &lt;&lt;a>> Tu regardes autour de toi pour trouver du PQ, mais il n'y a rien qui puisse te permettre de te soulager... Tu demandes à $namebf. &lt;&lt;/a>> &lt;&lt;d mc>> Tu as... du PQ ? &lt;&lt;/d>> &lt;&lt;a>> $namebf regarde sur le bureau de son PC pour constater qu'il n'y en a plus. Il te répond en t'indiquant un coin de la chambre. &lt;&lt;/a>> &lt;&lt;d bf>> Tu peux aller en prendre, il y en a dans l'armoire. &lt;&lt;/d>> &lt;&lt;qbutton "Aller chercher le PQ" out:video out:armoire in:armoire-2>> &lt;/div> &lt;div id="armoire-2"> &lt;&lt;a>> Tu te lèves et te diriges vers l'armoire. Tu sens son regard ne pas quitter une seconde ta queue bien tendue alors que tu passes devant lui. &lt;&lt;/a>> &lt;&lt;a>> Il y a deux armoires. Tu en ouvres une au hasard, et commence à chercher. Il y a plusieurs piles de vêtements, quelques jeux vidéos posés en vrac, et un carton fermé. Tu t'apprêtes à vérifier le contenu du carton quand soudain... &lt;&lt;/a>> &lt;&lt;d bf>> Non ! &lt;&lt;/d>> &lt;&lt;a>> Tu fais geste de recule. Il a dit "non" presque en criant, comme dans un moment de panique. $namebf reprend, avec un rire nerveux. &lt;&lt;/a>> &lt;&lt;d bf>> Non, pas cette armoire, l'autre. Le PQ est dans l'autre armoire. &lt;&lt;/d>> &lt;&lt;a>> Etonné de sa réaction, et te demandant pourquoi il s'est mis dans cet état, tu refermes la première armoire pour ouvrir la seconde. Effectivement, tu trouves une dizaine de rouleaux de PQ entassés. Tu en prends un au hasard et retourne sur le canapé. &lt;&lt;/a>> &lt;&lt;d bf>> D-désolé, j'voulais pas crier comme ça. Je... J'aime pas trop qu'on fouille dans les mauvaises affaires. &lt;&lt;/d>> &lt;&lt;a>> Tu ne lui en tiens pas rigueur. Tu as juste envie de te soulager. Tu te concentres devant le porno, et tu finis par rapidement te soulager. &lt;&lt;/a>> &lt;&lt;qbutton "Retourner te branler" out:armoire-2 in:video in:s2>> &lt;/div> &lt;div id="s2"> &lt;&lt;a>> Tu n'en peux plus, et, avec de moins en moins de gêne, tu jouis devant le porno, en présence de $namebf. &lt;&lt;/a>> &lt;&lt;set _ej = "data/mc/porn/" + setup.getPlayerSexSizeValue() + ".webm">> &lt;&lt;video _ej 30>> &lt;&lt;d bf>> A la prochaine ! :) &lt;&lt;/d>> &lt;&lt;if setup.isWeekend()>> &lt;div class="choices"> &lt;&lt;button "Retourner en ville" SCHOOL-1-3-4 before:city>> &lt;&lt;/button>> &lt;/div> &lt;&lt;else>> &lt;div class="choices"> &lt;&lt;button "Rentrer à la maison" FBRO-2-3-0 before:home>> &lt;&lt;/button>> &lt;/div> &lt;&lt;/if>> &lt;/div> &lt;&lt;unshow2 s2 armoire armoire-2>></tw-passagedata><tw-passagedata name=SBFR-2-1-5 position=101,4525 size=100,100 tags=""pid=23>/* Phase 7 Il ne te montre plus que des vidéos de fellation 1 2 > Il te suce 3 4 > Tu peux le forcer à avaler (domination/soumission) */ &lt;&lt;excitation 25>> &lt;&lt;run setup.setQuest("bfQ1", "step", 7)>> &lt;&lt;run setup.setQuest("bfQ1", "pornoId", setup.getQuest("bfQ1", "pornoId") + 1)>> &lt;&lt;set _pornId = setup.getQuest("bfQ1", "pornoId")>> &lt;&lt;set _porn = 'data/bf/p/' + _pornId + '.webm'>> &lt;&lt;if setup.getQuest("bfQ1", "pornoChoice") == "black">> &lt;&lt;set _porn = 'data/bf/p/' + _pornId + '.webm'>> &lt;&lt;else>> &lt;&lt;set _porn = 'data/bf/p/fni' + _pornId + '.webm'>> &lt;&lt;/if>> &lt;div id="video"> &lt;&lt;tv _porn>> &lt;/div> &lt;div id="s1"> &lt;&lt;a>> Cela fait plus de deux heures que tu es compagnie de $namebf, dans sa chambre. Vous faîtes une "session" porno comme $namebf dit parfois. Tu es maintenant habitué à sa présence, et tu es parfaitement détendu, enfoncé dans le moelleux de son canapé. &lt;&lt;/a>> &lt;&lt;a>> Tu es en train de te caresser, lentement, essayant de suivre le rythme des coups de queues des acteurs et les gémissements des actrices. Soudainement, tu sens une pointe de chaleur juste à côté de ta queue, sur le haut de ta cuisse. Tu baisses les yeux. &lt;&lt;/a>> &lt;&lt;a>> Sa main !! La main de $namebf. C'est la main de $namebf que tu sens sur ta cuisse. &lt;&lt;/a>> &lt;&lt;a>> Il vient de la poser, entre deux commentaires. Tu le regardes. Il fait comme si de rien n'était, continuant de branler sa petite queue, sa main posée sur ta cuisse. &lt;&lt;/a>> &lt;div class="choices"> &lt;&lt;button "Ne rien faire">> &lt;&lt;dunshow s1>> &lt;&lt;dshow s2>> &lt;&lt;excitation 5>> &lt;&lt;set $person.bf.pHomo += 1>> &lt;&lt;feedback "generic" "BFHomoPlus">> &lt;&lt;/button>> &lt;&lt;button "Lui dire de retirer sa main">> &lt;&lt;dunshow s1>> &lt;&lt;dshow refus end>> &lt;&lt;set $person.bf.pHetero += 3>> &lt;&lt;feedback "generic" "BFHeteroPlus" 3>> &lt;&lt;pushevent bf 6>> &lt;&lt;/button>> &lt;/div> &lt;/div> &lt;div id="refus"> &lt;&lt;a>> Tu te crispes. Ca va un peu loin pour toi. Son geste te met mal à l'aise. &lt;&lt;/a>> &lt;&lt;d mc>> Heu... Theo ? Tu fais quoi avec ta main là ? &lt;&lt;/d>> &lt;&lt;a>> Tu as posé la question avec une pointe de colère dans la voix. Il la retire immédiatement, confus. &lt;&lt;/a>> &lt;&lt;d bf>> Oh, pardon, j'ai... pas fait attention. C'était sans faire exprès. &lt;&lt;/d>> &lt;&lt;d mc>> Sans faire exprès ? &lt;&lt;/d>> &lt;&lt;d bf>> Je... Désolé, je pensais que... &lt;&lt;/d>> &lt;&lt;a>> Tu vois $namebf devenir rouge comme une tomate. &lt;&lt;/a>> &lt;&lt;d mc>> Je... Je vais y aller. &lt;&lt;/d>> &lt;&lt;d bf>> Non attends ! Je ne voulais pas... te mettre en colère. &lt;&lt;/d>> &lt;&lt;a>> Il abuse clairement. Tu lui as déjà dit que tu n'étais pas gay. Tu préfères prendre tes affaires, et t'en aller. &lt;&lt;/a>> &lt;/div> &lt;div id="s2"> &lt;&lt;a>> $namebf t'a pris par surprise. Tu ne sais pas comment réagir. Tu te crispes un instant, avant de te détendre doucement. Tu préfères te concentrer sur l'écran de télévision pour le moment. &lt;&lt;/a>> &lt;&lt;a>> Sa main reste sans bouger pendant un petit moment. Puis, voyant que tu ne réagis pas, $namebf tente d'aller plus loin. &lt;&lt;/a>> &lt;&lt;t>> Il a bougé sa main ! &lt;&lt;/t>> &lt;&lt;a>> Ce mouvement, d'abord imperceptible, s'allonge rapidement pour se tranformer en caresses. Tu sens sa main glisser le long de ta cuisse alors que tu es en train de te branler. &lt;&lt;/a>> &lt;&lt;qbutton "Continuer" out:s2 in:s2-2>> &lt;/div> &lt;div id="s2-2"> &lt;&lt;a>> Il fait toujours comme si rien ne se passait, se permettant même un petit commentaire. &lt;&lt;/a>> &lt;&lt;d bf>> Mmmmh. C'est bon, hein ? De regarder ces petites putes se faire baiser. &lt;&lt;/d>> &lt;&lt;a>> Sa main est fine, et douce. Tu restes une bonne 15ene de minutes comme ça, à te branler alors que sa main glisse tout le long de ta cuisse. &lt;&lt;/a>> &lt;&lt;a>> Tu te crispes de nouveau en sentant sa main descendre tout doucement vers ton entrejambe. A chacunes de ses caresses, tu sens sa main se rapprocher de ta queue. Elle continue de s'enfoncer, tranquillement, jusqu'à tes couilles... &lt;&lt;/a>> &lt;&lt;t>> Il va aller jusqu'où comme ça ? &lt;&lt;/t>> &lt;div class="choices"> &lt;&lt;button "Ne rien faire">> &lt;&lt;dunshow s2-2>> &lt;&lt;dshow s3>> &lt;&lt;excitation 10>> &lt;&lt;/button>> &lt;&lt;button "Lui dire de retirer sa main">> &lt;&lt;dunshow s2-2>> &lt;&lt;dshow refus end>> &lt;&lt;set $person.bf.pHetero += 2>> &lt;&lt;feedback "generic" "BFHeteroPlus" 2>> &lt;&lt;pushevent bf 6>> &lt;&lt;/button>> &lt;/div> &lt;/div> &lt;div id="s3"> &lt;&lt;a>> Tu sens maintenant sa main délicate sur tes boules. Le bout de ses doigts effleurent la peau de tes couilles. Ca chatouille un peu, mais tu... tu ne trouves pas ça désagréable, au contraire. &lt;&lt;/a>> &lt;&lt;a>> Tu le laisses faire. Sa main vient prendre ta deuxième couille, et passe d'une à l'autre comme s'il tenait à jouer avec chacune. Il les prend dans sa main, et tu sens même son pouce venir caresser la base de ta queue, effleurant parfois ta propre main pendant que tu te branles. &lt;&lt;/a>> &lt;&lt;a>> Toujours sans un mot, tu le sens remonter sa main, la remonter jusqu'à la base de ta &lt;&lt;playerSexSize>> queue... Tu n'as plus aucun doute - si tu en avais encore - sur ses intentions. &lt;&lt;/a>> &lt;div class="choices"> &lt;&lt;button "Ne rien faire">> &lt;&lt;excitation 15>> &lt;&lt;dunshow s3>> &lt;&lt;dshow s4>> &lt;&lt;set $person.bf.pHomo += 1>> &lt;&lt;feedback "generic" "BFHomoPlus">> &lt;&lt;pushevent bf 5>> &lt;&lt;/button>> &lt;&lt;button "Lui dire de retirer sa main">> &lt;&lt;dunshow s3>> &lt;&lt;dshow refus end>> &lt;&lt;set $person.bf.pHetero += 1>> &lt;&lt;feedback "generic" "BFHeteroPlus">> &lt;&lt;pushevent bf 6>> &lt;&lt;/button>> &lt;/div> &lt;/div> &lt;div id="s4"> &lt;&lt;a>> Tu... Tu continues de te laisser faire. Tu es probablement sous l'influence de l'excitation intense que te procure la situation mais... ses gestes sont si... plaisants. Tout ceci n'est qu'un jeu entre amis. &lt;&lt;/a>> &lt;&lt;a>> Il a maintenant pris la base de ta queue avec sa main. Tu le laisses faire, non plus à cause de la surprise, mais par envie: la sensation de ses doigts sur ta queue est... excitante. &lt;&lt;/a>> &lt;&lt;a>> $namebf a senti ce changement en toi. Il sent aussi que ta queue est particulièrement dure. Tu retires ta propre main, par peur de rencontrer la sienne, laissant ta queue à son entière disposition. &lt;&lt;/a>> &lt;&lt;a>> Et rapidement, tu sens sa main venir entourer et serrer la base de ta queue. Il est toujours aussi doux. Il remonte enfin sa main, de la base jusqu'au sommet. &lt;&lt;/a>> &lt;div class="choices"> &lt;&lt;button "Continuer">> &lt;&lt;excitation 20>> &lt;&lt;dunshow s4>> &lt;&lt;dshow s4-2>> &lt;&lt;/button>> &lt;/div> &lt;/div> &lt;div id="s4-2"> &lt;&lt;a>> Tu te détends complètement, t'enfonces encore dans le canapé, et viens mettre tes bras derrière la tête pour mieux profiter de ses caresses. Quitte à le laisser faire, autant en profiter au maximum. $namebf sait comment s'y prendre, et tu n'as pas envie de résister davantage. Tu lâches prise. &lt;&lt;/a>> &lt;&lt;a>> Le plaisir continue de monter quand $namebf commence à faire des va-et-vients. Très lents au début. Il accélère tranquillement, de plus en plus, pour finir enfin par vraiment branler. Avec beaucoup de talent. &lt;&lt;/a>> &lt;div class="choices"> &lt;&lt;button "Continuer">> &lt;&lt;excitation 25>> &lt;&lt;dunshow s4-2>> &lt;&lt;dshow s4-3>> &lt;&lt;/button>> &lt;/div> &lt;/div> &lt;div id="s4-3"> &lt;&lt;a>> Tu regardes furtivement $namebf, il ne regarde plus du tout la télévision. Son regard est tout entier dédié à sa tâche, les yeux dirigés vers ta queue qu'il regarde avec envie, la bouche légèrement entre-ouverte. &lt;&lt;/a>> &lt;&lt;if setup.getPlayerSexSizeValue() > 2>> &lt;&lt;a>> Tu l'entends chuchotter à lui même, presque sans s'en rendre compte. &lt;&lt;/a>> &lt;&lt;d bf>> Putain... Elle est magnifique. &lt;&lt;/d>> &lt;&lt;/if>> &lt;&lt;a>> Il te branle de plus en plus vite. L'excitation devient vraiment très intense, et tu ouvres naturellement en grand les cuisses pour qu'il soit à son aise. Tu te concentres sur le pornos. Sur toutes ces petites putes qui ne demandent qu'à se faire bien baiser. &lt;&lt;/a>> &lt;div class="choices"> &lt;&lt;button "Trop bon...">> &lt;&lt;excitation -100>> &lt;&lt;dunshow s4-3>> &lt;&lt;dshow s4-4>> &lt;&lt;/button>> &lt;/div> &lt;/div> &lt;div id="s4-4"> &lt;&lt;a>> Alors que l'excitation est à son comble, $namebf vient poser sa deuxième main sur tes couilles pour te les masser tout en te branlant. &lt;&lt;/a>> &lt;&lt;a>> Puis. &lt;&lt;/a>> &lt;&lt;d bf>> Oh ! &lt;&lt;/d>> &lt;&lt;set _ej = "data/mc/porn/" + setup.getPlayerSexSizeValue() + ".webm">> &lt;&lt;video _ej 30>> &lt;&lt;a>> Dans un orgasme d'une rare intensité, tu jouis. Tout ton corps se raidit, et des jets puissants jets de semances viennent couvrir le haut de ton pull, et couvrir la main de $namebf. &lt;&lt;/a>> &lt;div class="choices"> &lt;&lt;button "Reprendre ton souffle">> &lt;&lt;dunshow s4-4>> &lt;&lt;dshow s4-5 end>> &lt;&lt;/button>> &lt;/div> &lt;/div> &lt;div id="s4-5"> &lt;&lt;a>> Tu halètes. Tu reprends ton souffle. Le corps encore envahi par ce plaisir qui s'échappe doucement. $namebf ose une question. &lt;&lt;/a>> &lt;&lt;d bf>> Tu... Tu as aimé ? &lt;&lt;/d>> &lt;&lt;t>> Je... &lt;&lt;/t>> &lt;&lt;a>> Tu préfères ne pas répondre. L'excitation s'évaporant, tu reprends tes esprits et tu as maintenant un sentiment de gêne, voir de honte. Tu te nettoies rapidement, tu te rhabilles, et sans un mot, tu quittes la chambre. &lt;&lt;/a>> &lt;&lt;a>> Tu jettes à $namebf un dernier regard avant de partir. La dernière image que tu vois, c'est le porno qui éclaire ta semence qui coule encore le long des doigts de $namebf. &lt;&lt;/a>> &lt;/div> &lt;div id="end"> &lt;&lt;if setup.isWeekend()>> &lt;div class="choices"> &lt;&lt;button "Retourner en ville" SCHOOL-1-3-4 before:city>> &lt;&lt;/button>> &lt;/div> &lt;&lt;else>> &lt;div class="choices"> &lt;&lt;button "Rentrer à la maison" FBRO-2-3-0 before:home>> &lt;&lt;/button>> &lt;/div> &lt;&lt;/if>> &lt;/div> &lt;&lt;unshow2 refus end s2 s2-2 s3 s4 s4-2 s4-3 s4-4 s4-5 s5>></tw-passagedata><tw-passagedata name=MALL-1-6-5 position=7124,865 size=100,100 tags=""pid=24>&lt;&lt;ambiance stop&gt;&gt;
&lt;&lt;run setup.dailyEvent(&quot;housebf&quot;)&gt;&gt;

&lt;&lt;nextInstant&gt;&gt;
&lt;&lt;if setup.isWeekend() &amp;&amp; !setup.isNight()&gt;&gt;
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																								 &lt;&lt;nextInstant&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;set _step = setup.getQuest(&quot;bfQ1&quot;, &quot;step&quot;)&gt;&gt;
/*&lt;&lt;set _sceneName = &#39;MOM-0-6-0&#39;&gt;&gt;

&lt;&lt;if _step == 7&gt;&gt;
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																								 &lt;&lt;include VRT-0-0-3&gt;&gt;
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																								 &lt;&lt;if setup.isWeekend()&gt;&gt;
        &lt;div class=&quot;choices&quot;&gt;
            &lt;&lt;button &quot;Retourner en ville&quot; SCHOOL-1-3-4 before:city&gt;&gt;
            &lt;&lt;/button&gt;&gt;
        &lt;/div&gt;
    &lt;&lt;else&gt;&gt;
        &lt;div class=&quot;choices&quot;&gt;
            &lt;&lt;button &quot;Rentrer à la maison&quot; FBRO-2-3-0 before:home&gt;&gt;
            &lt;&lt;/button&gt;&gt;
        &lt;/div&gt;
    &lt;&lt;/if&gt;&gt;
&lt;&lt;elseif _step != 1&gt;&gt;
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																								 &lt;&lt;set _sceneName = &#39;housebf-1-&#39; + _step&gt;&gt;
&lt;&lt;else&gt;&gt;
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																								 &lt;&lt;set _sceneName = &#39;GET-1-2-2&#39;&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;include _sceneName&gt;&gt;*/

&lt;&lt;if _step == 0&gt;&gt;
    &lt;&lt;include VRT-0-6-5&gt;&gt;
&lt;&lt;elseif _step == 1&gt;&gt;
    &lt;&lt;include GET-1-2-2&gt;&gt;
&lt;&lt;elseif _step == 2&gt;&gt;
    &lt;&lt;include SCHOOL-2-0-3&gt;&gt;
&lt;&lt;elseif _step == 3&gt;&gt;
    &lt;&lt;include INDEX-2-5-3&gt;&gt;
&lt;&lt;elseif _step == 4&gt;&gt;
    &lt;&lt;include VRT-0-3-1&gt;&gt;
&lt;&lt;elseif _step == 5&gt;&gt;
    &lt;&lt;include INDEX-2-8-3&gt;&gt;
&lt;&lt;elseif _step == 6&gt;&gt;
    &lt;&lt;include SBFR-2-1-5&gt;&gt;
&lt;&lt;elseif _step == 7&gt;&gt;
    &lt;&lt;include VRT-0-0-3&gt;&gt;
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																								 &lt;&lt;if setup.isWeekend()&gt;&gt;
        &lt;div class=&quot;choices&quot;&gt;
            &lt;&lt;button &quot;Retourner en ville&quot; SCHOOL-1-3-4 before:city&gt;&gt;
            &lt;&lt;/button&gt;&gt;
        &lt;/div&gt;
    &lt;&lt;else&gt;&gt;
        &lt;div class=&quot;choices&quot;&gt;
            &lt;&lt;button &quot;Rentrer à la maison&quot; FBRO-2-3-0 before:home&gt;&gt;
            &lt;&lt;/button&gt;&gt;
        &lt;/div&gt;
    &lt;&lt;/if&gt;&gt;
&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata name=VIRT-1-8-5 position=6399,8751 size=100,100 tags=""pid=25>&lt;&lt;pushevent bus 1>> &lt;&lt;a>> Tu entends des gloussements. C'est encore ces deux filles. Cela fait plusieurs fois maintenant qu'elles se mettent derrière toi, elles doivent considérer ces places comme ''leurs'' places. C'est étrange, penses-tu, ce besoin compuslsif qu'ont la plupart des êtres humains de trouver une place attitrée. Besoin qui étend son emprise jusque dans le bus des trajets quotidiens. Toi même, tu ressens presque de la colère lorsqu'en montant dans le bus, tu t'aperçois que quelqu'un s'est mis à ta place habituelle. &lt;&lt;/a>> &lt;&lt;a>> Leur présence derrière toi ne te dérange pas, bien au contraire. Ce sont de belles étudiantes, et tout le monde aime les belles étudiantes. Tu apprécies aussi les écouter. Leurs discussions semblent sans fin, et à peine un silence commence-t-il à s'installer que déjà l'une d'entre elle relance un nouveau sujet, tout aussi stérile que le précédent. &lt;&lt;/a>> &lt;&lt;d blackbusgirl>> Et il lui a dit devant tout le monde qu'elle avait la dégaine d'un tractopelle mdr. C'est trop un fou ce gars. &lt;&lt;/d>> &lt;&lt;d whitebusgirl>> Naaaaan trop un fou... Elle devait tellement se sentir mal !! &lt;&lt;/d>> &lt;&lt;d blackbusgirl>> Oui !! Enfin bref je ne sais pas comment elle peut rester avec lui... &lt;&lt;/d>> &lt;&lt;a>> Le silence s'installe. Tu comptes dans ta tête. &lt;&lt;/a>> &lt;&lt;t>> 1... 2... &lt;&lt;/t>> &lt;&lt;d whitebusgirl>> Et t'as vu Patricia comment elle est venue en cours jeudi dernier ? &lt;&lt;/d>> &lt;&lt;d blackbusgirl>> Mais oui ! Avec son dos découvert presque jusqu'à son cul ? &lt;&lt;/d>> &lt;&lt;a>> Tu somnoles le reste du trajet. &lt;&lt;/a>></tw-passagedata><tw-passagedata name=BFR-1-4-4 position=161,3873 size=100,100 tags=""pid=26>&lt;div id="s1"> &lt;&lt;a>> Derrière toi, le bus est anormalement agité. Tu te retournes pour te mettre au courant de la situation. Il y a une fille, en pleurs sur son siège, et tout le monde autour la regarde, soit en rigolant, soit avec un regard peiné. Tu la regardes plus attentivement, rien d'anormal ne te choque. Tu te retournes vers les deux étuditantes derrière qui gloussent. &lt;&lt;/a>> &lt;&lt;pushevent bus 2>> &lt;&lt;set _dbp = [ ["Bintou", "Djibril", "data/places/school/bus/bjri1.webm"], ["Louise", "Martin", "data/places/school/bus/bji1.webm"] ]>> &lt;&lt;set _select = $events.bus[2] - 1>> &lt;&lt;set _videoSelect = _dbp[_select][2]>> &lt;&lt;d mc>> Heuuu. Excusez moi, vous savez ce qu'il se passe ? &lt;&lt;/d>> &lt;&lt;d whitebusgirl>> Heeeeeein, tu n'es pas au courant ? Tu n'as pas vu la vidéo avec &lt;&lt;= _dbp[_select][0]>> ? Attends je te l'envoie sur AssBook, il faut absolument que tu la vois. C'est bien $namemc ton prénom ? &lt;&lt;/d>> &lt;&lt;a>> Tu sens ton téléphone vibrer dans ta poche. Une pièce jointe est arrivée. &lt;&lt;/a>> &lt;div class="choices" id="b-1"> &lt;&lt;button "Ouvrir le lien">> &lt;&lt;dunshow s1>> &lt;&lt;dshow s-1>> &lt;&lt;/button>> &lt;/div> &lt;/div> &lt;div id="s-1"> &lt;&lt;a>> Tu ouvres la pièce jointe. Une vidéo se charge et se lance. &lt;&lt;/a>> &lt;&lt;video _videoSelect 50>> &lt;&lt;t>> Ok, je vois... &lt;&lt;/t>> &lt;&lt;a>> Les filles derrière toi gloussent en regardant la vidéo. &lt;&lt;/a>> &lt;&lt;d blackbusgirl>> Tu as vu ça ! Je trouve ça vraiment bizarre, surtout avec cette différence de couleur. Ca n'est pas normal... &lt;&lt;/d>> &lt;&lt;d whitebusgirl>> C'est clair, moi je ne pourrai pas ! Quelle horreur ! &lt;&lt;/d>> &lt;div class="choices" id="c-1"> &lt;&lt;button "Quel manque de tolérance...">> &lt;&lt;dunshow s-1>> &lt;&lt;dshow r-1-1 c-2>> &lt;&lt;pushevent bus 3>> &lt;&lt;if (_select % 2) == 0>> &lt;&lt;whited 2>> &lt;&lt;else>> &lt;&lt;blacked 2>> &lt;&lt;/if>> &lt;&lt;/button>> &lt;&lt;button "C'est vrai que c'est dégueulasse...">> &lt;&lt;dunshow s-1>> &lt;&lt;dshow r-1-2 c-2>> &lt;&lt;pushevent bus 4>> &lt;&lt;if (_select % 2) == 0>> &lt;&lt;blacked 2>> &lt;&lt;else>> &lt;&lt;whited 2>> &lt;&lt;/if>> &lt;&lt;/button>> &lt;/div> &lt;/div> &lt;div id="r-1-1"> &lt;&lt;t>> Je ne peux pas les laisser dire ça... &lt;&lt;/t>> &lt;&lt;d mc>> Et bah vous n'êtes pas très tolérante. Moi je trouve ce contraste vraiment très beau. Franchement, vous ne vous imaginez pas à la place de &lt;&lt;= _dbp[_select][0]>> ? &lt;&lt;/d>> &lt;&lt;a>> Les filles paraissent surprises. Elles regardent de nouveau la vidéo. &lt;&lt;/a>> &lt;&lt;d whitebusgirl>> C'est vrai que ça n'est pas "horrible", mais quand même, elle était en couple avec &lt;&lt;= _dbp[_select][1]>>, ça ne se fait pas. &lt;&lt;/d>> &lt;&lt;d blackbusgirl>> Olalah, oui ! Le pauvre, il doit être effondré... Il est tellement craquant en plus ! &lt;&lt;/d>> &lt;/div> &lt;div id="r-1-2"> &lt;&lt;d mc>> T'aurais du me prévenir avant de m'envoyer cette vidéo dégueulasse... Une si jolie fille... Franchement, je comprends pourquoi tout le monde se moque d'elle ! &lt;&lt;/d>> &lt;&lt;a>> Les filles jettent des coups d'oeil à &lt;&lt;= _dbp[_select][0]>> qui est toujours seule sur son siège, le visage enfoui dans ses mains. &lt;&lt;/a>> &lt;&lt;d whitebusgirl>> Annnh comme j'aimerai pas être à sa place. En plus elle est en couple avec &lt;&lt;= _dbp[_select][1]>> non ? &lt;&lt;/d>> &lt;&lt;d blackbusgirl>> Olalah, oui ! Le pauvre, il doit être effondré... Il est tellement craquant en plus ! &lt;&lt;/d>> &lt;/div> &lt;div class="choices" id="c-2"> &lt;&lt;button "Cette fille est une crasseuse...">> &lt;&lt;dunshow c-2 r-1-1 r-1-2>> &lt;&lt;dshow r-2-1 ending2 end>> &lt;&lt;pushevent bus 4>> &lt;&lt;if (_select % 2) == 0>> &lt;&lt;blacked 3>> &lt;&lt;else>> &lt;&lt;whited 3>> &lt;&lt;/if>> &lt;&lt;/button>> &lt;&lt;button "Peut-être qu'elle avait ses raisons...">> &lt;&lt;dunshow c-2 r-1-1 r-1-2>> &lt;&lt;dshow r-2-2 ending2 end>> &lt;&lt;pushevent bus 3>> &lt;&lt;if (_select % 2) == 0>> &lt;&lt;whited 3>> &lt;&lt;else>> &lt;&lt;blacked 3>> &lt;&lt;/if>> &lt;&lt;/button>> &lt;/div> &lt;div id="r-2-1"> &lt;&lt;d mc>> C'est vrai ça. Ce genre de filles n'a aucun amour propre. C'est une crasseuse qui ouvre les cuisses à n'importe qui, et n'importe quoi. Franchement, c'est bien mérité ce qui lui arrive. &lt;&lt;/d>> &lt;&lt;a>> Les filles acquiescent tes paroles. &lt;&lt;/a>> &lt;&lt;d whitebusgirl>> Regarde ! Même sa meilleure pote ne veut plus se mettre à côté d'elle ! &lt;&lt;/d>> &lt;&lt;d blackbusgirl>> J'espère que &lt;&lt;= _dbp[_select][1]>> va bien. Tu crois que ça serait le moment que j'aille lui parler haha ? &lt;&lt;/d>> &lt;&lt;t>> Les filles comme celle de la vidéo me débectent. Aucun respect ni pour elle même ni pour les gens autour d'elle. &lt;&lt;/t>> &lt;/div> &lt;div id="r-2-2"> &lt;&lt;d mc>> Bah tu sais, si quelqu'un va voir ailleurs, c'est souvent parce qu'il n'a pas ce qu'elle cherche. Peut être que &lt;&lt;= _dbp[_select][1]>> ne pouvait pas donner à &lt;&lt;= _dbp[_select][0]>> tout ce qu'elle voulait. &lt;&lt;/d>> &lt;&lt;a>> Les filles se regardent quelques instants, pas certaines de bien comprendre. &lt;&lt;/a>> &lt;&lt;d blackbusgirl>> &lt;&lt;= _dbp[_select][1]>> ? Qu'est-ce qui lui manque ? &lt;&lt;/d>> &lt;&lt;a>> Tu les vois regarder une nouvelle fois la vidéo d'un air songeur. &lt;&lt;/a>> &lt;&lt;t>> C'est vrai ça. Si &lt;&lt;= _dbp[_select][1]>> ne sait pas s'occuper correctement de &lt;&lt;= _dbp[_select][0]>>, il ne peut pas venir ensuite se plaindre... &lt;&lt;/t>> &lt;/div> &lt;div id="ending2"> &lt;&lt;a>> Arrivé à sa destination, le bus s'arrête devant l'établissement. Ses portes s'ouvrent pour faire passer les élèves qui se pressent pour s'engouffrer dans la brèche. Tu attends calmement que les choses se passent, puis, lorsque le bus est presque vide, tu te leves pour descendre à ton tour. &lt;&lt;/a>> &lt;/div> &lt;div id="end"> &lt;div class="choices"> [[Aller en classe|SUB-1-4-3]] &lt;/div> &lt;/div> &lt;&lt;unshow2 s-1 r-1-1 r-1-2 r-2-1 r-2-2 c-2 ending2 end>></tw-passagedata><tw-passagedata name=DREAM-2-6-3 position=7640,1269 size=100,100 tags=""pid=27>&lt;div id="initial"> &lt;&lt;image data/places/bus.jpg 100>> &lt;&lt;a>> Tu es dans le bus, en route pour l'école. &lt;&lt;/a>> &lt;&lt;t>> Les transports m'ont toujours donné la nausé, ce qui m'oblige à me mettre tout devant. Ca ne me dérange pas, l'arrière est de toute façon réservée aux gens cools, et je n'y ai pas ma place... &lt;&lt;/t>> &lt;/div> &lt;&lt;if setup.isGameDay(4)>> &lt;&lt;include VIRT-1-8-5>> &lt;&lt;elseif (!setup.isGameDay(0)) && (setup.getGameDay() % 7) == 4 && setup.event("bus", 2) &lt; 2>> &lt;&lt;include BFR-1-4-4>> &lt;&lt;unshow2 ending>> &lt;&lt;elseif (setup.isEvent("b", 17)) && (!setup.isEvent("bus", 5))>> &lt;&lt;include SIS-2-0-4>> &lt;&lt;unshow2 ending>> &lt;&lt;else>> &lt;&lt;goto SUB-1-4-3>> &lt;&lt;/if>> &lt;div id="ending"> &lt;&lt;a>> Arrivé à sa destination, le bus s'arrête devant l'établissement. Ses portes s'ouvrent pour faire passer les élèves qui se pressent pour s'engouffrer dans la brèche. Tu attends calmement que les choses se passent, puis, lorsque le bus est presque vide, tu te leves pour descendre à ton tour. &lt;&lt;/a>> &lt;div class="choices"> [[Aller en classe|SUB-1-4-3]] &lt;/div> &lt;/div></tw-passagedata><tw-passagedata name=SIS-2-0-4 position=5780,8967 size=100,100 tags=""pid=28>&lt;div id="s0"> &lt;&lt;a>> Tu lèves la tête. Les deux filles viennent de monter dans le bus. Elles affichent une mine déçue. &lt;&lt;/a>> &lt;&lt;d blackbusgirl>> Regarde ! Nos places ! On nous les a prise... &lt;&lt;/d>> &lt;&lt;d whitebusgirl>> Mais merde, c'est le bus entier qui est plein ! C'est qui tous ces nouveaux connards ? &lt;&lt;/d>> &lt;&lt;qbutton "Continuer" out:s0 out:initial in:s1>> &lt;/div> &lt;div id="s1"> &lt;&lt;a>> Tu te retournes. Deux grosses à lunettes ont pris les places derrière toi. Et tu constates qu'effectivement le bus est plein à craqué. Il n'y a plus aucune place de libre. Plus aucune, sauf... &lt;&lt;/a>> &lt;&lt;d blackbusgirl>> Hey ! Ca te dérange si je me mets à côté de toi ? C'est la dernière place qui reste... &lt;&lt;/d>> &lt;&lt;a>> Tu penses: &lt;&lt;/a>> &lt;&lt;t>> Oui... &lt;&lt;/t>> &lt;&lt;a>> Tu dis: &lt;&lt;/a>> &lt;&lt;d mc>> Non bien sûr, viens t'asseoir. &lt;&lt;/d>> &lt;&lt;a>> La fille blanche se tourne vers son amie avec un air indigné. &lt;&lt;/a>> &lt;&lt;d whitebusgirl>> T'es sérieuse là ?! Tu me laisses rester debout toute seule ? Et bah, on voit les amies sur qui on peut compter... &lt;&lt;/d>> &lt;&lt;d blackbusgirl>> Hehe. Fallait être plus rapide ma grande. C'est ma place maintenant ! &lt;&lt;/d>> &lt;&lt;qbutton "Retirer ton sac de la place" out:s1 in:s2>> &lt;/div> &lt;div id="s2"> &lt;&lt;a>> Alors que la blanche s'éloigne pour trouver une place debout confortable, tu dégages ton sac et la fille s'installe à côté de toi. Une vague de parfum envahit l'espace. Un parfum florale avec un zeste d'agrume. &lt;&lt;/a>> &lt;&lt;d blackbusgirl>> Merci !! Tu me sauves la vie, je détèste rester debout. &lt;&lt;/d>> &lt;&lt;a>> La fille se retourne pour regarder sa copine qui galère debout, et la regarde avec un petit sourire narquois. Tu t'attends à ce qu'elle lui tire la langue, mais elle ne va pas jusque là. Les places sont vraiment petites, penses-tu, et la cuisse de la fille effleure la tienne. Tu sens la gêne monter en toi. Tu cherches quelque chose à dire. Vite, vite. &lt;&lt;/a>> &lt;div class="choices"> &lt;&lt;button "Tu sens bon !">> &lt;&lt;dunshow s2>> &lt;&lt;dshow s3-1 s3>> &lt;&lt;humiliation 5>> &lt;&lt;/button>> &lt;&lt;button "Ton amie va être jalouse !">> &lt;&lt;dunshow s2>> &lt;&lt;dshow s3-2 s3>> &lt;&lt;whited 5>> &lt;&lt;/button>> &lt;/div> &lt;/div> &lt;div id="s3-1"> &lt;&lt;d mc>> Tu sens vraiment super bon ! &lt;&lt;/d>> &lt;&lt;d blackbusgirl>> Hein ? &lt;&lt;/d>> &lt;&lt;t>> Merde ! Mais qu'est-ce que je raconte moi ? Quelle approche de weirdo... &lt;&lt;/t>> &lt;&lt;d blackbusgirl>> Ah, c'est, heu, gentil... C'est un parfum qu'on vient de m'offrir pour mes 18 ans. &lt;&lt;/d>> &lt;/div> &lt;div id="s3-2"> &lt;&lt;d mc>> Ton amie ne va pas être jalouse ? &lt;&lt;/d>> &lt;&lt;d blackbusgirl>> Haha, peut-être. :) &lt;&lt;/d>> &lt;&lt;d mc>> Ton amie ne va pas être jalouse ? &lt;&lt;/d>> &lt;&lt;a>> Elle te répond par un petit sourire. &lt;&lt;/a>> &lt;/div> &lt;div id="s3"> &lt;&lt;a>> Vous vous regardez sans rien dire un instant. Tu l'avais déjà remarqué, mais c'est vraiment une jolie fille. Elle a une belle peau sombre, et d'épais cheveux noirs lisses et lumineux ondulent jusqu'en bat des épaules. Son sourire est rayonnant et ne semble jamais la quitter, s'accordant à merveille avec ses yeux malicieux. &lt;&lt;/a>> &lt;&lt;a>> Ton regard est vite attiré vers d'autres lieux... Wow... Une impressionnante paire de boobs tient difficilement dans un décolleté un peu serré. Elle prend un air surpris et te tire de tes pensées. &lt;&lt;/a>> &lt;&lt;image data/places/school/bus/1.jpg>> &lt;&lt;qbutton "Continuer" out:s3 out:s3-1 out:s3-2 in:s4>> &lt;/div> &lt;div id="s4"> &lt;&lt;d blackbusgirl>> C'est ma pochette que tu regardes ? :o Tu arrives à reconnaître les groupes ? &lt;&lt;/d>> &lt;&lt;a>> Tu es surpris. Tu regardes mieux, et elle tient effectivement dans ses fines main une pochette avec des feuilles qui dépassent. Elle y a collé les stickers de ses groupes de rock préférés, et en fine lettres noires, tu peux voir marqué: le postimpressionnisme de la fin du 19ème. Une artiste ! &lt;&lt;/a>> &lt;&lt;d mc>> Hmm, je dirais ACDC, Led Zeppelin, Nirvana, U2, et... Pink Floyd ? &lt;&lt;/d>> &lt;&lt;a>> Elle est enchantée par tes réponses. Tu ne pensais pas que les heures à écouter tous ces groupes démodés te serviraient un jour. &lt;&lt;/a>> &lt;&lt;d blackbusgirl>> Impressionnant ! Je suis une grande fan de ces groupes là depuis que je suis toute petite, et c'est rare de trouver des connaisseurs ! Tu savais que j'avais rencontré Robert Plant il y a 3 ans quand il est passé à &lt;&lt;= setup.city.name>> ? &lt;&lt;/d>> &lt;&lt;d mc>> Ah, non, je ne savais pas. &lt;&lt;/d>> &lt;&lt;d blackbusgirl>> C'était vraiment génial, le plus beau jour de ma vie ! C'est lui qui m'a donné envie de faire le conservatoire. Et j'aimerai former un groupe aussi connu que le sien ! J'ai déjà mon propre groupe, tu sais. Bien sûr il est encore petit pour l'instant. Il s'appelle Black Zeppelin, tu connais ? Tu pourras regarder sur internet si tu veux, et liker nos vidéos. Pour le moment on est pas très connu, et le groupe a quelque problème, manque de sérieur, toussa... &lt;&lt;/d>> &lt;&lt;t>> Elle parle beaucoup. &lt;&lt;/t>> &lt;&lt;a>> Tu perds rapidement le fil de la conversation, trop attiré par son énorme paire de seins qui sautille sous tes yeux chaque fois qu'elle fait un geste des mains. Tu relèves de temps en temps la tête pour acquiesser à ce qu'elle te raconte. &lt;&lt;/a>> &lt;&lt;button "Le trajet passe...">> &lt;&lt;dunshow s4>> &lt;&lt;dshow s5>> &lt;&lt;pushevent bus 5>> &lt;&lt;/button>> &lt;/div> &lt;div id="s5"> &lt;&lt;a>> Tu papotes avec elle tout le long de trajet. Le temps passe comme un éclair, et vous arrivez finalement à destination. &lt;&lt;/a>> &lt;&lt;d blackbusgirl>> Bon, je crois qu'on est arrivé. C'était sympa de faire ce voyage avec toi ! :) &lt;&lt;/d>> &lt;&lt;d mc>> &lt;&lt;/d>> &lt;&lt;a>> Elle se lève pour s'en aller, mais se stoppe en plein mouvement. Elle se retourne vers toi. &lt;&lt;/a>> &lt;&lt;d bs>> Ah au fait, moi c'est $namebs. &lt;&lt;/d>> &lt;&lt;d mc>> Cool. Moi c'est... &lt;&lt;/d>> &lt;&lt;d bs>> $namemc. Je le sais, tu nous l'as déjà dit. &lt;&lt;/d>> &lt;&lt;a>> Elle te fait un dernier sourire avant de rejoindre son amie. Tu la vois la taquiner alors qu'elle boude, avant de disparaitre dans la foule qui s'échappe du bus. &lt;&lt;/a>> &lt;&lt;t>> Charmante, cette fille. &lt;&lt;/t>> &lt;div id="end"> &lt;div class="choices"> [[Aller en classe|SUB-1-4-3]] &lt;/div> &lt;/div> &lt;/div> &lt;&lt;unshow2 s1 s2 s3-1 s3-2 s3 s4 s5>> &lt;&lt;note>> Elle invite à une fête. => rev => tu y vas avec ta petite amie. &lt;&lt;/note>></tw-passagedata><tw-passagedata name=LOOP-0-5-1 position=315,3236 size=100,100 tags=""pid=29>&lt;&lt;set $engine.flags.keyboardNavigationActive = false>> &lt;style> .LOOP-0-5-1 { color: #0c0; text-transform: uppercase; animation: ATMEffect 15s infinite ease-in-out; background-color: #ebe7e0; box-shadow: 0 0 5vmin 1vmin #000 inset; font-family: 'VT323', monospace; font-size: 1em; overflow: hidden; padding: 4em; padding-top: 2em; margin-left: -20%; margin-bottom: 1em; margin-top: 1em; width: 140%; height: 46em; z-index: 0; border: 30px solid #35322a; border-radius: 45px; letter-spacing: 3px; } .LOOP-0-5-1-title { font-size: 2em; line-height: 1em; text-align: center; } .LOOP-0-5-1-p { line-height: 0.8em; font-size: 1.3em; } .LOOP-0-5-1-tax { line-height: 0.8em; font-size: 1.1em; } @keyframes ATMEffect { 0%, 10%, 11%, 15%, 16%, 35%, 40%, 41%, 50%, 51%, 52%, 60%, 61%, 100% { color: #090 font-style: normal; font-weight: normal; } 10.5%, 60.5% { font-weight: bold; color: #090; } 15.5%, 24%, 25%, 40.5%, 50.5%, 51.5%, 74%, 75%, 76% { /*color:#979283;*/ color: #0c0; font-style: italic; box-shadow: 0 0 10vmin 1vmin #000 inset; } 24.5%, 74.5%, 75.5% { color:#ebe7e0; box-shadow: 0 0 5vmin 2vmin #000 inset; } } .LOOP-0-5-1-info { display: flex; margin-left: 2em; font-size: 1.8em; } .LOOP-0-5-1-info-type { flex: 2; } .LOOP-0-5-1-info-number { } .LOOP-0-5-1-overlay { z-index: 1; position: relative; height: 42em; width: 1074px; top: -43em; left: -132px; border-radius: 15px; background: linear-gradient(rgba(94, 93,91, 0.5) 50%, transparent 50%), linear-gradient(90deg, rgba(255, 0, 0, 0.03), rgba(0, 255, 0, 0.02), rgba(0, 0, 255, 0.03)); background-size: 100% 3px, 5px 100%; } .LOOP-0-5-1-button-list { display: flex; margin-top: 1em; } .LOOP-0-5-1-button-list .link-internal { color:#0c0; font-size: 1.6em; background-color: transparent; margin-right: 0.3em; border: 2px solid #0c0; padding: 0.2em; padding-right: 1em; padding-left: 1em; z-index: 5; text-transform: uppercase; font-family: 'VT323', monospace; letter-spacing: 3px; transition-duration: 0s; } .LOOP-0-5-1-button-list .link-internal:hover { color: #ebe7e0; background-color: #0c0; z-index: 5; } .LOOP-0-5-1-entry { display: flex; } .LOOP-0-5-1-entry-invite { font-size: 1.4em; margin-right: 0.3em; align-self: center; flex: 1; } .LOOP-0-5-1-entry-number { z-index: 10; padding: 0em; flex: 1; } .LOOP-0-5-1-entry-number #LOOP-0-5-1-input { color: #95c495; border: 2px solid #95c495; z-index: 10; width: 100%; font-size: 2em; text-align: right; padding: 0; padding-right: 1em; margin: 0; } .LOOP-0-5-1-entry-number #LOOP-0-5-1-input:hover, .LOOP-0-5-1-entry-number #LOOP-0-5-1-input:focus { background-color: transparent; color: #0c0; border: 2px solid #0c0; } .LOOP-0-5-1-entry-number #LOOP-0-5-1-input::-webkit-outer-spin-button, .LOOP-0-5-1-entry-number #LOOP-0-5-1-input::-webkit-inner-spin-button { -webkit-appearance: none; margin: 0; } #LOOP-0-5-1-deposit-fail, #LOOP-0-5-1-deposit-success, #LOOP-0-5-1-withdrawal-fail, #LOOP-0-5-1-withdrawal-fail { } #LOOP-0-5-1-withdrawal-fail, #LOOP-0-5-1-deposit-fail { color: red; } &lt;/style> &lt;&lt;a>> Tu t'approches de la borne de retrait SupaATM™ tu y insères ta carte SupaCard™. Tu entends le vieux modem 56k qui équipe l'appareil crépiter dans tous les sens alors qu'il se connecte au réseau. Y-uuuuu-krrrrr-t-krrrrr-uuuuuu-bip-bop-uuuu. Une fois connectée, l'écran affiche les informations de ton compte. &lt;&lt;/a>> &lt;div class="LOOP-0-5-1" id="LOOP-0-5-1"> &lt;div class="LOOP-0-5-1-title"> World Big b. financial unified operating system &lt;/div> &lt;div class="LOOP-0-5-1-title"> Subsystem Authorization A-9874-C - $city.bank.name &lt;/div> &lt;div class="LOOP-0-5-1-title" style="margin-bottom: 0.5em;"> Connexion....... Connected. &lt;/div> &lt;div class="LOOP-0-5-1-title"> --------------------------------------------------------------------- &lt;/div> &lt;div class="LOOP-0-5-1-tax"> &lt;&lt;nothing>>Taxe sur les retraits d'argent en soutien aux minorités noires, latinos et asiatiques&lt;&lt;/nothing>> : 5% &lt;/div> &lt;div class="LOOP-0-5-1-tax"> &lt;&lt;nothing>>Taxe sur les retraits d'argent en soutien aux minorités homo, bi, trans et bien d'autres&lt;&lt;/nothing>> : 5% &lt;/div> &lt;div class="LOOP-0-5-1-tax"> &lt;&lt;nothing>>Taxe sur les retraits d'argent en soutien aux droits des femmes et pour l'avortement&lt;&lt;/nothing>> : 5% &lt;/div> &lt;div class="LOOP-0-5-1-tax"> &lt;&lt;nothing>>Taxe sur les retraits d'argent en soutien aux victimes de mégenrage&lt;&lt;/nothing>> : 5% &lt;/div> &lt;div class="LOOP-0-5-1-title" style="margin-bottom: 0.5em;"> --------------------------------------------------------------------- &lt;/div> &lt;div class="LOOP-0-5-1-p" style="margin-bottom: 0.5em;"> &lt;&lt;nothing>>Bonjour cher client #$city.bank.client_number ! C'est un plaisir de vous voir ici. On vous a déjà dit à quel point vous étiez beau&ampnbsp;? Nous, oui. Si vous avez trop d'argent, n'hésitez pas à venir nous en parler, nous avons des solutions pour vous. Et vous savez que nous avons toujours les meilleures solutions rien pour vous.&lt;&lt;/nothing>> ❤ &lt;/div> &lt;div class="LOOP-0-5-1-p"> &lt;&lt;nothing>>Voici vos informations de compte:&lt;&lt;/nothing>> &lt;/div> &lt;div class="LOOP-0-5-1-info"> &lt;div class="LOOP-0-5-1-info-type"> &lt;&lt;nothing>>Nombre ==d'escroquerie== de promotion réussie :&lt;&lt;/nothing>> &lt;/div> &lt;div class="LOOP-0-5-1-info-number"> &lt;&lt;= $events.bank[2]>> &lt;/div> &lt;/div> &lt;div class="LOOP-0-5-1-info" style="margin-top: -0.8em;"> &lt;div class="LOOP-0-5-1-info-type"> &lt;&lt;nothing>>Solde du compte en dollars :&lt;&lt;/nothing>> &lt;/div> &lt;div class="LOOP-0-5-1-info-number"> &lt;&lt;= $city.bank.account.balance>> &lt;/div> &lt;/div> &lt;div class="LOOP-0-5-1-entry"> &lt;div class="LOOP-0-5-1-entry-invite"> &lt;&lt;nothing>>Combien voulez vous déposer ou retirer ?&lt;&lt;/nothing>> &lt;/div> &lt;div class="LOOP-0-5-1-entry-number"> &lt;input id="LOOP-0-5-1-input" type="number" name="atm-input" size="10" min="0" max="9999999999" value="0" /> &lt;/div> &lt;/div> &lt;div class="LOOP-0-5-1-button-list"> &lt;&lt;button Déposer>> &lt;&lt;script>> State.temporary.atmInput = parseInt($("#LOOP-0-5-1-input").val()); &lt;&lt;/script>> &lt;&lt;if _atmInput > $player.franc>> &lt;&lt;unshow LOOP-0-5-1-deposit-fail LOOP-0-5-1-deposit-success LOOP-0-5-1-withdrawal-fail LOOP-0-5-1-withdrawal-success>> &lt;&lt;show LOOP-0-5-1-deposit-fail>> &lt;&lt;else>> &lt;&lt;unshow LOOP-0-5-1-deposit-fail LOOP-0-5-1-deposit-success LOOP-0-5-1-withdrawal-fail LOOP-0-5-1-withdrawal-success>> &lt;&lt;show LOOP-0-5-1-deposit-success>> &lt;&lt;set $player.franc -= _atmInput>> &lt;&lt;set $city.bank.account.balance += _atmInput>> &lt;&lt;script>> $(".LOOP-0-5-1-info-number")[1].innerHTML = parseInt($(".LOOP-0-5-1-info-number")[1].innerHTML) + State.temporary.atmInput; $("#uibar-franc").html(parseInt($("#uibar-franc").html()) - State.temporary.atmInput); $("#LOOP-0-5-1-input").val(0); &lt;&lt;/script>> &lt;&lt;/if>> &lt;&lt;/button>> &lt;&lt;button Retirer>> &lt;&lt;script>> State.temporary.atmInput = parseInt($("#LOOP-0-5-1-input").val()); &lt;&lt;/script>> &lt;&lt;if _atmInput > $city.bank.account.balance>> &lt;&lt;unshow LOOP-0-5-1-deposit-fail LOOP-0-5-1-deposit-success LOOP-0-5-1-withdrawal-fail LOOP-0-5-1-withdrawal-success>> &lt;&lt;show LOOP-0-5-1-withdrawal-fail>> &lt;&lt;else>> &lt;&lt;unshow LOOP-0-5-1-deposit-fail LOOP-0-5-1-deposit-success LOOP-0-5-1-withdrawal-fail LOOP-0-5-1-withdrawal-success>> &lt;&lt;show LOOP-0-5-1-withdrawal-success>> &lt;&lt;set $player.franc += _atmInput>> &lt;&lt;set $city.bank.account.balance -= _atmInput>> &lt;&lt;script>> $(".LOOP-0-5-1-info-number")[1].innerHTML = parseInt($(".LOOP-0-5-1-info-number")[1].innerHTML) - State.temporary.atmInput; $("#uibar-franc").html(parseInt($("#uibar-franc").html()) + State.temporary.atmInput); $("#LOOP-0-5-1-input").val(0); &lt;&lt;/script>> &lt;&lt;/if>> &lt;&lt;/button>> &lt;/div> &lt;div id="LOOP-0-5-1-deposit-fail"> &lt;&lt;nothing>>Erreur... Vous n'avez pas assez d'argent pour déposer cette somme sur votre compte. N'essaie pas de nous voler ! &lt;&lt;/nothing>> &lt;/div> &lt;div id="LOOP-0-5-1-deposit-success"> &lt;&lt;nothing>>Succès... Vous avez déposé votre argent avec succès. Woah.&lt;&lt;/nothing>> &lt;/div> &lt;div id="LOOP-0-5-1-withdrawal-fail"> &lt;&lt;nothing>>Erreur... Vous n'avez pas assez d'argent sur votre compte pour retirer cette somme.&lt;&lt;/nothing>> &lt;/div> &lt;div id="LOOP-0-5-1-withdrawal-success"> &lt;&lt;nothing>>Succès... Vous avez retiré votre argent avec succès. Vous pouvez aller le dépenser en babioles inutiles.&lt;&lt;/nothing>> &lt;/div> &lt;/div> &lt;div class="LOOP-0-5-1-overlay" style="display:none;"> &lt;/div> &lt;&lt;unshow2 LOOP-0-5-1-deposit-fail LOOP-0-5-1-deposit-success LOOP-0-5-1-withdrawal-fail LOOP-0-5-1-withdrawal-success>></tw-passagedata><tw-passagedata name=MACRO-0-1-3 position=8092,1743 size=100,100 tags=""pid=30>&lt;&lt;pushevent bank 2>> &lt;&lt;pushevent bank 2>> &lt;div id="s1"> &lt;&lt;image data/places/bank/bankster.jpg 50>> &lt;&lt;a>> Te voyant perdu, un homme en costume s'avance vers toi. Il a l'air sur-motivé et a un débit de parole impressionnant. &lt;&lt;/a>> &lt;div class="choices"> &lt;&lt;button "Ecouter ce qu'il a à dire">> &lt;&lt;dunshow s1 initial>> &lt;&lt;dshow s2>> &lt;&lt;/button>> &lt;/div> &lt;/div> &lt;div id="s2"> &lt;&lt;d bankster>> Aaaah mais on dirait que nous avons ici un nouveau client ! Bienvenue mon cher ami dans la banque la plus sûre et la plus chic de tout $namecity: ''$city.bank.name'' ! Aaaah mais que ''plaisir'' de vous voir ! Vous pouvez chercher à gauche, à droite, en haut et en bas, vous ne trouverez ''ja-mais'' une banque qui prendra mieux soin de vous que nous ! Je me présente, je suis monsieur $person.bankster.name ! &lt;&lt;/d>> &lt;&lt;a>> Soudainement, il porte une main à son oreille et prend un air très concentré. &lt;&lt;/a>> &lt;&lt;d bankster>> Ah mais ! Hein ? Quoi ? Ah ! Oui ! Ouiiiiii !! Extraordinaire !! ''On me dit dans l'oreillette que vous êtes notre millionième client !!'' &lt;&lt;/d>> &lt;&lt;d mc>> Mais vous n'avez pas d'oreillettes... &lt;&lt;/d>> &lt;&lt;d bankster>> Hahaha... Pourtant, l'ouverture de compte ''to-ta-le-ment'' gratuite que vous venez de gagner, elle, est bien réelle ! Tenez, ceci est votre contrat. 182 pages. Vous souhaitez le lire ? Oui, non ? Non hein, vous avez bien raison. Qui lit ce genre de connerie en dehors des barbus et des communistes ? Et puis vous savez, pour moi, la relation avec le client, c'est avant tout une relation de confiance réciproque. &lt;&lt;/d>> &lt;&lt;a>> Il te tend le contrat. &lt;&lt;/a>> &lt;&lt;d bankster>> Voilà, signez ici, et ici. Et ici. Là. Ici... Et là. &lt;&lt;/d>> &lt;div class="choices"> &lt;&lt;button "Signer le contrat" before:handshake>> &lt;&lt;pushevent bank 1>> &lt;&lt;feedback "Tu as ouvert un compte en banque" "money" "big" "fas fa-handshake">> &lt;&lt;dunshow s2>> &lt;&lt;dshow s3>> &lt;&lt;/button>> &lt;/div> &lt;/div> &lt;div id="s3"> &lt;&lt;a>> Bruit de grattement de stylo sur le papier. &lt;&lt;/a>> &lt;&lt;d bankster>> Magnifique ! Quel moment intense ! Vous venez de rejoindre la grande famille $city.bank.name ! Vous devez être tellement fier de vous ! Très bien, voici votre carte d'adhérent, un double du contrat, le livret des conditions, le livret d'explication des conditions, vos identifiants pour le site web, le pin's official $city.bank.name et, bien entendu, votre carte de retrait. On a fait une carte spéciale jeune et beau, comme vous. Regardez, quand on bouge la carte comme ça... Voilà ! On voit votre numéro de client qui apparait en hologramme. $city.bank.client_number, génial hein ? &lt;&lt;/d>> &lt;&lt;d mc>> Mais je croyais que j'étais le millionième client ? &lt;&lt;/d>> &lt;&lt;a>> Il explose de rire comme si tu venais de faire la blague du siècle. &lt;&lt;/a>> &lt;&lt;d bankster>> Hahaha la jeunesse, vous êtes vraiment les rois de l'humour. Bien, vous nous devez 20$ pour les frais d'ouverture de compte, 10$ pour les frais de gestion, 10$ pour les frais de ventilation, et encore 10 derniers petits dollars pour l'option hologramme de la carte. &lt;&lt;/d>> &lt;&lt;d mc>> Mais vous m'aviez dit que c'était gratuit... &lt;&lt;/d>> &lt;&lt;d bankster>> J'ai dit que c'était gratuit ? Et ça l'est ! C'est gratuit jusqu'à signature du contrat. Il faut faire attention à ce que vous signez jeune homme. Ce conseil vaut bien quelques frais, sans doute. &lt;&lt;/d>> &lt;div class="choices"> &lt;&lt;button "C'est vrai, j'aurai du faire attention">> &lt;&lt;dunshow s3>> &lt;&lt;dshow s4 s4-1 end>> &lt;&lt;blacked 5>> &lt;&lt;/button>> &lt;&lt;button "Protester">> &lt;&lt;dunshow s3>> &lt;&lt;dshow s4 s4-2 end>> &lt;&lt;whited 5>> &lt;&lt;set $city.bank.account.balance += 20>> &lt;&lt;/button>> &lt;/div> &lt;/div> &lt;div id="s4-1"> &lt;&lt;t>> Tout ça me servira de leçon, je ferai plus attention la prochaine fois. &lt;&lt;/t>> &lt;&lt;d mc>> Bon bah je suppose que c'est trop tard... &lt;&lt;/d>> &lt;&lt;d bankster>> Ne faîtes pas cette tête attristée, vous venez de faire le meilleur choix de votre vie. Vous vous en rendrez rapidement compte et vous me remercierez ! &lt;&lt;/d>> &lt;&lt;a>> Il te fait un petit clin d'oeil complice. &lt;&lt;/a>> &lt;/div> &lt;div id="s4-2"> &lt;&lt;d mc>> Vous auriez du me prévenir ! &lt;&lt;/d>> &lt;&lt;d bankster>> Tout était sur le contrat jeune homme. &lt;&lt;/d>> &lt;&lt;d mc>> Que vous m'avez incité à ne pas lire... &lt;&lt;/d>> &lt;&lt;d bankster>> Vous savez quoi ? Je vous trouve très sympathique, et je vois bien votre déception. La satisfaction de mon client est ma priorité ! Et je décide, comme ça, d'un claquement de doigt, de vous offrir l'ouverture de compte à 20$ ! Alors, heureux ? :) &lt;&lt;/d>> &lt;&lt;t>> Bon, je suppose que je m'en sors bien. &lt;&lt;/t>> &lt;/div> &lt;div id="s4"> &lt;&lt;d mc>> Dans tous les cas, je n'ai pas vraiment d'argent pour payer... &lt;&lt;/d>> &lt;&lt;d bankster>> Ah mais mais c'est encore mieux, je vous fais un prêt ! Regardez, j'appuie sur ce bouton dans 3... 2... 1... hop ! Voilà, vous nous devez 50$, plus 10$ de frais d'ouverture de dossier de prêt, et 20$ supplémentaires pour les intérêts de votre dette. Vous voyez, la vie est simple ! &lt;&lt;/d>> &lt;&lt;d mc>> Ah, d'accord. &lt;&lt;/d>> &lt;&lt;a>> Monsieur $person.bankster.name te prend par l'épaule et te racompagne à la sortie. &lt;&lt;/a>> &lt;&lt;d bankster>> C'était un plaisir, revenez nous voir quand vous voulez, vous êtes désormais notre client après tout. &lt;&lt;/d>> &lt;&lt;t>> Bon, je suis endetté, mais au moins la carte est belle. &lt;&lt;/t>> &lt;&lt;a>> Félicitation ! Tu viens d'acquérir la $city.bank.name SupaCard™. Tu peux désormais alimenter votre compte ou retirer du liquide dans tous les distributeurs de billets SupaATM™. &lt;&lt;/a>> &lt;/div> &lt;&lt;unshow2 s2 s3 s4 s4-1 s4-2>></tw-passagedata><tw-passagedata name=FBRO-0-7-4 position=5137,9090 size=100,100 tags=""pid=31>&lt;&lt;set $city.bank.account.balance -= 25>> &lt;&lt;pushevent bank 2>> &lt;&lt;a>> Monsieur $person.bankster.name arrive vers toi presque en courant. &lt;&lt;/a>> &lt;&lt;d bankster>> Monsieur $player.identity.lastname ! Nous avons un prolème ! Pour vous résumer simplement la situation, il y a eu une horrible chute d'un baril de pétrole dans l'océan pacifique, et cette chute a provoqué un reflux du cours mondial du tungstène vers des abîmes encore jamais atteintes, déclenchant de très belles révoltes de la faim dans certains trous à merde du monde, impliquant la délocalisation de la production de dentifrice et une explosion du chômage local. &lt;&lt;/d>> &lt;&lt;d mc>> D'accord. Et ? &lt;&lt;/d>> &lt;&lt;d bankster>> Notre honorable établissement a parié votre argent sur un taux de suicide montant à 80 pour mille, mais malgré nos efforts il n'a pas dépassé les 70... Vous nous devez 20$. Merci et bonne journée. &lt;&lt;/d>> &lt;&lt;a>> Avant que tu n'aies le temps de répondre, Monsieur $person.bankster.name est déjà parti s'occuper d'un autre client. &lt;&lt;/a>> &lt;&lt;a>> 25$ viennent d'être retiré de votre compte. &lt;&lt;/a>></tw-passagedata><tw-passagedata name=FBRO-0-1-5 position=559,2628 size=100,100 tags=""pid=32>&lt;&lt;set $city.bank.account.balance += 2>> &lt;&lt;pushevent bank 2>> &lt;&lt;a>> Monsieur $person.bankster.name arrive vers toi presque en courant. &lt;&lt;/a>> &lt;&lt;d bankster>> Ah mon ami, j'ai une bonne nouvelle pour vous. Vous vous rappelez de cet investissement dans la production de cacahuètes ? &lt;&lt;/d>> &lt;&lt;d mc>> Heu, non. &lt;&lt;/d>> &lt;&lt;a>> Il met sa main sur ton épaule et te parle d'une voix enjouée. &lt;&lt;/a>> &lt;&lt;d bankster>> Et bien on peut dire que vous avez eu le nez fin ! Ca nous a bien rapporté. Je me suis fait 3000$ haha ! &lt;&lt;/d>> &lt;&lt;d mc>> Super ! :p Et moi, je gagne quoi dans cette histoire ? &lt;&lt;/d>> &lt;&lt;d bankster>> Ah, euh vous, oui. Laissez moi calculer. &lt;&lt;/d>> &lt;&lt;a>> Tu le vois pianoter rapidement sur son ordinateur avec un air sérieux. &lt;&lt;/a>> &lt;&lt;d bankster>> Voilà. Si on retire les taxes et les frais bancaires, il vous reste 2$. Génial ! &lt;&lt;/d>> &lt;&lt;d mc>> Mais vous vous foutez de moi ?! &lt;&lt;/d>> &lt;&lt;d bankster>> Hey, ne me regardez pas comme ça. Vous n'optimisez pas votre fiscalité jeune homme. C'est le maître mot de notre époque. O-PTI-MI-SER. &lt;&lt;/d>> &lt;&lt;a>> $person.bankster.name s'éloigne en sifflotant. &lt;&lt;/a>> &lt;&lt;a>> 2$ viennent d'être ajouté sur votre compte. &lt;&lt;/a>></tw-passagedata><tw-passagedata name=SIS-2-4-0 position=8471,2278 size=100,100 tags=""pid=33>&lt;&lt;a>> Tu t'approches de la porte et tu regardes à l'intérieur. Tout semble fermé. Soudainement, une voix qui sort de la porte se met à parler et te fait sursauter. &lt;&lt;/a>> &lt;&lt;d m>> Bonsoir cher client ! C'est un plaisir de vous voir devant la porte de notre établissement. Pour souscrire à une assurance vie*, tapez 1. Si vous avez un besoin urgent et vital d'argent, et bien, haha, revenez demain ! &lt;&lt;/d>> &lt;&lt;d m>> &ampnbsp; * Nous ne remboursons pas les assurances souscrites de manière automatique sous l'effet de l'alcool ou de drogue quelconque. &lt;&lt;/d>></tw-passagedata><tw-passagedata name=VIRT-2-3-2 position=4482,9119 size=100,100 tags=""pid=34>&lt;&lt;if setup.isNight()>> &lt;&lt;ambiance city_ambiance_night>> &lt;&lt;else>> &lt;&lt;setColors #ebe7e0 #35322a>> &lt;&lt;ambiance bank_ambiance_day>> &lt;&lt;/if>> &lt;&lt;note>> Couleur du background: #ebe7e0 (clair) Couleur de la police: #35322a (foncé) &lt;&lt;/note>> &lt;style> #city-logo { border: none; border-radius: 0px; } &lt;/style> &lt;div id="initial"> &lt;div id="city-logo"> &lt;&lt;image data/places/bank/bank_logo.jpg 100>> &lt;/div> &lt;&lt;a>> Tu pénètres dans un endroit immense au plafond très élevé, chiquement décoré. Tout est fait pour donner confiance et sérénité. &lt;&lt;/a>> &lt;/div> &lt;&lt;if setup.isDay()>> &lt;&lt;nextInstant>> &lt;&lt;if setup.oneshot("firstBankEvent")>> &lt;&lt;set $city.bank.account.open = true>> &lt;&lt;set $city.bank.account.balance -= 80>> &lt;&lt;include MACRO-0-1-3>> &lt;&lt;unshow2 end>> &lt;&lt;else>> &lt;&lt;if random(8) == 0>> &lt;&lt;include FBRO-0-7-4>> &lt;&lt;elseif random(8) == 0>> &lt;&lt;include FBRO-0-1-5>> &lt;&lt;/if>> &lt;&lt;include LOOP-0-5-1>> &lt;&lt;/if>> &lt;&lt;else>> &lt;&lt;include SIS-2-4-0>> &lt;&lt;/if>> &lt;div id="end"> &lt;div class="choices"> [[Retourner dans la rue|SCHOOL-1-3-4]] &lt;/div> &lt;/div></tw-passagedata><tw-passagedata name=SBFR-1-2-2 position=889,2062 size=100,100 tags=""pid=35>&lt;&lt;run setup.oneshot("rencontreKacey")>> &lt;div id="s1"> &lt;&lt;image data/places/sdf/kacey.jpg 50>> &lt;&lt;a>> Alors que tu te diriges vers la maison de Palmer, tu es interceptée par une blonde à l'allure de paysanne solide. Elle porte une petite tenue et son immense poitrine est au trois quarts découvertes. &lt;&lt;/a>> &lt;&lt;d kacey>> Hé toi, t'es pas du coin hein ? &lt;&lt;/d>> &lt;&lt;qbutton "C'est qui elle encore ?" out:s1 in:s2>> &lt;/div> &lt;div id="s2"> &lt;&lt;d mc>> Ca ne vous regarde pas... &lt;&lt;/d>> &lt;&lt;d kacey>> Tu cherches pas du travail par hasard ? &lt;&lt;/d>> &lt;&lt;d mc>> Quel genre de travail ? &lt;&lt;/d>> &lt;&lt;d kacey>> Du genre qui paie rapidement. &lt;&lt;/d>> &lt;&lt;a>> Elle te fait un clin d'oeil. &lt;&lt;/a>> &lt;&lt;d kacey>> Moi c'est Kacey. Je suis la gérante du bordel de ce trou à merde de bidonville. &lt;&lt;/d>> &lt;&lt;d mc>> Non, ça ne m'intéresse pas... &lt;&lt;/d>> &lt;&lt;a>> Tu regardes derrière elle. Une vieille bâtisse sur deux étages tient difficilement debout. Ca doit être ça son bordel. &lt;&lt;/a>> &lt;&lt;qbutton "Continuer" out:s2 in:s3>> &lt;/div> &lt;div id="s3"> &lt;&lt;d kacey>> Et je t'ai vu parler avec l'aut' vieux con. Tu lui voulais quoi à Palmer ? &lt;&lt;/d>> &lt;&lt;t>> Palmer ? &lt;&lt;/t>> &lt;&lt;d mc>> Palmer ? Vous le connaissez ? Je le cherche. &lt;&lt;/d>> &lt;&lt;a>> Kacey éclate de rire. &lt;&lt;/a>> &lt;&lt;d kacey>> Y'a qu'un Palmer ici, et tu viens de le quitter ! &lt;&lt;/d>> &lt;&lt;t>> Oh bordel ! &lt;&lt;/t>> &lt;&lt;d kacey>> Vu ta tête t'avais pas l'air au courant. Qu'est-ce qu'il a encore fait ce vieux fou ? &lt;&lt;/d>> &lt;&lt;d mc>> Il doit de l'argent à certaines personnes. &lt;&lt;/d>> &lt;&lt;qbutton "Continuer" out:s3 in:s4>> &lt;/div> &lt;div id="s4"> &lt;&lt;d kacey>> Ha ! Quelle surprise ! Palmer doit de l'argent à tout le monde, moi y compris. Cet enfoiré a sauté une de mes filles alors qu'il avait pas de quoi payer ! Tiens, sa maison est là. &lt;&lt;/d>> &lt;&lt;d mc>> Vous savez où il habite ? &lt;&lt;/d>> &lt;&lt;d kacey>> Oui il est juste ici, au coin de la rue. &lt;&lt;/d>> &lt;&lt;a>> Elle te montre ce que tu prenais pour un empilement de tôles rouillées. &lt;&lt;/a>> &lt;&lt;d kacey>> Il est chez lui tous les soirs. Si quelqu'un pouvait lui foutre une branlée ça lui ferait pas de mal ! &lt;&lt;/d>> &lt;&lt;d mc>> Merci ! Vous m'avez beaucoup aidé. &lt;&lt;/d>> &lt;&lt;d kacey>> T'es sûr que tu n'cherches pas du travail ? Les p'tits gars comme toi sont très appréciés, tu pourrais t'faire du fric tu sais ? &lt;&lt;/d>> &lt;&lt;qbutton "Certain" out:s4 in:s5>> &lt;/div> &lt;div id="s5"> &lt;&lt;d mc>> Merci pour la proposition madame, mais je ne suis pas intéressé. &lt;&lt;/d>> &lt;&lt;d kacey>> Dommage. Viens me voir si t'as besoin d'te faire un peu de fric facilement... Tu peux aussi venir pour consommer. On a les meilleures putes de toute la ville ! Qualité et prix garantis par Kacey. :) &lt;&lt;/d>> &lt;&lt;d mc>> Super. J-j'y penserai. &lt;&lt;/d>> &lt;&lt;a>> Tu préfères rapidement t'éloigner avant qu'elle ne te fasse une autre proposition douteuse. &lt;&lt;/a>> &lt;&lt;t>> Ce petite enculé de Palmer ! Il m'a bien niqué... Je vais revenir demain soir. &lt;&lt;/t>> &lt;div class="choices"> &lt;&lt;button 'Retourner chez toi' FBRO-2-3-0>> &lt;&lt;nextInstant>> &lt;&lt;/button>> &lt;/div> &lt;/div> &lt;&lt;unshow2 s2 s3 s4 s5>></tw-passagedata><tw-passagedata name=PART-1-8-4 position=8768,2861 size=100,100 tags=""pid=36>&lt;div id="initial"> &lt;&lt;image data/places/sdf/brothel.jpg 100>> &lt;&lt;t>> Le bordel de Kacey. Je n'ai rien à y faire pour le moment. &lt;&lt;/t>> &lt;/div> &lt;div class="choices" id="end"> [[Retourner dans la rue|DOM-2-6-4]] &lt;/div></tw-passagedata><tw-passagedata name=DOM-2-6-4 position=3830,9053 size=100,100 tags=""pid=37>&lt;&lt;if setup.isDay()>> &lt;&lt;nextInstant>> &lt;&lt;/if>> &lt;div id="initial"> &lt;&lt;image data/places/sdf/sdf.jpg 100>> &lt;&lt;a>> Le "Bosquet des clodos" à la sortie de la ville existe depuis la Grande Crise qui a ravagé l'économie de $namecity City. Son nom vient de l'ancien bosquet verdoyant qui s'y trouvait avant que ceux qui ont tout perdu ne viennent s'y installer. Tous les ans, tu entends des discours pour annoncer son nettoyage, mais tous les ans, ce camp grandit grandit encore un peu plus. Aujourd'hui, c'est un véritable bidonville de plusieurs milliers d'habitants. &lt;&lt;/a>> &lt;&lt;a>> C'est ici que tous les rejetés du système terminent: sur un carré de terre entre quatre morceaux de tôle. &lt;&lt;/a>> &lt;div class="choices"> &lt;&lt;if setup.getQuest("rivalmission", "num") == 2 && setup.getQuest("rivalmission", "status") == "active" && !setup.isOneshot("rencontreKacey")>> [[Chercher Palmer|FBRO-0-7-3]] &lt;&lt;/if>> &lt;&lt;if setup.isOneshot("rencontreKacey")>> [[Maison de Palmer|STORY-2-6-5]] &lt;&lt;/if>> &lt;&lt;if setup.isOneshot("rencontreKacey")>> [[Bordel du bidonville|PART-1-8-4]] &lt;&lt;/if>> [[Retourner en ville|SCHOOL-1-3-4]] &lt;/div> &lt;/div></tw-passagedata><tw-passagedata name=FBRO-0-7-3 position=1298,1550 size=100,100 tags=""pid=38>&lt;div id="s1"> &lt;&lt;a>> Tu t'avances prudemment dans le bidonville. C'est la première fois que tu viens ici. La misère est... palpable. &lt;&lt;/a>> &lt;&lt;a>> Ca pue les poubelles, et les quelques gens que tu croises te regardent du coin de l'oeil, comme un animal étrange. &lt;&lt;/a>> &lt;&lt;t>> Comment je suis censé retrouver ce gars là dedans moi ? &lt;&lt;/t>> &lt;&lt;a>> Après quelques minutes à tourner en rond, tu te décides à demander au hasard quelqu'un qui passe par là. Qu'est-ce que tu peux faire d'autre de toutes façons ? Tu vois un gros gaillard se diriger vers toi... &lt;&lt;/a>> &lt;&lt;d mc>> Heu, excusez moi, est-ce que... &lt;&lt;/d>> &lt;&lt;a>> Sans même un regard, le bonhomme accélère la cadence et te dépasse sans s'arrêter... Tu interroges une seconde personne: même résultat. Une troisième, une quatrième, une cinquième. Sans succès. &lt;&lt;/a>> &lt;&lt;t>> Pas très polis par ici... &lt;&lt;/t>> &lt;&lt;a>> Tu continues de marcher dans les ruelles étroites. Quelques mètres plus loin tu aperçois un petit vieux tout fin qui passe par là. Il est affreusement maigre, avec la peau sur les os et une mine qui fait froid dans le dos. Il déambule d'un pas lent et débraillé, donnant l'impression de pouvoir s'effondrer au sol à tout moment. Tu retentes ta chance. &lt;&lt;/a>> &lt;&lt;d mc>> Heu, monsieur ? &lt;&lt;/d>> &lt;&lt;a>> Il s'arrête et te regarde, surpris. Ses yeux sont injectés de sang et tu le vois sans cesse se gratter la peau sans même s'en rendre compte. C'est de toute évidence un camé en phase terminale. Mais contrairement aux autres, il semble prêt à échanger avec toi. &lt;&lt;/a>> &lt;&lt;qbutton "Lui demander où est Palmer" out:s1 in:s2>> &lt;/div> &lt;div id="s2"> &lt;&lt;d mc>> J-je recherche quelqu'un qui habite ici. Un homme appellé Palmer. V-vous le connaissez peut-être. &lt;&lt;/d>> &lt;&lt;a>> Le clodo réfléchit en se grattant la tête avec force, laissant une grand marque rouge au passage. Puis soudainement, son visage s'illumine. Il te fait un grand sourire. Le pauvre n'a quasiment plus de dents. Il te parle d'une voix à peine perceptible, en marmonnant. &lt;&lt;/a>> &lt;&lt;d palmer>> Palmer ? Ca m'dit kekchose. J'crois bin que sa maison est par là bas. &lt;&lt;/d>> &lt;&lt;a>> De sa main décharnée, il indique un long chemin bordé de maisons en tôles. &lt;&lt;/a>> &lt;&lt;d mc>> Et tu pourrais m'indiquer où exactement ? &lt;&lt;/d>> &lt;&lt;a>> Il te fait un autre grand sourire. &lt;&lt;/a>> &lt;&lt;d palmer>> T'sais mon p'tit gars, ici y'a tout qui s'discute hein, mais fo mettre le prix ki fo ! &lt;&lt;/d>> &lt;&lt;t>> Evidemment... &lt;&lt;/t>> &lt;&lt;qbutton "Lui demander combien il veut" out:s2 in:s3 in:choix>> &lt;/div> &lt;div id="s3"> &lt;&lt;d mc>> Et c'est quoi le prix qui faut ? &lt;&lt;/d>> &lt;&lt;a>> Le clodo réfléchit un instant. &lt;&lt;/a>> &lt;&lt;d palmer>> J'crois bin que le bon prix c'est 5$. &lt;&lt;/d>> &lt;&lt;d mc>> 5$ ? Oh bah ça va ! &lt;&lt;/d>> &lt;&lt;a>> Il semble confus quelques secondes, avant de vite se reprendre. &lt;&lt;/a>> &lt;&lt;d palmer>> Hein ? Ha, heu, non, 50$ j'ai dit ! Le bon prix c'est 50$, et ouais mon p'tit gars. &lt;&lt;/d>> &lt;&lt;t>> ... &lt;&lt;/t>> &lt;div id="s3-notenoughmoney"> &lt;&lt;t>> Je n'ai pas assez d'argent pour lui payer ses 50$. Je peux peut-être revenir plus tard quand je les aurai ? &lt;&lt;/t>> &lt;/div> &lt;/div> &lt;div id="s4-payer"> &lt;&lt;t>> Bon, je crois que je n'ai pas vraiment le choix. &lt;&lt;/t>> &lt;&lt;a>> Tu lui tends les 50$. Il les prend et les enfouit sans attendre dans son manteau. Il t'indique ensuite une direction. &lt;&lt;/a>> &lt;&lt;d palmer>> Prends l'chemin là, pis tu vas tomber sur l'arbre. Là tu prends à drouate, et y'aura la cabane du vieux Palmer. L'gars a mis du rouge partout sur sa tôle, t'pourras pas l'louper ! T'as d'autres questions p'tit gars ? &lt;&lt;/d>> &lt;&lt;d mc>> Non, j'ai tout ce qu'il me faut. &lt;&lt;/d>> &lt;&lt;a>> Tu remercies l'inconnu et tu continue ton chemin. &lt;&lt;/a>> &lt;&lt;t>> Yes ! Ca avance. Je me sens comme un enquêteur de film hollywoodien ! &lt;&lt;/t>> &lt;div class="choices"> [[Aller voir Palmer|SBFR-1-2-2]] &lt;/div> &lt;/div> &lt;div id="other-option"> &lt;&lt;d mc>> C'est trop cher pour moi, je vais trouver une autre solution. &lt;&lt;/d>> &lt;&lt;d palmer>> Comme t'veux mon gars. Mais ici t'vas pas avoir b'coup de gens qui parlent ! Si tu changes d'avis j'suis ici. &lt;&lt;/d>> &lt;&lt;a>> Tu continues d'errer dans les rues du bidonville. Tu essaies d'interpeller plusieurs personnes que tu croises, mais personne ne daigne te répondre. &lt;&lt;/a>> &lt;&lt;t>> Je crois que je n'ai pas le choix, je vais devoir faire affaire avec le clodo. &lt;&lt;/t>> &lt;/div> &lt;div id="s4-menace"> &lt;&lt;a>> Tu le regardes de la tête au pied. Il donne vraiment l'impression de pouvoir s'effonder à la moindre brise. &lt;&lt;/a>> &lt;&lt;t>> J-je ne peux pas laisser un clodo me racketer... &lt;&lt;/t>> &lt;&lt;a>> Tu prends une voix la plus menaçante possible. &lt;&lt;/a>> &lt;&lt;d mc>> Ecoute, Palmer doit de l'argent à des gens qu'il ne vaut pas faire chier. Si tu ne veux pas avoir de problème, t'as intérêt à me dire ce que tu sais tout de suite et sans poser de question. &lt;&lt;/d>> &lt;&lt;a>> Le clodo a un mouvement de recul et met ses mains devant lui en signe de défense. &lt;&lt;/a>> &lt;&lt;d palmer>> N-non c'est bon... J-je rigolais haha, le prends pas comme ça. &lt;&lt;/d>> &lt;&lt;t>> Ca... Ca a marché ? &lt;&lt;/t>> &lt;&lt;a>> Il t'indique une direction. &lt;&lt;/a>> &lt;&lt;d palmer>> Prends l'chemin là, pis tu vas tomber sur l'arbre. Là tu prends à drouate, et y'aura la cabane du vieux Palmer. L'gars a mis du rouge partout sur sa tôle, t'pourras pas l'louper ! T'as des questions p'tit gars ? &lt;&lt;/d>> &lt;&lt;d mc>> Tu as fait le bon choix. &lt;&lt;/d>> &lt;&lt;t>> Yes ! Ca avance. Je me sens comme un enquêteur de film hollywoodien ! &lt;&lt;/t>> &lt;div class="choices"> [[Aller voir Palmer|SBFR-1-2-2]] &lt;/div> &lt;/div> &lt;div id="waitingforinfo"> &lt;&lt;a>> Tu retournes à l'endroit où tu avais rencontré le clodo. Il est là et vient vers toi. &lt;&lt;/a>> &lt;&lt;d palmer>> Alors mon p'tit gars, t'as décidé de changer d'avis ? &lt;&lt;/d>> &lt;/div> &lt;div class="choices" id="choix"> &lt;&lt;button "Le payer">> &lt;&lt;if setup.canBuy(50)>> &lt;&lt;dunshow s3 other-option waitingforinfo choix>> &lt;&lt;franc -50>> &lt;&lt;dshow s4-payer>> &lt;&lt;blacked 5>> &lt;&lt;pushevent sdf 1>> &lt;&lt;endevent sdf 2 1>> &lt;&lt;else>> &lt;&lt;dshow s3-notenoughmoney>> &lt;&lt;/if>> &lt;&lt;/button>> &lt;&lt;button "Chercher une autre solution">> &lt;&lt;dunshow s3 other-option waitingforinfo choix>> &lt;&lt;dshow other-option waitingforinfo choix>> &lt;&lt;run setup.setQuest("rivalmission", "option", "waitingforinfo")>> &lt;&lt;/button>> &lt;&lt;button "Le menacer">> &lt;&lt;dunshow s3 other-option waitingforinfo choix>> &lt;&lt;dshow s4-menace>> &lt;&lt;endevent sdf 1 1>> &lt;&lt;pushevent sdf 2>> &lt;&lt;whited 5>> &lt;&lt;/button>> &lt;/div> &lt;&lt;unshow2 s2 s3 s3-notenoughmoney s4-payer s4-menace other-option>> &lt;&lt;unshow2 waitingforinfo choix>> &lt;&lt;if setup.getQuest("rivalmission", "option") == "waitingforinfo">> &lt;&lt;unshow2 s1>> &lt;&lt;show2 waitingforinfo choix>> &lt;&lt;/if>></tw-passagedata><tw-passagedata name=PART-2-4-2 position=8978,3482 size=100,100 tags=""pid=39>&lt;&lt;set $person.palmer.name = "Palmer">> &lt;div id="s1"> &lt;&lt;image data/places/sdf/palmer_house.jpg 100>> &lt;&lt;a>> Tu rentres dans le taudis de Palmer. Il est là, à ne rien faire. &lt;&lt;/a>> &lt;&lt;d mc>> Palmer !! &lt;&lt;/d>> &lt;&lt;a>> Il retourne sa carcasse vers toi. Visiblement mal à l'aise. &lt;&lt;/a>> &lt;&lt;d palmer>> Oh b'jour mon ami ! T'as trouvé l'vieux Palmer ? &lt;&lt;/d>> &lt;&lt;qbutton "Arrête de te foutre de ma gueule" out:s1 in:s2>> &lt;/div> &lt;div id="s2"> &lt;&lt;d mc>> Arrête de te foutre de moi, je sais que c'est toi Palmer ! &lt;&lt;/d>> &lt;&lt;a>> Le vieillard baisse la tête. &lt;&lt;/a>> &lt;&lt;d palmer>> D-désolé... &lt;&lt;/d>> &lt;&lt;d mc>> Tu m'as bien niqué ! &lt;&lt;/d>> &lt;&lt;a>> Il ne répond pas. &lt;&lt;/a>> &lt;&lt;if setup.isEvent("sdf", 1)>> &lt;&lt;d mc>> Tu vas rendre les 50 balles que tu dois à $nameb. &lt;&lt;/d>> &lt;&lt;else>> &lt;&lt;d mc>> Tu vas me rendre les 50 balles que tu m'as arnaqué et les 50 balles que tu dois à $nameb. &lt;&lt;/d>> &lt;&lt;/if>> &lt;&lt;d palmer>> M-m-mais j'ai rien ! J'ai rien du tout... &lt;&lt;/d>> &lt;&lt;d mc>> On arrête de jouer maintenant. Vide tes poches sans poser de question. &lt;&lt;/d>> &lt;&lt;qbutton "Regarder ce qu'il possède" out:s2 in:s3>> &lt;/div> &lt;div id="s3"> &lt;&lt;a>> Il vide les poches de son manteau sur le sol. Il y a des babioles, des déchets, mais aussi un peu d'argent. &lt;&lt;/a>> &lt;&lt;d mc>> Toutes tes poches. &lt;&lt;/d>> &lt;&lt;a>> Il grommèle mais s'exécute à contre coeur. Il vide les poches intérieurs de son manteau sur le sol. Tu vois plusieurs billets tomber sur le sol. &lt;&lt;/a>> &lt;&lt;d palmer>> C'est tout qu'est-ce que je possède. Toute ma vie est devant toi mon gars. &lt;&lt;/d>> &lt;&lt;a>> Le vieux a la voix qui tremble. Il demande ta clémence. &lt;&lt;/a>> &lt;&lt;d palmer>> J-je t'en supplie, m'prends pas mes biens, c'est tout qu'est-ce que j'ai pour vivre ! J-J'essaie d'm'en sortir, j'ai même arrêté la drogue dis ! T'vas faire retomber l'vieux Palmer tout en bas si tu lui prends c'qu'il a ! S-s'il te plait, laisse moi qu'est-ce que j'ai. T'pourras dire à $nameb que tu ne m'as pas trouvé ! Ou que je suis mort ! Hein t'en dis quoi ?? &lt;&lt;/d>> &lt;&lt;a>> Il te supplie pendant de longues minutes de lui laisser l'argent. Il en a besoin pour vivre et pour se nourrir. &lt;&lt;/a>> &lt;div class="choices"> &lt;&lt;button "Prendre tout ce qu'il a">> &lt;&lt;dunshow s3>> &lt;&lt;dshow take-all>> &lt;&lt;pushevent sdf 3>> &lt;&lt;feedback "Tu as ruiné Palmer" "friendly" "big" "fas fa-user-friends">> &lt;&lt;run setup.setQuest("rivalmission", "status", "done")>> &lt;&lt;if setup.isEvent("sdf", 1)>> &lt;&lt;franc 162>> &lt;&lt;else>> &lt;&lt;franc 212>> &lt;&lt;/if>> &lt;&lt;/button>> &lt;&lt;button "Prendre ce qu'il te doit">> &lt;&lt;dunshow s3>> &lt;&lt;dshow take-need>> &lt;&lt;pushevent sdf 4>> &lt;&lt;run setup.setQuest("rivalmission", "status", "done")>> &lt;&lt;if setup.isEvent("sdf", 1)>> &lt;&lt;franc 50>> &lt;&lt;else>> &lt;&lt;franc 100>> &lt;&lt;/if>> &lt;&lt;/button>> &lt;&lt;button "Lui laisser l'argent">> &lt;&lt;dunshow s3>> &lt;&lt;dshow take-nothing>> &lt;&lt;pushevent sdf 5>> &lt;&lt;feedback "Tu es devenu ami avec Palmer" "friendly" "big" "fas fa-user-friends">> &lt;&lt;run setup.setQuest("rivalmission", "status", "done")>> &lt;&lt;blacked 5>> &lt;&lt;/button>> &lt;/div> &lt;/div> &lt;div id="take-all"> &lt;&lt;a>> Tu prends tout l'argent qui traîne par terre et le fourre dans ta poche. &lt;&lt;/a>> &lt;&lt;d palmer>> P-pourquoi t'prends tout ? S'il te plait laisse moi en ! Laisse moi de quoi manger... &lt;&lt;/d>> &lt;&lt;a>> Le pauvre vieillard fond en larme devant toi. &lt;&lt;/a>> &lt;&lt;d mc>> Tu peux aller voir Kacey, elle a sans doute du travail pour les gens comme toi. &lt;&lt;/d>> &lt;&lt;d palmer>> Comment je vais faire moi ? T'es en train d'me tuer !! &lt;&lt;/d>> &lt;&lt;a>> Sans un regard en arrière, tu quittes son taudis pour retourner dans la rue. &lt;&lt;/a>> &lt;&lt;t>> Il a essayé de m'arnaquer, il n'a que ce qu'il mérite ! Et j'ai même réussi à me faire un peu de thune au passage. Je ne suis pas si mauvais que ça dans ce genre de business au final. :) &lt;&lt;/t>> &lt;div class="choices"> [[Retourner dans la rue|DOM-2-6-4]] &lt;/div> &lt;/div> &lt;div id="take-need"> &lt;&lt;a>> Tu te sers dans le tas de billets, et tu prends ce qu'il te doit. &lt;&lt;/a>> &lt;&lt;d mc>> Tu as de la chance, je suis réglo. Je te prends uniquement ce que tu dois même si tu mériterais que je te dépouille complètement... &lt;&lt;/d>> &lt;&lt;d palmer>> M-merci de me laisser un peu p'tit gars... &lt;&lt;/d>> &lt;&lt;t>> Il a essayé de m'arnaquer, mais je suis resté correct avec lui. J'ai fait ce que j'avais à faire, maintenant je retourne voir $nameb. &lt;&lt;/t>> &lt;div class="choices"> [[Retourner dans la rue|DOM-2-6-4]] &lt;/div> &lt;/div> &lt;div id="take-nothing"> &lt;&lt;t>> Quelle personne je deviendrai en volant ce pauvre vieillard ? &lt;&lt;/t>> &lt;&lt;d mc>> Je comprends ta situation Palmer. J-je vais m'arranger avec $nameb. &lt;&lt;/d>> &lt;&lt;a>> Le vieillard se jette à tes pieds, fou de joie. &lt;&lt;/a>> &lt;&lt;d palmer>> Merci ! Merci, t'es un bon gars toi !! &lt;&lt;/d>> &lt;&lt;d mc>> Appelle moi $namemc. &lt;&lt;/d>> &lt;&lt;d palmer>> Merci $namemc. T'pourras revenir m'voir quand t'veux ! J'connais bin l'bsosquet, p't-être qu'un jour j'pourrai t'aider en r'tour ! &lt;&lt;/d>> &lt;&lt;a>> Il est tard, tu préfères ne pas t'attarder. Tu salues le vieillard qui se perd encore en remerciements, et tu quittes son taudis pour retourner dans la rue. &lt;&lt;/a>> &lt;&lt;t>> Je ne pourrai pas raconter ce que je viens de faire à $nameb, c'est trop risqué pour moi. Il va falloir que je lui donne ces 50$ de ma poche... &lt;&lt;/t>> &lt;div class="choices"> [[Retourner dans la rue|DOM-2-6-4]] &lt;/div> &lt;/div> &lt;&lt;unshow2 take-all take-need take-nothing>> &lt;&lt;unshow2 s2 s3>></tw-passagedata><tw-passagedata name=STORY-2-6-5 position=3195,8893 size=100,100 tags=""pid=40>&lt;div id="initial"> &lt;&lt;image data/places/sdf/palmer_house.jpg 100>> &lt;&lt;a>> Tu rentres dans le tas de tôles. La porte n'est pas fermée, tu rentres. A l'intérieur, tu ne vois que babioles sans doute récupérées dans les poubelles. &lt;&lt;/a>> &lt;/div> &lt;div id="initial2"> &lt;&lt;t>> C'est donc ici que vit cet enfoiré ? Quelle misère... &lt;&lt;/t>> &lt;/div> &lt;div id="ruine"> &lt;&lt;a>> Palmer est agenouillé dans un coin du taudis. Il lève difficilement la tête pour voir qui est rentré. &lt;&lt;/a>> &lt;&lt;d palmer>> Ah, c'toi. Qu'est-ce t'veux encore au vieux Palmer ? Tu lui as déjà tout pris. &lt;&lt;/d>> &lt;&lt;a>> Je ferais mieux de partir. &lt;&lt;/a>> &lt;/div> &lt;div id="neutral"> &lt;&lt;a>> Palmer est agenouillé dans un coin du taudis. Il lève la tête pour voir qui est rentré. &lt;&lt;/a>> &lt;&lt;d palmer>> T'es v'nu m'prendre c'qui m'reste ? &lt;&lt;/d>> &lt;&lt;a>> Je ferais mieux de partir. &lt;&lt;/a>> &lt;/div> &lt;div id="ami"> &lt;&lt;a>> Palmer est agenouillé dans un coin du taudis. En te voyant il se relève aussitôt pour venir te saluer. Il a l'air content de te voir. &lt;&lt;/a>> &lt;&lt;d palmer>> Alors mon ami, dis moi c'que peut faire l'vieux Palmer pour t'aider ? &lt;&lt;/d>> &lt;&lt;a>> Tu lui retournes son sourire. &lt;&lt;/a>> &lt;/div> &lt;div class="choices" id="end"> [[Sortir de la "maison" de Palmer|DOM-2-6-4]] &lt;/div> &lt;&lt;unshow2 ruine neutral ami>> &lt;&lt;if setup.getQuest("rivalmission", "num") == 2 && setup.getQuest("rivalmission", "status") == "active" && setup.isNight() && setup.oneshot("palmerrencontremaison")>> &lt;&lt;unshow2 initial initial2 end>> &lt;&lt;include PART-2-4-2>> &lt;&lt;elseif setup.isNight()>> &lt;&lt;unshow2 initial2>> &lt;&lt;if setup.isEvent("sdf", 3)>> &lt;&lt;show2 ruine>> &lt;&lt;elseif setup.isEvent("sdf", 4)>> &lt;&lt;show2 neutral>> &lt;&lt;elseif setup.isEvent("sdf", 5)>> &lt;&lt;show2 ami>> &lt;&lt;/if>> &lt;&lt;/if>></tw-passagedata><tw-passagedata name=SCHOOL-1-3-4 position=1776,1102 size=100,100 tags=""pid=41>&lt;&lt;if setup.isNight()>> &lt;&lt;ambiance city_ambiance_night>> &lt;&lt;image data/places/city/city_night.jpg 100>> &lt;&lt;else>> &lt;&lt;setColors reset>> &lt;&lt;ambiance city_ambiance_day>> &lt;&lt;image data/places/city/city.jpg 100>> &lt;&lt;/if>> &lt;style> .city-center-places { display: flex; flex-wrap: wrap; } .city-center-element { align-self: center; flex: 1 0 48%; margin: 5px; font-size: initial; border: none; padding: 0px; transition: none; background: none; color: initial; white-space: initial; max-width: 50%; } .city-center-element:after, .city-center-element:before { content: none; } .city-center-element img { border: none; border-radius: 0px; margin-left: 0%; } .city-center-element:hover { text-decoration: none; color: initial; background: none; border: none; } .city-center-element.link-internal:hover { margin: 5px; } #park img { border: 2px solid white; border-radius: 10px; margin-left: auto; margin-right: auto; } .city-center-element .message-discuss { width: 22em; margin-left: 2%; } &lt;/style> &lt;&lt;if setup.turnOff("massagejobfired")>> &lt;&lt;t>> $namemc ou l'art de perdre son job pour rien. Comment je vais trouver de l'argent maintenant ?! &lt;&lt;/t>> &lt;&lt;/if>> &lt;&lt;if setup.turnOff("livraisonducolismassage")>> &lt;&lt;t>> Bon, le colis est livré, il faut que je retourne voir $nameb pour lui ramener l'argent. &lt;&lt;/t>> &lt;&lt;a>> Tu sens dans ta poche l'épaisse liasse de billets. Tu la tâtes régulièrement pour vérifier qu'elle est toujours là. &lt;&lt;/a>> &lt;&lt;/if>> &lt;hr style="border: 1px solid #838383"> &lt;div class="city-center-places"> &lt;&lt;if $events.place[2]>> &lt;&lt;if setup.isNight()>> &lt;a class="city-center-element" data-passage="LOOP-2-5-1"> &lt;div class="nightclub-logo"> &lt;div class="nightclub-neon-one mini activate">$city.nightclub.name&lt;/div> &lt;div class="nightclub-neon-two mini activate">Club&lt;/div> &lt;/div> &lt;/a> &lt;&lt;else>> &lt;a class="city-center-element" data-passage="LOOP-2-5-1"> &lt;div class="nightclub-logo"> &lt;div class="nightclub-neon-one mini">$city.nightclub.name&lt;/div> &lt;div class="nightclub-neon-two mini">Club&lt;/div> &lt;/div> &lt;/a> &lt;&lt;/if>> &lt;&lt;/if>> &lt;&lt;if $events.place[3]>> &lt;a class="city-center-element" data-passage="INDEX-1-8-0"> &lt;div class="pop mini"> &lt;div class="main mini"> &lt;div class="border mini"> &lt;div class="inner-cutout mini"> &lt;h1 class="knockout mini"> Lan fù&lt;br>Massage &lt;/h1> &lt;/div> &lt;/div> &lt;/div> &lt;/div> &lt;/a> &lt;&lt;/if>> &lt;&lt;if $events.place[4]>> &lt;a class="city-center-element" data-passage="VIRT-2-3-2"> &lt;&lt;image data/places/bank/bank_logo.jpg 80>> &lt;/a> &lt;&lt;/if>> &lt;&lt;if $events.place[5]>> &lt;a class="city-center-element" id="park" data-passage="LOOP-0-3-0"> &lt;&lt;image data/places/park/park_logo.jpg 50>> &lt;/a> &lt;&lt;/if>> &lt;&lt;if $events.place[6]>> &lt;a class="city-center-element" id="park" data-passage="DOM-2-6-4"> &lt;&lt;image data/places/sdf/sdf_logo.jpg 50>> &lt;/a> &lt;&lt;/if>> &lt;&lt;if $events.place[1] && not setup.isNight() && not setup.isDailyEvent('housebf')>> &lt;a class="city-center-element" data-passage="MALL-1-6-5"> &lt;&lt;d bf noname>> Se rendre chez $namebf &lt;&lt;/d>> &lt;/a> &lt;&lt;/if>> &lt;&lt;if not setup.isNight() && not setup.isDailyEvent('housegf')>> &lt;a class="city-center-element" data-passage="FBRO-0-1-3"> &lt;&lt;d gf noname>> Se rendre chez $namegf &lt;&lt;/d>> &lt;/a> &lt;&lt;/if>> &lt;/div> &lt;&lt;if $city.toDiscover.length > 0>> &lt;&lt;unshow2 end-city>> &lt;&lt;/if>> &lt;hr style="border: 1px solid #838383"> &lt;div id="end-city"> &lt;&lt;d author>> Tu as découvert tous les lieux ! La ville de $namecity est en construction. Le contenu actuel sert d'aperçu, et me permet de récolter vos retours et vos conseils. La ville aura une vingtaines de lieux répartis en 4 quartiers avec chacun sa spécificité, son ambiance, ses quêtes, ses lieux secrets, ses jobs, etc. &lt;&lt;/d>> &lt;/div> &lt;div class="choices" id="city-choices-day"> &lt;&lt;button "Explorer la ville" WIDGET-2-5-1 before:exploration before:nextInstant>> &lt;&lt;/button>> &lt;&lt;button "Retourner à la maison" FBRO-2-3-0 before:home>> &lt;&lt;/button>> &lt;/div> &lt;&lt;if setup.isNight()>> &lt;&lt;unshow2 city-choices-day>> &lt;&lt;else>> &lt;&lt;unshow2 city-choices-night>> &lt;&lt;/if>> &lt;div id="city-choices-night"> &lt;&lt;a>> Tu préfères ne pas visiter la ville de nuit. $namecity City n'est pas une ville sûre. &lt;&lt;/a>> &lt;div class="choices"> &lt;&lt;button "Retourner à la maison" FBRO-2-3-0 before:home>> &lt;&lt;/button>> &lt;/div> &lt;/div></tw-passagedata><tw-passagedata name=WIDGET-2-5-1 position=9095,4127 size=100,100 tags=""pid=42>&lt;&lt;if setup.isNight()>> &lt;&lt;ambiance nightclub_ambiance_night>> &lt;&lt;/if>> &lt;&lt;nextInstant>> &lt;&lt;unshow2 city-random-1 city-random-2 city-discovering>> &lt;&lt;set _maxDiscoverId = 5>> &lt;&lt;set _random = random(100)>> &lt;&lt;set $getNewPlace = setup.isDiscoverPlace()>> &lt;&lt;if $getNewPlace != -1>> &lt;&lt;pushevent place $getNewPlace[0]>> &lt;&lt;show2 city-discovering>> &lt;&lt;else>> &lt;&lt;if random(1) == 0>> &lt;&lt;show2 city-random-1>> &lt;&lt;else>> &lt;&lt;show2 city-random-2>> &lt;&lt;unshow2 city-random-2-result>> &lt;&lt;excitation 5>> &lt;&lt;/if>> &lt;&lt;/if>> &lt;&lt;a>> Tu marches au hasard dans les rues du centre ville. &lt;&lt;/a>> &lt;div id="city-random-1"> &lt;&lt;a>> Les rues sont belles, et tu apprécies à chaque inspiration le petit goût de pot d'échappement de l'air. &lt;&lt;/a>> &lt;/div> &lt;div id="city-random-2"> &lt;&lt;a>> Au détour d'une rue, tu vois un café avec pleins de jolies filles qui papotent autour d'une table. Une en particulier capte ton attention. &lt;&lt;/a>> &lt;&lt;image data/places/city/random/0.jpg 50>> &lt;div class="choices" id="city-random-2-choices"> &lt;&lt;button "L'aborder">> &lt;&lt;show city-random-2-result>> &lt;&lt;unshow city-random-2-choices>> &lt;&lt;/button>> &lt;/div> &lt;div id="city-random-2-result"> &lt;&lt;a>> Tu es trop timide pour aborder cette fille. &lt;&lt;/a>> &lt;/div> &lt;/div> &lt;div id="city-discovering"> &lt;&lt;a>> Au détour d'une rue, un bâtiment t'interpelle. Tu viens de découvrir un nouveau point d'intérêt ! &lt;&lt;/a>> &lt;/div> &lt;div class="choices"> [[Retour|SCHOOL-1-3-4]] &lt;/div></tw-passagedata><tw-passagedata name=LOOP-2-5-1 position=2590,8643 size=100,100 tags=""pid=43>&lt;&lt;if setup.isNight()>> &lt;&lt;ambiance nightclub_ambiance_night>> &lt;&lt;else>> &lt;&lt;ambiance city_ambiance_day>> &lt;&lt;/if>> &lt;&lt;if setup.isNight()>> &lt;div class="nightclub-logo"> &lt;div class="nightclub-neon-one activate">$city.nightclub.name&lt;/div> &lt;div class="nightclub-neon-two activate">Club&lt;/div> &lt;/div> &lt;&lt;else>> &lt;div class="nightclub-logo"> &lt;div class="nightclub-neon-one">$city.nightclub.name&lt;/div> &lt;div class="nightclub-neon-two">Club&lt;/div> &lt;/div> &lt;&lt;/if>> &lt;&lt;if setup.isNight()>> &lt;&lt;unshow2 journey>> &lt;&lt;else>> &lt;&lt;unshow2 night>> &lt;&lt;/if>> &lt;div id="journey"> &lt;&lt;a>> Tu vois une affiche plaquée sur la porte : Bienvenue au $city.nightclub.name Club ! Nous sommes fermés en journée, revenez plus tard.. &lt;&lt;/a>> &lt;div class="choices"> [[S'éloigner|SCHOOL-1-3-4]] &lt;/div> &lt;/div> &lt;div id="night"> &lt;&lt;a>> Tu entends au loin une musique étouffée. En t'approchant, tu te rends compte qu'il s'agit du nightclub. De grands néons lumineux brisent la noirceur de la nuit et éclairent l'espace devant le club. Dehors, plusieurs personnes, visiblement éméchés, fument et parlent très fort. &lt;&lt;/a>> &lt;&lt;image data/places/nightclub/bouncer.jpg>> &lt;&lt;a>> Un videur est posé devant la porte d'entrée, les bras croisés, le regard caché derrière d'opaques lunettes noires. Tu sens ses yeux te suivre du regard alors que tu passes devant la boîte de nuit. &lt;&lt;/a>> &lt;&lt;d author>> Le Club sera bientôt accessible. :) &lt;&lt;/d>> &lt;div class="choices"> [[S'éloigner|SCHOOL-1-3-4]] &lt;/div> &lt;/div></tw-passagedata><tw-passagedata name=DREAM-1-4-4 position=2314,728 size=100,100 tags=""pid=44>&lt;&lt;nextInstant>> &lt;&lt;excitation 10>> &lt;&lt;if !setup.isNight()>> &lt;&lt;setColors #005e25 #eff4ff>> &lt;&lt;/if>> &lt;div id="park-bronzage"> &lt;&lt;set _choicesList = [ ["data/places/park/s/0.jpg", 0], ["data/places/park/s/1.jpg", 0], ["data/places/park/s/2.jpg", 0], ["data/places/park/s/s0.jpg", 1], ["data/places/park/s/s1.jpg", 1], ["data/places/park/s/s2.jpg", 1], ["data/places/park/s/s3.jpg", 1], ["data/places/park/s/s4.jpg", 1] ]>> &lt;&lt;set _choice = random(0, _choicesList.length - 1)>> &lt;&lt;a>> Tu te mets torse nu et t'allonges sur l'herbe fraîche. Tu relèves de temps en temps la tête pour regarder autour de toi. &lt;&lt;/a>> &lt;&lt;set _lol = _choicesList[_choice][0]>> &lt;&lt;image _lol>> &lt;&lt;if _choicesList[_choice][1] == 1>> &lt;&lt;t>> Depuis que la loi sur l'égalité homme-femme a légalisé les seins nus, les femmes se lâchent beaucoup plus... &lt;&lt;/t>> &lt;&lt;/if>> &lt;&lt;t>> Peut-être qu'un jour j'oserai aller les aborder. &lt;&lt;/t>> &lt;div class="choices"> [[Se rhabiller|LOOP-0-3-0]] &lt;/div> &lt;/div></tw-passagedata><tw-passagedata name=LOOP-0-3-0 position=9118,4782 size=100,100 tags=""pid=45>&lt;&lt;if setup.isNight()>> &lt;&lt;ambiance city_ambiance_night>> &lt;&lt;image data/places/park/park_night.jpg 100>> &lt;&lt;else>> &lt;&lt;ambiance park_ambiance_day>> &lt;&lt;image data/places/park/park_day.jpg 100>> &lt;&lt;setColors #005e25 #eff4ff>> &lt;&lt;/if>> &lt;div id="initial-day"> &lt;&lt;a>> Le parc de la ville de $namecity est un petit morceau de paradis au milieu d'un monde de béton. S'étendant sur plusieurs kilomètres carrés, elle est couverte d'une prairie sur laquelle la jeunesse de la ville vient bronzer et se détendre, et d'une forêt épaisse traversée par le fleuve de la ville. &lt;&lt;/a>> &lt;/div> &lt;div id="initial-night"> &lt;&lt;a>> Le parc de la ville, la nuit. L'ambiance n'est pas du tout la même qu'en journée. &lt;&lt;/a>> &lt;&lt;t>> Je préfère ne pas m'aventurer plus profondément dans le parc, on entend trop d'histoires sordides sur ce qui s'y passe la nuit. &lt;&lt;/t>> &lt;/div> &lt;div class="choices" id="park-choices-day"> &lt;&lt;button "Bronzer" before:nextInstant>> &lt;&lt;goto DREAM-1-4-4>> &lt;&lt;/button>> &lt;&lt;button "S'enfoncer dans les bois" before:nextInstant>> &lt;&lt;goto LOOP-1-5-3>> &lt;&lt;/button>> [[Retourner dans la rue|SCHOOL-1-3-4]] &lt;/div> &lt;div class="choices" id="park-choices-night"> [[Retourner dans la rue|SCHOOL-1-3-4]] &lt;/div> &lt;&lt;if setup.isNight()>> &lt;&lt;unshow2 park-choices-day initial-day>> &lt;&lt;else>> &lt;&lt;unshow2 park-choices-night initial-night>> &lt;&lt;/if>></tw-passagedata><tw-passagedata name=LOOP-1-5-3 position=2027,8308 size=100,100 tags=""pid=46>&lt;&lt;nextInstant>> &lt;&lt;if !setup.isNight()>> &lt;&lt;setColors #005e25 #eff4ff>> &lt;&lt;/if>> &lt;&lt;image data/places/park/forest.jpg>> &lt;&lt;a>> La forêt du parc est très dense. &lt;&lt;/a>> &lt;div class="choices"> &lt;div id="button-wood-path"> &lt;&lt;button "Suivre le petit chemin">> &lt;&lt;unshow wood-deep wood-water button-wood-path>> &lt;&lt;set _choice = random(0, 4)>> &lt;&lt;if _choice == 0>> &lt;&lt;show wood-path>> &lt;&lt;show wood-path-junkie>> &lt;&lt;elseif _choice == 1>> &lt;&lt;show wood-path>> &lt;&lt;show wood-path-prostitute>> &lt;&lt;else>> &lt;&lt;show wood-path>> &lt;&lt;show wood-path-fresh>> &lt;&lt;/if>> &lt;&lt;/button>> &lt;/div> &lt;div id="button-wood-deep"> &lt;&lt;button "Couper à travers la brousse">> &lt;&lt;unshow wood-path wood-water button-wood-deep>> &lt;&lt;set _choice = random(0, 4)>> &lt;&lt;if _choice == 0>> &lt;&lt;show wood-deep>> &lt;&lt;show wood-deep-sex-1>> &lt;&lt;excitation 20>> &lt;&lt;elseif _choice == 1>> &lt;&lt;show wood-deep>> &lt;&lt;show wood-deep-sex-2>> &lt;&lt;excitation 20>> &lt;&lt;else>> &lt;&lt;show wood-deep>> &lt;&lt;show wood-deep-fresh>> &lt;&lt;excitation -10>> &lt;&lt;/if>> &lt;&lt;/button>> &lt;/div> &lt;div id="button-wood-water"> &lt;/div> [[Quitter la forêt|LOOP-0-3-0]] &lt;/div> &lt;div id="wood-path"> &lt;div id="wood-path-junkie"> &lt;&lt;image data/places/park/forest_ruin.jpg 50>> &lt;&lt;a>> Tu tombes sur une ruine abandonnée. Par terre, tu peux voir des tas de seringues usagées au milieu de bris de canettes de bière explosées. &lt;&lt;/a>> &lt;&lt;t>> Ca doit être le squat des junkies. J'en avais entendu parler au journal télévisé, le maire de $namecity voulait les déloger pour que le parc "retrouve sa tranquilité". &lt;&lt;/t>> &lt;&lt;a>> Tu peux encore sentir leurs activités de la nuit passée. &lt;&lt;/a>> &lt;/div> &lt;div id="wood-path-prostitute"> &lt;&lt;image data/places/park/forest_caravan.jpg 60>> &lt;&lt;a>> Tu découvres un espace plus ouvert où la végétation se fait moins dense. Il y a plusieurs caravanes et véhicules abandonnés. Des couvertures jonchent le sol, recouvertent par des capotes usagées. &lt;&lt;/a>> &lt;&lt;t>> Je n'ai même pas envie de savoir à quoi sert cet endroit. &lt;&lt;/t>> &lt;&lt;a>> Certaines capotes semblent très récentes... &lt;&lt;/a>> &lt;/div> &lt;div id="wood-path-fresh"> &lt;&lt;a>> L'air frais de la fôret te fait du bien et te rafraichit l'esprit. Tu es un peu moins excité. &lt;&lt;/a>> &lt;/div> &lt;/div> &lt;div id="wood-deep"> &lt;div id="wood-deep-sex-1"> &lt;&lt;a>> Au hasard d'un bosquet, tu entends des gémissements. Tu t'approches pour voir ce qu'il se passe. &lt;&lt;/a>> &lt;&lt;t>> Oh la salope ! &lt;&lt;/t>> &lt;&lt;a>> Une fille à l'allure de petite bourgeoise se masturbe sans se cacher. Le spectacle est magnifique. &lt;&lt;/a>> &lt;&lt;video data/places/park/h/1/0.webm>> &lt;div class="choices" id="wood-deep-sex-1-choice"> &lt;&lt;button "Demander si tu peux aider">> &lt;&lt;show wood-deep-sex-1-0>> &lt;&lt;unshow wood-deep-sex-1-choice>> &lt;&lt;/button>> &lt;div id="masturbate"> &lt;&lt;button "Se masturber" after:whited-1>> &lt;&lt;unshow wood-deep-sex-1-choice>> &lt;&lt;if setup.getWhitedLevel() >= 5>> &lt;&lt;oneshot "park-wood-girl-1">> &lt;&lt;show wood-deep-sex-1-2>> &lt;&lt;excitation -100>> &lt;&lt;else>> &lt;&lt;unshow wood-deep-sex-1-choice>> &lt;&lt;show wood-deep-sex-1-choice-2>> &lt;&lt;/if>> &lt;&lt;/button>> &lt;/div> &lt;&lt;if setup.isOneshot("park-wood-girl-1")>> &lt;&lt;button "Se masturber devant elle" after:whited-2>> &lt;&lt;unshow wood-deep-sex-1-choice>> &lt;&lt;if setup.getWhitedLevel() >= 6>> &lt;&lt;oneshot "park-wood-girl-2">> &lt;&lt;show wood-deep-sex-1-1>> &lt;&lt;excitation -100>> &lt;&lt;else>> &lt;&lt;unshow wood-deep-sex-1-choice>> &lt;&lt;show wood-deep-sex-1-choice-2>> &lt;&lt;/if>> &lt;&lt;/button>> &lt;&lt;/if>> &lt;/div> &lt;div id="wood-deep-sex-1-choice-2"> &lt;&lt;t>> Non, je ne vais quand même pas faire ça. &lt;&lt;/t>> &lt;div class="choices"> &lt;&lt;button "Demander si tu peux aider">> &lt;&lt;show wood-deep-sex-1-0>> &lt;&lt;unshow wood-deep-sex-1-choice-2>> &lt;&lt;/button>> &lt;/div> &lt;/div> &lt;/div> &lt;div id="wood-deep-sex-1-0"> &lt;&lt;a>> Tu t'approches pour être visible. La rouquine n'a pas l'air surpris de voir quelqu'un. &lt;&lt;/a>> &lt;&lt;d mc>> Tu... Tu veux de l'aide ? &lt;&lt;/d>> &lt;&lt;d f>> Hm, nan, désolé, tu n'es pas mon type... &lt;&lt;/d>> &lt;&lt;t>> Oh la grosse salope ! &lt;&lt;/t>> &lt;/div> &lt;div id="wood-deep-sex-1-1"> &lt;&lt;a>> La situation t'excite. Tu viens te mettre contre un arbre, bien en évidence pour qu'elle te voit. Tu dézippes ta braguette, tu sors ta queue, et tu te caresses en la regardant. Elle te remarque rapidement, et tu sens ses mouvements devenir plus sensuels. Elle continue de se branler sans quitter ta queue des yeux. &lt;&lt;/a>> &lt;&lt;a>> Au bout d'un moment, elle se lève et s'approche de toi. Sans un mot ni un regard, elle se met à genoux devant toi. Elle prend ta bite en main et se met à la masturber. Tu vois son autre main s'agiter au fond de sa culotte. &lt;&lt;/a>> &lt;&lt;a>> La belle inconnue te branle dans les bois pendant plusieurs minutes. Alors que t'es sur le point d'exploser, elle te présente ses deux beaux seins blancs. &lt;&lt;/a>> &lt;&lt;d f>> Vide toi sur mes seins s'il te plait. &lt;&lt;/d>> &lt;&lt;t>> Avec plaisir... &lt;&lt;/t>> &lt;&lt;video data/places/park/h/1/1.webm>> &lt;&lt;a>> Tu souilles cette salope bourgeoise en giclant sur sa poitrine offerte. Une fois fait, elle réajuste son haut et disparait dans la forêt. &lt;&lt;/a>> &lt;&lt;t>> Wow. C'était... chaud. &lt;&lt;/t>> &lt;/div> &lt;div id="wood-deep-sex-1-2"> &lt;&lt;a>> Tu te caches derrière un arbre pour ne pas te faire repéré, et tu sors ta queue pour la branler. Tu as du mal à croire ce que tu es en train de faire. &lt;&lt;/a>> &lt;&lt;a>> Tu regardes une dernière fois autour de toi pour vérifier qu'il n'y a personne, puis tu te concentres sur la fille. Tu vois ses cuisses bien écartées et sa chatte bien visible, comme si elle voulait l'offrir au monde. Ses petits gémissements réguliers et très sonores t'excitent. &lt;&lt;/a>> &lt;&lt;t>> Elle cherche à attirer les gens... &lt;&lt;/t>> &lt;&lt;a>> La bouche ouverte et les yeux fermés, tu sens qu'elle va bientôt jouïr. Plus rien n'existe autour d'elle à part son plaisir, et tu imagines bien à quoi elle pense en ce moment. Dans un dernier gémissement, elle jouit. Tu éjacules en même temps qu'elle. &lt;&lt;/a>> &lt;&lt;a>> Essoufflé, tu remontes vite ton pantalon pour t'en aller. &lt;&lt;/a>> &lt;/div> &lt;div id="wood-deep-sex-2"> &lt;&lt;a>> Entre deux arbres, tu tombes nez à nez avec un vieux qui se masturbe. Tu le vois agiter sa queue en te regardant. Il a l'air content qu'enfin quelqu'un se pointe. &lt;&lt;/a>> &lt;&lt;t>> Oh putain... &lt;&lt;/t>> &lt;&lt;video data/places/park/h/m.webm>> &lt;&lt;d m>> Vas-y montre moi la tienne. &lt;&lt;/d>> &lt;div class="choices" id="wood-deep-sex-2-choice"> &lt;&lt;button "S'en aller">> &lt;&lt;unshow wood-deep-sex-2-choice>> &lt;&lt;show wood-deep-sex-2-0>> &lt;&lt;/button>> &lt;&lt;button "Déboutonner ton jean" after:blacked-1>> &lt;&lt;unshow wood-deep-sex-2-choice>> &lt;&lt;if setup.getBlackedLevel() >= 5>> &lt;&lt;show wood-deep-sex-2-1>> &lt;&lt;excitation -100>> &lt;&lt;else>> &lt;&lt;unshow wood-deep-sex-2-choice>> &lt;&lt;show wood-deep-sex-2-choice-2>> &lt;&lt;/if>> &lt;&lt;/button>> &lt;/div> &lt;div id="wood-deep-sex-2-choice-2"> &lt;&lt;t>> Non, je ne vais quand même pas faire ça. &lt;&lt;/t>> &lt;div class="choices"> &lt;&lt;button "S'en aller">> &lt;&lt;unshow wood-deep-sex-2-choice-2>> &lt;&lt;show wood-deep-sex-2-0>> &lt;&lt;/button>> &lt;/div> &lt;/div> &lt;/div> &lt;div id="wood-deep-sex-2-0"> &lt;&lt;a>> Tu changes de direction et t'éloigne du vieux. Tu l'entends beugler derrière toi, poussé par la deception. &lt;&lt;/a>> &lt;&lt;d m>> Bah de quoi t'as peur p'tit PD ? &lt;&lt;/d>> &lt;&lt;t>> Vieux pervers. &lt;&lt;/t>> &lt;/div> &lt;div id="wood-deep-sex-2-1"> &lt;&lt;a>> Tu sors ta queue. Tu te sens presque... excité ? En tout cas, rapidement le branleur redouble d'effort en te voyant bander. &lt;&lt;/a>> &lt;&lt;d m>> Ah ouais c'est bien ça. Ca t'excite de voir ma grosse queue hein ? &lt;&lt;/d>> &lt;&lt;a>> Avant que tu ne répondes, il t'envoie de grosses giclées qui viennent tacher ton pantalon et ta main. Cet enculé t'a éjaculé dessus ! Tu te sens souillé par ce vieux. &lt;&lt;/a>> &lt;&lt;a>> Tu nettoies tout ça un peu dégouté, et le temps de relever la tête, le vieux a disparu. &lt;&lt;/a>> &lt;&lt;t>> Je devrais faire plus attention... &lt;&lt;/t>> &lt;/div> &lt;div id="wood-deep-fresh"> &lt;&lt;a>> Tu te frayes un chemin dans la brousse au cours d'une agréable balade qui te détend. Tu ne fais aucune rencontre, mais ton excitation s'apaise. &lt;&lt;/a>> &lt;/div> &lt;div id="refus"> &lt;&lt;t>> Non, je ne vais quand même pas faire ça. &lt;&lt;/t>> &lt;/div> &lt;/div> &lt;&lt;unshow2 wood-path wood-path-junkie wood-path-prostitute wood-path-fresh>> &lt;&lt;unshow2 wood-deep wood-deep-fresh wood-deep-sex-1 wood-deep-sex-1-0 wood-deep-sex-1-1 wood-deep-sex-1-2 wood-deep-sex-2 wood-deep-sex-2-0 wood-deep-sex-2-1 wood-deep-sex-1-choice-2 wood-deep-sex-2-choice-2 refus>> &lt;&lt;note>> > S'enfoncer dans les bois Squat sordide des toxicos avec seringue et bouteilles explosées, vieille ruine, actif la nuit, tu peux encore sentir l'activité nocturne Squat sordide des putes bas de gamme avec capotes, actif la nuit Tu te promènes et tu respires l'air pur de la forêt (ext++) > Suivre le petit chemin Tomber sur un couple qui baise ou sucer > S'avancer puis se branler Noir qui se masurbe il te voit > Quoi ? Tu peux te masturber avec lui ou pas > Tu ne diras rien à personne hein ? Tomber sur un truc dégueulasse Promenade au milieu des oiseaux et sans rencontrer personne (ext--) > Suivre le bruit de la rivière Voir 2/3 belles sirènes Spot de pêcheur avec pêcheur clochard avec qui on peut sympathiser Petit plongeon dans l'eau &lt;&lt;/note>></tw-passagedata><tw-passagedata name=STORY-0-8-1 position=2901,437 size=100,100 tags=""pid=47>/* Fête organisée par la bs Tu y rencontres b b se fait défoncer par un plus gros poisson que lui => tu entres dans les combines => scène rival te dit: va chercher ma pute => Elle ne veut pas y aller. Tu peux soit la couvrir et lui dire qu'elle est partie, soit la convaincre d'y aller et tu peux la voir se faire baiser => après ça, ça débloque le porno i => namegf peut tomber dessus, etc => Si tu la couvres, ça énerve rival */</tw-passagedata><tw-passagedata name=BRO-0-2-1 position=9046,5433 size=100,100 tags=""pid=48>&lt;div class="choices"> &lt;&lt;button changelog>> &lt;&lt;goto DREAM-1-8-4>> &lt;&lt;/button>> &lt;&lt;button design>> &lt;&lt;goto LOOP-2-1-2>> &lt;&lt;/button>> &lt;&lt;button effects>> &lt;&lt;goto SUB-2-0-4>> &lt;&lt;/button>> &lt;&lt;button general>> &lt;&lt;goto SCHOOL-2-0-2>> &lt;&lt;/button>> &lt;&lt;button option>> &lt;&lt;goto MOM-0-4-0>> &lt;&lt;/button>> &lt;&lt;button panel-control>> &lt;&lt;goto SCHOOL-0-6-0>> &lt;&lt;/button>> &lt;&lt;button patterns>> &lt;&lt;goto SUB-2-6-0>> &lt;&lt;/button>> &lt;&lt;button work>> &lt;&lt;goto SIS-2-5-0>> &lt;&lt;/button>> &lt;&lt;button translation>> &lt;&lt;goto SUB-1-4-4>> &lt;&lt;/button>> &lt;&lt;button translation-mini>> &lt;&lt;goto INDEX-1-4-1>> &lt;&lt;/button>> &lt;/div> &lt;span title="Tooltip text">&lt;&lt;button "Button Text">>&lt;&lt;/button>>&lt;/span></tw-passagedata><tw-passagedata name=DREAM-1-8-4 position=1518,7894 size=100,100 tags=""pid=49>- UI * Feedback reworked + donner quelques détails - Bug correction * Your mind title is now correctly printed - Website * Redesign</tw-passagedata><tw-passagedata name=LOOP-2-1-2 position=3524,233 size=100,100 tags=""pid=50>&lt;&lt;a>> ''BACKGROUND COLOR DEBUG'' &lt;&lt;/a>> &lt;div class="choices"> &lt;&lt;button "DayColors">> &lt;&lt;for ; $engine.time.period != 0;>> &lt;&lt;nextPeriod>> &lt;&lt;/for>> &lt;&lt;/button>> &lt;&lt;button "NightColors">> &lt;&lt;for ; $engine.time.period != 2;>> &lt;&lt;nextPeriod>> &lt;&lt;/for>> &lt;&lt;/button>> &lt;/div> &lt;&lt;a>> ''DISCUSSION DESIGN DEBUG'' &lt;&lt;/a>> &lt;&lt;for _i range Object.keys($person)>> &lt;&lt;set _discuss = "&lt;&lt;d " + _i + ">>Bonjour, je suis " + $person[_i].name + " &lt;&lt;/d>>">> &lt;&lt;= _discuss>> &lt;&lt;/for>></tw-passagedata><tw-passagedata name=SUB-2-0-4 position=8880,6067 size=100,100 tags=""pid=51>&lt;style> animation: all 1s ease; &lt;/style> &lt;div class="choices"> &lt;&lt;button BOOM!>> &lt;&lt;feedbackMemory mc>> &lt;&lt;feedbackMemory gf>> &lt;&lt;blacked 2>> &lt;&lt;blacked 8>> &lt;&lt;blacked 20>> &lt;&lt;whited 2>> &lt;&lt;whited 8>> &lt;&lt;whited 20>> &lt;&lt;corruption gf 1>> &lt;&lt;corruption gf 3>> &lt;&lt;corruption gf 5>> &lt;&lt;excitation2 gf 1>> &lt;&lt;excitation2 gf 10>> &lt;&lt;frustration gf 1>> &lt;&lt;frustration gf 3>> &lt;&lt;frustration gf 5>> &lt;&lt;friendly mc 5>> &lt;&lt;friendly mc -5>> &lt;&lt;excitation 1>> &lt;&lt;excitation 10>> &lt;&lt;excitation 30>> &lt;&lt;franc -200>> &lt;&lt;franc -50>> &lt;&lt;franc -10>> &lt;&lt;franc 10>> &lt;&lt;franc 50>> &lt;&lt;franc 200>> &lt;&lt;humiliation 2>> &lt;&lt;humiliation 8>> &lt;&lt;humiliation 10>> &lt;&lt;courage 2>> &lt;&lt;courage 8>> &lt;&lt;courage 10>> &lt;&lt;obeissant 2>> &lt;&lt;obeissant 8>> &lt;&lt;obeissant 10>> &lt;&lt;rebelle 2>> &lt;&lt;rebelle 8>> &lt;&lt;rebelle 10>> &lt;&lt;run setup.registerFragment("test", "test", [0, random(50000)])>> &lt;&lt;/button>> &lt;&lt;button Work-BOOM!>> &lt;&lt;skill massage 50>> &lt;&lt;massage 0>> &lt;&lt;massage 1>> &lt;&lt;massage 2>> &lt;&lt;skill massage 50>> &lt;&lt;massage 0>> &lt;&lt;massage 1>> &lt;&lt;massage 2>> &lt;&lt;skill massage 50>> &lt;&lt;massage 0>> &lt;&lt;massage 1>> &lt;&lt;massage 2>> &lt;&lt;skill massage 50>> &lt;&lt;massage 0>> &lt;&lt;massage 1>> &lt;&lt;massage 2>> &lt;&lt;skill massage 50>> &lt;&lt;massage 0>> &lt;&lt;massage 1>> &lt;&lt;massage 2>> &lt;&lt;skill massage 50>> &lt;&lt;massage 0>> &lt;&lt;massage 1>> &lt;&lt;massage 2>> &lt;&lt;skill massage 50>> &lt;&lt;massage 0>> &lt;&lt;skill massage 50>> &lt;&lt;massage 0>> &lt;&lt;massage 1>> &lt;&lt;massage 2>> &lt;&lt;skill massage 50>> &lt;&lt;massage 0>> &lt;&lt;massage 1>> &lt;&lt;massage 2>> &lt;&lt;skill massage 50>> &lt;&lt;massage 0>> &lt;&lt;massage 1>> &lt;&lt;massage 2>> &lt;&lt;skill massage 50>> &lt;&lt;massage 0>> &lt;&lt;massage 1>> &lt;&lt;massage 2>>> &lt;&lt;skill massage 50>> &lt;&lt;massage 0>> &lt;&lt;massage 1>> &lt;&lt;massage 2>> &lt;&lt;/button>> &lt;&lt;button "+10$!">> &lt;&lt;franc 10>> &lt;&lt;/button>> &lt;&lt;button "+50$!">> &lt;&lt;franc 50>> &lt;&lt;/button>> &lt;&lt;button "+200$!">> &lt;&lt;franc 200>> &lt;&lt;/button>> &lt;&lt;button "Small/Small">> &lt;&lt;franc 10>> &lt;&lt;franc 10>> &lt;&lt;/button>> &lt;&lt;button "Small/Medium">> &lt;&lt;franc 10>> &lt;&lt;franc 50>> &lt;&lt;/button>> &lt;&lt;button "Small/Big">> &lt;&lt;franc 10>> &lt;&lt;franc 200>> &lt;&lt;/button>> &lt;&lt;button "Medium/Small">> &lt;&lt;franc 50>> &lt;&lt;franc 10>> &lt;&lt;/button>> &lt;&lt;button "Medium/Medium">> &lt;&lt;franc 50>> &lt;&lt;franc 50>> &lt;&lt;/button>> &lt;&lt;button "Medium/Big">> &lt;&lt;franc 50>> &lt;&lt;franc 200>> &lt;&lt;/button>> &lt;&lt;button "Big/Small">> &lt;&lt;franc 200>> &lt;&lt;franc 10>> &lt;&lt;/button>> &lt;&lt;button "Big/Medium">> &lt;&lt;franc 200>> &lt;&lt;franc 50>> &lt;&lt;/button>> &lt;&lt;button "Big/Big">> &lt;&lt;franc 200>> &lt;&lt;franc 200>> &lt;&lt;/button>> &lt;/div> &lt;&lt;a>> LOL, ok. &lt;&lt;/a>> &lt;div class="choices"> [[SUB-2-0-4]] &lt;/div></tw-passagedata><tw-passagedata name=SCHOOL-2-0-2 position=1075,7412 size=100,100 tags=""pid=52>''Cours disponibles'' $study ''Notification'' &lt;div class="choices direction"> &lt;&lt;button "Happy notify">> &lt;&lt;run $notif_queue.push("Ceci est une notification heureuse !")>> &lt;&lt;notify 5 happy-notif>> &lt;&lt;/button>> &lt;&lt;button "Local notify">> &lt;&lt;run $notif_queue.push("Bah t'es beau toi batard ")>> &lt;&lt;notify 5 local-notif>> &lt;&lt;/button>> &lt;&lt;button "New porn notify">> &lt;&lt;run $notif_queue.push("Bah t'es beau toi batard ")>> &lt;&lt;notify 5 porn-notif>> &lt;&lt;/button>> &lt;&lt;button "Blacked Plus">> &lt;&lt;run $notif_queue.push("Test blacked")>> &lt;&lt;notify 5 blacked-notif>> &lt;&lt;/button>> &lt;&lt;button "Whited Plus">> &lt;&lt;run $notif_queue.push("Test Whited")>> &lt;&lt;notify 5 whited-notif>> &lt;&lt;/button>> &lt;/div> ''Background color tests'' &lt;div class="choices direction"> &lt;&lt;button "Blacked">> &lt;&lt;script>> document.body.style.backgroundColor = "black"; document.body.style.color = "white"; &lt;&lt;/script>> &lt;&lt;/button>> &lt;&lt;button "Almost Blacked">> &lt;&lt;script>> document.body.style.backgroundColor = "#191970"; document.body.style.color = "white"; &lt;&lt;/script>> &lt;&lt;/button>> &lt;&lt;button "In-between">> &lt;&lt;script>> document.body.style.backgroundColor = "#84A6D3"; document.body.style.color = "black"; &lt;&lt;/script>> &lt;&lt;/button>> &lt;&lt;button "Almost Whited">> &lt;&lt;script>> document.body.style.backgroundColor = "#AFEEEE"; document.body.style.color = "black"; &lt;&lt;/script>> &lt;&lt;/button>> &lt;&lt;button "Whited">> &lt;&lt;script>> document.body.style.backgroundColor = "white"; document.body.style.color = "black"; &lt;&lt;/script>> &lt;&lt;/button>> &lt;/div> &lt;&lt;set $randNum = random(4, 5)>>&lt;&lt;set $videoPrint = '&lt;video autoplay="true" loop="true" muted="true" src="data/gf/chat/p/2/' + $randNum + '.webm">&lt;/video>'>> ''Message discuss'' &lt;&lt;d mc>>&lt;&lt;t>>hey je suis en train de penser non ?&lt;&lt;/t>> Oauis petite merde, mais là c'est fini.&lt;&lt;/d>> &lt;&lt;d gf>>gf&lt;&lt;/d>> &lt;&lt;d gfm>>gfm&lt;&lt;/d>> &lt;&lt;d sm>>sm&lt;&lt;/d>> &lt;&lt;d ss>>ss&lt;&lt;/d>> &lt;&lt;d bf>>bf&lt;&lt;/d>> &lt;&lt;d b>>b&lt;&lt;/d>> &lt;&lt;d clara>>clara&lt;&lt;/d>> &lt;&lt;d m>>m&lt;&lt;/d>> &lt;&lt;d f>>f&lt;&lt;/d>> &lt;&lt;d teacher>>teacher&lt;&lt;/d>> &lt;&lt;d author>>author&lt;&lt;/d>> &lt;&lt;d bankster>>bankster&lt;&lt;/d>> &lt;&lt;d whitebusgirl>>whitebusgirl&lt;&lt;/d>> &lt;&lt;d blackbusgirl>>blackbusgirl&lt;&lt;/d>> &lt;&lt;d bs>>bs&lt;&lt;/d>> &lt;&lt;d kawasaki>>kawasaki&lt;&lt;/d>> &lt;&lt;d ayako>>ayako&lt;&lt;/d>> &lt;&lt;d domilf>>domilf&lt;&lt;/d>> &lt;&lt;d b>>Sententias hoc exposui C mentionem exposui C Fannio tum ipsam diebus tamquam et ne nobis diebus ut coram sermonem sententias Scaevola habitum tum sermo ut genero Marci ipsos filio hoc C genero arbitratu coram enim et meo habitum mentionem videretur 'inquam' cum C nobis mortem videretur a de libro a Laeli arbitratu cum ipsam mandavi mentionem tamquam ne Fannio quas a Fannio Africani tamquam ut exposui haberi quasi genero nobis 'inquit' Laeli ne mortem loquentes ipsos illo illo amicitia sententias paucis et in cum tum eam Laeli ipsam quasi memoriae nobis 'inquam' 'inquit' arbitratu mandavi sententias 'inquit' induxi mandavi libro.&lt;&lt;/d >> &lt;&lt;d>>NOTHING&lt;&lt;/d >> ''Message think'' &lt;&lt;t>>C'est la vie.&lt;&lt;/t>> &lt;&lt;t>>Sententias hoc exposui C mentionem exposui C Fannio tum ipsam diebus tamquam et ne nobis diebus ut coram sermonem sententias Scaevola habitum tum sermo ut genero Marci ipsos filio hoc C genero arbitratu coram enim et meo habitum mentionem videretur 'inquam' cum C nobis mortem videretur a de libro a Laeli arbitratu cum ipsam mandavi mentionem tamquam ne Fannio quas a Fannio Africani tamquam ut exposui haberi quasi genero nobis 'inquit' Laeli ne mortem loquentes ipsos illo illo amicitia sententias paucis et in cum tum eam Laeli ipsam quasi memoriae nobis 'inquam' 'inquit' arbitratu mandavi sententias 'inquit' induxi mandavi libro. $videoPrint &lt;&lt;/t>> ''Message action'' &lt;&lt;a>>C'est la vie.&lt;&lt;/a>> &lt;&lt;a>>Sententias hoc exposui C mentionem exposui C Fannio tum ipsam diebus tamquam et ne nobis diebus ut coram sermonem sententias Scaevola habitum tum sermo ut genero Marci ipsos filio hoc C genero arbitratu coram enim et meo habitum mentionem videretur 'inquam' cum C nobis mortem videretur a de libro a Laeli arbitratu cum ipsam mandavi mentionem tamquam ne Fannio quas a Fannio Africani tamquam ut exposui haberi quasi genero nobis 'inquit' Laeli ne mortem loquentes ipsos illo illo amicitia sententias paucis et in cum tum eam Laeli ipsam quasi memoriae nobis 'inquam' 'inquit' arbitratu mandavi sententias 'inquit' induxi mandavi libro. $videoPrint &lt;&lt;/a>></tw-passagedata><tw-passagedata name=MOM-0-4-0 position=4169,122 size=100,100 tags=""pid=53>&lt;&lt;set $debug = setup.isTools()>> &lt;&lt;set $debug_citydiscover = true>> &lt;&lt;set $debug_massagejob = true>> &lt;&lt;if !setup.isTools()>> &lt;&lt;set $debug_citydiscover = false>> &lt;&lt;set $debug_massagejob = false>> &lt;&lt;/if>> &lt;&lt;if $debug_citydiscover>> &lt;&lt;set $events.place[0] = 1>> &lt;&lt;set $events.place[1] = 1>> &lt;&lt;set $events.place[2] = 1>> &lt;&lt;set $events.place[3] = 1>> &lt;&lt;set $events.place[4] = 1>> &lt;&lt;set $events.place[5] = 1>> &lt;&lt;set $events.place[6] = 1>> &lt;&lt;set $events.place[7] = 1>> &lt;&lt;set $events.place[8] = 1>> &lt;&lt;set $events.place[9] = 1>> &lt;&lt;/if>> &lt;&lt;if $debug_massagejob>> &lt;&lt;set $player.skills.massage.level = 1>> &lt;&lt;/if>></tw-passagedata><tw-passagedata name=SCHOOL-0-6-0 position=8624,6670 size=100,100 tags=""pid=54>&lt;div class="choices"> &lt;&lt;return>> &lt;/div> /* Test */ ''Game status''&lt;br> > Day: $day&lt;br> > StoryDate: $date&lt;br>&lt;br> ''Player's money''&lt;br> > Money: &lt;span id="cheatPlayerMoney">&lt;&lt;= setup.getFranc()>>&lt;/span>$&lt;br> &lt;div class="choices direction"> &lt;&lt;button "Money +10">> &lt;&lt;franc 10>> &lt;&lt;replace "#cheatPlayerMoney">> &lt;&lt;= setup.getFranc()>> &lt;&lt;/replace>> &lt;&lt;/button>> &lt;/div>&lt;br> ''Player Excitation''&lt;br> > Excitation: &lt;span id="cheatPlayerExcitation">&lt;&lt;= setup.getExcitation()>>&lt;/span>/100&lt;br> &lt;div class="choices direction"> &lt;&lt;button "Excitation +10">> &lt;&lt;excitation 10>> &lt;&lt;replace "#cheatPlayerExcitation">> &lt;&lt;= setup.getExcitation()>> &lt;&lt;/replace>> &lt;&lt;/button>> &lt;&lt;button "Excitation -10">> &lt;&lt;excitation -10>> &lt;&lt;replace "#cheatPlayerExcitation">> &lt;&lt;= setup.getExcitation()>> &lt;&lt;/replace>> &lt;&lt;/button>> &lt;/div>&lt;br> ''Player Mental''&lt;br> > Blacked/Whited Point Ratio: &lt;span id="cheatPlayerMentalBlackedRatio">&lt;&lt;= setup.getMentalRatio()>>&lt;/span>/100&lt;br> > Blacked Point: &lt;span id="cheatPlayerMentalBlackedPoint">&lt;&lt;= setup.getBlackedPoint()>>&lt;/span>&lt;br> > Whited Point: &lt;span id="cheatPlayerMentalWhitedPoint">&lt;&lt;= setup.getWhitedPoint()>>&lt;/span>&lt;br> > Blacked Point Earned: &lt;span id="cheatPlayerMentalBlackedTotal">&lt;&lt;= setup.getBlackedTotalPoint()>>&lt;/span>&lt;br> > Whited Point Earned: &lt;span id="cheatPlayerMentalWhitedTotal">&lt;&lt;= setup.getWhitedTotalPoint()>>&lt;/span>&lt;br> > Blacked Level: &lt;span id="cheatPlayerMentalBlackedLevel">&lt;&lt;= setup.getBlackedLevel()>>&lt;/span>/9&lt;br> > Whited Level: &lt;span id="cheatPlayerMentalWhitedLevel">&lt;&lt;= setup.getWhitedLevel()>>&lt;/span>/9&lt;br> &lt;div class="choices direction"> &lt;&lt;button "Blacked +10">> &lt;&lt;blacked 10>> &lt;&lt;replace "#cheatPlayerMentalBlackedRatio">> &lt;&lt;= setup.getMentalRatio()>> &lt;&lt;/replace>> &lt;&lt;replace "#cheatPlayerMentalBlackedPoint">> &lt;&lt;= setup.getBlackedPoint()>> &lt;&lt;/replace>> &lt;&lt;replace "#cheatPlayerMentalWhitedPoint">> &lt;&lt;= setup.getWhitedPoint()>> &lt;&lt;/replace>> &lt;&lt;replace "#cheatPlayerMentalBlackedTotal">> &lt;&lt;= setup.getBlackedTotalPoint()>> &lt;&lt;/replace>> &lt;&lt;replace "#cheatPlayerMentalWhitedTotal">> &lt;&lt;= setup.getWhitedTotalPoint()>> &lt;&lt;/replace>> &lt;&lt;replace "#cheatPlayerMentalBlackedLevel">> &lt;&lt;= setup.getBlackedLevel()>> &lt;&lt;/replace>> &lt;&lt;replace "#cheatPlayerMentalWhitedLevel">> &lt;&lt;= setup.getWhitedLevel()>> &lt;&lt;/replace>> &lt;&lt;/button>> &lt;&lt;button "Whited +10">> &lt;&lt;whited 10>> &lt;&lt;replace "#cheatPlayerMentalBlackedRatio">> &lt;&lt;= setup.getMentalRatio()>> &lt;&lt;/replace>> &lt;&lt;replace "#cheatPlayerMentalBlackedPoint">> &lt;&lt;= setup.getBlackedPoint()>> &lt;&lt;/replace>> &lt;&lt;replace "#cheatPlayerMentalWhitedPoint">> &lt;&lt;= setup.getWhitedPoint()>> &lt;&lt;/replace>> &lt;&lt;replace "#cheatPlayerMentalBlackedTotal">> &lt;&lt;= setup.getBlackedTotalPoint()>> &lt;&lt;/replace>> &lt;&lt;replace "#cheatPlayerMentalWhitedTotal">> &lt;&lt;= setup.getWhitedTotalPoint()>> &lt;&lt;/replace>> &lt;&lt;replace "#cheatPlayerMentalBlackedLevel">> &lt;&lt;= setup.getBlackedLevel()>> &lt;&lt;/replace>> &lt;&lt;replace "#cheatPlayerMentalWhitedLevel">> &lt;&lt;= setup.getWhitedLevel()>> &lt;&lt;/replace>> &lt;&lt;/button>> &lt;/div>&lt;br> ''Gender status''&lt;br> > Body masculinity: &lt;span id="cheatPlayerBodyMasculinity">&lt;&lt;= setup.getBodyMasculinity()>>&lt;/span>/100&lt;br> > Body feminity: &lt;span id="cheatPlayerBodyFeminity">&lt;&lt;= setup.getBodyFeminity()>>&lt;/span>/100&lt;br> &lt;div class="choices direction"> &lt;&lt;button "Masculinity +10">> &lt;&lt;masculinity 10>> &lt;&lt;replace "#cheatPlayerBodyMasculinity">> &lt;&lt;= setup.getBodyMasculinity()>> &lt;&lt;/replace>> &lt;&lt;replace "#cheatPlayerBodyFeminity">> &lt;&lt;= setup.getBodyFeminity()>> &lt;&lt;/replace>> &lt;&lt;/button>> &lt;&lt;button "Masculinity -10">> &lt;&lt;masculinity -10>> &lt;&lt;replace "#cheatPlayerBodyMasculinity">> &lt;&lt;= setup.getBodyMasculinity()>> &lt;&lt;/replace>> &lt;&lt;replace "#cheatPlayerBodyFeminity">> &lt;&lt;= setup.getBodyFeminity()>> &lt;&lt;/replace>> &lt;&lt;/button>> &lt;&lt;button "Feminity +10">> &lt;&lt;feminity 10>> &lt;&lt;replace "#cheatPlayerBodyMasculinity">> &lt;&lt;= setup.getBodyMasculinity()>> &lt;&lt;/replace>> &lt;&lt;replace "#cheatPlayerBodyFeminity">> &lt;&lt;= setup.getBodyFeminity()>> &lt;&lt;/replace>> &lt;&lt;/button>> &lt;&lt;button "Feminity -10">> &lt;&lt;feminity -10>> &lt;&lt;replace "#cheatPlayerBodyMasculinity">> &lt;&lt;= setup.getBodyMasculinity()>> &lt;&lt;/replace>> &lt;&lt;replace "#cheatPlayerBodyFeminity">> &lt;&lt;= setup.getBodyFeminity()>> &lt;&lt;/replace>> &lt;&lt;/button>> &lt;/div>&lt;br> ''Girlfriend State''&lt;br> > Corruption: &lt;span id="cheatGFCorruption">&lt;&lt;= setup.getCorruption("gf")>>&lt;/span>/80&lt;br> &lt;div class="choices direction"> &lt;&lt;button "corruption +1">> &lt;&lt;corruption gf 1 80>> &lt;&lt;replace "#cheatGFCorruption">> &lt;&lt;= setup.getCorruption("gf")>> &lt;&lt;/replace>> &lt;&lt;/button>> &lt;/div>&lt;br> > Frustration: &lt;span id="cheatGFFrustration">&lt;&lt;= setup.getFrustration("gf")>>&lt;/span>/20&lt;br> &lt;div class="choices direction"> &lt;&lt;button "Frustration +1">> &lt;&lt;frustration gf 1 20>> &lt;&lt;replace "#cheatGFFrustration">> &lt;&lt;= setup.getFrustration("gf")>> &lt;&lt;/replace>> &lt;&lt;/button>> &lt;&lt;button "Frustration -1">> &lt;&lt;frustration gf -1 0>> &lt;&lt;replace "#cheatGFFrustration">> &lt;&lt;= setup.getFrustration("gf")>> &lt;&lt;/replace>> &lt;&lt;/button>> &lt;/div>&lt;br></tw-passagedata><tw-passagedata name=SUB-2-6-0 position=707,6870 size=100,100 tags=""pid=55>TEST SWITCH FUNCTION Test switch key test, should be KO: &lt;&lt;if setup.switch("test")>> OK &lt;&lt;else>> KO &lt;&lt;/if>> Test switch key test, should be OK: &lt;&lt;if setup.switch("test")>> OK &lt;&lt;else>> KO &lt;&lt;/if>> Test switch key test, should be KO: &lt;&lt;if setup.switch("test")>> OK &lt;&lt;else>> KO &lt;&lt;/if>> TEST ISONESHOT AND ONESHOT FUNCTION Test isOneshot key test, should be KO: &lt;&lt;if setup.isOneshot("test")>> OK &lt;&lt;else>> KO &lt;&lt;/if>> Test oneshot key test, should be OK: &lt;&lt;if setup.oneshot("test")>> OK &lt;&lt;else>> KO &lt;&lt;/if>> Test isOneshot key test, should be OK: &lt;&lt;if setup.isOneshot("test")>> OK &lt;&lt;else>> KO &lt;&lt;/if>> Test oneshot key test, should be KO: &lt;&lt;if setup.oneshot("test")>> OK &lt;&lt;else>> KO &lt;&lt;/if>> Test isOneshot key test, should be OK: &lt;&lt;if setup.isOneshot("test")>> OK &lt;&lt;else>> KO &lt;&lt;/if>> Test oneshot key test, should be KO: &lt;&lt;if setup.oneshot("test")>> OK &lt;&lt;else>> KO &lt;&lt;/if>> Test counter key test, should be OK: &lt;&lt;if setup.counter("test") == 1>> OK &lt;&lt;else>> KO &lt;&lt;/if>> Test oneshot key test, should be OK: &lt;&lt;if setup.getCounter("test") == 1>> OK &lt;&lt;else>> KO &lt;&lt;/if>> Test counter key test, should be OK: &lt;&lt;if setup.counter("test") == 2>> OK &lt;&lt;else>> KO &lt;&lt;/if>> Test oneshot key test, should be OK: &lt;&lt;if setup.getCounter("test") == 2>> OK &lt;&lt;else>> KO &lt;&lt;/if>> &lt;&lt;run setup.counterReset("test")>> Test counter key test, should be OK: &lt;&lt;if setup.getCounter("test") == 0>> OK &lt;&lt;else>> KO &lt;&lt;/if>></tw-passagedata><tw-passagedata name=VIRT-2-6-4 position=4824,105 size=100,100 tags=""pid=56>&lt;&lt;getScene test_silver>> &lt;a data-passage="NomDuPassage"> &lt;img src="image.jpg"/> &lt;/a> [img[data/places/sdf/sdf_logo.jpg][index]] &lt;div id="zone-receipt"> &lt;/div> &lt;div class="choices"> [[reload|VIRT-2-6-4]] &lt;/div></tw-passagedata><tw-passagedata name=INDEX-1-4-1 position=8283,7229 size=100,100 tags=""pid=57>&lt;&lt;set $plop>> &lt;&lt;printBuffsDescription>> &lt;&lt;listboxplus "$plop" setup.type.gender>> &lt;&lt;listboxplus "$plop" setup.type.sexuality>> &lt;&lt;listboxplus "$plop" setup.type.race>> &lt;&lt;listboxplus "$plop" setup.type.shape>> &lt;&lt;listboxplus "$plop" setup.type.colors.masc>> &lt;&lt;listboxplus "$plop" setup.type.colors.fem>> &lt;&lt;listboxplus "$plop" setup.type.lips>> &lt;&lt;listboxplus "$plop" setup.type.hair.type>> &lt;&lt;listboxplus "$plop" setup.type.boobs.shape>> &lt;&lt;listboxplus "$plop" setup.type.boobs.size>> &lt;&lt;listboxplus "$plop" setup.type.sex.type>> &lt;&lt;listboxplus "$plop" setup.type.sex.pussy.size>> &lt;&lt;listboxplus "$plop" setup.type.sex.dick.size>> &lt;&lt;listboxplus "$plop" setup.type.sex.hair>> &lt;&lt;for _words range setup.type.sex.dick.sizeBefore>> &lt;&lt;run console.log(_size)>> &lt;&lt;for _word range _words>> &lt;&lt;set _t = setup.captureAndTranslate(_word)>> &lt;&lt;a>> _t &lt;&lt;/a>> &lt;&lt;/for>> &lt;&lt;/for>> On affiche toutes les descriptions des objets: &lt;&lt;for _item range setup.itemsList>> &lt;&lt;set _itemDesc = UInv.GetDefaultItemObject(_item).description>> &lt;&lt;= "&lt;&lt;a>>" + _itemDesc + "&lt;&lt;/a>>">> &lt;&lt;/for>> On affiche toutes les noms des éléments de la tenue: &lt;&lt;for _bagName range setup.clothingNameList>> &lt;&lt;= "&lt;&lt;a>>" + _bagName[0] + "&lt;&lt;/a>>">> &lt;&lt;/for>> On affiche toutes les descriptions des buffs: &lt;&lt;for _buff range Object.keys(setup.type.buffs)>> &lt;&lt;= "&lt;&lt;a>>" + setup.type.buffs[_buff].description + "&lt;&lt;/a>>">> &lt;&lt;/for>> On affiche toutes les outfits errors: &lt;&lt;for _error range Object.keys(setup.checkOutifitErrorMessage)>> &lt;&lt;= "&lt;&lt;a>>" + setup.checkOutifitErrorMessage[_error] + "&lt;&lt;/a>>">> &lt;&lt;/for>> On affiche toutes les notifications: &lt;&lt;for _i range Object.keys(setup.notifications)>> &lt;&lt;if _i == "blackedTitle" || _i == "whitedTitle">> &lt;&lt;continue>> &lt;&lt;/if>> &lt;&lt;for _j range Object.keys(setup.notifications[_i])>> &lt;&lt;set _notifPrint = '&lt;&lt;a>>' + setup.notifications[_i][_j][0] + '&lt;&lt;/a>>'>> &lt;&lt;= _notifPrint>> &lt;&lt;/for>> &lt;&lt;/for>> /* Liste des phrases à traduire qui ne sont pas activées automatiquement */</tw-passagedata><tw-passagedata name=MALL-2-7-0 position=421,6281 size=100,100 tags=""pid=58>Modification de la macro if pour qu'elle rentre dans toutes les sorties &lt;&lt;script>> Macro.delete('if'); Macro.add('if', { skipArgs: true, tags: ['elseif', 'else'], handler() { let i; try { const len = this.payload.length; for (i = 0; i &lt; len; ++i) { switch (this.payload[i].name) { case 'else': if (this.payload[i].args.raw.length > 0) { if (/^\s*if\b/i.test(this.payload[i].args.raw)) { return this.error(`whitespace is not allowed between the "else" and "if" in &lt;&lt;elseif>> clause${i > 0 ? ' (#' + i + ')' : ''}`); } return this.error(`&lt;&lt;else>> does not accept a conditional expression (perhaps you meant to use &lt;&lt;elseif>>), invalid: ${this.payload[i].args.raw}`); } if (i + 1 !== len) { return this.error('&lt;&lt;else>> must be the final clause'); } break; default: if (this.payload[i].args.full.length === 0) { return this.error(`no conditional expression specified for &lt;&lt;${this.payload[i].name}>> clause${i > 0 ? ' (#' + i + ')' : ''}`); } else if ( Config.macros.ifAssignmentError && /[^!=&^|&lt;>*/%+-]=[^=]/.test(this.payload[i].args.full) ) { return this.error(`assignment operator found within &lt;&lt;${this.payload[i].name}>> clause${i > 0 ? ' (#' + i + ')' : ''} (perhaps you meant to use an equality operator: ==, ===, eq, is), invalid: ${this.payload[i].args.raw}`); } break; } } const evalJavaScript = Scripting.evalJavaScript; let success = false; if (true) { for (i = 0; i &lt; len; ++i) { new Wikifier(this.output, this.payload[i].contents); } success = true; return; } for (i = 0; i &lt; len; ++i) { if (Config.debug) { this .createDebugView(this.payload[i].name, this.payload[i].source) .modes({ nonvoid: false }); } if (this.payload[i].name === 'else' || !!evalJavaScript(this.payload[i].args.full)) { success = true; new Wikifier(this.output, this.payload[i].contents); break; } else if (Config.debug) { this.debugView.modes({ hidden: true, invalid: true }); } } if (Config.debug) { for (++i; i &lt; len; ++i) { this .createDebugView(this.payload[i].name, this.payload[i].source) .modes({ nonvoid: false, hidden: true, invalid: true }); } this .createDebugView(`/${this.name}`, `&lt;&lt;/${this.name}>>`) .modes({ nonvoid: false, hidden: !success, invalid: !success }); } } catch (ex) { return this.error(`bad conditional expression in &lt;&lt;${i === 0 ? 'if' : 'elseif'}>> clause${i > 0 ? ' (#' + i + ')' : ''}: ${typeof ex === 'object' ? ex.message : ex}`); } } }); &lt;&lt;/script>> Modification de la macro goto pour pas qu'elle nous change de page Modification de la macro include pour qu'elle exclut certains passages de débug &lt;&lt;script>> Macro.delete('goto'); Macro.add('goto', { isAsync : true, timers : new Set(), handler() {} }); Macro.delete('include'); Macro.add('include', { handler() { var exclude_passage = [ "BRO-0-2-1", "DREAM-1-8-4", "LOOP-2-1-2", "SUB-2-0-4", "SCHOOL-2-0-2", "MOM-0-4-0", "SCHOOL-0-6-0", "SUB-2-6-0", "SUB-1-4-4", "SIS-2-5-0", "support-language", "VRT-1-2-5", "index" ]; if (this.args.length === 0) { return this.error('no passage specified'); } if (exclude_passage.includes(this.args[0])) { console.log("include_exclude: " + args[0]); return ""; } let passage; if (typeof this.args[0] === 'object') { passage = this.args[0].link; } else { passage = this.args[0]; } if (!Story.has(passage)) { return this.error(`passage "${passage}" does not exist`); } if (Config.debug) { this.debugView.modes({ block: true }); } passage = Story.get(passage); let $el; if (this.args[1]) { $el = jQuery(document.createElement(this.args[1])) .addClass(`${passage.domId} macro-${this.name}`) .attr('data-passage', passage.title) .appendTo(this.output); } else { $el = jQuery(this.output); } $el.wiki(passage.processText()); } }); &lt;&lt;/script>></tw-passagedata><tw-passagedata name=SUB-1-4-4 position=5475,184 size=100,100 tags=""pid=59>&lt;&lt;include MALL-2-7-0>> &lt;&lt;include INDEX-1-4-1>> &lt;&lt;set $exclude_passage = [ "BRO-0-2-1", "DREAM-1-8-4", "LOOP-2-1-2", "SUB-2-0-4", "SCHOOL-2-0-2", "MOM-0-4-0", "SCHOOL-0-6-0", "SUB-2-6-0", "SUB-1-4-4", "SIS-2-5-0", "support-language", "VRT-1-2-5", "index" ]>> &lt;&lt;set $list to Story.lookupWith(function (p) {return true})>> &lt;&lt;for _i to 0; _i lt $list.length; _i++>> &lt;&lt;set $list[_i] = $list[_i].title>> &lt;&lt;/for>> &lt;&lt;for _i to 0; _i lt $list.length; _i++>> &lt;&lt;capture _i>> &lt;&lt;script>> console.log(State.__getUpperName__.list[State.temporary.i]); &lt;&lt;/script>> ''__&lt;&lt;= $list[_i]>>:__'' &lt;&lt;include $list[_i]>> &lt;&lt;/capture>> &lt;&lt;/for>></tw-passagedata><tw-passagedata name=SIS-2-5-0 position=7865,7734 size=100,100 tags=""pid=60>&lt;&lt;for _i to 0; _i lt 20; _i++>> &lt;&lt;= _i>> &lt;&lt;run console.log(State.temporary.i)>> &lt;&lt;= $player.skills.massage.xp>> &lt;&lt;= $player.skills.massage.xpTotal>> &lt;&lt;= $player.skills.massage.level>> &lt;&lt;massage 1>> &lt;&lt;/for>></tw-passagedata><tw-passagedata name=VRT-0-0-3 position=223,5656 size=100,100 tags=""pid=61>&lt;&lt;d author>> Tu es arrivé à la fin du contenu avec ce personnage. Merci de l'avoir suivi ! Du nouveau contenu va arriver très vite, n'hésite pas à t'inscrire sur la newsletter pour être tenu au courant des nouveautés ! Pour cela, rends toi sur le site https://www.blackedandwhited.com &lt;&lt;/d>></tw-passagedata><tw-passagedata name=FBRO-0-6-3 position=6107,355 size=100,100 tags=""pid=62>&lt;&lt;image data/default/pv2.jpg>> &lt;&lt;a>> Bravo ! Tu as atteint la fin du contenu actuel ! La suite de l'histoire, de nouveaux lieux, de nouvelles quêtes et pleins de surprises sont en préparation et arrivent très vite ! &lt;&lt;/a>> &lt;&lt;a>> Tu peux bien sûr continuer à jouer, mais tu ne pourras plus vivre d'évènements majeurs. &lt;&lt;/a>> &lt;&lt;a>> Je t'invite à te tenir au courant des nouvelles mises à jour en t'inscrivant à la newsletter sur le site officiel https://www.blackedandwhited.com/ &lt;&lt;/a>> &lt;&lt;if not setup.isNew()>> &lt;&lt;a>> Si tu as apprécié le jeu, tu peux soutenir le développement en devenant membre Blacked & Whited et accéder dès maintenant au contenu supplémentaire de la version améliorée. Deviens membre Blacked & Whited maintenant ! https://www.patreon.com/bigeiffeltower &lt;&lt;/a>> &lt;&lt;/if>> &lt;&lt;a>> Tu peux rejoindre la communauté pour donner tes impressions et les idées que tu aimerais voir dans le jeu sur le discord https://discordapp.com/invite/f64k9M7 &lt;&lt;/a>> &lt;div style="background-color: black !important; border: 2px solid #FFD700 !important; color: #FFD700; box-shadow: 10px 5px #FFD700 !important;margin-right: 10em;margin-left: 10em;" class="message-discuss">&lt;img src="data/default/pikachu.jpg" style="border: 2px solid #FFD700 !important;max-height: 100px;max-width: 100px;position: unset;">&lt;p style="float: right;margin-top: 9px;margin-right: 1em;">&lt;div style="color: #FFD700 !important;" class="message-discuss-name">Pikachu&lt;br>&lt;hr style="opacity: 0.3; margin-top: 0.2em;margin-bottom: 0.2em">&lt;/div>Thank you very much for playing Blacked &ampamp; Whited! See you soon!&lt;/p>&lt;/div></tw-passagedata><tw-passagedata name=GET-0-1-3 position=7378,8172 size=100,100 tags=""pid=63>&lt;div id="s1"> &lt;&lt;a>> Tu toques à la porte de la maison de $namegf. C'est $namegfm, sa mère, qui t'ouvre la porte et t'acceuille. &lt;&lt;/a>> &lt;&lt;image data/gf/gfm/photo_mom2.jpg 50>> &lt;&lt;d gfm>> Ah $namemc mon chéri ! Monte, $namegf t'attend dans sa chambre. Travaillez bien ! &lt;&lt;/d >> &lt;&lt;a>> Tu adores être acceuilli par $namegfm. C'est une magnifique poupée rousse qui a dans la quarantaine. Tu ne devrais pas penser ça de la mère de ta petite amie, mais c'est exactement le type de femme que t'imagines quand tu entends parler de MILF. &lt;&lt;/a>> &lt;&lt;a>> Grande, rousse, une taille fine et des hanches pulpeuses, avec un regard franc qui te foudroie ! Et ce déhanché naturel quand elle marche... &lt;&lt;/a>> &lt;div class="choices"> &lt;&lt;button "Monter dans la chambre de $namegf">> &lt;&lt;dynamicunshow s1>> &lt;&lt;dynamicshow s2>> &lt;&lt;/button>> &lt;/div> &lt;/div> &lt;div id="s2"> &lt;&lt;image data/gf/photo2.jpg 50>> &lt;&lt;a>> En entrant dans la chambre, tu vois $namegf à son bureau, penchée sur un gros livre, avec un regard très sérieux sur le visage. Sa longue crinière rousse tombe en partie sur le livre qu'elle lit. &lt;&lt;/a>> &lt;&lt;t>> Elle a retrouvé sa couleur rousse naturelle. &lt;&lt;/t>> &lt;&lt;a>> En effet, $namegf aime expérimenter. Le mois dernière, elle avait des pointes blondes. Et avant ça, c'était une teinture bleue et noire, donnant un effet emo que tu avais aimé. Elle a une grande créativité en ce qui concerne sa chevelure, et ce qui est extraordinaire, c'est que tout semble lui aller... &lt;&lt;/a>> &lt;div class="choices"> &lt;&lt;button "Faire du bruit">> &lt;&lt;dynamicunshow s2>> &lt;&lt;dynamicshow s3>> &lt;&lt;/button>> &lt;/div> &lt;/div> &lt;div id="s3"> &lt;&lt;a>> Elle se tourne pour voir qui est rentré, et quand elle te voit, un large sourire vient illuminer son visage d'ange. &lt;&lt;/a>> &lt;&lt;d gf>> $namemc ! &lt;3 &lt;&lt;/d >> &lt;&lt;a>> Elle se lève rapidement et vient sans tarder se lover dans tes bras en fermant les yeux. &lt;&lt;/a>> &lt;&lt;a>> Timide en public, $namegf l'est beaucoup moins en privée. En privée, elle est capable de démonstrations d'affection surprenantes. &lt;&lt;/a>> &lt;&lt;d gf>> Tu es enfin là bébé, je commençais à teeeellement m'ennuyer ! &lt;&lt;/d >> &lt;&lt;a>> Tu la serres à ton tour dans tes bras. Tu passes une main dans sa magnifique chevelure rousse, avant de terminer sur sa nuque fragile que tu caresses avec deux doigts. &lt;&lt;/a>> &lt;div class="choices"> &lt;&lt;button "L'embrasser délicatement dans le cou" GET-2-7-4>> &lt;&lt;/button>> &lt;&lt;button "Travailler" SBFR-0-5-5>> &lt;&lt;/button>> &lt;/div> &lt;/div> &lt;&lt;unshow2 s2 s3>></tw-passagedata><tw-passagedata name=SUB-1-0-2 position=118,5009 size=100,100 tags=""pid=64>&lt;div id="s0"> &lt;&lt;image data/gf/photo2.jpg 50>> &lt;&lt;d gf>> &lt;&lt;= $namemc.toUpperCase()>> ! &lt;&lt;/d >> &lt;&lt;a>> A peine es-tu rentré que $namegf se jette sur toi et manque de te faire tomber par terre. Elle te serre contre elle de toutes ses forces. La tête enfouie contre ta veste, sa voix est à moitié étouffée. Mais tu remarques quand même qu'elle sanglotte presque. &lt;&lt;/a>> &lt;&lt;d gf>> J'ai eu trop peur ce matin... Tu es passé où toute la journée ? J'étais morte d'inquiétude ! &lt;&lt;/d>> &lt;div class="choices"> &lt;&lt;button "Continue">> &lt;&lt;dynamicunshow s0>> &lt;&lt;dynamicshow s1>> &lt;&lt;/button>> &lt;/div> &lt;/div> &lt;div id="s1"> &lt;&lt;a>> Elle lève vers toi des yeux humides, et remarque la marque du coup que $nameb t'a fait sur la joue. Elle prend une expression affolée. &lt;&lt;/a>> &lt;&lt;d gf>> Mais qu'est-ce que tu as au visage ? &lt;&lt;/d >> &lt;&lt;a>> Elle effleure du bout des doigts ta blessure. &lt;&lt;/a>> &lt;&lt;d mc>> Rien d'intéressant bébé, je n'ai pas envie d'en parler... &lt;&lt;/d >> &lt;&lt;d gf>> C'est $nameb qui t'a fait ça ? Dis moi ! &lt;&lt;/d >> &lt;&lt;a>> Tu ne réponds pas. &lt;&lt;/a>> &lt;&lt;d gf>> Il te harcèle c'est ça ? Parle moi en s'il te plaît, j'ai besoin que tu me dises... &lt;&lt;/d >> &lt;div class="choices"> &lt;&lt;button "Lui faire confiance et partager ton soucis">> &lt;&lt;blacked 5>> &lt;&lt;pushevent gf 2>> &lt;&lt;endevent gf 3 1>> &lt;&lt;dynamicunshow s1>> &lt;&lt;dynamicshow s2-1 e1>> &lt;&lt;/button>> &lt;&lt;button "Ne pas répondre et la prendre dans tes bras">> &lt;&lt;whited 5>> &lt;&lt;pushevent gf 3>> &lt;&lt;endevent gf 2 1>> &lt;&lt;dynamicunshow s1>> &lt;&lt;dynamicshow s2-2>> &lt;&lt;/button>> &lt;/div> &lt;/div> &lt;div id="s2-1"> &lt;&lt;t>> C'est vrai, elle s'inquiète pour moi. Elle a le droit de savoir ce qu'il se passe... &lt;&lt;/t>> &lt;&lt;a>> Tu prends une profonde inspiration, et tu détournes le regard, honteux de ce que tu vas dire. &lt;&lt;/a>> &lt;&lt;d mc>> C'est $nameb. Cela fait plusieurs semaines... qu'il m'oblige... &lt;&lt;/d >> &lt;&lt;a>> Te voyant hésitant, elle t'encourage. &lt;&lt;/a>> &lt;&lt;d gf>> Il t'oblige à quoi ? Fais moi confiance bébé... &lt;&lt;/d >> &lt;&lt;d mc>> I-Il me force à lui ramener de l'argent. Sinon il menace de me frapper... Ou il le fait vraiment, comme c-ce matin... &lt;&lt;/d >> &lt;&lt;a>> Le simple fait d'en parler te libère d'un grand poids. Ca libère aussi une grosse émotion accumulée, et c'est avec difficulté que tu retiens les larmes qui te montent aux yeux. &lt;&lt;/a>> &lt;&lt;a>> $namegf te prend dans ses bras. Tu es content qu'elle soit là. &lt;&lt;/a>> &lt;&lt;d gf>> Oh mon pauvre chéri, merci de m'avoir tout raconté. Il faut en parler à ta mère, ou au proviseur. &lt;&lt;/d >> &lt;&lt;d mc>> Non ! Je vais régler ce problème, c'est temporaire tu verras. &lt;&lt;/d >> &lt;/div> &lt;div id="s2-2"> &lt;&lt;a>> Tu n'as pas envie de parler de ça avec elle. Mais la voir dans cet état te pince le coeur. Tu poses tes mains sur sa taille, et tendrement tu la ramènes contre toi pour la prendre dans tes bras et la rassurer. Sa chaleur et son odeur parfumée t'envahissent immédiatement. &lt;&lt;/a>> &lt;&lt;a>> Tu passes tes mains dans son dos, et le contact de sa peau douce sous tes doigts te fait oublier toute cette journée. Tu sens son état se calmer. Tu sens son souffle dans ton cou se faire plus profond, plus régulier, devenant presque des soupirs. &lt;&lt;/a>> &lt;div class="choices"> &lt;&lt;button "L'embrasser">> &lt;&lt;excitation 10>> &lt;&lt;dynamicunshow s2-2>> &lt;&lt;dynamicshow s3>> &lt;&lt;/button>> &lt;&lt;button "Lui dire que tout ira bien">> &lt;&lt;whited 2>> &lt;&lt;dynamicunshow s2-2>> &lt;&lt;dynamicshow e2 e1>> &lt;&lt;/button>> &lt;/div> &lt;/div> &lt;div id="s3"> &lt;&lt;a>> Tu prends son visage dans tes paumes, et doucement tu diriges ses yeux vers les siens. Vous vous regardez quelques instants, puis tu approches tes lèvres des siennes, l'effleurant presque. Elle fait le dernier centimètre pour t'embrasser. &lt;&lt;/a>> &lt;&lt;image data/gf/1/kissing/1.gif>> &lt;&lt;a>> Le temps s'arrête, son petit goût sucré trempe ta bouche. Vos corps commencent à se frotter, d'abord de façon presque imperceptible, puis de manière de plus en plus libérée. &lt;&lt;/a>> &lt;div class="choices"> &lt;&lt;button "Descendre ta main sur ses fesses">> &lt;&lt;excitation 10>> &lt;&lt;dynamicunshow s3>> &lt;&lt;dynamicshow s4 e1>> &lt;&lt;/button>> &lt;&lt;button "Lui dire que tout ira bien">> &lt;&lt;whited 1>> &lt;&lt;dynamicunshow s3>> &lt;&lt;dynamicshow e2 e1>> &lt;&lt;/button>> &lt;/div> &lt;/div> &lt;div id="e2"> &lt;&lt;a>> Tu recules légèrement ton corps, et tu lui chuchotes. &lt;&lt;/a>> &lt;&lt;d mc>> J'ai des ennuis avec $nameb, mais c'est passager, ça va vite être reglé. &lt;&lt;/d >> &lt;/div> &lt;div id="s4"> &lt;&lt;a>> Tu fais descendre tes mains tout le long de son corps. En arrivant à ses fesses, tu sens son corps se raidir. &lt;&lt;/a>> &lt;&lt;d gf>> $namemc ! Tu fais quoi ? Désolé... Je n'ai pas la tête à ça... &lt;&lt;/d >> &lt;&lt;a>> Elle décolle légèrement son corps tout en restant dans tes bras, et elle te chuchote. &lt;&lt;/a>> &lt;/div> &lt;div id="e1"> &lt;&lt;d gf>> Je ne sais pas exactement ce que tu compte faire, mais fais attention à toi, d'accord ? &lt;&lt;/d gf>> &lt;&lt;d mc>> Ne t'inquiète pas, tout ira bien. &lt;&lt;/d >> &lt;&lt;t>> En tout cas, je l'espère. &lt;&lt;/t>> &lt;div class="choices"> &lt;&lt;button "Se mettre au travail" SBFR-0-5-5>> &lt;&lt;/button>> &lt;/div> &lt;/div> &lt;&lt;unshow2 s1 s2-1 s2-2 s3 s4 e1 e2>></tw-passagedata><tw-passagedata name=VRT-2-2-1 position=6708,617 size=100,100 tags=""pid=65>&lt;div id="base"> &lt;&lt;image data/gf/photo2.jpg 50>> &lt;&lt;a>> A peine rentré dans la chambre de $namegf, elle se jette dans tes bras pour t'embrasser. &lt;&lt;/a>> &lt;&lt;d gf>> $namemc ! &lt;3 &lt;&lt;/d >> &lt;div class="choices"> &lt;&lt;button "L'embrasser délicatement dans le cou" GET-2-7-4>> &lt;&lt;/button>> &lt;&lt;button "Travailler" SBFR-0-5-5>> &lt;&lt;/button>> &lt;/div> &lt;/div> &lt;&lt;unshow2 base>> &lt;&lt;if setup.isGameDay(0)>> &lt;&lt;include GET-0-1-3>> &lt;&lt;elseif setup.isGameDay(1)>> &lt;&lt;include SUB-1-0-2>> &lt;&lt;else>> &lt;&lt;show2 base>> &lt;&lt;/if>></tw-passagedata><tw-passagedata name=GET-2-7-4 position=6833,8536 size=100,100 tags=""pid=66>&lt;&lt;if setup.isDay()>> &lt;&lt;setColors #ffe8f0 #210045>> &lt;&lt;/if>> &lt;style> #action-zone { position: fixed; max-width: 35em; right: 4em; top: 4em; } #tutorial { background-color: green; border-radius: 4px; background-color: rgba(67, 97, 105, 0.3); padding-left: 8px; padding-top: 1px; padding-right: 21px; padding-bottom: 14px; } .passage { margin-right: 0em; margin-right: 0em; position: relative; left: -30%; } #basic, #boobs, #pussy { max-width: 90%; } #heart-0 { position: relative; left: 63px; font-size: 1.5em; top: -14px; color: var(--theme-corruption-color); } #heart-1 { position: relative; left: 96px; font-size: 1.5em; top: -5px; color: var(--theme-corruption-color); } #heart-2 { position: relative; left: 129px; font-size: 1.5em; top: -3px; color: var(--theme-corruption-color); } #heart-3 { position: relative; left: 161px; font-size: 1.5em; top: -15px; color: var(--theme-corruption-color); } #heart-4 { position: relative; left: 223px; font-size: 1.5em; top: -3px; color: var(--theme-corruption-color); } &lt;/style> &lt;&lt;widget nextAction>> &lt;&lt;excitation2 gf 1 5>> &lt;&lt;run setup.updateSexgfProgressBar()>> &lt;&lt;/widget>> &lt;&lt;set _minBarCorruption = 0>> &lt;&lt;set _maxBarCorruption = 30>> &lt;&lt;set _heartCount = 5>> &lt;&lt;set _heartActivation = [ 3, 9, 15, 21, 30 ]>> &lt;&lt;excitation2 gf 1 5>> &lt;div id="action-zone"> &lt;&lt;include INDEX-2-1-1>> &lt;/div> &lt;&lt;if !setup.isStink()>> &lt;&lt;if setup.getCorruption("gf") &lt; 3>> &lt;&lt;corruption gf 1>> &lt;&lt;/if>> &lt;&lt;excitation 5>> &lt;&lt;/if>> &lt;hr style="border: 2px solid pink;"> &lt;div id="s1"> &lt;&lt;a>> Sa présence, son odeur et le contact de sa peau t'enivre un peu trop. Tu sens dans ton caleçon une légère pression qui commence à doucement monter, et tes caresses se font un peu plus appuyées. &lt;&lt;/a>> &lt;&lt;a>> Tu déposes plusieurs baisés sur ses lèvres qu'elle te rend en fermant les yeux. Puis tu embrasses son nez, son menton, sa joue, avant de descendre lentement dans son cou. Tu entends son souffle devenir plus profond à mesure qu'elle se laisse aller à tes attentions. Sa tête se lève pour pouvoir laisser tes lèvres se balader plus librement dans son cou. &lt;&lt;/a>> &lt;&lt;video data/gf/1/kissing/2.mp4>> &lt;&lt;a>> Ton étreinte se resserre, et tu laisses tes mains se balader sur son corps. D'abord sur sa taille, avant de passer sous son haut et glisser tes mains dans son dos. Tu sens le grain parfait de sa peau de bébé passer sous tes paumes. &lt;&lt;/a>> &lt;&lt;t>> Mmmmmh... Je passerai ma vie à m'occuper de ce corps.. &lt;&lt;/t>> &lt;&lt;a>> Sa poitrine est serrée contre ton torse, et tu as l'impression qu'elle fait frotter le bout de ses seins contre toi. &lt;&lt;/a>> &lt;div class="choices"> &lt;&lt;button "Faire revenir tes mains s'occuper de sa poitrine">> &lt;&lt;dynamicunshow s1>> &lt;&lt;if setup.getCorruption("gf") >= 3>> &lt;&lt;excitation 10>> &lt;&lt;dynamicshow s2>> &lt;&lt;set _corruption = 3 - setup.event("gf", 4)>> &lt;&lt;if _corruption > 0>> &lt;&lt;corruption gf _corruption>> &lt;&lt;/if>> &lt;&lt;pushevent gf 4>> &lt;&lt;nextAction>> &lt;&lt;else>> &lt;&lt;dynamicshow e1 end>> &lt;&lt;/if>> &lt;&lt;/button>> &lt;&lt;button "C'est assez pour aujourd'hui, allons travailler">> &lt;&lt;dynamicunshow s1>> &lt;&lt;dynamicshow e2 end>> &lt;&lt;run setup.resetExcitation("gf")>> &lt;&lt;/button>> &lt;/div> &lt;/div> &lt;div id="s2"> &lt;&lt;a>> Tes mains dans son dos passe sur la liaison de son soutien gorge. D'un geste imprécis, et appréhendant sa réaction, tu le dégrafes. Ton excitation monte d'un cran quand tu vois qu'elle se laisse faire, et que tu sens ses deux seins se libérer de l'emprise en tissu. &lt;&lt;/a>> &lt;&lt;video data/gf/1/boobs/1.webm>> &lt;&lt;a>> Doucement, tu fais revenir tes lèvres sur les siennes, et dans le même temps, tes mains glissent sur sa peau douce. D'abord sur sa taille, fine et fragile, puis sur son ventre, avant de les faire remonter lentement... La respiration de $namegf se fait plus rapide et saccadée à mesure que tes mains se rapprochent de sa poitrine. Tu sais son esprit complètement fixé sur le moindre de tes mouvements. &lt;&lt;/a>> &lt;&lt;a>> Enfin, tu les atteins, et quelle sensation ! Quelle douceur ! Tes doigts viennent se blottir contre la courbe de son buste. Avec ton pouce et ton index, tu soupèses ses deux seins magnifiques, fermes et moelleux. Sous ta main, tu peux sentir le coeur de $namegf battre à tout rompre pour toi. &lt;&lt;/a>> &lt;&lt;a>> Tu continues ta montée, ses seins entiers passent sous tes doigts, centimètre par centimètre. Et, en montant, tu sens les tétons bien durs de la belle rousse traçait comme une ligne verticale sur les paumes de tes mains... Bientôt tes doigts épousent parfaitement ses formes, et tu tiens ses nichons dans tes mains. &lt;&lt;/a>> &lt;&lt;video data/gf/1/boobs/2.mp4>> &lt;&lt;a>> Grisé par le frisson excitant de cette sensation, tu te laisses aller et tu prends ses deux seins à pleine main pour les malaxer. Tu bandes maintenant complètement. Tu entends $namegf pousser des gémissements de plaisir qui t'excitent encore. &lt;&lt;/a>> &lt;div class="choices"> &lt;&lt;button "Descendre ta main sur ses fesses">> &lt;&lt;dynamicunshow s2>> &lt;&lt;if setup.getCorruption("gf") >= 9>> &lt;&lt;excitation 15>> &lt;&lt;dynamicshow s3>> &lt;&lt;set _corruption = 3 - setup.event("gf", 5)>> &lt;&lt;if _corruption > 0>> &lt;&lt;corruption gf _corruption>> &lt;&lt;/if>> &lt;&lt;pushevent gf 5>> &lt;&lt;nextAction>> &lt;&lt;else>> &lt;&lt;dynamicshow e1 end>> &lt;&lt;/if>> &lt;&lt;/button>> &lt;&lt;button "C'est assez pour aujourd'hui, allons travailler">> &lt;&lt;dynamicunshow s2>> &lt;&lt;dynamicshow e2 end>> &lt;&lt;run setup.resetExcitation("gf")>> &lt;&lt;/button>> &lt;/div> &lt;/div> &lt;div id="s3"> &lt;&lt;a>> Son bassin fait de petits mouvements inconscients, et son pubis appuie contre ta queue à chaque fois. Tu imagines, derrière le tissu, et contre ta queue, son petit minou qui mouille sa sève parfumée. Entre deux soupirs, elle te sussures à l'oreille. &lt;&lt;/a>> &lt;&lt;d gf>> Hmmm, j'aime quand tu mets tes mains sur mon corps... &lt;&lt;/d >> &lt;&lt;a>> Sans un mot, tu ramènes tes mains dans son dos, et tu les fais descendre en passant le bout de tes doigts sur long de sa colonne vertebrale. Sa peau frissonne à ton passage. En bas du dos, tu passes sur toute la longueur du coton de sa culotte blanche qui dépasse de son leggins. &lt;&lt;/a>> &lt;&lt;video data/gf/1/ass/1.webm>> &lt;&lt;a>> Tu fermes les yeux quand tes mains descendent encore, et passent sur ses fesses. Tu sens la douceur de son leggins, fine protection entre toi et sa peau nue. Tu presses légèrement tes doigts qui viennent s'enfoncer dans le rebondi moelleux de ses deux fesses... Cette fois, c'est toi qui fait des mouvements involontaires du bassin pour frotter ta queue à elle. &lt;&lt;/a>> &lt;div class="choices"> &lt;&lt;button "Prendre son petit cul à pleine main">> &lt;&lt;dynamicunshow s3>> &lt;&lt;if setup.getCorruption("gf") >= 15>> &lt;&lt;dynamicshow s4>> &lt;&lt;excitation 20>> &lt;&lt;set _corruption = 3 - setup.getCounter("gfmainaucul")>> &lt;&lt;if _corruption > 0>> &lt;&lt;corruption gf _corruption>> &lt;&lt;/if>> &lt;&lt;run setup.counter("gfmainaucul")>> &lt;&lt;nextAction>> &lt;&lt;else>> &lt;&lt;dynamicshow e1 end>> &lt;&lt;/if>> &lt;&lt;/button>> &lt;&lt;button "Se détendre et retourner travailler">> &lt;&lt;dynamicunshow s3>> &lt;&lt;dynamicshow e2 end>> &lt;&lt;run setup.resetExcitation("gf")>> &lt;&lt;/button>> &lt;/div> &lt;/div> &lt;div id="s4"> &lt;&lt;a>> Tu prends maintenant son cul à pleine main pour la malaxer. C'est une sensation extraordinaire et tu fermes les yeux pour en profiter. Tu l'entends faire de petits miaulements à chaque fois que tes doigts accrochent ses deux fesses et que vos deux entrejambes se frottent l'un à l'autre. &lt;&lt;/a>> &lt;&lt;t>> Mmmmh, je la sens céder petit à petit. Elle est à chaque fois plus détendue, plus ouverte à mes caresses. C'est bien bébé laisse toi faire... &lt;&lt;/t>> &lt;&lt;a>> Elle se cambre spontanément sous tes caresses pour faire ressortir ses formes. Ton excitation monte encore d'un cran quand tu sens tes doigts passer à quelques centimètre de sa petite fente. Tu es presque certain d'en ressentir la chaleur. Tu es aussi certain qu'elle est humide, et tu n'as qu'une envie, c'est passer un doigt pour vérifier. &lt;&lt;/a>> &lt;div class="choices" id="choice3"> &lt;&lt;button "Le faire">> &lt;&lt;dynamicunshow s4>> &lt;&lt;if setup.getCorruption("gf") >= 21>> &lt;&lt;pushevent gf 7>> &lt;&lt;dynamicshow s5>> &lt;&lt;excitation 50>> &lt;&lt;nextAction>> &lt;&lt;else>> &lt;&lt;dynamicshow e1 end>> &lt;&lt;/if>> &lt;&lt;/button>> &lt;&lt;button "Non ! Il ne faut pas la brusquer !">> &lt;&lt;dynamicunshow s4>> &lt;&lt;dynamicshow e2 end>> &lt;&lt;run setup.resetExcitation("gf")>> &lt;&lt;/button>> &lt;/div> &lt;/div> &lt;div id="s5"> &lt;&lt;a>> Sans interrompre ton baisé, tu remontes tes mains pour accrocher la couture de son leggins avec tes pouces. Et d'un coup, tu le descends jusqu'en bas de son postérieur. Elle pousse un petit cri en sentant son cul se faire déshabiller sans qu'elle n'arrive à s'y opposer. Tu attrappes ses fesses maintenant sans protection pour les malaxer, et frottes ta queue ostensiblement contre $namegf. &lt;&lt;/a>> &lt;&lt;d gf>> Hmmm, je la sens bien dure contre moi... &lt;&lt;/d >> &lt;&lt;a>> Tu fais descendre ton massage de plus en plus bas. $namegf émet un premier râle en sentant tes doigts effleurer sa petite fleur. Puis un second en recommençant, puis encore un autre. Bientôt, tu l'entends gémir sans s'arrêter alors que tu passes deux doigts sur toute la longueur de sa fente. &lt;&lt;/a>> &lt;div class="choices" id="choice4"> &lt;&lt;button "Continuer">> &lt;&lt;dynamicunshow s5>> &lt;&lt;pushevent gf 6>> &lt;&lt;dynamicshow s6>> &lt;&lt;if setup.oneshot("firstTimeGFPussyTouch")>> &lt;&lt;corruption gf 10>> &lt;&lt;run setup.updateSexgfProgressBar()>> &lt;&lt;else>> &lt;&lt;corruption gf 0>> &lt;&lt;/if>> &lt;&lt;/button>> &lt;/div> &lt;/div> &lt;div id="s6"> &lt;&lt;video data/gf/1/ass/2.webm>> &lt;&lt;a>> Pour toi c'est l'extase. Ses gémissements chantent la plus belle des musiques à tes oreilles, et tu reçois la délicieuse odeur qui remonte de son entrecuisse. Tu sens la chaleur de son entrecuisse sur tes doigts. Sa chatte est complètement trempée. Tes doigt se mouillent de plus en plus à mesure que tu accentues la pression de tes caresses et que tu t'enfonces. Tu les fais maintenant passer entre deux lèvres bien ouvertes. &lt;&lt;/a>> &lt;&lt;a>> Tu entends $namegf soupirer de plaisir. C'est la première fois qu'elle sent une mains autre que la sienne visiter cet endroit... &lt;&lt;/a>> &lt;&lt;d gf>> Oh mon dieu, $namemc... &lt;&lt;/d>> &lt;&lt;a>> Ta verge est en feu, et tu ne te contrôles plus la situation. Tu te frottes à elle avec beaucoup plus de vigueur tout en la branlant avec ta main. A vrai dire, c'est presque comme si tu utilisais son corps pour te masturber. Tu dois même ralentir à plusieurs reprises pour ne pas tout lâcher dans ton caleçon. &lt;&lt;/a>> &lt;div class="choices" id="choice5"> &lt;&lt;button "Lui mettre un doigt">> &lt;&lt;dynamicunshow s6>> &lt;&lt;dynamicshow e3 end>> &lt;&lt;/button>> &lt;&lt;button "Non ! Il ne faut pas la brusquer !">> &lt;&lt;dynamicunshow s6>> &lt;&lt;dynamicshow e2 end>> &lt;&lt;run setup.resetExcitation("gf")>> &lt;&lt;/button>> &lt;/div> &lt;/div> &lt;div id="e1"> &lt;&lt;a>> Elle eut un geste de recul. &lt;&lt;/a>> &lt;&lt;d gf>> Non, attends. Pas maintenant. On doit aller travailler, et ma mère est en bas, elle peut venir à tout moment... &lt;&lt;/d >> &lt;&lt;t>> Merde ! Je ne veux pas la brusquer. Mais en même temps, comment résister ?! J'ai la queue tellement dure que j'ai l'impression qu'elle va exploser. Si j'insiste avec gentillesse, peut-être qu'elle finira par céder ? &lt;&lt;/t>> &lt;&lt;t>> Bon, aller $namemc, on se reconcentre ! &lt;&lt;/t>> &lt;&lt;a>> Vous vous installez à son bureau et travaillez le reste de la journée. &lt;&lt;/a>> &lt;/div> &lt;div id="e2"> &lt;&lt;a>> Tu poses un dernier baiser sur la joue de $namegf, et tu viens t'assoir sur une des deux chaises de son bureau. Elle te rejoint rapidement, et vous commencez à travailler. &lt;&lt;/a>> &lt;/div> &lt;div id="e3"> &lt;&lt;a>> Elle eut une hésitation et, à contre coeur, un geste de recul. &lt;&lt;/a>> &lt;&lt;d gf>> Non, attends. Je... On ne devrait pas faire... Tu sais, ma mère, et... &lt;&lt;/d >> &lt;&lt;t>> Oh putain nan... &lt;&lt;/t>> &lt;&lt;d mc>> Tu n'apprécies pas mes caresses ? &lt;&lt;/d >> &lt;&lt;d gf>> Si ! Si, j'adore, mais... Ecoute il est trop tôt, je ne suis pas prête... &lt;&lt;/d >> &lt;&lt;t>> Mon pieu est en feu... Bon, je suppose que je n'ai pas le choix... &lt;&lt;/t>> &lt;&lt;d mc>> Ce n'est pas grave ma chérie... Si tu n'es pas encore prête alors c'est de ma faute, je n'aurais pas du aller si loin. &lt;&lt;/d >> &lt;&lt;a>> $namegf te fait un sourire, puis un dernier baisé avant de s'éloigner. Tu la vois ramasser son haut et le remettre, avant de se poser sur son bureau. &lt;&lt;/a>> &lt;&lt;a>> Pendant qu'elle a le dos tourné, tu portes tes doigts à tes narines, et tu prends une grande inspiration. L'odeur de sa mouille sur tes doigts te rend complètement dingue... &lt;&lt;/a>> &lt;&lt;t>> Faut que j'aille me branler, et vite. &lt;&lt;/t>> &lt;/div> &lt;div id="stink-1"> &lt;&lt;a>> Tu embrasses délicatement $namegf dans le cou. Rapidement, tu sens son corps se raidir et reculer. &lt;&lt;/a>> &lt;&lt;d gf>> J'ai... On a du travail. On devrait... Travailler. &lt;&lt;/d>> &lt;&lt;t>> Qu'est-ce qui lui prend ? &lt;&lt;/t>> &lt;&lt;a>> Vous travaillez le reste de l'après midi. &lt;&lt;/a>> &lt;/div> &lt;div class="choices" id="end"> &lt;&lt;if setup.isWeekend()>> &lt;&lt;button "Retourner en ville" SCHOOL-1-3-4 before:city>> &lt;&lt;run setup.resetExcitation("gf")>> &lt;&lt;/button>> &lt;&lt;else>> &lt;&lt;button "Rentrer à la maison" FBRO-2-3-0 before:home>> &lt;&lt;run setup.resetExcitation("gf")>> &lt;&lt;/button>> &lt;&lt;/if>> &lt;/div> &lt;&lt;unshow2 s2 s3 s4 s5 s6 e1 e2 e3 stink-1 end>> &lt;&lt;if setup.isStink()>> &lt;&lt;unshow2 s1>> &lt;&lt;set $player.status.working += 3>> &lt;&lt;show2 stink-1 end>> &lt;&lt;/if>> &lt;hr style="border: 2px solid pink;"> &lt;&lt;if setup.isTools()>> &lt;&lt;button "Ajouter excitation" after:heart-1>> &lt;&lt;corruption gf 1>> &lt;&lt;run setup.updateSexgfProgressBar()>> &lt;&lt;/button>> &lt;&lt;/if>></tw-passagedata><tw-passagedata name=SBFR-0-5-5 position=107,4354 size=100,100 tags=""pid=67>&lt;&lt;set $player.status.working += 3>> &lt;&lt;video data/gf/work.webm>> &lt;&lt;a>> Tu passes le reste de la journée à travailler studieusement. Tu es seulement interrompu par $namegfm qui vous amène des rafraîchissements. &lt;&lt;/a>> &lt;&lt;d gfm>> Voilà pour vous les enfants. Si vous avez besoin de quelque chose, surtout n'hésitez pas je suis en bas. &lt;&lt;/d >> &lt;&lt;a>> Sa dernière phrase active ton imagination et te fait rêvasser. Tu es interrompu par $namegf qui te demande à quoi tu penses. &lt;&lt;/a>> &lt;&lt;if setup.isWeekend()>> &lt;div class="choices"> [[Retourner en ville|SCHOOL-1-3-4]] &lt;/div> &lt;&lt;else>> &lt;div class="choices"> &lt;&lt;button "Rentrer à la maison" FBRO-2-3-0 before:home>> &lt;&lt;/button>> &lt;/div> &lt;&lt;/if>></tw-passagedata><tw-passagedata name=VRT-0-8-0 position=7264,963 size=100,100 tags=""pid=68>&lt;div id="s1"> &lt;&lt;a>> A peine es-tu rentré dans la chambre de $namegf qu'elle se jette sur toi et t'embrasse à pleine bouche. &lt;&lt;/a>> &lt;&lt;a>> Tu sens dans son baisé que quelque chose a changé en elle depuis la dernière fois. C'est la première fois qu'elle t'embrasse aussi langoureusement et passionnément. Est-ce que ton exploration porte enfin ses fruits ? Elle a aussi l'air plus... ouverte, plus déterminée, et... &lt;&lt;/a>> &lt;&lt;t>> Elle n'a pas mis de soutif ?! &lt;&lt;/t>> &lt;&lt;image data/gf/2/11.jpg>> &lt;&lt;a>> Ton regard est hypnotisé par son décolleté plongeant qui t'offre le spectacle du sillon de ses deux seins. Et dire qu'il y a encore quelques secondes, tu les sentais pressés contre toi... &lt;&lt;/a>> &lt;&lt;a>> Avec les pornos que tu as vus, tu as sans le vouloir en tête l'image de ses lèvres roses autour de ta queue, pendant que ses seins se balancent au rythme des va-et-vient. Tu secoues la tête pour reprendre tes esprits. &lt;&lt;/a>> &lt;&lt;d gf>> Tu m'as manqué bébé ! J'ai pensé à toi toute la journée... Tu veux faire quoi ? &lt;&lt;/d>> &lt;&lt;t>> Ce que je veux faire ? Quelle question. &lt;&lt;/t>> &lt;div class="choices" id="c1"> &lt;&lt;button "L'amener vers son lit">> &lt;&lt;excitation 10>> &lt;&lt;dunshow c1 s1>> &lt;&lt;dshow s2>> &lt;&lt;/button>> &lt;&lt;button "Se mettre au travail bien sûr">> &lt;&lt;frustration gf 5>> &lt;&lt;set $player.status.working += 3>> &lt;&lt;dunshow c1 s1>> &lt;&lt;dshow work>> &lt;&lt;/button>> &lt;/div> &lt;/div> &lt;div id="s2"> &lt;&lt;a>> Il y a beaucoup de chose que tu as envie de faire... Comme te jeter sur elle pour la déshabiller. Mais pour l'instant, tu vas te contenter d'y aller petit à petit. &lt;&lt;/a>> &lt;&lt;d mc>> Tu... Tu veux qu'on s'allonge ? &lt;&lt;/d>> &lt;&lt;a>> Tu n'es pas très sûr de toi. Mais à ta grande surprise, tu la vois sans un mot se diriger vers le lit. &lt;&lt;/a>> &lt;&lt;image data/gf/2/12.jpg>> &lt;&lt;a>> Après ses seins, tu ne peux pas t'empêcher de reluquer son cul. Un beau cul bien rond moulé dans son jean serré. C'est un jean qu'elle met souvent pour l'école. Tu comprends pourquoi $namebf t'a dit que tu faisais des jaloux, certains doivent devenir fou en voyant ça... &lt;&lt;/a>> &lt;&lt;t>> Mais... elle m'appartient. :) &lt;&lt;/t>> &lt;&lt;a>> Avant qu'elle ne s'allonge, tu viens te mettre derrière elle, en posant tes mains sur sa taille dénudée. Tu sens déjà son corps réagir à tes caresses, et ses fesses se cambrer contre toi. &lt;&lt;/a>> &lt;div class="choices"> &lt;&lt;button "Vous allonger sur le lit" MOM-0-6-4>> &lt;&lt;/button>> &lt;/div> &lt;/div> &lt;div id="s3"> &lt;&lt;a>> Tu l'allonges délicatement sur le lit en restant contre elle. Tu bandes déjà bien, et elle n'a pas pu ne pas le sentir. &lt;&lt;/a>> &lt;&lt;t>> Est-ce qu'elle veut que je la déshabille ? &lt;&lt;/t>> &lt;&lt;a>> Avant que tu n'aies le temps de répondre, elle se retourne pour t'embrasser de nouveau. &lt;&lt;/a>> &lt;/div> &lt;div id="work"> &lt;&lt;d mc>> Je suis débordé de devoirs. Travaillons un peu. &lt;&lt;/d>> &lt;&lt;a>> Les cours sont compliqués actuellement, et même si tu as envie d'aller plus loin avec elle, les cours sont la priorité. &lt;&lt;/a>> &lt;&lt;d gf>> Oh. Tu veux travailler ? D'accord. &lt;&lt;/d>> &lt;&lt;a>> $namegf est visiblement déçue, mais n'insiste pas. &lt;&lt;/a>> &lt;&lt;video data/gf/work.webm>> &lt;&lt;a>> Tu passes le reste de la journée à travailler studieusement. Tu es seulement interrompu par $namegfm qui vous amène des rafraîchissements. &lt;&lt;/a>> &lt;&lt;d gfm>> Voilà pour vous les enfants. Si vous avez besoin de quelque chose, surtout n'hésitez pas je suis en bas. &lt;&lt;/d>> &lt;&lt;a>> Sa dernière phrase active ton imagination et te fait rêvasser. Tu es interrompu par $namegf qui te demande à quoi tu penses. &lt;&lt;/a>> &lt;&lt;if setup.isWeekend()>> &lt;div class="choices"> [[Retourner en ville|SCHOOL-1-3-4]] &lt;/div> &lt;&lt;else>> &lt;div class="choices"> &lt;&lt;button "Rentrer à la maison" FBRO-2-3-0 before:home>> &lt;&lt;/button>> &lt;/div> &lt;&lt;/if>> &lt;/div> &lt;div id="stink"> &lt;&lt;a>> A peine es-tu rentré dans la chambre de $namegf qu'elle se jette sur toi et t'embrasse à pleine bouche. &lt;&lt;/a>> &lt;&lt;a>> Mais rapidement, elle recule. &lt;&lt;/a>> &lt;&lt;d gf>> J'ai... On a du travail. On devrait... Travailler. &lt;&lt;/d>> &lt;&lt;t>> Qu'est-ce qui lui prend ? &lt;&lt;/t>> &lt;&lt;a>> Vous travaillez le reste de l'après midi. &lt;&lt;/a>> &lt;&lt;if setup.isWeekend()>> &lt;&lt;button "Retourner en ville" SCHOOL-1-3-4 before:city>> &lt;&lt;run setup.resetExcitation("gf")>> &lt;&lt;/button>> &lt;&lt;else>> &lt;&lt;button "Rentrer à la maison" FBRO-2-3-0 before:home>> &lt;&lt;run setup.resetExcitation("gf")>> &lt;&lt;/button>> &lt;&lt;/if>> &lt;/div> &lt;&lt;unshow2 s2 s3 work stink>> &lt;&lt;if setup.isStink()>> &lt;&lt;set $player.status.working += 3>> &lt;&lt;crasseux>> &lt;&lt;unshow2 s1>> &lt;&lt;show2 stink>> &lt;&lt;/if>></tw-passagedata><tw-passagedata name=BRO-1-2-5 position=6241,8816 size=100,100 tags=""pid=69>&lt;&lt;if setup.event("gf", 8) &lt; 2 && setup.event("gf", 9) &lt; 2>> &lt;&lt;include VRT-0-8-0>> &lt;&lt;else>> &lt;&lt;include VRT-0-0-3>> &lt;div class="choices direction"> &lt;&lt;if setup.isWeekend()>> &lt;&lt;button "Retourner en ville" SCHOOL-1-3-4 before:city>> &lt;&lt;/button>> &lt;&lt;else>> &lt;&lt;button "Rentrer à la maison" FBRO-2-3-0 before:home>> &lt;&lt;/button>> &lt;&lt;/if>> &lt;/div> &lt;&lt;/if>></tw-passagedata><tw-passagedata name=MOM-0-6-4 position=192,3704 size=100,100 tags=""pid=70>&lt;&lt;if setup.isDay()>> &lt;&lt;setColors #ffe8f0 #210045>> &lt;&lt;/if>> &lt;style> #action-info { font-family: Julius Sans One; text-align: center; font-weight: bold; border-radius: 4px; width: 65%; margin-left: 17.5%; background-color: brown; box-shadow: 0px 1px 2px rgba(000,000,000,0.5), inset 1px 2px 0px rgba(255,255,255,0.5); background: -webkit-gradient( linear, left top, left bottom, from(#d05b5b), color-stop(0.50, #a82b2b), color-stop(0.96, #981c1c), to(#5a0000)); color: white; padding-top: 5px; padding-bottom: 5px; margin-bottom: 1.5em; } #action-zone { position: fixed; max-width: 35em; right: 4em; top: 4em; } #tutorial { background-color: green; border-radius: 4px; background-color: rgba(67, 97, 105, 0.3); padding-left: 8px; padding-top: 1px; padding-right: 21px; padding-bottom: 14px; } .passage { margin-right: 0em; margin-right: 0em; position: relative; left: -30%; } #basic, #boobs, #pussy { max-width: 90%; } #heart-0 { position: relative; left: 41px; font-size: 1.5em; top: -7px; color: var(--theme-corruption-color); } #heart-1 { position: relative; left: 109px; font-size: 1.5em; top: -1px; color: var(--theme-corruption-color); } #heart-2 { position: relative; left: 181px; font-size: 1.5em; top: -15px; color: var(--theme-corruption-color); } #heart-3 { position: relative; left: 253px; font-size: 1.5em; top: -4px; color: var(--theme-corruption-color); } &lt;/style> /* Corruption: 30-45 > ActionLevel 1 45-60 > ActionLevel 2 60-75 > ActionLevel 3 75-80 -> ActionLevel 4 Inventaire des actions: ActionNumber - ActionName | ActionLevel | cMinCorruptionAffichage cMin-cMaxExcitation | eMaxExcitation-eMaxCorruption 0 - NoAction 1 - refus ** Base 01 - embrasser 1 - .-4 1-35 02 - admirer son corps 1 - 1-4 2-40 03 - Lui masser le dos 1 - 1-4 2-40 04 - embrasser à pleine bouche 2 - 6-8 7-55 ** Boobs 11 - Retirer haut 1 - 2-8 --- 12 - Caresser poitrine 1 - 3-8 4-55 13 - Sucer le bout de ses seins 2 - 5-8 5-55 ** Pussy 21 - Retirer bas 2 - 4-8 --- 22 - Lui caresser les cuisses 2 4-8 5-60 23 - Ouvrir ses cuisses 2 4-8 --- 24 - Glisser main dans culotte 2 4-8 6-65 25 - Lui retirer sa culotte 3 6-8 --- 26 - Lui mettre un doigt 3 6-8 8-70 27 - Lui mettre deux doigts 3 7-8 9-75 28 - La branler 3 7-9 9-75 29 - La branler à fond 4 9-9 10-80 ** Pour soi 31 - Poser sa main sur ta queue 32 - Retirer ton jean 33 - Se laisser caresser 34 - Retirer ton caleçon 35 - Laisser faire branlette 36 - Laisser faire grosse branlette */ &lt;&lt;set _fullModulableIdList = [ "initial", "embrasser", "admirer", "massage-dos", "embrasser-full", "retirer-haut", "caresser-poitrine", "sucer-poitrine", "retirer-bas", "caresser-cuisse", "ouvrir-cuisse", "main-culotte", "retirer-culotte", "mettre-un-doigt", "mettre-deux-doigts", "branler", "branler-fort", "squirt", "endsquirt", "nosquirt", "nosquirt2", "refus", "stink" ]>> &lt;&lt;set _IDByAction = { "0": [["initial"], [0, "", 0]], "1": [["refus"], [1, ["r1.webm"], 50]], "2": [["stink"], [0, [""], 50]], "01": [["embrasser"], [1, ["e1.webm"]], 50], "02": [["admirer"], [0, ""]], "03": [["massage-dos"], [1, ["md1.webm"], 80]], "04": [["embrasser-full"], [1, ["ef1.webm", "ef2.webm"], 80]], "11": [["retirer-haut"], [0, ["a2.jpg"], 50]], "12": [["caresser-poitrine"], [1, ["cp1.webm", "cp2.webm"], 80]], "13": [["sucer-poitrine"], [1, ["sp1.webm", "sp2.webm"], 80]], "21": [["retirer-bas"], [1, ["rb1.webm"], 80]], "22": [["caresser-cuisse"], [1, ["cc1.webm"], 80]], "23": [["ouvrir-cuisse"], [0, ""]], "24": [["main-culotte"], [1, ["mc1.webm"], 80]], "25": [["retirer-culotte"], [1, ["rc1.webm"], 80]], "26": [["mettre-un-doigt"], [1, ["mud1.webm"], 80]], "27": [["mettre-deux-doigts"], [1, ["mdd1.webm"], 80]], "28": [["branler"], [1, ["b1.mp4"], 80]], "29": [["branler-fort"], [1, ["bf1.mp4"], 80]], "30": [["squirt", "endsquirt"], [1, ["org1.webm"], 80]], "31": [["nosquirt", "nosquirt2"], [1, ["org1.webm"], 80]] }>> &lt;&lt;set _fragmentsList = [ [0, "a1.jpg"], [0, "a2.jpg"], [0, "a3.jpg"], [0, "a4.jpg"], [0, "a5.jpg"], [1, "bf1.mp4"] ]>> &lt;&lt;set _minBarCorruption = 30>> &lt;&lt;set _maxBarCorruption = 75>> &lt;&lt;set _heartCount = 4>> &lt;&lt;set _heartActivation = [ 30, 45, 60, 75 ]>> &lt;&lt;set _prevAction = setup.getLocalAction("sexaction")>> &lt;&lt;if _prevAction == "0">> &lt;&lt;run setup.setLocalAction("stamina", 10)>> &lt;&lt;/if>> &lt;&lt;if _prevAction == "1">> &lt;&lt;corruption gf -2>> &lt;&lt;/if>> &lt;&lt;set _stamina = setup.getLocalAction("stamina")>> &lt;&lt;set _corruption = setup.getCorruption("gf")>> &lt;&lt;set _GFExcitation = setup.getExcitation("gf")>> &lt;&lt;if _IDByAction[_prevAction][1][0] == 0>> &lt;&lt;set _mediaPath = _IDByAction[_prevAction][1][1][Math.floor(Math.random() * _IDByAction[_prevAction][1][1].length)]>> &lt;&lt;set _media = "&lt;&lt;image data/gf/2/h/" + _mediaPath + " " + _IDByAction[_prevAction][1][2] + ">>">> &lt;&lt;else>> &lt;&lt;set _mediaPath = _IDByAction[_prevAction][1][1][Math.floor(Math.random() * _IDByAction[_prevAction][1][1].length)]>> &lt;&lt;set _media = "&lt;&lt;video data/gf/2/h/" + _mediaPath + " " + _IDByAction[_prevAction][1][2] + ">>">> &lt;&lt;/if>> &lt;&lt;if _prevAction == "02">> &lt;&lt;if setup.isLocalEvent("gf-retirer-haut")>> &lt;&lt;if setup.isLocalEvent("gf-retirer-bas")>> &lt;&lt;if setup.isLocalEvent("gf-ouvrir-cuisses")>> &lt;&lt;if setup.isLocalEvent("gf-retirer-culotte")>> &lt;&lt;set _mediaPath = "a5.jpg">> &lt;&lt;else>> &lt;&lt;set _mediaPath = "a4.jpg">> &lt;&lt;/if>> &lt;&lt;else>> &lt;&lt;set _mediaPath = "a3.jpg">> &lt;&lt;/if>> &lt;&lt;else>> &lt;&lt;set _mediaPath = "a2.jpg">> &lt;&lt;/if>> &lt;&lt;else>> &lt;&lt;set _mediaPath = "a1.jpg">> &lt;&lt;/if>> &lt;&lt;set _media = "&lt;&lt;image data/gf/2/h/" + _mediaPath + ">>">> &lt;&lt;/if>> &lt;&lt;for _frag range _fragmentsList>> &lt;&lt;if _frag[1] == _mediaPath>> &lt;&lt;run setup.registerFragment("gf", "sexgf-2-1", [_frag[0], ("data/gf/2/h/" + _frag[1])])>> &lt;&lt;/if>> &lt;&lt;/for>> &lt;hr style="border: 2px solid pink;"> &lt;div id="initial"> &lt;&lt;a>> Tu retires ton pantalon et tu t'allonges avec $namegf dans le lit. Elle est dans tes bras, et de son corps chaud et doux contre toi émane une douce odeur parfumée. Tu mets une main sur son petit cul pour la maintenir au plus près de toi. &lt;&lt;/a>> &lt;&lt;a>> Tu bandes déjà bien, et elle n'a pas pu ne pas sentir ta queue contre elle. Elle semble même s'y frotter doucement à travers ton caleçon. &lt;&lt;/a>> &lt;&lt;if setup.oneshot("première-lit-gf")>> &lt;&lt;t>> C-C'est la première fois que je suis au lit avec une fille. Est-ce qu'elle veut que je la déshabille ? &lt;&lt;/t>> &lt;&lt;a>> Avant que tu n'aies le temps de répondre, elle t'embrasse dans un long baisé romantique. &lt;&lt;/a>> &lt;&lt;/if>> &lt;div id="tutorial-zone"> &lt;div id="tutorial"> &lt;&lt;d author>> Ca y est $namemc, tu es seul dans le lit avec $namegf. 😍 Il va falloir bien te débrouiller, ça n'est pas le moment de flancher ! &lt;&lt;/d>> &lt;&lt;d author>> Tu peux trouver sur ta droite l'état émotionnel de ta copine, avec son ''excitation'' (sur 10 points), et son niveau de ''corruption''. Augmente la corruption pour ouvrir de nouvelles possibilités d'interaction avec $namegf. Mais ne va pas trop vite ! Sinon tu risques de lui faire peur. &lt;&lt;/d>> &lt;&lt;d author>> Tu as ''10 points actions'' pour "prendre soin" de ta princesse. Les actions qui utilisent un point d'action sont indiqué par une icône "play" au début du bouton. &lt;&lt;/d>> &lt;&lt;d author>> Tu as aussi l'opportunité de collecter des ''fragments de mémoire'' que tu pourras te remémorer plus tard ! Il y a &lt;&lt;= _fragmentsList.length>> fragments sur cette scène. Bonne chance ! &lt;&lt;/d>> &lt;&lt;button "Ne plus afficher ce tutorial">> &lt;&lt;replace "#tutorial-zone">> &lt;&lt;/replace>> &lt;&lt;run setup.turnOn("turnoff-tuto-sexgf-2-1")>> &lt;&lt;/button>> &lt;/div> &lt;/div> &lt;/div> &lt;div id="embrasser"> &lt;&lt;a>> Tu poses tes lèvres doucement dans le cou de $namegf. Sa peau est douce comme du coton. Tu remontes doucement tes baisers le long de ses joues roses, avant d'aller trouver ses lèvres. &lt;&lt;/a>> &lt;&lt;= _media>> &lt;&lt;a>> Le contact tiède et humide de ses lèvres contre les tiennes te fait presque vaciller. &lt;&lt;/a>> &lt;/div> &lt;div id="admirer"> &lt;&lt;a>> Tu t'éloignes un peu pour admirer ta princesse. Elle est magnifique. &lt;&lt;/a>> &lt;&lt;= _media>> &lt;&lt;d gf>> Buuuh, qu'est-ce que tu fais $namemc ? J'ai froid sans toi... &lt;&lt;/d>> &lt;&lt;d mc>> Oui, oui. &lt;&lt;/d>> &lt;&lt;a>> $namegf revient très vite dans tes bras. &lt;&lt;/a>> &lt;/div> &lt;div id="massage-dos"> &lt;&lt;a>> Tu passes tes doigts le long de son dos, et de temps en temps, tu poses tes lèvres sur sa nuque. Tu la sens frisonner. &lt;&lt;/a>> &lt;&lt;= _media>> &lt;&lt;d gf>> Mmmmmh. &lt;&lt;/d>> &lt;&lt;d mc>> Tu aimes bébé ? &lt;&lt;/d>> &lt;&lt;d gf>> Oui... Je suis trop bien avec toi. &lt;&lt;/d>> &lt;&lt;a>> Tu sens ses muscles se détendre et se son corps se laisser aller. &lt;&lt;/a>> &lt;/div> &lt;div id="embrasser-full"> &lt;&lt;a>> Tous les deux très excités, tu embrasses $namegf à pleine bouche, presque avec sauvagerie. Tu l'entends gémir en même temps que tu goutes le sucré de sa langue. &lt;&lt;/a>> &lt;&lt;= _media>> &lt;&lt;a>> Vous vous embrassez en vous caressant, collés l'un à l'autre comme deux aimants. &lt;&lt;/a>> &lt;/div> &lt;div id="retirer-haut"> &lt;&lt;a>> Tu poses tes mains sur sa taille, et lentement tu les remontes. Tu vois son haut remonter petit à petit, faisant apparaitre sa belle poitrine bien ferme. &lt;&lt;/a>> &lt;&lt;= _media>> &lt;&lt;d mc>> Wow, tu es... splendide. &lt;&lt;/d>> &lt;&lt;a>> $namegf te répond avec un grand sourire, en rougissant. &lt;&lt;/a>> &lt;/div> &lt;div id="caresser-poitrine"> &lt;&lt;a>> Tu ne peux t'empêcher de profiter de sa belle poitrine offerte. Tu sens sous tes doigts le moelleux de ses seins et ses tétons qui pointent. &lt;&lt;/a>> &lt;&lt;a>> $namegf te laisse faire, et tu entends sa respiration devenir plus profonde. Elle a fermé les yeux pour mieux profiter de tes caresses. &lt;&lt;/a>> &lt;&lt;= _media>> &lt;&lt;d mc>> Tu aimes bébé ? &lt;&lt;/d>> &lt;&lt;a>> Elle t'offre pour seule réponse un gémissement. &lt;&lt;/a>> &lt;/div> &lt;div id="sucer-poitrine"> &lt;&lt;a>> Tu approches tes lèvres de sa poitrine pour les couvrir de baisers. Tu es surpris par la douceur parfaite de sa peau juvénie. &lt;&lt;/a>> &lt;&lt;a>> $namegf se cambre par réflexe pour faire ressortir sa poitrine en signe d'offrande. &lt;&lt;/a>> &lt;&lt;= _media>> &lt;&lt;a>> Tu continues en prenant le bout de ses seins entre tes lèvres, passant ta langue autour de ses tétons qui pointent. Tu suces ses deux tétons l'un après les autres. &lt;&lt;/a>> &lt;&lt;d gf>> Oh $namemc.. Mm-mmh. &lt;&lt;/d>> &lt;/div> &lt;div id="retirer-bas"> &lt;&lt;t>> Je pense qu'elle est prête... &lt;&lt;/t>> &lt;&lt;a>> Doucement, tu déboutonnes son jean. Tu sens immédiatement sa respiration s'accélérer, mais elle ne proteste pas, et laisse tes doigts faire descendre doucement son jean le long de ses cuisses. &lt;&lt;/a>> &lt;&lt;= _media>> &lt;&lt;a>> Son jean laisse apparaitre sa petite culotte rose, fine couche de tissu entre tes doigts et son intimité... Tu l'embrasses de nouveau, et son baisé est plus passionné. Tu ressens clairement son excitation qui monte. &lt;&lt;/a>> &lt;/div> &lt;div id="caresser-cuisse"> &lt;&lt;a>> Tout en continuant d'embrasser $namegf, tu passes ta main le long de ses cuisses, effleurant sa culotte. Tu sens la douce chaleur qui émane de son entre-cuisse, et qui te laisse présager les plaisirs à venir. &lt;&lt;/a>> &lt;&lt;= _media>> &lt;&lt;a>> La belle se tortille sous tes doigts. Tu peux imaginer l'excitation qui s'empare d'elle sous l'effet de tes caresses. &lt;&lt;/a>> &lt;/div> &lt;div id="ouvrir-cuisse"> &lt;&lt;a>> Tu glisses ta main entre les deux cuisses de $namegf, et avec une pression douce, tu l'invites à les écarter. Tu sens une petite résistance, mais rapidement $namegf lâche prise et t'ouvre ses cuisses en grand. &lt;&lt;/a>> &lt;&lt;a>> Tu caresses l'intérieur de ses cuisses désormais accessible. C'est doux. Et chaud. Tes caresses remontent doucement et se rapprochent de sa petite fleur que tu effleures du bout des doigts. Elle frissonne de plaisir. &lt;&lt;/a>> &lt;&lt;a>> Tu sens le tissu de sa petite culotte sous tes doigts, et tu caresses lentement sa petite fente à travers elle. Ta princesse gémit un peu plus fort à chacun de tes gestes. &lt;&lt;/a>> &lt;/div> &lt;div id="main-culotte"> &lt;&lt;a>> Tu es complètement hypnotisé. Son odeur, la douceur de son ventre sous tes doigts, ses gémissements... Ta queue est bien dure, et tu as presque besoin de te retenir pour ne pas jouir quand $namegf se frotte à toi. &lt;&lt;/a>> &lt;&lt;a>> Tout en embrassant $namegf, tu descends lentement ta main le long de son ventre. Tu sens tes doigts passer sous la couture de sa culotte. La respiration de $namegf s'accélère à mesure que tu continues ta descente. Tu sens passer sous tes doigts la douceur de son pubis, puis, enfin, la chaleur (intense !) de sa petite chatte trempée. &lt;&lt;/a>> &lt;&lt;= _media>> &lt;&lt;d gf>> Oh $namemc... Hmmmm... &lt;&lt;/d>> &lt;/div> &lt;div id="retirer-culotte"> &lt;&lt;d mc>> C'est le moment, je crois qu'elle est prête. &lt;&lt;/d>> &lt;&lt;a>> Tu fais lentement glisser sa culotte le long de ses cuisses blanches, libérant sa petite chatte qui ne demandait que ça. &lt;&lt;/a>> &lt;&lt;= _media>> &lt;&lt;t>> Oh putain... Ce qu'elle est bonne. &lt;&lt;/t>> &lt;&lt;a>> Ton coeur bat a 100 à l'heure. Tu tiens ses cuisses bien ouvertes pour détailler de tes yeux sa petite fleur. Et quelle vue magnfique ! Une fine fente surmontée d'une toison rousse traverse son entre-jambes. La couleur rose et ses lèvres légèrements gonflé ne laisse aucun doute sur l'état d'excitation de $namegf. &lt;&lt;/a>> &lt;&lt;a>> La douce odeur sucrée de sa chatte en chaleur vient titiller tes narines. Tu as envie de te jeter dessus avec tes lèvres ou ta queue pour goûter ce coin de paradis, et c'est avec difficulté que tu reprends tes esprits. &lt;&lt;/a>> &lt;/div> &lt;div id="mettre-un-doigt"> &lt;&lt;a>> Tu remontes vers elle pour l'embrasser. Elle prend tes lèvres à pleine bouche, et tu en profites pour glisser ta main sur sa petite chatte offerte. Tu frottes directement ta &lt;&lt;playerSexSizeBefore>> queue bien dure contre $namegf qui semble apprécier le pouvoir qu'elle a sur toi. &lt;&lt;/a>> &lt;&lt;a>> Puis, tu passes lentement un doigt le long de sa fente ouverte, recouvrant ton doigt de sa sève. Puis, tu l'enfonces. Tu sens ton doigt rentrer sans difficulté dans sa petite chatte trempée. &lt;&lt;/a>> &lt;&lt;= _media>> &lt;&lt;a>> Immédiatement, le corps de $namegf s'agite, et elle expire dans un râle de plaisir en sentant sa chatte se faire pénétrer. &lt;&lt;/a>> &lt;&lt;d gf>> Oh putain oui c'est bon... &lt;&lt;/d>> &lt;/div> &lt;div id="mettre-deux-doigts"> &lt;&lt;a>> Enhardi par l'excitation visible de $namegf, tu enfonces un deuxième doigt qui rentre aussi facilement que le premier. La belle est trempée, et tu sens sa sève imbiber ta main. &lt;&lt;/a>> &lt;&lt;d gf>> $namemc... C'est trop bon... &lt;&lt;/d>> &lt;&lt;= _media>> &lt;&lt;d mc>> Tu veux que je continue ? &lt;&lt;/d>> &lt;&lt;a>> $namegf te répond entre deux gémissements. &lt;&lt;/a>> &lt;&lt;d gf>> O-Oui... &lt;&lt;/d>> &lt;&lt;t>> J'ai... J'ai envie d'elle. &lt;&lt;/t>> &lt;/div> &lt;div id="branler"> &lt;&lt;a>> Tu commences à branler $namegf, et tu sens sous tes doigts sa petite chatte s'ouvrir un peu plus à chaque va-et-vient. &lt;&lt;/a>> &lt;&lt;d gf>> Oh mon dieu... Nan, arrête. &lt;&lt;/d>> &lt;&lt;d mc>> T-tu veux que j'arrête ? &lt;&lt;/d>> &lt;&lt;d gf>> NON ! Non... Continue... &lt;&lt;/d>> &lt;&lt;= _media>> &lt;&lt;a>> Tu vois tout le corps de $namegf se tordre sous l'effet du plaisir que tu lui procures, et tu l'entends gémir sans se retenir.. &lt;&lt;/a>> &lt;/div> &lt;div id="branler-fort"> &lt;&lt;d gf>> Oh mon Dieu oui... $namemc... Encore ! Plus fort... &lt;&lt;/d>> &lt;&lt;a>> $namegf t'embrasse à pleine bouche. Encouragé par ses petits cris, tu te mets à branler sa petite chatte trempée le plus rapidement possible. Elle a les yeux fermés, complètement dans son monde. A chaque pénétration, un petit cri de $namegf vient caresser tes oreilles. &lt;&lt;/a>> &lt;&lt;= _media>> &lt;&lt;d gf>> J-je vais jouir... &lt;&lt;= $namemc.toUpperCase()>> ! &lt;&lt;/d>> &lt;&lt;t>> J'ai la main en feu... Encore un petit effort ! &lt;&lt;/t>> &lt;/div> &lt;div id="squirt"> &lt;&lt;a>> Les gémissements se transforment en véritables cris. Elle semblent complètement transformée, et tout son corps ondule sous tes doigts, comme si tu en avais le contrôle. Tu as mal à la main. Mais dans un dernière effort, tu accélères encore. &lt;&lt;/a>> &lt;&lt;a>> Puis soudainement, le corps tout entier de $namegf se raidit, tu sens sa chatte s'ouvrir complètement et son visage se transformer en un mélange d'extase et de douleur. &lt;&lt;/a>> &lt;&lt;= _media>> &lt;&lt;a>> $namegf reste là, allongée sur le dos, presque inconsciente pendant plusieurs dizaines de seconde. Puis, petit à petit elle revient à elle, ouvre de petits yeux et te regarde. Sur ses lèvres, elle arbore un petit sourire que tu ne connaissais pas. Un sourire satisfait, presque heureux, qui se mélange avec le retour de sa timité habituelle. Et de la surprise, comme si elle ne réalisait pas encore ce que vous venez de vivre. &lt;&lt;/a>> &lt;&lt;t>> Qu'est-ce qu'elle est belle... &lt;&lt;/t>> &lt;hr style="border: 2px solid pink;"> &lt;/div> &lt;div id="nosquirt"> &lt;&lt;t>> C-C'est trop dur, ma main est en feu... &lt;&lt;/t>> &lt;&lt;a>> Tu retires ta main avant d'avoir réussi à amener $namegf jusqu'à l'orgasme. Tu la secoues pour évacuer la douleur. &lt;&lt;/a>> &lt;&lt;d gf>> Mais non ! Pourquoi tu t'arrêtes bébé ! Continue... &lt;&lt;/d>> &lt;&lt;d mc>> J-j'ai mal à la main, je dois m'arrêter... &lt;&lt;/d>> &lt;&lt;d gf>> T'es sérieux ?! Pourquoi... &lt;&lt;/d>> &lt;&lt;a>> Tu baisses la tête. &lt;&lt;/a>> &lt;&lt;d mc>> Désolé... &lt;&lt;/d>> &lt;&lt;a>> $namegf te fait un bisou sur le front. &lt;&lt;/a>> &lt;&lt;d gf>> C'est pas grave, c'était bien quand même mon amour. Mais tu feras mieux la prochaine fois, hein ? &lt;&lt;/d>> &lt;&lt;a>> Tu la couvres de baisers, avant de te rhabiller pour t'en aller. &lt;&lt;/a>> &lt;/div> &lt;div id="nosquirt2"> &lt;&lt;t>> Argh ! &lt;&lt;/t>> &lt;&lt;a>> De nouveau, la douleur t'oblige à t'arrêter. &lt;&lt;/a>> &lt;&lt;d gf>> Oh non ! Pas encore ! &lt;&lt;/d>> &lt;&lt;d mc>> D-désolé. J'ai vraiment la main en feu. &lt;&lt;/d>> &lt;&lt;a>> $namegf ne répond pas. Elle se retourne en se mettant dans les couvertures. Tu l'embrasses dans la nuque pour avoir encore un peu de son odeur, avant de t'en aller. &lt;&lt;/a>> &lt;/div> &lt;div id="endsquirt"> &lt;&lt;a>> Après quelques minutes, elle vient se loger dans le creux de ton bras. Nonchalamment, tu passes ta main dans sa longue chevelure rousse. Tu sens son souffle dans ton cou qui redescend petit à petit. &lt;&lt;/a>> &lt;&lt;d gf>> J-je t'aime $namemc. &lt;&lt;/d>> &lt;&lt;a>> Ces mots réchauffent ton coeur, et tu refermes ton bras sur elle, comme pour la protéger. &lt;&lt;/a>> &lt;&lt;d mc>> Je t'aime aussi ma princesse. &lt;&lt;/d>> &lt;&lt;a>> Vous restez dans les bras l'un de l'autre le reste de la soirée à parler, vous embrasser et rigoler. Tu aimerais que ça ne s'arrête jamais, mais le temps passe et il est l'heure pour toi de rentrer. Tu couvres $namegf de baiser une dernière fois, puis tu te lèves à contre-coeur pour te rhabiller et t'en aller. &lt;&lt;/a>> &lt;/div> &lt;div id="stink"> &lt;&lt;a>> Tu embrasses délicatement $namegf dans le cou. Rapidement, tu sens son corps se raidir et reculer. &lt;&lt;/a>> &lt;&lt;d gf>> J'ai... On a du travail. On devrait... Travailler. &lt;&lt;/d>> &lt;&lt;t>> Qu'est-ce qui lui prend ? &lt;&lt;/t>> &lt;&lt;a>> Vous travaillez le reste de l'après midi. &lt;&lt;/a>> &lt;/div> &lt;div id="refus"> &lt;&lt;= _media>> &lt;&lt;a>> $namegf pose sa main sur la tienne pour t'arrêter et fait non de la tête. &lt;&lt;/a>> &lt;&lt;d gf>> $namemc attends ! Pas ça bébé s'il te plait... &lt;&lt;/d>> &lt;&lt;d mc>> Oh, d'accord princesse. Je pensais que... &lt;&lt;/d>> &lt;&lt;t>> Je dois faire attention à ne pas aller trop vite. &lt;&lt;/t>> &lt;/div> &lt;hr style="border: 2px solid pink;"> &lt;div id="action-zone"> &lt;&lt;include INDEX-2-1-1>> &lt;hr style="border: 2px solid pink;"> &lt;div id="action-info"> &lt;div> &lt;&lt;nothing>> Actions restantes &lt;&lt;/nothing>> = _stamina &lt;/div> &lt;div> &lt;&lt;nothing>> Fragments Collectés &lt;&lt;/nothing>> = &lt;&lt;= setup.getFragmentSize("gf", "sexgf-2-1")>>/&lt;&lt;= _fragmentsList.length>> &lt;/div> &lt;/div> &lt;&lt;if setup.isTools()>> &lt;div class="choices"> &lt;&lt;button "Ajouter excitation" after:heart-1>> &lt;&lt;excitation2 gf 1>> &lt;&lt;corruption gf 1>> &lt;&lt;goto MOM-0-6-4>> &lt;&lt;/button>> &lt;&lt;button "Reset excitation" after:heart-1>> &lt;&lt;run setup.resetExcitation("gf")>> &lt;&lt;goto MOM-0-6-4>> &lt;&lt;/button>> &lt;&lt;button "Reset Stamina" after:heart-1>> &lt;&lt;run setup.setLocalAction("stamina", 10)>> &lt;&lt;goto MOM-0-6-4>> &lt;&lt;/button>> &lt;&lt;button "Reset actions" after:heart-1>> &lt;&lt;run setup.resetLocalAction()>> &lt;&lt;goto MOM-0-6-4>> &lt;&lt;/button>> &lt;&lt;button "Corr @ 31" after:heart-1>> &lt;&lt;set $person.gf.corruption = 31>> &lt;&lt;goto MOM-0-6-4>> &lt;&lt;/button>> &lt;&lt;button "Corr @ 80" after:heart-1>> &lt;&lt;set $person.gf.corruption = 80>> &lt;&lt;goto MOM-0-6-4>> &lt;&lt;/button>> &lt;&lt;button "Corr +10" after:heart-1>> &lt;&lt;corruption gf 10>> &lt;&lt;goto MOM-0-6-4>> &lt;&lt;/button>> &lt;/div> &lt;&lt;/if>> &lt;div id="outofstamina"> &lt;&lt;a>> Tu es épuisé. &lt;&lt;/a>> &lt;/div> &lt;&lt;if ((_GFExcitation &lt; 10 && _stamina > 0) || _GFExcitation == 10) && _prevAction != "30" && _prevAction != "31">> &lt;div id="options"> &lt;&lt;include SIS-2-2-2>> &lt;/div> &lt;&lt;else>> &lt;div class="choices direction"> &lt;&lt;button "Continuer">> &lt;&lt;run setup.resetExcitation("gf")>> &lt;&lt;run setup.resetLocalAction()>> &lt;&lt;run setup.resetLocalEvent()>> &lt;&lt;run setup.setPassageSleepingTime(250, 250)>> &lt;&lt;goto SUB-0-0-2>> &lt;&lt;/button>> &lt;/div> &lt;&lt;/if>> &lt;/div> &lt;&lt;for _element range _fullModulableIdList>> &lt;&lt;if !_IDByAction[_prevAction][0].includes(_element)>> &lt;&lt;deleteElementById _element>> &lt;&lt;/if>> &lt;&lt;/for>> &lt;&lt;unshow2 outofstamina>> &lt;&lt;if _prevAction == "30">> &lt;&lt;if setup.isEvent("gf", 8)>> &lt;&lt;endevent gf 9 1>> &lt;&lt;/if>> &lt;&lt;jouir "Avec Lana, dans sa chambre">> &lt;&lt;set _point = 10 - (setup.event("gf", 7) * 5)>> &lt;&lt;if _point > 0>> &lt;&lt;timed 6s>> &lt;&lt;whited _point>> &lt;&lt;/timed>> &lt;&lt;/if>> &lt;&lt;timed 6s>> &lt;&lt;pushevent gf 8>> &lt;&lt;/timed>> &lt;&lt;/if>> &lt;&lt;if _prevAction == "31">> &lt;&lt;pushevent gf 9>> &lt;&lt;if setup.oneshot("sexgf-2-1-failsquirt")>> &lt;&lt;unshow2 nosquirt2>> &lt;&lt;else>> &lt;&lt;endevent gf 8 1>> &lt;&lt;unshow2 nosquirt>> &lt;&lt;/if>> &lt;&lt;set _point = 10 - (setup.event("gf", 7) * 5)>> &lt;&lt;if _point > 0>> &lt;&lt;humiliation _point>> &lt;&lt;/if>> &lt;&lt;frustration gf 10 20>> &lt;&lt;/if>> &lt;&lt;if _stamina == 0 && !setup.isStink() && _GFExcitation != 10>> &lt;&lt;show2 outofstamina>> &lt;&lt;/if>> &lt;&lt;if _prevAction == "0" && setup.isTurnOn("turnoff-tuto-sexgf-2-1")>> &lt;&lt;unshow2 tutorial>> &lt;&lt;/if>> &lt;&lt;run setup.setPassageSleepingTime(500, 500)>> &lt;&lt;note>> Tu as fait quoi aujourdh'ui ? => Présentation de lana pour mieux la connaitre Comment va ton père ? => Miliatire, il est en mission longue au moyen orient => What Est ce que tu t'es déjà branlée ? => jamais ? => Bon, peut être une fois dans la douche T'as déjà imaginé des trucs avec quelqu'un d'autre ? => What ? No ? (blacked++) T'as déjà imaginé des trucs avec rival ? => Quoi ? Mais tu es fou ? &lt;&lt;/note>></tw-passagedata><tw-passagedata name=SIS-2-2-2 position=7765,1386 size=100,100 tags=""pid=71>&lt;&lt;set _GFE = setup.getExcitation("gf")>> &lt;&lt;set _GFC = setup.getCorruption("gf")>> &lt;&lt;set _step2 = 45>> &lt;&lt;set _step3 = 60>> &lt;&lt;set _step4 = 75>> &lt;&lt;widget refusAction>> &lt;&lt;run setup.setLocalAction("sexaction", 1)>> &lt;&lt;if $args.length == 0>> &lt;&lt;run setup.setLocalAction("stamina", setup.getLocalAction("stamina") - 1)>> &lt;&lt;/if>> &lt;&lt;goto MOM-0-6-4>> &lt;&lt;/widget>> &lt;&lt;note>> nextAction: maxExcitation maxCorruption ActionNum &lt;&lt;/note>> &lt;&lt;widget nextAction>> &lt;&lt;if $args.length > 0>> &lt;&lt;excitation2 gf 1 $args[0]>> &lt;&lt;else>> &lt;&lt;excitation2 gf 1>> &lt;&lt;/if>> &lt;&lt;excitation 10>> &lt;&lt;corruption gf 1 $args[1]>> &lt;&lt;if $args.length > 2>> &lt;&lt;run setup.setLocalAction("sexaction", $args[2])>> &lt;&lt;/if>> &lt;&lt;run setup.setLocalAction("stamina", setup.getLocalAction("stamina") - 1)>> &lt;&lt;goto MOM-0-6-4>> &lt;&lt;/widget>> &lt;div class="choices direction" id="basic"> &lt;&lt;if setup.isBorne(_GFE, 0, 4)>> &lt;&lt;button "Embrasser" before:play>> &lt;&lt;nextAction 1 35 "01">> &lt;&lt;/button>> &lt;&lt;/if>> &lt;&lt;if setup.isBorne(_GFE, 1, 9)>> &lt;&lt;button "Admirer son corps" after:heart-1 before:play>> &lt;&lt;nextAction 2 40 "02">> &lt;&lt;/button>> &lt;&lt;/if>> &lt;&lt;if setup.isBorne(_GFE, 1, 4)>> &lt;&lt;button "Lui masser le dos" after:heart-1 before:play>> &lt;&lt;nextAction 3 40 "03">> &lt;&lt;/button>> &lt;&lt;/if>> &lt;&lt;if setup.isBorne(_GFE, 5, 7)>> &lt;&lt;button "L'embrasser à pleine bouche" after:heart-2 before:play>> &lt;&lt;nextAction 7 55 "04">> &lt;&lt;/button>> &lt;&lt;/if>> &lt;/div> &lt;div class="choices direction" id="boobs"> &lt;&lt;if setup.isBorne(_GFE, 2, 8) && !setup.isLocalEvent("gf-retirer-haut")>> &lt;&lt;button "Retirer son haut" after:heart-1>> &lt;&lt;run setup.localEvent("gf-retirer-haut")>> &lt;&lt;run setup.setLocalAction("sexaction", "11")>> &lt;&lt;goto MOM-0-6-4>> &lt;&lt;/button>> &lt;&lt;/if>> &lt;&lt;if setup.isBorne(_GFE, 2, 7) && setup.isLocalEvent("gf-retirer-haut")>> &lt;&lt;button "Caresser sa poitrine" after:heart-1 before:play>> &lt;&lt;nextAction 4 55 "12">> &lt;&lt;/button>> &lt;&lt;/if>> &lt;&lt;if setup.isBorne(_GFE, 5, 7) && setup.isLocalEvent("gf-retirer-haut")>> &lt;&lt;button "Jouer avec le bout de ses seins" after:heart-2 before:play>> &lt;&lt;if _GFC >= _step2>> &lt;&lt;nextAction 5 55 "13">> &lt;&lt;else>> &lt;&lt;refusAction>> &lt;&lt;/if>> &lt;&lt;/button>> &lt;&lt;/if>> &lt;/div> &lt;div class="choices direction" id="pussy"> &lt;&lt;if setup.isBorne(_GFE, 4, 8) && !setup.isLocalEvent("gf-retirer-bas")>> &lt;&lt;button "Retirer son jean" after:heart-2>> &lt;&lt;if _GFC >= _step2>> &lt;&lt;run setup.localEvent("gf-retirer-bas")>> &lt;&lt;run setup.setLocalAction("sexaction", "21")>> &lt;&lt;goto MOM-0-6-4>> &lt;&lt;else>> &lt;&lt;refusAction noStamina>> &lt;&lt;/if>> &lt;&lt;/button>> &lt;&lt;/if>> &lt;&lt;if setup.isBorne(_GFE, 4, 7) && setup.isLocalEvent("gf-retirer-bas")>> &lt;&lt;button "Caresser ses cuisses" after:heart-2 before:play>> &lt;&lt;if _GFC >= _step2>> &lt;&lt;nextAction 5 60 "22">> &lt;&lt;else>> &lt;&lt;refusAction>> &lt;&lt;/if>> &lt;&lt;/button>> &lt;&lt;/if>> &lt;&lt;if setup.isBorne(_GFE, 4, 8) && setup.isLocalEvent("gf-retirer-bas") && !setup.isLocalEvent("gf-ouvrir-cuisses")>> &lt;&lt;button "Ouvrir ses cuisses" after:heart-2>> &lt;&lt;if _GFC >= _step2>> &lt;&lt;run setup.localEvent("gf-ouvrir-cuisses")>> &lt;&lt;run setup.setLocalAction("sexaction", "23")>> &lt;&lt;goto MOM-0-6-4>> &lt;&lt;else>> &lt;&lt;refusAction>> &lt;&lt;/if>> &lt;&lt;/button>> &lt;&lt;/if>> &lt;&lt;if setup.isBorne(_GFE, 4, 7) && setup.isLocalEvent("gf-ouvrir-cuisses") && !setup.isLocalEvent("gf-retirer-culotte")>> &lt;&lt;button "Glisser une main dans sa culotte" after:heart-2 before:play>> &lt;&lt;if _GFC >= _step2>> &lt;&lt;nextAction 6 65 "24">> &lt;&lt;else>> &lt;&lt;refusAction>> &lt;&lt;/if>> &lt;&lt;/button>> &lt;&lt;/if>> &lt;&lt;if setup.isBorne(_GFE, 5, 8) && setup.isLocalEvent("gf-ouvrir-cuisses") && !setup.isLocalEvent("gf-retirer-culotte")>> &lt;&lt;button "Retirer sa culotte" after:heart-3>> &lt;&lt;if _GFC >= _step3>> &lt;&lt;run setup.localEvent("gf-retirer-culotte")>> &lt;&lt;run setup.setLocalAction("sexaction", "25")>> &lt;&lt;goto MOM-0-6-4>> &lt;&lt;else>> &lt;&lt;refusAction noStamina>> &lt;&lt;/if>> &lt;&lt;/button>> &lt;&lt;/if>> &lt;&lt;if setup.isBorne(_GFE, 5, 8) && setup.isLocalEvent("gf-retirer-culotte")>> &lt;&lt;button "Lui mettre un doigt" after:heart-3 before:play>> &lt;&lt;if _GFC >= _step3>> &lt;&lt;run setup.localEvent("gf-un-doigt")>> &lt;&lt;nextAction 8 70 "26">> &lt;&lt;else>> &lt;&lt;refusAction>> &lt;&lt;/if>> &lt;&lt;/button>> &lt;&lt;/if>> &lt;&lt;if setup.isBorne(_GFE, 5, 8) && setup.isLocalEvent("gf-retirer-culotte") && setup.isLocalEvent("gf-un-doigt")>> &lt;&lt;button "Lui mettre deux doigts" after:heart-3 before:play>> &lt;&lt;if _GFC >= _step3>> &lt;&lt;nextAction 9 70 "27">> &lt;&lt;else>> &lt;&lt;refusAction>> &lt;&lt;/if>> &lt;&lt;/button>> &lt;&lt;/if>> &lt;&lt;if setup.isBorne(_GFE, 7, 9) && setup.isLocalEvent("gf-retirer-culotte")>> &lt;&lt;button "La branler" after:heart-3 before:play>> &lt;&lt;if _GFC >= _step3>> &lt;&lt;nextAction 9 75 "28">> &lt;&lt;else>> &lt;&lt;refusAction>> &lt;&lt;/if>> &lt;&lt;/button>> &lt;&lt;/if>> &lt;&lt;if setup.isBorne(_GFE, 9, 9) && setup.isLocalEvent("gf-retirer-culotte")>> &lt;&lt;button "La branler à fond" after:heart-4 before:play>> &lt;&lt;if _GFC >= _step4>> &lt;&lt;nextAction 10 80 "29">> &lt;&lt;else>> &lt;&lt;refusAction>> &lt;&lt;/if>> &lt;&lt;/button>> &lt;&lt;/if>> &lt;&lt;if setup.isBorne(_GFE, 10, 10) && setup.isLocalEvent("gf-retirer-culotte")>> &lt;&lt;button "La faire jouir" MOM-0-6-4 after:heart-4>> &lt;&lt;run setup.effectOrgasm("Orgasm!")>> &lt;&lt;run setup.setLocalAction("sexaction", "30")>> &lt;&lt;/button>> &lt;&lt;button "C'est trop dur" MOM-0-6-4 after:heart-4>> &lt;&lt;run setup.setLocalAction("sexaction", "31")>> &lt;&lt;/button>> &lt;&lt;/if>> &lt;/div> &lt;div class="choices direction" id="self"> &lt;&lt;button "Poser sa main sur ton caleçon" after:heart-1>> &lt;&lt;/button>> &lt;&lt;button "Retirer ton jean" after:heart-1>> &lt;&lt;/button>> &lt;&lt;button "Se laisser caresser" after:heart-2>> &lt;&lt;/button>> &lt;&lt;button "Retirer ton caleçon" after:heart-2>> &lt;&lt;/button>> &lt;&lt;button "Laisser faire branlette" after:heart-3>> &lt;&lt;/button>> &lt;&lt;button "Laisser faire grosse branlette" after:heart-3>> &lt;&lt;/button>> &lt;/div> &lt;&lt;unshow2 self>></tw-passagedata><tw-passagedata name=INDEX-2-1-1 position=5614,9008 size=100,100 tags=""pid=72>&lt;style> .orgasm-zone { border-radius: 10px; width: 50%; min-width: 405px; margin: 0 auto; padding-bottom: 1em; background: rgb(255,245,249); box-shadow: 0px 1px 1px rgba(000,000,000,0.5), inset 1px 2px 0px rgba(255,255,255,0.4); background: -webkit-gradient( linear, left top, left bottom, from(#ffeef8), color-stop(0.50, #ffddf0), color-stop(0.92, #ffc3e5), to(#ffa9da)); --color-pop: #ac00c6; } .orgasm-zone.full { -webkit-animation: round-glow 1s ease-in-out infinite alternate; -moz-animation: round-glow 1s ease-in-out infinite alternate; animation: round-glow 1s ease-in-out infinite alternate; } .progress-container { width: calc(18em + 10px); background-color: white; padding: 5px; border-radius: 5px; border: 1px solid pink; margin: 0 auto; } .progress-container.full { background-color: #ffe8f0; border: 2px solid var(--theme-feminity-color); box-shadow: 0 0 6px 2px #fff, 0 0 10px 6px #ff0074, 0 0 14px 2px #0ff; -webkit-animation: round-glow 1s ease-in-out infinite alternate; -moz-animation: round-glow 1s ease-in-out infinite alternate; animation: round-glow 1s ease-in-out infinite alternate; } .steps { position: relative; display: flex; justify-content: space-between; width: 18em; } .step { width: 20px; height: 20px; background: #fff; border: 2px solid pink; border-radius: 50%; transition: background 1s; } .step.selected { border: 2px solid var(--theme-feminity-color); } .step.completed { border: 2px solid var(--theme-feminity-color); background: var(--theme-feminity-color); -webkit-animation: round-glow 2s ease-in-out infinite alternate; -moz-animation: round-glow 2s ease-in-out infinite alternate; animation: round-glow 2s ease-in-out infinite alternate; } .progress { position: absolute; width: 18em; height: 11px; border-bottom: 2px solid #ACACA6; } .percent { position: absolute; width: 0; height: 11px; border-bottom: 2px solid var(--theme-feminity-color); transition: width 1s; } @keyframes round-glow { from { box-shadow: 0 0 1px white, 0 0 2px white, 0 0 3px white, 0 0 4px var(--color-pop), 0 0 5px var(--color-pop), 0 0 6px var(--color-pop), 0 0 7px var(--color-pop); } to { box-shadow: 0 0 1px white, 0 0 2px white, 0 0 3px white, 0 0 4px white, 0 0 5px var(--color-pop), 0 0 6px var(--color-pop), 0 0 7px var(--color-pop), 0 0 8px var(--color-pop), 0 0 9px var(--color-pop), 0 0 10px var(--color-pop); } } .orgasm-text { text-align: center; font-size: 4em; color: var(--theme-feminity-color); font-family: Tangerine; margin-bottom: -21px; margin-top: -14px; } .orgasm-text.demi-full { -webkit-animation: orgasm-glow 2s ease-in-out infinite alternate; -moz-animation: orgasm-glow 2s ease-in-out infinite alternate; animation: orgasm-glow 2s ease-in-out infinite alternate; text-shadow: 2px 3px 1px #fff, 0 2px 3px #ff0074, 0 4px 1px #0ff; } .orgasm-text.full { -webkit-animation: orgasm-glow 0.5s ease-in-out infinite alternate; -moz-animation: orgasm-glow 0.5s ease-in-out infinite alternate; animation: orgasm-glow 0.5s ease-in-out infinite alternate; text-shadow: 2px 3px 1px #fff, 0 2px 3px #ff0074, 0 4px 1px #0ff; } @-webkit-keyframes orgasm-glow { from { text-shadow: 2px 3px 1px #fff, 0 2px 3px #ff0074, 0 4px 1px #0ff; } to { text-shadow: -1px 4px 3px #fff, 0 3px 4px #ff0074, 0 4px 1px #0ff; } } @keyframes orgasm-glow { from { text-shadow:: 2px 3px 1px #fff, 0 2px 3px #ff0074, 0 4px 1px #0ff; } to { text-shadow: -1px 4px 3px #fff, 0 3px 4px #ff0074, 0 4px 1px #0ff; } } /* Corruption bar */ #corruption-bar { margin-top: -59px; margin-bottom: -318px; } .ldBar-label { display: none; height: 0; width: 0; } .heart-full { text-shadow: 0 0 1px #fff, 0 0 2px #fff, 0 0 3px #fff, 0 0 4px #fff, 0 0 5px #fff, 0 0 6px #fff, 0 0 7px #fff, 0 0 8px #fff, 0 0 9px #fff, 0 0 10px #fff; } @-webkit-keyframes heart-glow { from { text-shadow: 0 0 2px #fff, 0 0 5px #fff, 0 0 10px #fff, 0 0 15px #fff, 0 0 20px #fff; } to { text-shadow: 0 0 10px #fff, 0 0 15px #fff, 0 0 20px #fff, 0 0 25px #fff; } } @keyframes heart-glow { from { text-shadow: 0 0 2px #fff, 0 0 5px #fff, 0 0 10px #fff, 0 0 15px #fff, 0 0 20px #fff; } to { text-shadow: 0 0 10px #fff, 0 0 15px #fff, 0 0 20px #fff; } } &lt;/style> &lt;&lt;set _stepEmpty = '&lt;div class="step" id="0">&lt;/div>'>> &lt;&lt;set _stepFull = '&lt;div class="step completed" id="0">&lt;/div>'>> &lt;&lt;set _GFExcitation = setup.getExcitation("gf")>> &lt;&lt;set _GFCorruption = setup.getCorruption("gf")>> &lt;script> if (SugarCube && SugarCube.setup) { SugarCube.setup.updateSexgfProgressBar(); } &lt;/script> &lt;&lt;set _percent = "&lt;div class='percent' style='width:" + (_GFExcitation - 1) * 2 + "em'>&lt;/div>">> &lt;div class="orgasm-zone"> &lt;div class="orgasm-text"> &lt;&lt;if _GFExcitation >= 10>> &lt;&lt;nothing>> $namegf a joui ! &lt;&lt;/nothing>> &lt;&lt;elseif _GFExcitation >= 8>> &lt;&lt;nothing>> $namegf est déchaînée &lt;&lt;/nothing>> &lt;&lt;elseif _GFExcitation >= 5>> &lt;&lt;nothing>> $namegf est excitée &lt;&lt;/nothing>> &lt;&lt;elseif _GFExcitation >= 1>> &lt;&lt;nothing>> $namegf est émoustillée &lt;&lt;/nothing>> &lt;&lt;else>> &lt;&lt;nothing>> $namegf est calme &lt;&lt;/nothing>> &lt;&lt;/if>> &lt;/div> &lt;div class="progress-container"> &lt;div class="progress"> &lt;&lt;= _percent>> &lt;/div> &lt;div class="steps"> &lt;&lt;for _i to 0; _i lt 10; _i++>> &lt;&lt;if _i &lt; _GFExcitation>> &lt;&lt;= _stepFull>> &lt;&lt;else>> &lt;&lt;= _stepEmpty>> &lt;&lt;/if>> &lt;&lt;/for>> &lt;/div> &lt;/div> &lt;&lt;set _sexgfProgressBar = "&lt;div id='corruption-bar' style='width:100%;height:27em' data-stroke='data:ldbar/res,gradient(1,3,#ffaecb,#e91e63)' data-path='M10 20Q20 15 30 20Q40 25 50 20Q60 15 70 20Q80 25 90 20' data-min='" + _minBarCorruption + "' data-max='" + _maxBarCorruption + "'>&lt;/div>">> &lt;&lt;= _sexgfProgressBar>> &lt;&lt;for _i = 0; _i &lt; _heartCount; _i++>> &lt;&lt;if _GFCorruption >= _heartActivation[_i]>> &lt;&lt;set _heartDiv = "&lt;div id='heart-" + _i + "' class='fab fa-gratipay heart-full'>&lt;/div>">> &lt;&lt;else>> &lt;&lt;set _heartDiv = "&lt;div id='heart-" + _i + "' class='fab fa-gratipay'>&lt;/div>">> &lt;&lt;/if>> &lt;&lt;= _heartDiv>> &lt;&lt;/for>> &lt;/div> &lt;script> if(SugarCube && SugarCube.setup) { let CorruptionBar = new ldBar("#corruption-bar"); /*CorruptionBar.set(SugarCube.setup.getCorruption("gf"),false);*/ } &lt;/script></tw-passagedata><tw-passagedata name=SUB-0-0-2 position=370,3074 size=100,100 tags=""pid=73>&lt;div class="choices direction"> &lt;&lt;if setup.isWeekend()>> &lt;&lt;button "Retourner en ville" SCHOOL-1-3-4 before:city>> &lt;&lt;/button>> &lt;&lt;else>> &lt;&lt;button "Rentrer à la maison" FBRO-2-3-0 before:home>> &lt;&lt;/button>> &lt;&lt;/if>> &lt;/div></tw-passagedata><tw-passagedata name=FBRO-0-1-3 position=8198,1877 size=100,100 tags=""pid=74>&lt;&lt;ambiance stop>> &lt;&lt;run setup.dailyEvent("housegf")>> &lt;&lt;nextInstant>> &lt;&lt;if setup.isWeekend() && !setup.isNight()>> &lt;&lt;nextInstant>> &lt;&lt;/if>> &lt;&lt;if setup.getCorruption("gf") > 30>> &lt;&lt;include BRO-1-2-5>> &lt;&lt;else>> &lt;&lt;include VRT-2-2-1>> &lt;&lt;/if>></tw-passagedata><tw-passagedata name=PART-1-5-3 position=4967,9107 size=100,100 tags=""pid=75>&lt;div id="initial"> &lt;&lt;a>> Tu ouvres la porte de la salle de bain, et en entrant, tu sens une bouffée de vapeur chaude envelopper ton corps et remplir tes poumons. Tu n'as pas le temps de réaliser ce qu'il se passe que tu entends un hurlement. &lt;&lt;/a>> &lt;&lt;video data/ss/shower1.webm 70>> &lt;&lt;d ss>> &lt;&lt;= $namemc.toUpperCase()>> ! PUTAIN QU'EST-CE QUE TU FAIS !? &lt;&lt;/d>> &lt;&lt;a>> A travers la brume tu vois $namess, sous la douche, nue, essayant désespérement de cacher sa large poitrine et son entre-cuisse avec ses mains. Ton coeur est partagé entre l'envie d'en voir plus et cette ancienne convention sociale disant de ne pas harceler sa $relationss sous la douche. &lt;&lt;/a>> &lt;&lt;d mc>> Ah merde ! Désolé je... je t'avais pas vu... &lt;&lt;/d>> &lt;&lt;d ss>> Nan mais j'hallucine ! Sors tout de suite et ferme la porte ! &lt;&lt;/d>> &lt;div class="choices" id="b-1"> &lt;&lt;button "Se retourner pour jeter un dernier coup d'oeil">> &lt;&lt;excitation 10>> &lt;&lt;pushevent ss 1>> &lt;&lt;dynamicunshow initial final-choice>> &lt;&lt;dynamicshow s-1>> &lt;&lt;/button>> &lt;&lt;button "Sortir et aller déjeuner">> &lt;&lt;goto SBFR-0-8-2>> &lt;&lt;/button>> &lt;/div> &lt;/div> &lt;div id="s-1"> &lt;&lt;a>> Avant de t'en aller, tu ne peux pas t'empêcher de jeter un dernier coup d'oeil. Juste pour vérifier que tout va bien. &lt;&lt;/a>> &lt;&lt;image data/ss/shower2.jpg>> &lt;&lt;a>> Pour être vraiment honnête avec toi même, cela fait longtemps que tu rêves de pouvoir détailler les formes de son corps, et tu n'es pas déçu par ce que tu vois ! &lt;&lt;/a>> &lt;&lt;a>> Complètement nue, l'eau de la douche ruisselle entre deux seins de belle taille que tu pourrais à peine faire tenir dans tes mains. La courbure de son dos débouche sur une marque de bronzage causée par cette culotte qui lui sert habituellement à couvrir son gros cul que tu devines très ferme. &lt;&lt;/a>> &lt;&lt;a>> Ton imagination s'emballe rapidement. Elle est sur ton lit, à 4 pattes, le cul bien cambré dans ta direction. Tu es derrière elle, et tu fais lentement glisser ta queue entre ses fesses. Tu la vois dandiner du cul en soupirant d'envie. &lt;&lt;/a>> &lt;&lt;t>> Pourquoi faut-il que cette garce se trimballe un cul comme ça ? &lt;&lt;/t>> &lt;&lt;a>> Soudainement, ton coeur se met à battre à 100 à l'heure : son regard est sur toi. Elle reste bloquée en voyant tes yeux en train de la dévorer. &lt;&lt;/a>> &lt;&lt;t>> J-Je crois qu'elle est prête... &lt;&lt;/t>> &lt;div class="choices" id="b-2"> &lt;&lt;button "S'approcher et lui peloter le cul">> &lt;&lt;excitation 15>> &lt;&lt;dynamicunshow s-1>> &lt;&lt;dynamicshow s-2 final-choice>> &lt;&lt;/button>> &lt;/div> &lt;/div> &lt;div id="s-2"> &lt;&lt;a>> En t'approchant, tu peux mieux détailler ses grosses fesses bien rondes, bien fermes, bien moelleuses, et ce sillon qui les traverse. Tu suis des yeux ce sillon qui vient disparaitre entre ses deux belles cuisses... &lt;&lt;/a>> &lt;&lt;a>> Bravant la pression de son regard, tu fais un mouvement pour venir poser ta main sur son gros cul. Mais avant que tu ne puisses terminer ton geste, tu sens un coup sur ta main qui stoppe ton geste. &lt;&lt;/a>> &lt;&lt;d ss>> ''Putain $namemc tu fais quoi là ? Je t'ai dit de te tirer !'' &lt;&lt;/d >> &lt;&lt;d mc>> Ca va, ça va, pas besoin de s'énerver... &lt;&lt;/d >> &lt;&lt;a>> Tu détournes difficilement le regard, et après avoir refermé la porte de la salle de bain, tu sens un malaise t'envahir. &lt;&lt;/a>> &lt;&lt;t>> Ah merde ! Ca ne s'est pas exactement passé comme sur mes vidéos pornhub... J'espère qu'elle ne dira rien à $namesm. &lt;&lt;/t>> &lt;/div> &lt;&lt;excitation 5>> &lt;div class="choices" id="final-choice"> [[Aller déjeuner|SBFR-0-8-2]] &lt;/div> &lt;&lt;unshow2 s-1 s-2 final-choice>></tw-passagedata><tw-passagedata name=BRO-1-8-5 position=637,2476 size=100,100 tags=""pid=76>DEPRECATED > Remplacé par VRT-1-5-0 &lt;div class="choices" id="ch1"> &lt;&lt;button "Regarder par le trou de la serrure">> &lt;&lt;pushevent ss 5>> &lt;&lt;if $events.ss[6]>> &lt;&lt;unshow ch1>> &lt;&lt;if ($events.ss[5] % 3) == 0>> &lt;&lt;show rep5>> &lt;&lt;else>> &lt;&lt;show rep4>> &lt;&lt;excitation 30>> &lt;&lt;/if>> &lt;&lt;else>> &lt;&lt;if ($events.ss[5] % 3) == 0>> &lt;&lt;show rep2>> &lt;&lt;/if>> &lt;&lt;unshow ch1>> &lt;&lt;show rep1>> &lt;&lt;if $events.ss[5] == 6>> &lt;&lt;show rep3>> &lt;&lt;/if>> &lt;&lt;/if>> &lt;&lt;/button>> &lt;/div> &lt;div id="rep1"> &lt;&lt;a>> La porte est fermée à clé. Tu entends ta $relationss prendre sa douche. &lt;&lt;/a>> &lt;&lt;a>> Tu regardes par le trou de la serrure, mais la clé est dedans et obstrue ta vision. Dommage, c'était bien essayé. &lt;&lt;/a>> &lt;/div> &lt;div id="rep2"> &lt;&lt;a>> La salle de bain est occupée par ta $relationss. &lt;&lt;/a>> &lt;&lt;a>> En approchant ton oreille de la porte, tu entends des petits bruits. En te concentrant sur le son, tu as presque l'impression qu'il s'agit de gémissements. &lt;&lt;/a>> &lt;&lt;t>> Mais qu'est-ce qu'elle peut bien faire là dedans ? &lt;&lt;/t>> &lt;&lt;a>> Tu regardes par le trou de la serrure, mais la clé est dedans et obstrue ta vision. Dommage, c'était bien essayé. &lt;&lt;/a>> &lt;/div> &lt;div id="rep3"> &lt;&lt;t>> Cette clé commence à me gaver sérieusement, il va falloir que je fasse quelque chose. &lt;&lt;/t>> &lt;/div> &lt;div id="rep4"> &lt;&lt;a>> Tu regardes par le trou de la serrure. La clé n'y est plus. &lt;&lt;/a>> &lt;&lt;t>> Enfin ! Cette blonde a gros cul a intérêt à me donner un beau spectacle. &lt;&lt;/t>> &lt;&lt;set _video = "data/ss/s/" + random(2) + ".webm">> &lt;&lt;video _video>> &lt;&lt;t>> Oh ouais, belle salope... &lt;&lt;/t>> &lt;/div> &lt;div id="rep5"> &lt;&lt;a>> En approchant ton oreille de la porte, tu entends des petits bruits. En te concentrant sur le son, tu as presque l'impression qu'il s'agit de gémissements. &lt;&lt;/a>> &lt;&lt;a>> Tu regardes par le trou de la serrure. La clé n'y est plus, mais elle est sous la douche et le rideau de douche est tiré, tu ne peux rien voir. &lt;&lt;/a>> &lt;&lt;t>> Il va falloir que je pense à une autre solution... &lt;&lt;/t>> &lt;&lt;include VRT-0-0-3>> &lt;/div> &lt;div class="choices"> [[Aller déjeuner|SBFR-0-8-2]] &lt;/div> &lt;&lt;unshow2 rep1 rep2 rep3 rep4 rep5>></tw-passagedata><tw-passagedata name=STORY-0-4-0 position=8557,2426 size=100,100 tags=""pid=77>&lt;&lt;image data/places/home/bathroom/bathroom.jpg 100>> &lt;&lt;if $player.avatar != "">> &lt;&lt;set _tmp = "&lt;img id='avatar' src='" + $player.avatar + "'>">> &lt;&lt;else>> &lt;&lt;set _tmp = "&lt;img id='avatar' src='" + setup.findMedia("data/mc/avatar.jpg") + "'>">> &lt;&lt;/if>> &lt;&lt;run setup.checkMessage()>> &lt;div id="initial-bathroom"> &lt;div id="bathroom-presentation"> &lt;div id="select-avatar" style="margin-left:2em;margin-bottom:2em;float:right;"> &lt;label for="file-input"> &lt;&lt;print _tmp>> &lt;/label> &lt;p> &lt;&lt;nothing>>Clique sur l'image pour changer ton avatar&lt;&lt;/nothing>> &lt;/p> &lt;input id="file-input" type="file" style="display:none" onchange="SugarCube.setup.loadAvatar(event)"/> &lt;/div> &lt;&lt;a>> Tu es un &lt;&lt;playerGender>> &lt;&lt;playerRace>> &lt;&lt;playerSexuality>>. &lt;&lt;/a>> &lt;&lt;a>> Tu as de beaux cheveux de couleur &lt;&lt;playerHairColor>> coiffés avec une coupe &lt;&lt;playerHairType>> qui te va très bien. Tes yeux sont de couleur &lt;&lt;playerEyesColor>>. &lt;&lt;/a>> &lt;&lt;a>> Ton corps est &lt;&lt;playerBodyShape>>. &lt;&lt;/a>> &lt;&lt;a>> Tu as une &lt;&lt;playerSexType>> &lt;&lt;playerSexSize>> avec un style &lt;&lt;playerSexHair>>. &lt;&lt;/a>> &lt;&lt;if setup.isBoobs()>> &lt;&lt;a>> Tu as des seins &lt;&lt;playerBoobsSize>> avec une forme &lt;&lt;playerBoobsShape>>. &lt;&lt;/a>> &lt;&lt;else>> &lt;&lt;a>> Tu n'as pas de seins. &lt;&lt;/a>> &lt;&lt;/if>> &lt;&lt;playerTatoos>> &lt;&lt;playerPiercings>> &lt;/div> &lt;/div> &lt;div class="choices" id="steal-key"> &lt;&lt;button "Voler la clé de la salle de bain">> &lt;&lt;pushevent ss 6>> &lt;&lt;dunshow steal-key>> &lt;&lt;dshow steal-key-done>> &lt;&lt;/button>> &lt;/div> &lt;div id="steal-key-done"> &lt;&lt;a>> Tu retires la clé de la serrure. Au même moment, tu entends $namess derrière la porte. &lt;&lt;/a>> &lt;&lt;d ss>> Magne toi pédale, j'ai besoin d'un truc dans la salle de bain. &lt;&lt;/d>> &lt;&lt;t>> A bientôt princesse... :) &lt;&lt;/t>> &lt;/div> &lt;div id="bathroom-propre"> &lt;&lt;t>> Je suis déjà propre. Je n'ai pas besoin de prendre une douche pour le moment. &lt;&lt;/t>> &lt;/div> &lt;&lt;unshow2 steal-key matter-soeur steal-key-done bathroom-propre>> &lt;&lt;if setup.isMorning(0) && (setup.getGameDay() % 2 == 0) && setup.getGameDay() > 0>> &lt;&lt;include VRT-1-5-0>> &lt;&lt;unshow2 end initial-bathroom>> &lt;&lt;elseif setup.event("ss", 5) >= 3 and not setup.isEvent("ss", 6)>> &lt;&lt;show2 steal-key>> &lt;&lt;/if>> &lt;div class="choices" id="end"> &lt;&lt;button "Prendre une douche">> &lt;&lt;if setup.isWashed()>> &lt;&lt;dshow bathroom-propre>> &lt;&lt;else>> &lt;&lt;goto VIRT-2-8-3>> &lt;&lt;/if>> &lt;&lt;/button>> [[Quitter la salle de bain|FBRO-2-3-0]] &lt;/div></tw-passagedata><tw-passagedata name=VIRT-2-8-3 position=4311,9111 size=100,100 tags=""pid=78>&lt;&lt;stink wash>> &lt;&lt;a>> Tu prends une douche. &lt;&lt;/a>> &lt;&lt;timed 2s>> &lt;&lt;goto STORY-0-4-0>> &lt;&lt;/timed>></tw-passagedata><tw-passagedata name=VRT-1-5-0 position=988,1923 size=100,100 tags=""pid=79>&lt;div id="sister-occupied"> &lt;&lt;a>> La porte est fermée à clé. Tu entends ta $relationss prendre sa douche. &lt;&lt;/a>> &lt;/div> &lt;div id="locked-view"> &lt;&lt;a>> Tu regardes par le trou de la serrure, mais la clé est dedans et obstrue ta vision. Dommage, c'était bien essayé. &lt;&lt;/a>> &lt;/div> &lt;div id="proposition"> &lt;&lt;t>> Cette clé commence à me gaver sérieusement, il va falloir que je fasse quelque chose... &lt;&lt;/t>> &lt;&lt;a>> Déblocage de l'option: retirer la clé de la salle de bain. &lt;&lt;/a>> &lt;/div> &lt;div id="matter-soeur"> &lt;&lt;a>> Tu regardes par le trou de la serrure. La clé n'y est plus. Tu peux voir ta soeur dans la salle de bain... &lt;&lt;/a>> &lt;&lt;t>> Enfin ! Cette blonde a gros cul a intérêt à me donner un beau spectacle. &lt;&lt;/t>> &lt;div id="matter-soeur-video"> &lt;&lt;set _video = "data/ss/s/" + random(2) + ".webm">> &lt;&lt;video _video>> &lt;/div> &lt;&lt;t>> Oh ouais, belle salope... &lt;&lt;/t>> &lt;&lt;include VRT-0-0-3>> &lt;/div> &lt;div class="choices" id="end-sister-1"> &lt;&lt;button "Regarder par le trou de la serrure">> &lt;&lt;run setup.dailyEvent("bathroomSisterKeyLook")>> &lt;&lt;if setup.event("ss", 6)>> &lt;&lt;replace "#matter-soeur-video">> &lt;&lt;set _video = "data/ss/s/" + random(2) + ".webm">> &lt;&lt;video _video>> &lt;&lt;/replace>> &lt;&lt;excitation 10>> &lt;&lt;dshow matter-soeur>> &lt;&lt;pushevent ss 7>> &lt;&lt;else>> &lt;&lt;dshow locked-view>> &lt;&lt;pushevent ss 5>> &lt;&lt;if setup.event("ss", 5) >= 3>> &lt;&lt;dshow proposition>> &lt;&lt;/if>> &lt;&lt;/if>> &lt;&lt;unshow end-sister-1>> &lt;&lt;show end-sister-2>> &lt;&lt;/button>> [[Quitter la salle de bain|FBRO-2-3-0]] &lt;/div> &lt;div class="choices" id="end-sister-2"> [[Quitter la salle de bain|FBRO-2-3-0]] &lt;/div> &lt;&lt;unshow2 locked-view matter-soeur proposition end-sister-1 end>> &lt;&lt;if !setup.isDailyEvent("bathroomSisterKeyLook")>> &lt;&lt;show2 end-sister-1>> &lt;&lt;unshow2 end-sister-2>> &lt;&lt;/if>></tw-passagedata><tw-passagedata name=index position=8832,3020 size=100,100 tags=""pid=80>&lt;&lt;setColors black white>> &lt;&lt;if !setup.isTools()>> &lt;&lt;run UIBar.hide()>> &lt;&lt;run UIBar.stow()>> &lt;&lt;/if>> &lt;div class="index-page"> &lt;div class="index-page-line"> Welcome &lt;/div> &lt;div class="index-page-line"> To &lt;/div> &lt;div class="index-page-line logo"> &lt;div class="index-page-line-blacked"> Blacked &lt;/div> &lt;div class="index-page-line-esp"> &ampamp; &lt;/div> &lt;div class="index-page-line-whited"> Whited &lt;/div> &lt;/div> &lt;div class="index-page-line-warning"> &lt;span style="font-size: 2em;">''ADULT CONTENT WARNING''&lt;/span> &lt;p> You are in a porn game with strong fetishes and strong emotions. If you are under legal age, or easily offended, then please leave now. So, bro, are you over legal age and friendly with the content of that game ? &lt;/p> &lt;div class="choices"> [[YES|DOM-2-5-1]] [[NO|MACRO-1-4-3]] &lt;/div> &lt;/div> &lt;/div></tw-passagedata><tw-passagedata name=LOOP-0-3-5 position=3662,9020 size=100,100 tags=""pid=81>&lt;&lt;include MACRO-2-5-5>> &lt;&lt;include BRO-1-6-3>> &lt;&lt;include BFR-2-4-1>> &lt;&lt;include GET-2-8-5>> &lt;&lt;include PART-2-6-0>> &lt;&lt;include STORY-0-5-5>> &lt;&lt;include END-0-8-0>> &lt;&lt;include WIDGET-1-0-1>> &lt;&lt;include GET-1-2-1>> &lt;&lt;include BFR-2-7-5>> &lt;&lt;include LOOP-2-3-3>> &lt;&lt;run setup.setGameIcon()>></tw-passagedata><tw-passagedata name=MACRO-2-5-5 position=1416,1426 size=100,100 tags=""pid=82>&lt;&lt;set $namemc = "Lucas">> &lt;&lt;set $namegf = "Lana">> &lt;&lt;set $namesm = "Christine">> &lt;&lt;set $namess = "Marie">> &lt;&lt;set $namebf = "Théo">> &lt;&lt;set $nameb = "Moussa">> &lt;&lt;set $namegfm = "Ella">> &lt;&lt;set $nameclara = "Clara">> &lt;&lt;set $relationss = "soeur">> &lt;&lt;set $relationsm = "mère">> &lt;&lt;set $person = { mc: { name: "Lucas", surname: "Legrand", pseudo: "", color: "#87CEFA !important", bcolor: "#008080 !important", fcolor: "black", avatar: "data/mc/avatar.jpg", gaming: 0, pornAddiction: { "soft": 0, "blowjob": 0, "hard": 0, "deepthroat": 0, "interracial": 0, "bbc": 0, "cuckold": 0, "sissy": 0, "hypno": 0, } }, gf: { name: "Lana", surname: "", pseudo: "", color: "#FFE4E1 !important", bcolor: "#FF69B4 !important", fcolor: "black", avatar: "data/gf/avatar.jpg", corruption: 0, frustration: 0, excitation: 0 }, gfm: { name: "Ella", surname: "", pseudo: "", color: "#ffdddd !important", bcolor: "#f44336 !important", fcolor: "black", avatar: "data/gf/gfm/avatar_mom.jpg", corruption: 0 }, "sm": { "name": "Christine", surname: "", pseudo: "", relation: "landlord", "color": "#b300b3 !important", "bcolor": "#4B0082 !important", fcolor: "black", avatar: "data/sm/avatar.jpg", spykitchen: 0, corruption: 0 }, "ss": { "name": "Marie", surname: "", pseudo: "", relation: "roommate", "color": "#DA70D6", "bcolor": "#7B68EE", fcolor: "black", avatar: "data/ss/avatar.jpg", corruption: 0 }, "bf": { "name": "Théo", surname: "", pseudo: "", relation: "best friend", "color": "#ffc966 !important", "bcolor": "#FF4500 !important", fcolor: "black", avatar: "data/bf/avatar.jpg", corruption: 0, pHomo: 0, pHetero: 0, pDominant: 0, pSoumis: 0 }, "bfs": { "name": "Théo's sister", surname: "", pseudo: "", "color": "#ffc107 !important", "bcolor": "#FF4500 !important", fcolor: "black", avatar: "data/bf/avatar.jpg", corruption: 0 }, "bfm": { "name": "Théo's mother", surname: "", pseudo: "", "color": "#ffc107 !important", "bcolor": "#FF4500 !important", fcolor: "black", avatar: "data/bf/avatar.jpg", corruption: 0 }, "b": { "name": "Moussa", surname: "", pseudo: "", "color": "#c5b28f", "bcolor": "#583e10", fcolor: "black", avatar: "data/b/avatar.jpg", corruption: 0 }, "clara": { "name": "Clara", surname: "", pseudo: "", "color": "#ffcc6e", "bcolor": "#976916", fcolor: "black", avatar: "data/b/n/avatar.jpg", corruption: 0 }, "f": { "name": "Unknown female", surname: "", pseudo: "", "color": "#DCDCDC", "bcolor": "#808080", fcolor: "black", avatar: "data/def/favatar.jpg", }, "m": { "name": "Unknown male", surname: "", pseudo: "", "color": "#DCDCDC", "bcolor": "#808080", fcolor: "black", avatar: "data/default/mavatar.jpg", }, "teacher": { "name": "Professeur Mcdonaldgall", surname: "", pseudo: "", "color": "#b300b3 !important", "bcolor": "#4B0082 !important", fcolor: "black", avatar: "data/places/school/teacher_avatar.jpg", corruption: 0 }, "author": { "name": "Pikachu", surname: "", pseudo: "", "color": "black !important", "bcolor": "#FFD700 !important", "fcolor": "#FFD700", avatar: "data/default/pikachu.jpg", }, "bankster": { "name": "Woodman Sachs", surname: "", pseudo: "", "color": "#ebe7e0", "bcolor": "#35322a", "fcolor": "#35322a", avatar: "data/places/bank/bankster_avatar.jpg" }, "whitebusgirl": { name: "Bus girl 1", "color": "#FFB9AA", "bcolor": "#802815", "fcolor": "#802815", avatar: "data/places/school/bus/busgirl1.jpg", }, "blackbusgirl": { name: "Bus girl 2", "color": "#ED9EAE", "bcolor": "#75142B", "fcolor": "#75142B", avatar: "data/places/school/bus/busgirl2.jpg", }, "bs": { name: "Farah", "color": "#ED9EAE", "bcolor": "#75142B", "fcolor": "#75142B", avatar: "data/places/school/bus/busgirl2.jpg", }, "kawasaki": { name: "Maîtresse Kawasaki", "color": "#ffd63a", "bcolor": "#0959b1", "fcolor": "#0959b1", avatar: "data/places/massage/kawasaki_avatar.jpg", }, "ayako": { name: "Ayako", surname: "", pseudo: "Senpai", "color": "#ffeca3", "bcolor": "#0959b1", "fcolor": "#0959b1", avatar: "data/places/massage/ayako/avatar.jpg", friendPoint: 0 }, "massage-c1": { name: "Mère de famille", "color": "#ffd63a", "bcolor": "#0959b1", "fcolor": "#0959b1", avatar: "", }, "massage-c2": { name: "Travailleur âgé", "color": "#ffd63a", "bcolor": "#0959b1", "fcolor": "#0959b1", avatar: "", }, "domilf": { name: "Miss Smith", "color": "#df5050", "bcolor": "#330000", "fcolor": "#330000", avatar: "data/places/massage/massage/smith/avatar.jpg", }, "palmer": { name: "Unknown men", "color": "#8f5700", "bcolor": "#330000", "fcolor": "white", avatar: "data/places/sdf/habitant1.jpg", }, "kacey": { name: "Kacey", "color": "#cd30cf", "bcolor": "#330000", "fcolor": "white", avatar: "data/places/sdf/kacey_avatar.jpg", }, }>> /* Kacey: Kacey Parker */</tw-passagedata><tw-passagedata name=BRO-1-6-3 position=9017,3649 size=100,100 tags=""pid=83>&lt;&lt;set $namecity = "Black & White">> &lt;&lt;set $city = { toDiscover: [2, 3, 4, 5], park: { name: "Innocence Park", }, "nightclub": { "name": "Pacumba" }, "bank": { "name": "Liberty Bank", "promotion": 0, "account": { "open": false, "balance": 0, }, "client_number": 325874, }, "massage": { "name": "Lan fù Massage" }, "kopa": { name: "Kopa!" }, "sdf": { name: "Bosquet des clodos" } }>></tw-passagedata><tw-passagedata name=GET-1-2-1 position=3034,8837 size=100,100 tags=""pld=84>&lt;&lt;if !UInv.BagExists("c-cap")>> &lt;&lt;set UInv.CreateBag("c-cap")>> &lt;&lt;set UInv.SetBagPropertyValue("c-cap", "acceptedType", ["cap"])>> &lt;&lt;set UInv.CreateBag("c-top")>> &lt;&lt;set UInv.SetBagPropertyValue("c-top", "acceptedType", ["top"])>> &lt;&lt;set UInv.AddItem("c-top", "top2")>> &lt;&lt;set UInv.CreateBag("c-bra")>> &lt;&lt;set UInv.SetBagPropertyValue("c-bra", "acceptedType", ["bra"])>> &lt;&lt;set UInv.CreateBag("c-bottom")>> &lt;&lt;set UInv.SetBagPropertyValue("c-bottom", "acceptedType", ["bottom"])>> &lt;&lt;set UInv.AddItem("c-bottom", "bottom1")>> &lt;&lt;set UInv.CreateBag("c-underwear")>> &lt;&lt;set UInv.SetBagPropertyValue("c-underwear", "acceptedType", ["underwear"])>> &lt;&lt;set UInv.AddItem("c-underwear", "underware1")>> &lt;&lt;set UInv.CreateBag("c-belt")>> &lt;&lt;set UInv.SetBagPropertyValue("c-belt", "acceptedType", ["belt"])>> &lt;&lt;set UInv.AddItem("c-belt", "belt1")>> &lt;&lt;set UInv.CreateBag("c-socks")>> &lt;&lt;set UInv.SetBagPropertyValue("c-socks", "acceptedType", ["socks"])>> &lt;&lt;set UInv.AddItem("c-socks", "socks1")>> &lt;&lt;set UInv.CreateBag("c-shoes")>> &lt;&lt;set UInv.SetBagPropertyValue("c-shoes", "acceptedType", ["shoes"])>> &lt;&lt;set UInv.AddItem("c-shoes", "shoes1")>> &lt;&lt;set UInv.CreateBag("wardrobe")>> &lt;&lt;set UInv.SetBagPropertyValue("wardrobe", "acceptedType", ["clothing"])>> &lt;&lt;set UInv.AddItem("wardrobe", "top1")>> &lt;&lt;/if>></tw-passagedata><tw-passagedata name=BFR-2-4-1 position=1911,997 size=100,100 tags=""pid=85>&lt;&lt;run setup.loadTranslation()>> &lt;&lt;set $study = [ "l'homosexualité chez les animaux de l'oligocène", "le parcours extraordinaire de Rihanna et de sa sextape", "les ravages du squatting chez les streamers", "le modèle économique des camgirls et comment optimiser ses gains quand on fait ce métier", "pourquoi le manspreading est puni de castration et que c'est une bonne chose", "le dur parcours des femmes oppressées par la société patriarcale à travers l'histoire", "pourquoi il faut bannir rapidement les gens qui ne sont pas d'accord avec nous" ]>></tw-passagedata><tw-passagedata name=GET-2-8-5 position=9110,4297 size=100,100 tags=""pid=86>&lt;&lt;set $day = 0>> &lt;&lt;set $date = new Date(2019, 8, 6)>> &lt;&lt;set $dayName = [ "&lt;&lt;nothing>>Lundi&lt;&lt;/nothing>>", "&lt;&lt;nothing>>Mardi&lt;&lt;/nothing>>", "&lt;&lt;nothing>>Mercredi&lt;&lt;/nothing>>", "&lt;&lt;nothing>>Jeudi&lt;&lt;/nothing>>", "&lt;&lt;nothing>>Vendredi&lt;&lt;/nothing>>", "&lt;&lt;nothing>>Samedi&lt;&lt;/nothing>>", "&lt;&lt;nothing>>Dimanche&lt;&lt;/nothing>>" ]>> &lt;&lt;set $monthName =[ '&lt;&lt;nothing>>Janvier&lt;&lt;/nothing>>', '&lt;&lt;nothing>>Février&lt;&lt;/nothing>>', '&lt;&lt;nothing>>Mars&lt;&lt;/nothing>>', '&lt;&lt;nothing>>Avril&lt;&lt;/nothing>>', '&lt;&lt;nothing>>Mai&lt;&lt;/nothing>>', '&lt;&lt;nothing>>Juin&lt;&lt;/nothing>>', '&lt;&lt;nothing>>Juillet&lt;&lt;/nothing>>', '&lt;&lt;nothing>>Août&lt;&lt;/nothing>>', '&lt;&lt;nothing>>Septembre&lt;&lt;/nothing>>', '&lt;&lt;nothing>>Octobre&lt;&lt;/nothing>>', '&lt;&lt;nothing>>Nobembre&lt;&lt;/nothing>>', '&lt;&lt;nothing>>Décembre&lt;&lt;/nothing>>' ]>>; &lt;&lt;set $englishMonthName = [ 'January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December' ]>></tw-passagedata><tw-passagedata name=PART-2-6-0 position=2438,8563 size=100,100 tags=""pid=87>&lt;&lt;set $engine = { settings: { language: "EN", soundLevel: 0.4, }, flags: { pageLoaded: true, isNotifActive: false, dynamicAnimation: false, keyboardNavigationActive: true }, states: { cityDiscoverProb: 10 }, time : { instant: 0, period: 0, }, oneshot: {}, switch: {}, counter: {}, light: {}, daily: [], local: [], localAction: {}, quest: {} }>></tw-passagedata><tw-passagedata name=STORY-0-5-5 position=2463,644 size=100,100 tags=""pid=88>&lt;&lt;run setup.initGameSettings()>></tw-passagedata><tw-passagedata name=END-0-8-0 position=9108,4952 size=100,100 tags=""pid=89>&lt;&lt;set $game = { "version": "0.6.4", "chapter": 1 }>></tw-passagedata><tw-passagedata name=LOOP-2-3-3 position=1888,8207 size=100,100 tags=""pid=90></tw-passagedata><tw-passagedata name=BFR-2-7-5 position=3061,375 size=100,100 tags=""pid=91>&lt;&lt;run setup.definePlayerInformations()>></tw-passagedata><tw-passagedata name=WIDGET-1-0-1 position=9011,5600 size=100,100 tags=""pid=92>&lt;&lt;set $jobs = { massage: { postulated: false, active: false, fired: 0, banned: false, maxLevel: 0, currentLevel: 0, status: 1 }, uber: { postulated: false, active: false, fired: 0, banned: false, maxLevel: 0, currentLevel: 0 } }>></tw-passagedata><tw-passagedata name=SBFR-0-8-5 position=1396,7775 size=100,100 tags=""pid=93>&lt;&lt;setColors #00aba9 #eff4ff>> &lt;&lt;set _askRem = 0>> &lt;&lt;set _askAug = 0>> &lt;&lt;set _askUgly = 0>> &lt;&lt;a>> Tu toques à la porte du bureau de $person.kawasaki.name. &lt;&lt;/a>> &lt;&lt;d kawasaki>> Oui entrez ! &lt;&lt;/d>> &lt;&lt;a>> $person.kawasaki.name est à son bureau, un stylo à la main, visiblement en train de faire un peu de paperasse. &lt;&lt;/a>> &lt;&lt;a>> Que souhaites-tu demander à $person.kawasaki.name ? &lt;&lt;/a>> &lt;&lt;widget massageDeskHide>> &lt;&lt;dunshow repeat rem aug aug-2 aug-3 aug-4 ugly>> &lt;&lt;/widget>> &lt;div class="choices" id="c1"> &lt;&lt;button "Des informations sur la rémunération">> &lt;&lt;set _askRem += 1>> &lt;&lt;massageDeskHide>> &lt;&lt;if _askRem > 1>> &lt;&lt;dshow repeat>> &lt;&lt;else>> &lt;&lt;dshow rem>> &lt;&lt;/if>> &lt;&lt;/button>> &lt;&lt;button "Une augmentations de salaire">> &lt;&lt;set _askAug += 1>> &lt;&lt;massageDeskHide>> &lt;&lt;if _askAug > 3>> &lt;&lt;dunshow c1>> &lt;&lt;dshow aug-4 c2>> &lt;&lt;fired massage 3>> &lt;&lt;run setup.turnOn("massagejobfired")>> &lt;&lt;elseif _askAug > 2>> &lt;&lt;dshow aug-3>> &lt;&lt;elseif _askAug > 1>> &lt;&lt;dshow aug-2>> &lt;&lt;else>> &lt;&lt;dshow aug>> &lt;&lt;/if>> &lt;&lt;/button>> &lt;&lt;if setup.isOneshot("whyalluglymassage")>> &lt;&lt;button "Comment choisir ses clients">> &lt;&lt;set _askUgly += 1>> &lt;&lt;massageDeskHide>> &lt;&lt;if _askUgly > 1>> &lt;&lt;dshow repeat>> &lt;&lt;else>> &lt;&lt;dshow ugly>> &lt;&lt;/if>> &lt;&lt;/button>> &lt;&lt;/if>> [[Retourner travailler|STORY-2-2-5]] &lt;/div> &lt;div class="choices" id="c2"> [[Quitter l'établissement|SCHOOL-1-3-4]] &lt;/div> &lt;div id="repeat"> &lt;&lt;d kawasaki>> Je viens de vous répondre monsieur $player.identity.lastname. Que souhaitez vous savoir d'autre ? &lt;&lt;/d>> &lt;/div> &lt;div id="rem"> &lt;&lt;d kawasaki>> La rémunération de nos masseurs et de nos masseuses se base sur le nombre de client satisfait. Votre rémunération actuelle est de 10$ par client. &lt;&lt;/d>> &lt;&lt;d kawasaki>> Notre établissement apprécie tout particulièrement les salariés dévoués au bien-être et à la satisfaction de nos clients. Nous savons prendre soin de nos employés performants aussi bien que de nos clients, et si vous montez en compétence et que vous savez répondre aux attentes de notre clientèle, votre rémunération évoluera en conséquence. &lt;&lt;/d>> &lt;&lt;d kawasaki>> A cela s'ajoute également les pourboires que pourront vous offrir les clients. C'est selon leur générosité, et il est strictement interdit d'en demander. La moitié des pourboires reviennent à notre maison. &lt;&lt;/d>> &lt;/div> &lt;div id="aug"> &lt;&lt;d kawasaki>> ... &lt;&lt;/d>> &lt;&lt;a>> ... &lt;&lt;/a>> &lt;&lt;t>> ... &lt;&lt;/t>> &lt;&lt;d kawasaki>> No. &lt;&lt;/d>> &lt;&lt;t>> Je devais essayer. &lt;&lt;/t>> &lt;/div> &lt;div id="aug-2"> &lt;&lt;d kawasaki>> C'est toujours non monsieur $player.identity.lastname. &lt;&lt;/d>> &lt;&lt;t>> Mince ! Peut-être que si j'insiste encore un peu... &lt;&lt;/t>> &lt;/div> &lt;div id="aug-3"> &lt;&lt;a>> C'est la première fois que tu vois le calme de $person.kawasaki.name quitter son visage. &lt;&lt;/a>> &lt;&lt;d kawasaki>> Je commence à perdre patience. Vous n'avez pas suffisamment engrangé d'expérience pour prétendre à une augmentation. Comme je vous ai déjà dit, nous savons récompenser le travail et le dévouement, mais il faut faire ses preuves d'abord monsieur $player.identity.lastname. &lt;&lt;/d>> &lt;/div> &lt;div id="aug-4"> &lt;&lt;d kawasaki>> Vous êtes viré. &lt;&lt;/d>> &lt;/div> &lt;div id="ugly"> &lt;&lt;d kawasaki>> Je comprends la question que vous vous posez monsieur $player.identity.lastname. Nous considérons que tous les clients doivent être satisfaits avec le même niveau d’exigence, mais il est vrai que certains clients ont une stature, ou un portefeuille, que d'autres n'ont pas. &lt;&lt;/d>> &lt;&lt;d kawasaki>> Le choix du masseur pour le client se fait sur la base de 3 critères : l'ancienneté, la compétence et bien entendu les demandes particulières des clients. Faîtes correctement votre travail, répondez aux exigences des clients, et vous pourrez avoir d'autres clients plus... disons... plus hauts socialement. &lt;&lt;/d>> &lt;&lt;d kawasaki>> Par ailleurs, lorsque vous débutez, vos clients ont des standards plus modestes, ce qui est une bonne chose. Ça vous évite de vous faire une mauvaise réputation inutilement. Profitez en pour améliorer votre technique ! &lt;&lt;/d>> &lt;/div> &lt;&lt;unshow2 repeat rem aug aug-2 aug-3 aug-4 ugly c2>></tw-passagedata><tw-passagedata name=MACRO-1-4-1 position=3691,195 size=100,100 tags=""pid=94>&lt;&lt;setColors #00aba9 #eff4ff>> &lt;&lt;note>> - Formation avec machine - Belle cliente magnifique qui passe et qui te regarde avec un sourire, tu la vois en vitesse - Option d'aller jeter un coup d'oeil dans le couloir - Si tu dis oui, la formatrice te rechoppe pour te ramener - Elle te dit que c'est une cliente importante, et qu'il ne faut pas draguer les clientes - Tu es pressée d'avoir tes premiers clients Ayako est une fille naive dont on va pouvoir profiter. Il y a une barre d'amitié afin de la conquérir &lt;&lt;/note>> &lt;div id="initial"> &lt;&lt;image data/places/massage/ayako/0.jpg 50>> &lt;&lt;a>> $person.ayako.name est en kimono, et visiblement en train de s'entraîner à un sport de combat étrange, une sorte de mix entre du taïchi, du yoga et du kung-fu. &lt;&lt;/a>> &lt;&lt;a>> Tu préfères ne pas la déranger. &lt;&lt;/a>> &lt;div class="choices"> [[Refermer la porte|STORY-2-2-5]] &lt;/div> &lt;/div> &lt;&lt;if setup.oneshot("massageformationune")>> &lt;&lt;unshow2 initial>> &lt;&lt;include DOM-2-7-1>> &lt;&lt;/if>></tw-passagedata><tw-passagedata name=STORY-2-2-5 position=8821,6228 size=100,100 tags=""pid=95>&lt;&lt;setColors #00aba9 #eff4ff>> &lt;div id="initial"> &lt;&lt;image data/places/massage/massage_work.jpg>> &lt;&lt;a>> La salle de repos des employés est dans le style dojo asiatique. Il n'y a pas grand chose à faire, à part se reposer. &lt;&lt;/a>> &lt;&lt;a>> Tu croises parfois d'autres employés qui viennent ici entre deux clients, et qui se reposent ou boivent un verre sans un mot. &lt;&lt;/a>> &lt;/div> &lt;div id="initial-night"> &lt;&lt;d kawasaki>> L'établissement va fermer, il faut y aller. &lt;&lt;/d>> &lt;/div> &lt;div id="why-all-fat"> &lt;&lt;t>> Mais où sont les jolies filles qui viennent se faire masser ?! Pourquoi est-ce que je me tape toujours les clients bas de gamme ? Je devrais aller voir $person.kawasaki.name... &lt;&lt;/t>> &lt;/div> &lt;div class="choices" id="end-day"> &lt;&lt;button "Prendre un client" MACRO-2-8-5 before:nextInstant>> &lt;&lt;/button>> [[Aller voir senpai|MACRO-1-4-1]] [[Bureau de la patronne|SBFR-0-8-5]] [[S'en aller|SCHOOL-1-3-4]] &lt;/div> &lt;div class="choices" id="end-night"> [[Terminer sa journée|SCHOOL-1-3-4]] &lt;/div> &lt;&lt;unshow2 initial-night why-all-fat end-day end-night>> &lt;&lt;if (setup.event('massage', 2) + setup.event('massage', 3)) > 5 && setup.oneshot("whyalluglymassage")>> &lt;&lt;show2 why-all-fat>> &lt;&lt;/if>> &lt;&lt;if setup.isDay()>> &lt;&lt;show2 end-day>> &lt;&lt;else>> &lt;&lt;show2 initial-night>> &lt;&lt;show2 end-night>> &lt;&lt;/if>> &lt;&lt;if setup.isJobPostulated("massage")>> &lt;&lt;hired massage>> &lt;&lt;feedback "Tu es devenu masseur" "work" "big" "fas fa-briefcase">> &lt;&lt;include FBRO-2-2-4>> &lt;&lt;unshow2 initial end-day>> &lt;&lt;/if>></tw-passagedata><tw-passagedata name=FBRO-2-2-4 position=971,7276 size=100,100 tags=""pid=96>&lt;div id="s1"> &lt;&lt;a>> Tu t'approches de la vieille Geisha. Elle lève doucement la tête vers toi et te parle avec douceur. &lt;&lt;/a>> &lt;&lt;d kawasaki>> Bonjour jeune homme. &lt;&lt;/d>> &lt;&lt;d mc>> Heu... Bonjour. Je viens postuler pour le poste de masseur, il est toujours disponible ? &lt;&lt;/d>> &lt;&lt;d kawasaki>> Il l'est. Avez vous déjà une expérience de masseur ? &lt;&lt;/d>> &lt;&lt;d mc>> Non... &lt;&lt;/d>> &lt;&lt;d kawasaki>> D'accord. Rassurez vous, ce n'est pas un problème. Nous recrutons beaucoup, et souvent des novices. Une formation vous sera dispensée. &lt;&lt;/d>> &lt;&lt;d mc>> D'accord, super. Et comment on... &lt;&lt;/d>> &lt;&lt;a>> Elle te coupe avec douceur. &lt;&lt;/a>> &lt;&lt;d kawasaki>> Bien, j'ai du travail. Je vous confie à mademoiselle $person.ayako.name qui est une de nos meilleures masseuses. Elle vous offrira les bases de notre travail. Je l'ai déjà prévenu et elle vous attend. &lt;&lt;/d>> &lt;&lt;a>> Tu te diriges vers l'endroit que $person.kawasaki.name t'a indiqué. La porte est ouverte. &lt;&lt;/a>> &lt;div class="choices"> [[Rentrer dans la salle|MACRO-1-4-1]] &lt;/div> &lt;/div></tw-passagedata><tw-passagedata name=MACRO-2-8-5 position=4340,108 size=100,100 tags=""pid=97>&lt;&lt;setColors #00aba9 #eff4ff>> &lt;&lt;nextInstant>> &lt;&lt;note>> Chaque client a un niveau minimal du joueur afin qu'ils apparaissent dans les clients possibles. Chaque client a également différents niveaux de satisfaction, au nombre de 4 * Pas satisfait (0) * Peu satisfait (1) * Satisfait (2) * Très satisfait (3) La satisfaction est définit par le niveau du joueur dans les compétences massages (ou autre, à définir). La satisfaction définir le pourboire que peut éventuellement donner le client au joueur. La moitié du pourboire revient à la maison. Le format bareme est le suivant: [niveau requis, satisfaction, pourboire, expérience] &lt;&lt;/note>> &lt;&lt;note>> Massage avec domilf => refus => viré => supplications => requalification en gardien => salle surveillance vidéo partout => possibilité de vendre &lt;&lt;/note>> &lt;div id="first-massage"> &lt;&lt;d kawasaki>> $namemc ! Ta première cliente est là. &lt;&lt;/d>> &lt;&lt;a>> C'est ton premier massage, tu es stressé... mais aussi très excité. &lt;&lt;/a>> &lt;&lt;t>> Allons donner du plaisir à toutes ces belles filles ! :D &lt;&lt;/t>> &lt;/div> &lt;&lt;unshow2 first-massage>> &lt;&lt;if setup.oneshot("premiermassage")>> &lt;&lt;include STORY-1-5-0>> &lt;&lt;pushevent massage 2>> &lt;&lt;else>> &lt;&lt;set _select = setup.getRandomMassageClient()>> &lt;&lt;include _select>> &lt;&lt;/if>> &lt;div class="choices" id="ending"> [[Retour|STORY-2-2-5]] &lt;/div></tw-passagedata><tw-passagedata name=STORY-1-5-0 position=8543,6821 size=100,100 tags=""pid=98>&lt;&lt;pushevent massage 2>> &lt;div id="massage-c1-first"> &lt;&lt;a>> Ce n'est pas exactement le genre de client dont tu rêvais... &lt;&lt;/a>> &lt;&lt;t>> Bon, elle n'est pas horrible non plus. Ca aurait pu être pire. &lt;&lt;/t>> &lt;/div> &lt;div id='massage-level-0'> &lt;&lt;a>> Tu t'occupes d'une mère de famille venue profiter d'un massage remboursé par la sécurité sociale. Elle n'est pas très jolie et usée par des années de travail, mais son côté chubby et authentique n'est pas déplaisant. &lt;&lt;/a>> &lt;&lt;a>> Elle te parle de ses enfants, de son mari. Tu n'en as strictement rien à foutre. Tes doigts passent sur son dos et tu essaies de détendre ses muscles, comme $person.ayako.name te l'a appris. &lt;&lt;/a>> &lt;&lt;a>> A la fin du massage, elle te remercie chaleureusement. Avec un clin d'oeil, elle t'avoue que ça fait longtemps qu'elle n'a pas été touché par un beau jeune homme comme toi, et qu'elle vantera tes mérites à ses amies. &lt;&lt;/a>> &lt;/div> &lt;&lt;massage 0>> &lt;&lt;unshow2 massage-c1-first>> &lt;&lt;if setup.oneshot("firstmassagec0")>> &lt;&lt;show2 massage-c1-first>> &lt;&lt;/if>></tw-passagedata><tw-passagedata name=LOOP-0-1-4 position=624,6720 size=100,100 tags=""pid=99>&lt;&lt;pushevent massage 3>> &lt;div id='massage-level-0'> &lt;&lt;a>> Le client est une homme dans la cinquantaine. Mal coiffé, mal rasé et vêtu d'un survêtement blanc. Il t'annonce être là sur les conseils de son médecin, des douleurs lombaires le dérangeant dans son travail manuel. &lt;&lt;/a>> &lt;&lt;a>> Tu lui masses le dos à la recherche des points des tensions. C'est étrange pour toi de masser un homme. &lt;&lt;/a>> &lt;&lt;t>> C'est mon travail maintenant, il va falloir que je m'y fasse. &lt;&lt;/t>> &lt;&lt;a>> Tu essaies de ne pas trop penser à ce que tu es en train de faire. A la fin du massage, sans un mot, il se lève et s'en va. Tu le vois mettre quelque chose dans le panier. &lt;&lt;/a>> &lt;&lt;t>> Un pourboire !! &lt;&lt;/t>> &lt;&lt;a>> Les efforts, ça paie ! &lt;&lt;/a>> &lt;/div> &lt;&lt;massage 1>></tw-passagedata><tw-passagedata name=MACRO-0-1-1 position=4995,116 size=100,100 tags=""pid=100>&lt;&lt;pushevent massage 4>> &lt;&lt;note>> Choix pour l'argent ou pour la cliente &lt;&lt;/note>> &lt;div id="massage-c2-first"> &lt;&lt;d kawasaki>> Tiens, le voilà. C'est notre nouveau masseur dont je vous ai parlé. &lt;&lt;/d>> &lt;&lt;a>> C'est toi que $person.domilf.name désigne du doigt. Elle se tient à côté d'une belle femme fine dans la quarantaine. &lt;&lt;/a>> &lt;&lt;d kawasaki>> Il débute alors ne vous étonnez pas de la qualité de ses massages. Il a encore beaucoup à apprendre. Il e... &lt;&lt;/d>> &lt;&lt;a>> D'un geste de la main, $person.domilf.name fait taire $person.kawasaki.name qui se met immédiatement en retrait. &lt;&lt;/a>> &lt;&lt;d domilf>> Il correspond à ce que je cherche. &lt;&lt;/d>> &lt;&lt;a>> $person.domilf.name est déjà en chemin pour la petite chambre de massage. Alors que tu la suis, $person.kawasaki.name te prend à part et te chuchotte. &lt;&lt;/a>> &lt;&lt;d kawasaki>> Je compte sur toi pour être parfait ! $person.domilf.name a des réseaux dans la haute société de $namecity. C'est une femme très puissante et une cliente importante pour notre établissement. &lt;&lt;/d>> &lt;&lt;a>> Après un temps d'hésitation, elle continue. &lt;&lt;/a>> &lt;&lt;d kawasaki>> Je ne te cache pas que j'ai essayé de la dissuader de te prendre, tu n'es pas encore assez formé pour gérer ce type de clients. Mais elle malheureusement elle a insisté... Je compte sur toi pour être parfait ! &lt;&lt;/d>> &lt;&lt;button "Rejoindre la dame">> &lt;&lt;dunshow massage-c2-first>> &lt;&lt;dshow massage-c2-first-2>> &lt;&lt;excitation 20>> &lt;&lt;/button>> &lt;/div> &lt;div id='massage-c2-first-2'> &lt;&lt;image data/places/massage/massage/smith/0.jpg>> &lt;&lt;t>> wO.. ! &lt;&lt;/t>> &lt;&lt;a>> Tu t'arrêtes net en rentrant dans la chambre. $person.domilf.name s'est mise dans une tenue légère. Sa beauté est paralysante. &lt;&lt;/a>> &lt;&lt;qbutton "La détailler" out:massage-c2-first-2 in:massage-c2-first-3>> &lt;/div> &lt;div id="massage-c2-first-3"> &lt;&lt;image data/places/massage/massage/smith/1.jpg 50>> &lt;&lt;a>> Tu ne peux pas t'empêcher de balayer son corps de haut en bas, en passant par sa nuisette légère, ses cuisses découvertes, et sa petite culotte transparente. En remontant, tu rougis en croisant son regard. Elle affiche un petit sourire. &lt;&lt;/a>> &lt;&lt;d domilf>> Tu es donc nouveau. &lt;&lt;/d>> &lt;&lt;a>> Tu acquiesces de la tête, incapable d'ouvrir la bouche. &lt;&lt;/a>> &lt;&lt;d domilf>> Ne t'inquiète pas, je te guiderai. &lt;&lt;/d>> &lt;&lt;qbutton "Commencer à la masser" out:massage-c2-first-3 in:massage-level-0 in:effects-report in:ending>> &lt;/div> &lt;div id="massage-level-0"> &lt;&lt;a>> $person.kawasaki.name se se dirige non pas vers la table de massage, mais vers une chaise à l'apparence moelleuse. Le dossier lui arrive à la moitié du dos pour te permettre de lui masser le haut du corps. &lt;&lt;/a>> &lt;&lt;a>> Suivant ses consignes, tu lui masses la tête avec tes doigts, en passant tes doigts dans sa chevelure. Elle te donne des indications régulières: plus fort, plus à droite, plus appuyé, plus doux, du bout des doigts... &lt;&lt;/a>> &lt;&lt;video data/places/massage/massage/smith/2.mp4 50>> &lt;&lt;a>> Elle te fait descendre sur sa nuque, incroyablement fine et fragile. Et sur ses épaules. Puis le long de son bras et le haut de son buste. &lt;&lt;/a>> &lt;div id="massage-result-0"> &lt;&lt;d domilf>> C'était très mauvais. &lt;&lt;/d>> &lt;&lt;a>> Sa rudesse te surprend, et contraste avec son apparence. Ca te fait un peu mal. &lt;&lt;/a>> &lt;/div> &lt;div id="massage-result-1"> &lt;&lt;d domilf>> Vous commencez à comprendre ce qu'est un bon massage, c'est bien. &lt;&lt;/d>> &lt;&lt;a>> Tu ne sais pas si tu dois prendre ça comme un compliment ou pas... &lt;&lt;/a>> &lt;/div> &lt;/div> &lt;&lt;massage 2>> &lt;&lt;unshow2 massage-c2-first massage-c2-first-2 massage-c2-first-3 massage-level-0 massage-result-0 massage-result-1 effects-report ending>> &lt;&lt;if setup.oneshot("firstmassagec2")>> &lt;&lt;show2 massage-c2-first>> &lt;&lt;else>> &lt;&lt;show2 massage-level-0 effects-report ending>> &lt;&lt;/if>> &lt;&lt;if setup.getClientSatisfactory(2) == 0>> &lt;&lt;show2 massage-result-0>> &lt;&lt;elseif setup.getClientSatisfactory(2) == 1>> &lt;&lt;show2 massage-result-1>> &lt;&lt;/if>></tw-passagedata><tw-passagedata name=DOM-2-7-1 position=8181,7367 size=100,100 tags=""pid=101>&lt;div id="s1"> &lt;&lt;image data/places/massage/ayako/1.jpg>> &lt;&lt;a>> La formatrice t'attend comme prévu dans la salle. C'est une asiatique beaucoup plus jeune que ce à quoi tu t'attendais. Tu ne lui donnes pas plus de 20 ans... &lt;&lt;/a>> &lt;div class="choices"> &lt;&lt;button "Bonjour Ayako">> &lt;&lt;friendly ayako 2>> &lt;&lt;dunshow s1>> &lt;&lt;dshow s2-0 s2>> &lt;&lt;/button>> &lt;&lt;button "Bonjour Ayoko">> &lt;&lt;friendly ayako -2>> &lt;&lt;dunshow s1>> &lt;&lt;dshow s2-1 s2>> &lt;&lt;/button>> &lt;/div> &lt;/div> &lt;div id="s2-0"> &lt;&lt;d ayako>> Oooooh tu connais mon prénom ! ƪ(♥ﻬ♥)ʃ &lt;&lt;/d>> &lt;&lt;d mc>> Oui, il est splendide ! &lt;&lt;/d>> &lt;&lt;a>> $person.ayako.name fait une tête de petit chaton ravi. &lt;&lt;/a>> &lt;&lt;d ayako>> Trop mignon ｡^‿^｡ Ici on m'appelle Senpai, car c'est moi qui forme les nouveaux. &lt;&lt;/d>> &lt;/div> &lt;div id="s2-1"> &lt;&lt;d ayako>> Noooon ! (￣□￣) Mon prénom c'est $person.ayako.name ! &lt;&lt;/d>> &lt;&lt;d mc>> Oups ! &lt;&lt;/d>> &lt;&lt;a>> $person.ayako.name fait une tête de petit chaton boudeur. &lt;&lt;/a>> &lt;&lt;d ayako>> C'est pas grave (T＿T) De toutes façons ici on m'appelle senpai, car c'est moi qui forme les nouveaux. &lt;&lt;/d>> &lt;/div> &lt;div id="s2"> &lt;&lt;d mc>> Enchanté alors euh... senpai. &lt;&lt;/d>> &lt;&lt;d ayako>> Quoi, tu penses que je suis trop jeune pour être senpai c'est ça ?（>﹏&lt;) &lt;&lt;/d>> &lt;div class="choices"> &lt;&lt;button "Non pas du tout">> &lt;&lt;friendly ayako 2>> &lt;&lt;dunshow s2-0 s2-1 s2>> &lt;&lt;dshow s3-0>> &lt;&lt;/button>> &lt;&lt;button "Trop jeune et... gamine apparemment">> &lt;&lt;friendly ayako -2>> &lt;&lt;dunshow s2-0 s2-1 s2>> &lt;&lt;dshow s3-1>> &lt;&lt;/button>> &lt;/div> &lt;/div> &lt;div id="s3-0"> &lt;&lt;d mc>> Ah non pas du tout je n'ai jamais dit ça. Tu... as l'air... très adulte. &lt;&lt;/d>> &lt;&lt;a>> Le visage d'$person.ayako.name s'illumine. &lt;&lt;/a>> &lt;&lt;t>> Un petit mensonge mignon ne fait jamais de mal. Et elle a un beau sourire... &lt;&lt;/t>> &lt;&lt;d ayako>> Alors là je suis complètement d'accord avec toi !（☆ω☆*）Tout le monde dit l'inverse, mais je suis content d'enfin trouver quelqu'un d'intelligent ! &lt;&lt;/d>> &lt;&lt;d ayako>> Bon, commençons, installe toi. &lt;&lt;/d>> &lt;div class="choices"> &lt;&lt;button "Continuer">> &lt;&lt;skill massage 100>> &lt;&lt;dunshow s3-0 s3-1>> &lt;&lt;dshow s3>> &lt;&lt;/button>> &lt;/div> &lt;/div> &lt;div id="s3-1"> &lt;&lt;d ayako>> Nooooon ! Tu racontes n'importe quoi ! (≖͞_≖̥) &lt;&lt;/d>> &lt;&lt;d mc>> ... &lt;&lt;/d>> &lt;&lt;d ayako>> C'est ce que tout le monde dit de moi, mais moi je sais bien que c'est tout l'inverse. &lt;&lt;/d>> &lt;&lt;d mc>> Ecoute, je suis venu pour être formé, on peut commencer ? &lt;&lt;/d>> &lt;&lt;d ayako>> Bon, commençons, installe toi. &lt;&lt;/d>> &lt;div class="choices"> &lt;&lt;button "Continuer">> &lt;&lt;skill massage 100>> &lt;&lt;dunshow s3-0 s3-1>> &lt;&lt;dshow s3>> &lt;&lt;/button>> &lt;/div> &lt;/div> &lt;div id="s3"> &lt;&lt;a>> Tu ne sais pas si elle est adulte ou pas, mais tu es certain qu'elle sait quoi faire avec ses doigts. &lt;&lt;/a>> &lt;&lt;a>> Elle parcourt ton corps avec vitesse et légèreté, en pressant, palpant, caressant, effleurant, tapotant, pétrissant, vibrant, lissant... Elle sait parfaitement détecter les muscles tendus, les points de tension, et les relâcher. Une virtuose ! &lt;&lt;/a>> &lt;&lt;a>> Elle accompagne ses gestes d'explications claires que tu essaies d'assimiler du mieux que tu peux. C'est un peu compliqué de ne pas se laisser aller, mais tu t'en sors plutôt bien. &lt;&lt;/a>> &lt;&lt;d ayako>> Voilà, je pense que c'est un bon début ! La formation est finie. ㅇㅅㅇ &lt;&lt;/d>> &lt;&lt;d mc>> Hein ? Je ne vais pas moi aussi m'entraîner sur... sur toi ? &lt;&lt;/d>> &lt;&lt;a>> Les yeux d'$person.ayako.name sont grands ouverts et pointent sur ton entrejambe. Avec la surprise, tu t'es relevé, révélant la trique énorme que tu as depuis le début de la séance. Elle fait comme si elle n'avait rien vu. &lt;&lt;/a>> &lt;div class="choices"> &lt;&lt;button "Continuer">> &lt;&lt;dunshow s3>> &lt;&lt;dshow s4 ending>> &lt;&lt;/button>> &lt;/div> &lt;/div> &lt;div id="s4"> &lt;&lt;d ayako>> Aaah hmmm, n-non. P-pas aujourd'hui. Mais il y aura d'autres formations quand tu auras mis en pratique ce que je t'ai appris et... &lt;&lt;/d>> &lt;&lt;a>> Ses yeux sont retombés sur ton entrejambe. Elle secoue la tête pour se ressaisir. &lt;&lt;/a>> &lt;&lt;d ayako>> Bonne chance pour tes premiers clients. Passe me dire bonjour quand tu as le temps, je m'ennuie souvent ici（－－； &lt;&lt;/d>> &lt;&lt;d mc>> Avec plaisir. Merci pour l'aide, et à bientôt senpai ! &lt;&lt;/d>> &lt;&lt;d ayako>> (^_^)v &lt;&lt;/d>> &lt;/div> &lt;div class="choices" id="ending"> [[Je suis prêt|STORY-2-2-5]] &lt;/div> &lt;&lt;unshow2 s2-0 s2-1 s2 s3-0 s3-1 s3 s4 ending>></tw-passagedata><tw-passagedata name=END-2-8-1 position=360,6120 size=100,100 tags=""pid=102>&lt;&lt;nextInstant>> &lt;&lt;setColors #00aba9 #eff4ff>> &lt;&lt;note>> Boutique de massage chinois avec pute chinoise à pas cher 1. Possibilité d'y travailler - feet kiff - maitresse kanisho 2. happy ending &lt;&lt;/note>> &lt;div id="s0"> &lt;&lt;a>> Une femme d'âge avancée, très petite, asiatique, vêtue d'une tenue traditionnelle s'avance vers toi d'un pas léger, un sourire serein sur les lèvres, et les mains croisés sur son ventre. Elle te parle avec une petite voix calme. &lt;&lt;/a>> &lt;&lt;image data/places/massage/kawasaki.jpg 40>> &lt;&lt;button "Elle prend la parole">> &lt;&lt;dunshow s0 initial-day>> &lt;&lt;run $(".pop").hide()>> &lt;&lt;dshow s1>> &lt;&lt;/button>> &lt;/div> &lt;div id="s1"> &lt;&lt;d kawasaki>> Bonjour monsieur, et bienvenue dans notre humble établissement. Qu'est-ce qui pourrait vous faire plaisir ? &lt;&lt;/d>> &lt;&lt;d mc>> Heu, je ne sais pas trop. J'ai vu de la lumière, je suis rentré... &lt;&lt;/d>> &lt;&lt;d kawasaki>> Vous avez vu de la lumière et vous êtes rentré ? Bien, bien. Nous avons plutôt l'habitude de recevoir des clients à qui nous avons été recommandé. &lt;&lt;/d>> &lt;&lt;a>> La vieille dame semble te jauger quelques instants avec un regard étonnamment perçant, puis reprend, probablement après t'avoir déclaré inoffensif. &lt;&lt;/a>> &lt;&lt;d kawasaki>> Bien, bien, laissez moi me présenter alors. On m'appelle maîtresse Kawasaki, et je dirige cet endroit. Notre maison propose des massages et des services depuis plus de deux siècles avec un savoir faire incomparable. &lt;&lt;/d>> &lt;&lt;a>> Bien qu'assez classieux, l'endroit ne laisse pas supposer une telle ancienneté, et tu te demandes si l'histoire de la vieille est vraie. &lt;&lt;/a>> &lt;&lt;qbutton "Continuer" out:s1 in:s2>> &lt;/div> &lt;div id="s2"> &lt;&lt;d kawasaki>> Nous étions initialement spécialisés dans les prestigieux - et tonifiants - massages du Sichuan, une province reculée de Chine intérieure. Nous avons su diversifier notre offres et nos talents afin de satisfaire une clientèle venant du monde entier. &lt;&lt;/d>> &lt;&lt;d mc>> D'accord. Maintenant que vous le dîtes, j'ai un petit mal de dos et un massage ne me ferait pas de mal. Mais je ne sais pas si vous avez les compétences pour... &lt;&lt;/d>> &lt;&lt;a>> Tu t'arrêtes en te rendant compte que ta phrase est peut-être déplacée. La matriarche ne semble pas contrariée un instant, et répond avec une assurance très calme. &lt;&lt;/a>> &lt;&lt;d kawasaki>> Nous savons combler tous les désirs de nos clients. ''Tous'' les désirs. Et depuis que je suis ici, personne n'est jamais ressorti insatisfait monsieur. &lt;&lt;/d>> &lt;&lt;d mc>> Ah, excusez moi, je ne voulais pas remettre en cause vos compétences. &lt;&lt;/d>> &lt;&lt;d kawasaki>> Ce n'est rien. Je vous invite à consulter la liste de nos services dans le livret de l'espace détente sur votre droite. Je suis disponible au fond de la salle, n'hésitez pas à me solliciter, c'est un plaisir de vous servir. &lt;&lt;/d>> &lt;&lt;qbutton "Regarder la brochure du salon de massage" out:s2 in:s3>> &lt;/div> &lt;div id="s3"> &lt;&lt;a>> L'ancienne Geisha se retire discrètement. Tu prends le menu. Contrairement à ce que laisse penser l'accoutrement de la matriarche, l'établissement ne se limite pas à la culture japonaise, ni même à la culture asiatique. Les prestations sont variées et s'accompagnent de descriptions qui suffisent presque à te détendre. &lt;&lt;/a>> &lt;&lt;a>> Massage californien : doux et apaisant, les tensions sont dénoués et l'esprit relâché. &lt;&lt;/a>> &lt;&lt;t>> Oh ouais, j'ai envie d'avoir mon esprit relâché. &lt;&lt;/t>> &lt;&lt;a>> L’Abhyanga : massage traditionnel ayurvédique à base de pétrissage, lissage et pression ondulatoire. &lt;&lt;/a>> &lt;&lt;t>> S'il te plait, ondule moi... &lt;&lt;/t>> &lt;&lt;a>> Massage plantaire. Massage aux pierres chaudes. Massages tantriques. Massage qui donne la trique. &lt;&lt;/a>> &lt;&lt;a>> La carte est à l'image de l'établissement : variée. C'est simple, ils font de tout ! Il y a également un catalogue des modèles qui est encore plus surprenant. Les femmes asiatiques restent majoritaires c'est vrai, mais tu trouves aussi des hommes et des non-asiatiques. Et chaque modèle indique ses spécialités et des tarifs très variés qui vont du simple au décuple. &lt;&lt;/a>> &lt;&lt;a>> Un massage promettant l'exploration de tous nos sens attire ton attention. En réalité, c'est surtout la splendide asiatique qui promet cette exploration qui te donne envie... Tu regardes ses tarifs. &lt;&lt;/a>> &lt;&lt;t>> 500$ ?! &lt;&lt;/t>> &lt;&lt;a>> Tu reposes le livret en espérant ne pas l'avoir trop froissé. tu salues maîtresse $person.kawasaki.name, et tu retournes dans la rue. &lt;&lt;/a>> &lt;div class="choices"> [[Retourner dans la rue|SCHOOL-1-3-4]] &lt;/div> &lt;/div> &lt;&lt;unshow2 s1 s2 s3>></tw-passagedata><tw-passagedata name=DOM-0-7-1 position=5642,220 size=100,100 tags=""pid=103>&lt;&lt;setColors #00aba9 #eff4ff>> &lt;&lt;nextInstant>> &lt;&lt;run setup.turnOn("livraisonducolismassage")>> &lt;div id="s1"> &lt;&lt;a>> Tu t'approches de $person.kawasaki.name. &lt;&lt;/a>> &lt;&lt;d kawasaki>> Qu'est-ce que je peux faire pour vous monsieur $player.identity.lastname ? &lt;&lt;/d>> &lt;&lt;d mc>> Je... j'ai un colis pour vous. De la part de $nameb. &lt;&lt;/d>> &lt;&lt;d kawasaki>> Oh. Je vois. Suivez moi. &lt;&lt;/d>> &lt;&lt;qbutton "La suivre" out:s1 in:s2>> &lt;/div> &lt;div id="s2"> &lt;&lt;a>> $person.kawasaki.name se lève, et t'emmène dans l'arrière boutique. Elle ouvre une porte fermée à clé, et vous entrez dans ce qui a l'air d'une salle de stockage. C'est une petite salle avec des étagères sur lesquelles sont posées des cartons de différentes tailles, mais aussi des objets. Tu peux voir des cordages, des sextoys, des déguisements, et même des tas de photos. &lt;&lt;/a>> &lt;&lt;a>> Tu jettes un coup d'oeil aux photos. Tu peux y voir des jeunes filles dessus, la plupart asiatiques. Certaines sont attachées, d'autres sont simplement allongées sur un lit, les yeux fermés, avec un plusieurs hommes nus qui portent des masques. &lt;&lt;/a>> &lt;&lt;t>> Qu'est-ce que c'est que tout ça fait dans un salon de massage ? &lt;&lt;/t>> &lt;&lt;d kawasaki>> Donnez moi le colis s'il vous plaît. &lt;&lt;/d>> &lt;&lt;a>> Tu donnes le colis à $person.kawasaki.name. Elle fouille à l'intérieur. Tu peux la voir sortir des sachets remplis de différentes substances: de la poudre blanche, des pillules jaunes ou rouges. Certains ont des étiquettes, tu arrives à en distinguer une: "Acide gamma-hydroxybutyrique". &lt;&lt;/a>> &lt;&lt;a>> Tu es un peu mal à l'aise, mais tu oses une question. &lt;&lt;/a>> &lt;&lt;d mc>> C-c'est pour les clients ? &lt;&lt;/d>> &lt;&lt;d kawasaki>> Tout ce que nous faisons sont pour nos clients monsieur $player.identity.lastname. &lt;&lt;/d>> &lt;&lt;a>> Sa réponse est vague, mais tu préfères ne pas insister. Une fois son inspection finie, elle referme le colis et le pose sur une étagère, entre un gros carton abimé et un énorme sextoy en forme de poing. Elle se retourne vers toi. &lt;&lt;/a>> &lt;&lt;d kawasaki>> Tenez. &lt;&lt;/d>> &lt;div class="choices"> &lt;&lt;button "Prendre ce qu'elle te donne">> &lt;&lt;dunshow s2>> &lt;&lt;dshow s3>> &lt;&lt;run setup.setQuest("rivalmission", "status", "done")>> &lt;&lt;franc 100>> &lt;&lt;/button>> &lt;/div> &lt;/div> &lt;div id="s3"> &lt;&lt;a>> Elle te tend une grosse liasse de billets. Tu n'as jamais vu autant d'argent de ta vie... &lt;&lt;/a>> &lt;&lt;t>> Il doit bien y avoir 5000 dollars... &lt;&lt;/t>> &lt;&lt;a>> Elle te également une autre liasse, beaucoup plus fine. &lt;&lt;/a>> &lt;&lt;d kawasaki>> Et un petit pourboire pour votre efficacité. Et votre silence complet. &lt;&lt;/d>> &lt;&lt;a>> Vous ressortez de la petite salle et retournez à l'accueil. &lt;&lt;/a>> &lt;&lt;d kawasaki>> Bien. Je ne vous retiens pas plus. Passez une bonne journée monsieur $player.identity.lastname. &lt;&lt;/d>> &lt;div class="choices"> [[Sortir du salon de massage|SCHOOL-1-3-4]] &lt;/div> &lt;/div> &lt;&lt;unshow2 s2 s3>></tw-passagedata><tw-passagedata name=INDEX-1-8-0 position=7744,7855 size=100,100 tags=""pid=104>&lt;&lt;if setup.isNight()>> &lt;&lt;ambiance city_ambiance_night>> &lt;&lt;else>> &lt;&lt;ambiance massage_ambiance_day>> &lt;&lt;setColors #00aba9 #eff4ff>> &lt;&lt;/if>> &lt;&lt;note>> background: #00aba9 logo color: #ffeead #C5E7D7 #2d89ef couleur intéressante : #ff6f69 #88d8b0 Ayako: Momoka Nishina Autre: Sora Aoi, Momola Nishina &lt;&lt;/note>> &lt;div class="pop"> &lt;div class="main"> &lt;div class = "border"> &lt;div class = "inner-cutout"> &lt;h1 class="knockout">Lan fù&lt;br>Massage&lt;/h1> &lt;/div> &lt;/div> &lt;/div> &lt;/div> &lt;div id="initial-night"> &lt;&lt;a>> The establishment is closed at night. &lt;&lt;/a>> &lt;/div> &lt;div id="initial-day"> &lt;&lt;a>> Tu entres dans une salle très simple, où la couleur blanche, bleue, sable et turquoise se mélangent avec subtilité. En refermant la porte, les carillons se mettent à vibrer et te coupe du monde extérieur. Tout de suite, tu sens l'harmonie de la pièce t'envelopper. Tu entends l'eau d'un petit bassin qui coule doucement, et derrière, une musique apaisante vient te bercer. L'odeur d'encens t'invite à te calmer et à te détendre. Tu es bien. &lt;&lt;/a>> &lt;/div> &lt;div id="afternoon-work"> &lt;&lt;d kawasaki>> Comme indiqué dans notre réponse à votre postulation, nous ne passons des entretiens que les matins, lorsque le flux de clients est moins important. &lt;&lt;/d>> &lt;/div> &lt;div class="choices" id="initial-choices"> &lt;&lt;if setup.isJobPostulated("massage") && setup.isAfternoon()>> &lt;&lt;button "Demander du travail">> &lt;&lt;dshow afternoon-work>> &lt;&lt;/button>> &lt;&lt;/if>> &lt;&lt;if setup.isJobPostulated("massage") && setup.isMorning()>> &lt;&lt;button "Demander du travail" STORY-2-2-5 before:job>> &lt;&lt;/button>> &lt;&lt;/if>> &lt;&lt;if setup.isJobActive("massage") && setup.isDay()>> [[Travailler|STORY-2-2-5]] &lt;&lt;/if>> /* Si la première quête de rival est active */ &lt;&lt;if setup.getQuest("rivalmission", "num") == 1 && setup.getQuest("rivalmission", "status") == "active">> [[Livrer le colis|DOM-0-7-1]] &lt;&lt;/if>> [[Retourner dans la rue|SCHOOL-1-3-4]] &lt;/div> &lt;&lt;unshow2 initial-day initial-night afternoon-work>> &lt;&lt;if setup.isNight()>> &lt;&lt;show2 initial-night>> &lt;&lt;else>> &lt;&lt;show2 initial-day>> &lt;&lt;if setup.oneshot("massageFirstEntrance")>> &lt;&lt;unshow2 initial-choices>> &lt;&lt;include END-2-8-1>> &lt;&lt;pushevent massage 1>> &lt;&lt;else>> &lt;&lt;show2 initial-day>> &lt;&lt;/if>> &lt;&lt;/if>></tw-passagedata><tw-passagedata name=MOM-0-6-0 position=186,5489 size=100,100 tags=""pid=105></tw-passagedata><tw-passagedata name=hall-loop position=6267,415 size=100,100 tags=""pid=106>&lt;&lt;d author>> Bienvenue dans ton petit espace secret. 😉 Ici, vous pourrez sauvegarder vos progrès chaque soir avant de vous coucher. Vous y trouverez également toutes vos réalisations ! &lt;&lt;/d>> &lt;div class="choices direction"> &lt;&lt;button "Sauvegarder ou charger la partie" before:save>> &lt;&lt;run UI.saves()>> &lt;&lt;/button>> &lt;&lt;button "Retourner dans la chambre">> &lt;&lt;goto SIS-1-1-2>> &lt;&lt;/button>> &lt;/div> &lt;hr style="opacity: 0.1"> &lt;div style="background-color: white; display: block; color: black;padding: 1em;font-family: &ampquot;Merienda&ampquot;;font-size: 1.5em;border-radius: 4px;text-align: center; font-weight: bold;">&lt;&lt;nothing>>MUR DES REALISATIONS&lt;&lt;/nothing>>&lt;/div> &lt;hr style="opacity: 0.1"> &lt;&lt;printAchievements>> &lt;style> .history-zone { } .history-item { border: 1px solid white; border-radius: 4px; } .history-item-desc { } .history-item-date { } &lt;/style></tw-passagedata><tw-passagedata name=BRO-2-5-2 position=7241,8275 size=100,100 tags=""pid=107>&lt;&lt;image data/places/house.jpg 100>> &lt;div id="s1"> &lt;&lt;a>> Tu es dans le bus de retour, pensif. Tu te remémores cette journée. &lt;&lt;/a>> &lt;&lt;t>> Encore une journée difficile... Je suis passé à deux doigts d'une nouvelle branlée. &lt;&lt;/t>> &lt;&lt;a>> Tu descends du bus. &lt;&lt;/a>> &lt;&lt;t>> Je dois avouer que je suis beaucoup plus calme que la dernière fois. Je commence à m'habituer ? &lt;&lt;/t>> &lt;&lt;a>> Tu ouvres la porte de chez toi. &lt;&lt;/a>> &lt;&lt;if setup.isEvent('b', 11)>> &lt;&lt;t>> Et ce moment, quand $nameb s'approchait de moi... J-j'ai bien cru que j'allais lui mettre une droite... Mais est-ce que ça m'aurait aidé pour la suite ? &lt;&lt;/t>> &lt;&lt;else>> &lt;&lt;t>> Mais je n'ai été capable de rien. Je n'ai même pas essayé de faire semblant de résister. Il n'y a rien à faire face à $nameb &lt;&lt;/t>> &lt;&lt;/if>> &lt;&lt;a>> Tu entends ta mère te saluer en préparant le repas. &lt;&lt;/a>> &lt;&lt;t>> Si seulement je pouvais aller voir la police. Mais $namecity City est la ville la plus violente du pays, la police n'a pas le temps de s'occuper des petites histoires comme la mienne. &lt;&lt;/t>> &lt;div class="choices"> &lt;&lt;button "Monter les escaliers">> &lt;&lt;dunshow s1>> &lt;&lt;dshow s2>> &lt;&lt;/button>> &lt;/div> &lt;/div> &lt;div id="s2"> &lt;&lt;a>> Tu montes les escaliers qui mènent vers ta chambre. &lt;&lt;/a>> &lt;&lt;t>> Pire, si on apprend que j'ai été cafter chez eux, ça pourrait m'attirer des ennuis encore plus graves. &lt;&lt;/t>> &lt;&lt;a>> Tu croises $namess qui te met un coup derrière la tête. &lt;&lt;/a>> &lt;&lt;t>> Sans $namebf, qu'est-ce qui se serait passé ? Il faudra que j'aille le remercier. Et il faudra que je le rembourse. &lt;&lt;/t>> &lt;&lt;a>> Tu rentres dans ta chambre. &lt;&lt;/a>> &lt;&lt;t>> Pour ça, il faut que je trouve un moyen de subsistance. Mais quoi ? Un travail ? &lt;&lt;/t>> &lt;&lt;a>> Tu t'installes sur ton PC. &lt;&lt;/a>> &lt;&lt;t>> Je crois que je n'ai pas le choix. Je vais consulter les offres sur les sites de petites annonces. Je n'ai pas le choix. &lt;&lt;/t>> &lt;&lt;a>> Oui, tu n'as pas le choix. &lt;&lt;/a>> &lt;div class="choices"> [[Ouvrir le site des petites annonces|STORY-1-6-5]] &lt;/div> &lt;/div> &lt;&lt;unshow2 s2 c1 initial>></tw-passagedata><tw-passagedata name=MACRO-1-8-4 position=106,4838 size=100,100 tags=""pid=108>&lt;&lt;run setup.dailyEvent("iswakeup")>> &lt;&lt;setColors reset>> &lt;&lt;video data/mc/chambre/sunrise.webm>> &lt;&lt;run UIBar.show().unstow()>> &lt;&lt;a>> ''BIP!'' &lt;&lt;/a>> &lt;&lt;a>> ''BIP!'' &lt;&lt;/a>> &lt;&lt;a>> ''BIP!'' &lt;&lt;/a>> &lt;&lt;a>> D'un geste automatique, tu appuies sur la tête du réveil pour l'éteindre. Le silence se refait complet. Tu sens sur ta peau les premiers rayons du soleil. Ton esprit émèrge doucement. Tu te tords dans ton lit, tu t'étires et tu grognes pour sortir de ta torpeur. &lt;&lt;/a>> &lt;&lt;t>> Aller, on se motive ! &lt;&lt;/t>> &lt;div class="choices"> [[Aller prendre ta douche|PART-1-5-3]] &lt;/div></tw-passagedata><tw-passagedata name=DOM-0-7-2 position=6858,700 size=100,100 tags=""pid=109>&lt;div class="choices direction"> [[Aller dans la maison|FBRO-2-3-0]] &lt;&lt;button "Ouvrir l'armoire" GET-0-0-1 before:clothing>> &lt;&lt;/button>> &lt;&lt;button "Allumer l'ordinateur" END-0-6-5 before:computer>> &lt;&lt;/button>> &lt;&lt;if setup.isNight()>> &lt;&lt;button "Mettre ton pyjama et dormir" SBFR-0-1-1 before:sleep>> &lt;&lt;/button>> &lt;&lt;else>> &lt;&lt;button "Passer le temps" before:nextInstant>> &lt;&lt;nextInstant>> &lt;&lt;goto SIS-1-1-2>> &lt;&lt;/button>> &lt;&lt;/if>> &lt;&lt;if setup.isNight()>> &lt;hr> [[Regarder sous le lit|hall-loop]] &lt;&lt;/if>> &lt;/div></tw-passagedata><tw-passagedata name=INDEX-1-5-0 position=6682,8617 size=100,100 tags=""pid=110>&lt;div class="choices direction"> [[Aller dans la maison|FBRO-2-3-0]] &lt;&lt;button "Ouvrir l'armoire" GET-0-0-1 before:clothing-1>> &lt;&lt;/button>> &lt;/div></tw-passagedata><tw-passagedata name=SIS-1-1-2 position=120,4183 size=100,100 tags=""pid=111>&lt;div id="initial"> &lt;&lt;image data/places/home/bedroom/room.jpg 100>> &lt;&lt;a>> Tu es dans ta chambre. Il y a du bordel un peu partout et il y a plus de caleçon sur le sol que dans ton armoire. Quant à l'odeur, elle est infecte. &lt;&lt;/a>> &lt;&lt;a>> Que veux-tu faire ? &lt;&lt;/a>> &lt;/div> &lt;div id="wakeup"> &lt;&lt;video data/mc/chambre/sunrise.webm>> &lt;&lt;a>> ''BIP!'' &lt;&lt;/a>> &lt;&lt;a>> ''BIP!'' &lt;&lt;/a>> &lt;&lt;a>> ''BIP!'' &lt;&lt;/a>> &lt;&lt;a>> D'un geste automatique, tu appuies sur la tête du réveil pour l'éteindre. Le silence se refait complet. Tu sens sur ta peau les premiers rayons du soleil. Ton esprit émèrge doucement. Tu te tords dans ton lit, tu t'étires et tu grognes pour sortir de ta torpeur. &lt;&lt;/a>> &lt;&lt;t>> Aller, on se motive ! &lt;&lt;/t>> &lt;/div> &lt;div id="wakeup-weekend"> &lt;&lt;video data/mc/chambre/sunrise.webm>> &lt;&lt;a>> Tu es dans ta chambre. Les premiers rayons de soleil traversent timidement tes volets entre-ouverts. &lt;&lt;/a>> &lt;&lt;a>> Ils caressent et réchauffent ton visage, et t'offrent un réveil doux et paisible. Tu te retournes tranquillement, t'étires pendant quelques minutes avant de te lever. &lt;&lt;/a>> &lt;&lt;t>> Que c'est bon d'être en week-end ! Je devrais en profiter pour visiter la ville. &lt;&lt;/t>> &lt;/div> &lt;&lt;unshow2 initial wakeup wakeup-weekend>> &lt;&lt;if setup.dailyEvent("iswakeup")>> &lt;&lt;if setup.isWeekend()>> &lt;&lt;show2 wakeup-weekend>> &lt;&lt;else>> &lt;&lt;show2 wakeup>> &lt;&lt;/if>> &lt;&lt;else>> &lt;&lt;show2 initial>> &lt;&lt;/if>> &lt;&lt;if setup.isMorning(0)>> &lt;&lt;setColors #eff4ff black>> &lt;&lt;/if>> &lt;&lt;if setup.isWeekend() || !setup.isMorning(0)>> &lt;&lt;include DOM-0-7-2>> &lt;&lt;else>> &lt;&lt;include INDEX-1-5-0>> &lt;&lt;/if>></tw-passagedata><tw-passagedata name=END-0-6-5 position=7401,1066 size=100,100 tags=""pid=112>&lt;&lt;a>> Tu te poses tranquillement sur ta chaise gaming. Tu passes tes doigts sur les petits coussinets des accoudoirs, c'est extrêmement apaisant. Un léger ronronnement se fait entendre lorsque tu appuies sur le bouton d'allumage de ta fusée. &lt;&lt;/a>> &lt;div class="choices direction"> &lt;&lt;if setup.isDay()>> &lt;&lt;button "Faire une petite game" INDEX-1-2-5 before:game before:nextInstant>> &lt;&lt;/button>> &lt;&lt;/if>> &lt;&lt;button "Se matter un petit porno" PMS-0-5-0 before:porn>> &lt;&lt;/button>> &lt;&lt;if setup.isEvent('b', 6)>> &lt;&lt;button "LeBonCoin" STORY-1-6-5 before:lbc>> &lt;&lt;/button>> &lt;&lt;/if>> &lt;&lt;button "Eteindre l'ordinateur" SIS-1-1-2 before:off>> &lt;&lt;/button>> &lt;/div></tw-passagedata><tw-passagedata name=INDEX-1-2-5 position=6080,8875 size=100,100 tags=""pid=113>&lt;&lt;video data/mc/gaming/gaming.webm>> &lt;div id="night"> &lt;&lt;a>> Tu joues toute la soirée à tes jeux vidéos préférés. &lt;&lt;/a>> &lt;div class="choices"> [[Aller te coucher|SBFR-0-1-1]] &lt;/div> &lt;/div> &lt;div id="day"> &lt;&lt;a>> Tu te fais une bonne session de gaming. Ton excitation est légèrement réduite. &lt;&lt;/a>> &lt;div class="choices"> [[Retour|END-0-6-5]] &lt;/div> &lt;/div> &lt;&lt;set $person.mc.gaming += 2>> &lt;&lt;set $player.excitation -= 5>> &lt;&lt;if setup.isNight()>> &lt;&lt;unshow2 day>> &lt;&lt;else>> &lt;&lt;unshow2 night>> &lt;&lt;/if>> &lt;&lt;nextInstant>></tw-passagedata><tw-passagedata name=STORY-1-6-5 position=230,3537 size=100,100 tags=""pid=114>&lt;style> #job-available { background-color: #00a7a7; color: white; text-align: center; font-size: 2em; border: 2px solid black; border-radius: 2px; margin-bottom: 0.2em; margin-top: 1em; } #job-offer { background-color: #80c3c3; border: 2px solid black; border-radius: 2px; margin-bottom: 0.5em; padding: 0.5em; color: black; } #job-offer-title { border-bottom: 1px solid black; font-size: 1.4em; padding-bottom: 0.3em; } #job-offer-desc { padding-top: 0.5em; padding-bottom: 0.5em; } .job-offer-button-postulated { text-align: right; margin-right: 0px; margin-bottom: 5px; padding: 0; padding-right: 10px; padding-left: 10px; border-radius: 2px; background-color: #00a7a7; color: white; border: 1px solid black; font-family: 'Patrick Hand', cursive; display: inline-block; font-size: 1.6em; } .job-offer-button { text-align: right; } .job-offer-button button { animation: none; margin-right: 0px; margin-bottom: 5px; padding: 0; padding-right: 10px; padding-left: 10px; border-radius: 2px; background-color: white; color: black; border: 1px solid black; } .job-offer-button button:hover, .job-offer-button button:active, .job-offer-button button:focus { margin: 0px; margin-bottom: 5px; background-color: cadetblue; color: white; border: 1px solid black; } .job-offer-button button:after, .job-offer-button button:before { content: none; } #job-offer-consigne { } &lt;/style> &lt;&lt;a>> Tu te connectes à la section emploi d'un site de petites annonces. &lt;&lt;/a>> &lt;&lt;if setup.oneshot("jobmasseurannonce")>> &lt;&lt;a>> Une annonce attire ton attention. Tu es surpris de voir l'établissement de $person.kawasaki.name. &lt;&lt;/a>> &lt;&lt;t>> Ils acceptent les débutants. Ca peut être un bon moyen de me faire un peu d'argent de poche... &lt;&lt;/t>> &lt;&lt;/if>> &lt;div id="job-available"> &lt;&lt;nothing>> Offres disponibles &lt;&lt;/nothing>> &lt;/div> &lt;div id="job-offer"> &lt;div id="job-offer-title"> &lt;&lt;nothing>> $city.massage.name cherche masseur &lt;&lt;/nothing>> &lt;/div> &lt;div id="job-offer-desc"> &lt;&lt;nothing>> Le salon de massage $city.massage.name est toujours à la recherche de nouveaux masseurs. Horaires très flexibles. Débutants acceptés. Payé jusqu'à 50$ par heure. &lt;&lt;/nothing>> &lt;/div> &lt;div class="job-offer-button" id="massage-zero"> &lt;div class="job-offer-button-postulated"> &lt;&lt;nothing>> C'est votre job. &lt;&lt;/nothing>> &lt;/div> &lt;/div> &lt;div class="job-offer-button" id="massage-one"> &lt;div class="job-offer-button-postulated"> &lt;&lt;nothing>> Vous avez postulé. &lt;&lt;/nothing>> &lt;/div> &lt;/div> &lt;div class="job-offer-button" id="massage-two"> &lt;&lt;if setup.isJobFired("massage") || setup.isJobBanned("massage")>> &lt;&lt;button Postuler>> &lt;&lt;unshow massage-two>> &lt;&lt;show massage-one massage-four>> &lt;&lt;/button>> &lt;&lt;else>> &lt;&lt;button Postuler>> &lt;&lt;postulated massage>> &lt;&lt;pushevent place 3>> &lt;&lt;run setup.oneshot('firstjobpostulated')>> &lt;&lt;unshow massage-two>> &lt;&lt;show massage-one massage-three>> &lt;&lt;/button>> &lt;&lt;/if>> &lt;/div> &lt;div class="job-offer-consigne" id="massage-three"> &lt;&lt;nothing>> Merci d'avoir postulé. Rejoignez nous au salon de massage les matins pour passer votre entretien. Vous pouvez trouver l'adresse en bas de l'annonce. &lt;&lt;/nothing>> &lt;/div> &lt;div class="job-offer-consigne" id="massage-four"> &lt;&lt;nothing>> Nous sommes navré, mais l'entreprise ne souhaite pas donner suite à votre demande. Vous pouvez réessayer plus tard. &lt;&lt;/nothing>> &lt;/div> &lt;/div> &lt;&lt;if setup.isJobPostulated("massage")>> &lt;&lt;unshow2 massage-two massage-zero massage-four>> &lt;&lt;else>> &lt;&lt;if setup.isJobActive("massage")>> &lt;&lt;unshow2 massage-one massage-two massage-three massage-four>> &lt;&lt;else>> &lt;&lt;unshow2 massage-zero massage-one massage-three massage-four>> &lt;&lt;/if>> &lt;&lt;/if>> &lt;div id="takeajob"> &lt;&lt;t>> Je n'ai plus le choix, je dois faire de la money. Choisis un travail. &lt;&lt;/t>> &lt;/div> &lt;div class="choices"> &lt;&lt;button "Fermer le site">> &lt;&lt;if setup.isOneshot('firstjobpostulated')>> &lt;&lt;goto END-0-6-5>> &lt;&lt;else>> &lt;&lt;dunshow takeajob>> &lt;&lt;dshow takeajob>> &lt;&lt;/if>> &lt;&lt;/button>> &lt;/div> &lt;&lt;unshow2 takeajob>></tw-passagedata><tw-passagedata name=STORY-1-3-4 position=7885,1508 size=100,100 tags=""pid=115>&lt;&lt;set $player.status.working += 3>> &lt;&lt;video data/gf/work.webm>> &lt;&lt;a>> Tu révises tes cours et fais les bons exercices. &lt;&lt;/a>> &lt;&lt;d author>> Futur. &lt;&lt;/d>> &lt;div class="choices"> [[END-0-6-5]] &lt;/div></tw-passagedata><tw-passagedata name=SUB-0-8-1 position=5447,9043 size=100,100 tags=""pid=116>&lt;&lt;porn>> &lt;&lt;excitation 10>> &lt;&lt;pushevent porn 1>> &lt;&lt;set _porn = 'data/mc/porn/blowjob/' + random(3) + '.webm'>> &lt;div id="initial"> &lt;&lt;tv _porn>> &lt;&lt;t>> Aaaaah, ouais, rien ne vaut un bon porno... &lt;&lt;/t>> &lt;div class="choices" id="initialchoice"> &lt;&lt;button "Te masturber">> &lt;&lt;set _tmp = -120 + (20 * setup.event("porn", 1))>> &lt;&lt;run console.log(_tmp)>> &lt;&lt;if _tmp >= 0>> &lt;&lt;set _tmp = 0>> &lt;&lt;dshow fap1>> &lt;&lt;unshow initialchoice>> &lt;&lt;else>> &lt;&lt;dshow fap2>> &lt;&lt;unshow initialchoice>> &lt;&lt;/if>> &lt;&lt;excitation _tmp>> &lt;&lt;addiction "porn" 1>> &lt;&lt;/button>> &lt;&lt;if setup.isDay()>> [[Fermer le site|END-0-6-5]] &lt;&lt;/if>> &lt;/div> &lt;/div> &lt;div id="fap1"> &lt;&lt;a>> Il n'y a rien à faire. Malgré ton excitation, tu n'arrives pas à bander à fond. Il faut que tu trouves quelque chose de plus fort... &lt;&lt;/a>> &lt;div class="choices"> [[Chercher du porno plus chaud|MACRO-0-0-0]] &lt;/div> &lt;/div> &lt;div id="fap2"> &lt;&lt;set _ej = "data/mc/porn/" + setup.getPlayerSexSizeValue() + ".webm">> &lt;&lt;video _ej 30>> &lt;&lt;a>> Tu te branles en regardant toutes ces filles pomper des queues sans broncher. Avec l'excitation qui monte, tu commences à imaginer $namegf à la place des actrices... &lt;&lt;/a>> &lt;&lt;t>> Il faut que je donne à $namegf l'envie de me sucer... &lt;&lt;/t>> &lt;&lt;a>> L'image de $namegf à genou devant une queue te donne un shout d'excitation. Après quelques va-et-vients, tu ejacules de grosses giclées dans le sopalin. &lt;&lt;/a>> &lt;div class="choices"> &lt;&lt;if setup.isNight()>> &lt;&lt;button "Dormir" SBFR-0-1-1 before:sleep>> &lt;&lt;/button>> &lt;&lt;else>> [[Fermer le site|END-0-6-5]] &lt;&lt;/if>> &lt;/div> &lt;/div> &lt;&lt;unshow2 fap2 fap1>> &lt;&lt;if setup.isDay()>> &lt;&lt;nextInstant>> &lt;&lt;/if>></tw-passagedata><tw-passagedata name=MACRO-0-0-0 position=431,2914 size=100,100 tags=""pid=117>&lt;&lt;porn>> &lt;&lt;excitation 10>> &lt;&lt;pushevent porn 2>> &lt;&lt;set _porn = 'data/mc/porn/deepthroat/' + random(3) + '.webm'>> &lt;div id="initial"> &lt;&lt;tv _porn>> &lt;&lt;t>> Aaaaah, ouais, rien ne vaut un bon porno... &lt;&lt;/t>> &lt;div class="choices" id="initialchoice"> &lt;&lt;button "Te masturber">> &lt;&lt;set _tmp = -120 + (20 * setup.event("porn", 2))>> &lt;&lt;run console.log(_tmp)>> &lt;&lt;if _tmp >= 0>> &lt;&lt;set _tmp = 0>> &lt;&lt;dshow fap1>> &lt;&lt;unshow initialchoice>> &lt;&lt;else>> &lt;&lt;dshow fap2>> &lt;&lt;unshow initialchoice>> &lt;&lt;/if>> &lt;&lt;excitation _tmp>> &lt;&lt;addiction "porn" 1>> &lt;&lt;/button>> &lt;&lt;if setup.isDay()>> [[Fermer le site|END-0-6-5]] &lt;&lt;/if>> &lt;/div> &lt;/div> &lt;div id="fap1"> &lt;&lt;a>> Tu te branles furieusement, mais malgré ça ta queue reste mi-molle. Tu as du passer trop de temps devant ce type de porno, ça te fait moins d'effet. &lt;&lt;/a>> &lt;div class="choices"> [[Chercher du porno plus chaud|BFR-2-3-5]] &lt;/div> &lt;/div> &lt;div id="fap2"> &lt;&lt;set _ej = "data/mc/porn/" + setup.getPlayerSexSizeValue() + ".webm">> &lt;&lt;video _ej 30>> &lt;&lt;a>> Tu te branles frénétiquement en regardant toutes ces filles se faire baiser la bouche. Obéissantes et salopes, tes préférés sont celles qui vont jusqu'à s'étouffer pour tout avaler. &lt;&lt;/a>> &lt;&lt;t>> Est-ce que $namegf pourrait être une aussi bonne bouffeuse de queues ? &lt;&lt;/t>> &lt;&lt;a>> Tu imagines $namegf avaler ta queue jusqu'à ce qu'elle soit au bout. Après quelques va-et-vients, tu ejacules de grosses giclées dans un sopalin. &lt;&lt;/a>> &lt;div class="choices"> &lt;&lt;if setup.isNight()>> &lt;&lt;button "Dormir" SBFR-0-1-1 before:sleep>> &lt;&lt;/button>> &lt;&lt;else>> [[Fermer le site|END-0-6-5]] &lt;&lt;/if>> &lt;/div> &lt;/div> &lt;&lt;unshow2 fap2 fap1>> &lt;&lt;if setup.isDay()>> &lt;&lt;nextInstant>> &lt;&lt;/if>></tw-passagedata><tw-passagedata name=PMS-0-5-0 position=8300,2015 size=100,100 tags=""pid=118>&lt;&lt;a>> Tu te connectes sur ton site préféré, une catégorie attire ton attention. &lt;&lt;/a>> &lt;&lt;if setup.isGameDay(15)>> &lt;&lt;note>> Je devrais peut être essayé de chercher du porno comme $namebf m'a conseillé... &lt;&lt;/note>> &lt;&lt;/if>> &lt;div class="choices"> &lt;&lt;button "Softporn" SUB-0-8-2 before:nextInstant>> &lt;&lt;/button>> &lt;&lt;if setup.isEvent("porn", 1)>> &lt;&lt;button "Blowjob" SUB-0-8-1 before:nextInstant>> &lt;&lt;/button>> &lt;&lt;/if>> &lt;&lt;if setup.isEvent("porn", 2)>> &lt;&lt;button "Deepthroat" MACRO-0-0-0 before:nextInstant>> &lt;&lt;/button>> &lt;&lt;/if>> &lt;&lt;if setup.isEvent("porn", 3)>> &lt;&lt;button "Hardporn" BFR-2-3-5 before:nextInstant>> &lt;&lt;/button>> &lt;&lt;/if>> &lt;&lt;if setup.isEvent("porn", 4)>> &lt;&lt;button "$namegf's porn" SCHOOL-1-3-1 before:nextInstant>> &lt;&lt;/button>> &lt;&lt;/if>> &lt;&lt;if setup.getFragmentSize("gf") > 2 && !setup.isEvent("porn", 4)>> &lt;&lt;button "Peut-être que je pourrai..." SCHOOL-1-3-1 before:nextInstant>> &lt;&lt;/button>> &lt;&lt;/if>> [[Fermer le navigateur|END-0-6-5]] &lt;/div></tw-passagedata><tw-passagedata name=SCHOOL-1-3-1 position=4796,9117 size=100,100 tags=""pid=119>&lt;&lt;excitation 5>> &lt;&lt;pushevent porn 4>> &lt;&lt;if setup.isDay()>> &lt;&lt;nextInstant>> &lt;&lt;/if>> &lt;&lt;set _fragment = setup.getRandomfragment("gf")>> &lt;&lt;if _fragment[0] == 0>> &lt;&lt;set _media = "&lt;&lt;image " + _fragment[1] + " " + 50 + ">>">> &lt;&lt;elseif _fragment[0] == 1>> &lt;&lt;set _media = "&lt;&lt;video " + _fragment[1] + " " + 50 + ">>">> &lt;&lt;/if>> &lt;&lt;a>> Tu fermes les yeux pour te remémorer tes souvenirs... &lt;&lt;/a>> &lt;div id="fragment"> &lt;&lt;= _media>> &lt;/div> &lt;div id="fap"> &lt;&lt;a>> Tu te masturbes en pensant à ta petite amie. &lt;&lt;/a>> &lt;&lt;set _ej = "data/mc/porn/" + setup.getPlayerSexSizeValue() + ".webm">> &lt;&lt;video _ej 30>> &lt;&lt;a>> Tu te branles frénétiquement en pensant à $namegf. Après quelques va-et-vients, tu ejacules de grosses giclées dans le sopalin. &lt;&lt;/a>> &lt;/div> &lt;div class="choices" id="c1"> &lt;&lt;button "Nouveau souvenir">> &lt;&lt;set _fragment = setup.getRandomfragment("gf")>> &lt;&lt;if _fragment[0] == 0>> &lt;&lt;set _media = "&lt;&lt;image " + _fragment[1] + " " + 50 + ">>">> &lt;&lt;elseif _fragment[0] == 1>> &lt;&lt;set _media = "&lt;&lt;video " + _fragment[1] + " " + 80 + ">>">> &lt;&lt;/if>> &lt;&lt;dunshow fragment>> &lt;&lt;timed 0.2s>> &lt;&lt;replace "#fragment">> &lt;&lt;= _media>> &lt;&lt;/replace>> &lt;&lt;dshow fragment>> &lt;&lt;excitation 5>> &lt;&lt;/timed>> &lt;&lt;/button>> &lt;&lt;button "Te masturber">> &lt;&lt;excitation -100>> &lt;&lt;dunshow c1>> &lt;&lt;dshow fap c2>> &lt;&lt;/button>> &lt;&lt;if setup.isNight()>> &lt;&lt;button "Dormir" SBFR-0-1-1 before:sleep>> &lt;&lt;/button>> &lt;&lt;else>> &lt;&lt;button "Rouvrir les yeux" END-0-6-5>> &lt;&lt;/button>> &lt;&lt;/if>> &lt;/div> &lt;div id="c2"> &lt;&lt;if setup.isNight()>> &lt;&lt;button "Dormir" SBFR-0-1-1 before:sleep>> &lt;&lt;/button>> &lt;&lt;else>> &lt;&lt;button "Rouvrir les yeux" END-0-6-5>> &lt;&lt;/button>> &lt;&lt;/if>> &lt;/div> &lt;&lt;unshow2 fap c2>></tw-passagedata><tw-passagedata name=BFR-2-3-5 position=721,2326 size=100,100 tags=""pid=120>&lt;&lt;porn>> &lt;&lt;excitation 20>> &lt;&lt;pushevent porn 3>> &lt;&lt;set _porn = 'data/mc/porn/hard/' + random(3) + '.webm'>> &lt;div id="initial"> &lt;&lt;tv _porn>> &lt;&lt;t>> Aaaaah, ouais, rien ne vaut un bon porno... &lt;&lt;/t>> &lt;div class="choices" id="initialchoice"> &lt;&lt;button "Te masturber">> &lt;&lt;set _tmp = -120 + (20 * setup.event("porn", 3))>> &lt;&lt;run console.log(_tmp)>> &lt;&lt;set _tmp = -100>> &lt;&lt;if _tmp >= 0>> &lt;&lt;set _tmp = 0>> &lt;&lt;dshow fap1>> &lt;&lt;unshow initialchoice>> &lt;&lt;else>> &lt;&lt;dshow fap2>> &lt;&lt;unshow initialchoice>> &lt;&lt;/if>> &lt;&lt;excitation _tmp>> &lt;&lt;addiction "porn" 1>> &lt;&lt;/button>> &lt;&lt;if setup.isDay()>> [[Fermer le site|END-0-6-5]] &lt;&lt;/if>> &lt;/div> &lt;/div> &lt;div id="fap1"> &lt;&lt;a>> Il n'y a rien à faire. Malgré ton excitation, tu n'arrives pas à bander à fond. Il faut que tu trouves quelque chose de plus fort... &lt;&lt;/a>> &lt;div class="choices"> [[Chercher du porno plus chaud|BFR-2-3-5]] &lt;/div> &lt;/div> &lt;div id="fap2"> &lt;&lt;set _ej = "data/mc/porn/" + setup.getPlayerSexSizeValue() + ".webm">> &lt;&lt;video _ej 30>> &lt;&lt;a>> Les filles des vidéos se font baiser par des mâles virils. Tu vois des queues rentrer et sortir sans pitié, tu entends les filles gémir en se prenant des gifles et des fessées. &lt;&lt;/a>> &lt;&lt;t>> Oh putain, je veux prendre $namegf comme ça... &lt;&lt;/t>> &lt;&lt;a>> Tu imagines $namegf couiner comme les filles des vidéos alors qu'elle se fait baiser par de grosses queues. Il ne faut pas longtemps avant de te vider dans un sopalin que tu jettes dans la poubelle. &lt;&lt;/a>> &lt;div class="choices"> &lt;&lt;if setup.isNight()>> &lt;&lt;button "Dormir" SBFR-0-1-1 before:sleep>> &lt;&lt;/button>> &lt;&lt;else>> [[Fermer le site|END-0-6-5]] &lt;&lt;/if>> &lt;/div> &lt;/div> &lt;&lt;unshow2 fap2 fap1>> &lt;&lt;if setup.isDay()>> &lt;&lt;nextInstant>> &lt;&lt;/if>></tw-passagedata><tw-passagedata name=DOM-2-2-2 position=8637,2577 size=100,100 tags=""pid=121>Porno de massage A chaque fois > choix entre s'imaginer à la place de la masseur ou du massé</tw-passagedata><tw-passagedata name=SUB-0-8-2 position=4141,9097 size=100,100 tags=""pid=122>&lt;&lt;porn>> &lt;&lt;excitation 10>> &lt;&lt;pushevent porn 0>> &lt;&lt;set _porn = 'data/mc/porn/soft/' + random(3) + '.webm'>> &lt;div id="initial"> &lt;&lt;tv _porn>> &lt;&lt;t>> Aaaaah, ouais, rien ne vaut un bon porno... &lt;&lt;/t>> &lt;div class="choices" id="initialchoice"> &lt;&lt;button "Te masturber">> &lt;&lt;set _tmp = -120 + (20 * setup.event("porn", 0))>> &lt;&lt;run console.log(_tmp)>> &lt;&lt;if _tmp >= 0>> &lt;&lt;set _tmp = 0>> &lt;&lt;dshow fap1>> &lt;&lt;unshow initialchoice>> &lt;&lt;else>> &lt;&lt;dshow fap2>> &lt;&lt;unshow initialchoice>> &lt;&lt;/if>> &lt;&lt;excitation _tmp>> &lt;&lt;addiction "porn" 1>> &lt;&lt;/button>> &lt;&lt;if setup.isDay()>> [[Fermer le site|END-0-6-5]] &lt;&lt;/if>> &lt;/div> &lt;/div> &lt;div id="fap1"> &lt;&lt;a>> Tu te branles furieusement, mais malgré ça ta queue reste mi-molle. Tu as du passer trop de temps devant ce type de porno, ça te fait moins d'effet. &lt;&lt;/a>> &lt;div class="choices"> [[Chercher du porno plus chaud|SUB-0-8-1]] &lt;/div> &lt;/div> &lt;div id="fap2"> &lt;&lt;set _ej = "data/mc/porn/" + setup.getPlayerSexSizeValue() + ".webm">> &lt;&lt;video _ej 30>> &lt;&lt;a>> Tu prends ta &lt;&lt;playerSexSize>> queue en main, et tu commences à te caresser en regardant de jolies filles prendre et donner du plaisir. L'excitation montant, tu te mets à imaginer $namegf et toi à la place des acteurs... &lt;&lt;/a>> &lt;&lt;t>> Hmmm, j'ai envie que $namegf soit aussi chaude que ça... &lt;&lt;/t>> &lt;&lt;a>> L'image de $namegf à la place de l'actrice porno te donne un shout d'excitation. Après quelques va-et-vient sur ta queue, tu te vides dans un sopalin que tu jettes dans la poubelle. &lt;&lt;/a>> &lt;div class="choices"> &lt;&lt;if setup.isNight()>> &lt;&lt;button "Dormir" SBFR-0-1-1 before:sleep>> &lt;&lt;/button>> &lt;&lt;else>> [[Fermer le site|END-0-6-5]] &lt;&lt;/if>> &lt;/div> &lt;/div> &lt;&lt;unshow2 fap2 fap1>> &lt;&lt;if setup.isDay()>> &lt;&lt;nextInstant>> &lt;&lt;/if>></tw-passagedata><tw-passagedata name=STORY-2-3-5 position=1093,1787 size=100,100 tags=""pid=123>&lt;script> document.body.style.backgroundColor = "#1d1d1d"; document.body.style.color = "white"; &lt;/script> &lt;style> #tutorial-title { text-align: center; font-size: 3.2em; } .tutorial-item { background-color: #3d3d3d; border: 2px solid black; border-radius: 4px; padding: 1em; margin-bottom: 1em; font-size: 0.9em; } .tutorial-item img { border: 1px solid white; border-radius: 4px; margin-top: 0em; margin-bottom: 0em; float: right; margin-left: 1em; } .tutorial-item-title { font-weight: bold; text-decoration: underline; } &lt;/style> &lt;&lt;a>> Bravo, tu viens de finir ta première journée dans l'univers de Blacked & Whited. Alors, comment tu la trouves ta rouquine ? &lt;&lt;/a>> &lt;&lt;a>> C'est le bon moment pour un petit tutorial. Si c'est ta première partie, je te conseille très fortement de le lire. Tout est très facile à comprendre et tu as probablement déjà compris l'essentiel, ce tutorial rajoute quelques précisions utiles à savoir pour la suite. &lt;&lt;/a>> &lt;div id="tutorial-title">Tutorial&lt;/div> &lt;div class="tutorial-item"> &lt;&lt;image2 data/default/tutorial/period.jpg 30>> &lt;span class="tutorial-item-title">&lt;&lt;nothing>>Système de temps.&lt;&lt;/nothing>>&lt;/span> &lt;&lt;nothing>>La gestion de ton temps est très importante. Chaque journée est découpée en ''3 moments'' (matin, après-midi, soirée). Pour chaque matin et chaque après midi, tu disposes de ''3 points d'énergie'' que tu peux dépenser dans des activités. Le soir, tu as juste à choisir l'endroit où tu vas ''passer ta soirée'' (chambre, club...) avant d'aller dormir.&lt;&lt;/nothing>> &lt;/div> &lt;div class="tutorial-item"> &lt;&lt;image2 data/default/tutorial/excitation.jpg 30>> &lt;span class="tutorial-item-title">&lt;&lt;nothing>>Excitation.&lt;&lt;/nothing>>&lt;/span> &lt;&lt;nothing>>Ton excitation monte lorsque tu es en contact avec des éléments érotiques, et baisse en te soulageant par diverses méthodes. Ton niveau d'excitation peut influencer ou déclencher certains évènements. Elle est représentée par la barre d'excitation.&lt;&lt;/nothing>> &lt;/div> &lt;div class="tutorial-item"> &lt;&lt;image2 data/default/tutorial/body.jpg 30>> &lt;span class="tutorial-item-title">&lt;&lt;nothing>>Gender.&lt;&lt;/nothing>>&lt;/span> &lt;&lt;nothing>>Certaines actions vont pouvoir modifier ton apparence physique. L'état de ton apparence physique est représentée par la barre de genre. Plus ton corps est féminisé et sexy, plus la part en rose est importante. Plus ton corps est masculinisé et viril, plus la barre bleue est dominante.&lt;&lt;/nothing>> &lt;span class="tutorial-item-title">&lt;&lt;nothing>>__Note__:&lt;&lt;/nothing>>&lt;/span> &lt;&lt;nothing>>L'apparence n'a pour le moment aucune influence et rien ne peut la changer, elle sera introduite durant le chapitre deux.&lt;&lt;/nothing>> &lt;/div> &lt;div class="tutorial-item"> &lt;&lt;image2 data/default/tutorial/mind.jpg 30>> &lt;span class="tutorial-item-title">&lt;&lt;nothing>>Spirit.&lt;&lt;/nothing>>&lt;/span> &lt;&lt;nothing>>Au cours de ton aventure, tu vas pouvoir gagner des ''Blacked Point'' ou des ''Whited Point'' qui vont définir ton état d'esprit. Tu en as d'ailleurs déjà gagné quelques uns.&lt;&lt;/nothing>>&lt;br>&lt;br> &lt;&lt;nothing>>Tu peux gagner des Blacked Point de 3 façons: en appréciant ce qui a trait au Blacked, en rejetant le Whited, et en ayant une attitude clairement soumise.&lt;&lt;/nothing>>&lt;br>&lt;br> &lt;&lt;nothing>>Tu peux gagner des Whited Point de 3 façons: en appréciant ce qui a trait au Whited, en rejetant le Blacked, et en ayant une attitude clairement dominante.&lt;&lt;/nothing>>&lt;br>&lt;br> &lt;&lt;image2 data/default/tutorial/mind2.jpg 30>>&lt;&lt;nothing>>En gagnant des points, la barre d'esprit va tendre vers le Blacked/soumission ou vers le Whited/domination. Lorsqu'elle est pleine, tu vas level-up (on dit ''Blacked-up'' ou ''Whited-up''). Ton niveau actuel est représenté par la demi-cercle crantée: les points allumées représentent tes niveaux Whited, les points éteints représentent tes niveaux Blacked.&lt;&lt;/nothing>>&lt;br>&lt;br> &lt;&lt;nothing>>Un changement dans ton état d'esprit t'ouvre des de nouvelles possibilités pour le chemin correspondant et t'en ferme pour l'autre.&lt;&lt;/nothing>> &lt;/div> &lt;div class="tutorial-item"> &lt;span class="tutorial-item-title">&lt;&lt;nothing>>Comment suivre le chemin Whited ?&lt;&lt;/nothing>>&lt;/span> &lt;&lt;nothing>>Si tu veux suivre le chemin Whited, garde en tête que le personnage est en mauvaise posture et n'est pas ENCORE mentalement prêt à se défendre. Tu vas devoir lui apprendre petit à petit comment se comporte un vrai Alpha. Et chacune de tes tentatives, même non concluante, le transforme.&lt;&lt;/nothing>> &lt;/div> &lt;div class="tutorial-item"> &lt;span class="tutorial-item-title">&lt;&lt;nothing>>Comment suivre le chemin Blacked ?&lt;&lt;/nothing>>&lt;/span> &lt;&lt;nothing>>Si tu veux suivre le chemin Blacked, tu vas devoir tout faire pour t'en remettre aux autres, les laisser accéder à leurs désirs même si cela va à l'encontre des tiens. Tu vas devoir lentement comprendre et accepter la place qui est la tienne.&lt;&lt;/nothing>> &lt;/div> &lt;&lt;a>> __Note importante__ : les deux routes (Blacked & Whited) sont en construction, et les points gagnés affectent peu le jeu et les possibilités, mais ça arrive très vite ! &lt;&lt;/a>> &lt;div class="tutorial-item"> &lt;span class="tutorial-item-title">&lt;&lt;nothing>>Navigation par le clavier.&lt;&lt;/nothing>>&lt;/span> &lt;&lt;nothing>>Blacked & Whited intègre un système de navigation par le clavier. Utilise les touches 1 à 9 pour sélectionner ton choix, et clique de nouveau pour l'activer. Tu peux tester avec les choix ci-dessous.&lt;&lt;/nothing>> &lt;/div> &lt;&lt;a>> Ce tutorial est fini. Il présente les élèments essentiels pour pouvoir jouer sereinement. Tu rencontreras de nombreux mécanismes et surprises au cours de ton aventure dans le monde de Blacked & Whited, mais tu devras les découvrir par toi même. :) &lt;&lt;/a>> &lt;hr> &lt;div id="nav-tuto-1"> &lt;&lt;a>> Mmmh, j'adore quand tu m'appuies dessus. &lt;&lt;/a>> &lt;/div> &lt;div id="nav-tuto-2"> &lt;&lt;a>> Tu sens un violent coup sur ta main. &lt;&lt;/a>> &lt;&lt;d author>> Non ! Pas touche à mon cookie ! &lt;&lt;/d>> &lt;/div> &lt;div id="nav-tuto-3"> &lt;&lt;a>> Ta $relationsm rentre dans la chambre. &lt;&lt;/a>> &lt;&lt;d sm>> Oh, tu as encore mouillé ton lit mon chérie ? &lt;&lt;/d>> &lt;/div> &lt;div id="nav-tuto-4"> &lt;&lt;a>> Tu t'approches doucement de la chambre de ta $relationss, et tu frappes la porte plusieurs fois avec ton poing, avant de retourner te réfugier dans ton lit en ricanant. &lt;&lt;/a>> &lt;&lt;a>> Tu entends ta $relationss hurler à travers le mur. &lt;&lt;/a>> &lt;&lt;d ss>> Putain $namemc gros bouffon, arrête de faire le gamin ! &lt;&lt;/d>> &lt;&lt;t>> Haha, trop drôle. &lt;&lt;/t>> &lt;/div> &lt;div class="choices direction" id="tutorial"> &lt;&lt;button "Active ce bouton en appuyant deux fois sur la touche 1">> &lt;&lt;dynamicunshow nav-tuto-1 nav-tuto-2 nav-tuto-3 nav-tuto-4>> &lt;&lt;dynamicshow nav-tuto-1>> &lt;&lt;/button>> &lt;&lt;button "Prendre le cookie sur la table">> &lt;&lt;dynamicunshow nav-tuto-1 nav-tuto-2 nav-tuto-3 nav-tuto-4>> &lt;&lt;dynamicshow nav-tuto-2>> &lt;&lt;/button>> &lt;&lt;button "Hurler à la mort">> &lt;&lt;dynamicunshow nav-tuto-1 nav-tuto-2 nav-tuto-3 nav-tuto-4>> &lt;&lt;dynamicshow nav-tuto-3>> &lt;&lt;/button>> &lt;&lt;button "Toquer à la porte de ta $relationss">> &lt;&lt;dynamicunshow nav-tuto-1 nav-tuto-2 nav-tuto-3 nav-tuto-4>> &lt;&lt;dynamicshow nav-tuto-4>> &lt;&lt;/button>> [[J'ai tout compris, lancer le premier chapitre|STORY-1-0-1]] &lt;/div> &lt;&lt;unshow2 nav-tuto-1 nav-tuto-2 nav-tuto-3 nav-tuto-4>></tw-passagedata><tw-passagedata name=STORY-1-0-1 position=8889,3182 size=100,100 tags=""pid=124>&lt;script> document.body.style.backgroundColor = "#1d1d1d"; document.body.style.color = "white"; &lt;/script> &lt;style> @import "compass/css3"; #chapter-presentation { font: 5vw/100vh "Finger Paint"; text-align: center; color: transparent; } #chapter-number { margin-top: -2em; } #chapter-title { margin-top: -9em; } #ghosting { display: inline-block; text-shadow: 0 0 0 whitesmoke; animation: smoky 5s 3s both; } #ghosting:nth-child(even) { animation-name: smoky-mirror; } @keyframes smoky { 60% { text-shadow: 0 0 40px whitesmoke; } to { transform: translate3d(15rem, -8rem, 0) rotate(-40deg) skewX(70deg) scale(1.5); text-shadow: 0 0 20px whitesmoke; opacity: 0; } } @keyframes smoky-mirror { 60% { text-shadow: 0 0 40px whitesmoke; } to { transform: translate3d(18rem, -8rem, 0) rotate(-40deg) skewX(-70deg) scale(2); text-shadow: 0 0 20px whitesmoke; opacity: 0; } } #ghosting:nth-of-type(1) { animation-delay: 2.1s; } #ghosting:nth-of-type(2) { animation-delay: 2.2s; } #ghosting:nth-of-type(3) { animation-delay: 2.3s; } #ghosting:nth-of-type(4) { animation-delay: 2.4s; } #ghosting:nth-of-type(5) { animation-delay: 2.5s; } #ghosting:nth-of-type(6) { animation-delay: 2.6s; } #ghosting:nth-of-type(7) { animation-delay: 2.7s; } #ghosting:nth-of-type(8) { animation-delay: 2.8s; } #ghosting:nth-of-type(9) { animation-delay: 2.9s; } #ghosting:nth-of-type(10) { animation-delay: 3s; } #ghosting:nth-of-type(11) { animation-delay: 3.1s; } #ghosting:nth-of-type(12) { animation-delay: 3.2s; } #ghosting:nth-of-type(13) { animation-delay: 3.3s; } &lt;/style> &lt;div id="chapter-presentation"> &lt;div id="chapter-number"> &lt;span id="ghosting">C&lt;/span>&lt;span id="ghosting">h&lt;/span>&lt;span id="ghosting">a&lt;/span>&lt;span id="ghosting">p&lt;/span>&lt;span id="ghosting">t&lt;/span>&lt;span id="ghosting">e&lt;/span>&lt;span id="ghosting">r&lt;/span>&lt;span>&ampnbsp;&lt;/span>&lt;span id="ghosting">1&lt;/span>&lt;span id="ghosting">.&lt;/span> &lt;/div> &lt;div id="chapter-title"> &lt;span id="ghosting">B&lt;/span>&lt;span id="ghosting">i&lt;/span>&lt;span id="ghosting">r&lt;/span>&lt;span id="ghosting">t&lt;/span>&lt;span id="ghosting">h&lt;/span>&lt;span id="ghosting">.&lt;/span> &lt;/div> &lt;/div> &lt;&lt;timed 6s>> &lt;&lt;include SCHOOL-2-5-5>> &lt;&lt;goto SIS-1-1-2>> &lt;&lt;/timed>></tw-passagedata><tw-passagedata name=BRO-2-7-1 position=3496,8981 size=100,100 tags=""pid=125>&lt;&lt;timed 1s>> &lt;&lt;excitation 10>> &lt;&lt;/timed>> &lt;&lt;a>> Ta nuit est troublée par des rêves étranges... &lt;&lt;/a>> &lt;hr> &lt;div id="hasLookSS"> &lt;&lt;fadein 4s>> &lt;&lt;image data/ss/shower2.jpg>> &lt;&lt;a>> Tu revois ta $relationss sous la douche, mais cette fois sa réaction est complètement différente... &lt;&lt;/a>> &lt;&lt;d ss>> Tu l'aimes, mon gros cul ? C'est pour ça que tu le regardes comme ça ? &lt;&lt;/d>> &lt;&lt;d mc>> Oui... &lt;&lt;/d>> &lt;&lt;d ss>> T'as envie de t'en occuper ? &lt;&lt;/d>> &lt;&lt;d mc>> Oui ! &lt;&lt;/d>> &lt;&lt;d ss>> Et bien qu'est ce que tu attends $namemc ? &lt;&lt;/d>> &lt;&lt;d ss>> T'as le droit prendre une douche aussi. Déshabille toi et rejoins moi. &lt;&lt;/d>> &lt;&lt;d mc>> Vraiment ? &lt;&lt;/d>> &lt;&lt;d ss>> Bah, oui. Tu le sais pourtant, que j'attends que ça... &lt;&lt;/d>> &lt;hr> &lt;&lt;a>> Tu te réveilles en sursaut. Tu sens ta queue bien dure dans ton caleçon. &lt;&lt;/a>> &lt;&lt;t>> Quel rêve ridicule... &lt;&lt;/t>> &lt;&lt;/fadein>> &lt;/div> &lt;div id="hasNotLookSS"> &lt;&lt;fadein 4s>> &lt;&lt;video data/ss/shower1.webm 70>> &lt;&lt;a>> Tu entends ta $relationss rigoler. &lt;&lt;/a>> &lt;&lt;d ss>> Et bah alors petite bite, tu n'as pas envie d'en voir plus ? &lt;&lt;/d>> &lt;hr> &lt;&lt;a>> Tu te réveilles en sursaut. &lt;&lt;/a>> &lt;&lt;t>> Même dans mes rêves elle est insupportable ! &lt;&lt;/t>> &lt;&lt;/fadein>> &lt;/div> &lt;&lt;fadein 4s>> &lt;&lt;include GET-2-0-4>> &lt;&lt;/fadein>> &lt;&lt;if setup.isEvent("ss", 1)>> &lt;&lt;unshow2 hasNotLookSS>> &lt;&lt;else>> &lt;&lt;unshow2 hasLookSS>> &lt;&lt;/if>></tw-passagedata><tw-passagedata name=MACRO-0-7-0 position=1539,1307 size=100,100 tags=""pid=126>&lt;&lt;a>> Ta nuit est troublée par des cauchemards... &lt;&lt;/a>> &lt;hr> &lt;&lt;fadein 4s>> &lt;&lt;a>> $nameb est fou de rage. &lt;&lt;/a>> &lt;&lt;d b>> La leçon d'hier t'a pas suffit ? Tenez le ! Tenez le bien ! &lt;&lt;/d >> &lt;&lt;d mc>> Laisse moi encore un jour ! Pitié ne me frappe pas ! &lt;&lt;/d >> &lt;&lt;d b>> Je vais m'occuper de toi, et quand ça sera fini, j'irai m'occuper du petit cul blanc de ta copine... &lt;&lt;/d >> &lt;&lt;d gf>> $namemc, ne le laisse pas faire ! Sauve moi ! &lt;&lt;/d >> &lt;&lt;a>> Tu vois $nameb avancer vers $namegf, un grand sourire carnassier sur son visage. Tu essaies de bouger, mais tu es paralysé par la peur, et tu ne peux que regarder, impuissant. &lt;&lt;/a>> &lt;hr> &lt;&lt;a>> Tu te réveilles en sursaut. Tu sens une goutte de sueur sur ton front. &lt;&lt;/a>> &lt;&lt;include GET-2-0-4>> &lt;&lt;/fadein>> &lt;&lt;setColors #1b0044 white>></tw-passagedata><tw-passagedata name=SCHOOL-2-7-5 position=9051,3817 size=100,100 tags=""pid=127>&lt;&lt;setColors #1b0044 white>> &lt;&lt;a>> Ta nuit est troublée par des cauchemards... &lt;&lt;/a>> &lt;hr> &lt;&lt;fadein 4s>> &lt;&lt;d b>> T'as encore oublié mes 20 balles mange-merde ?! Je vais t'écrabouiller comme la pire des merdes. &lt;&lt;/d >> &lt;&lt;d mc>> Nan ! Pitié ! Ne me refrappe pas ! Je te donnerai ce que tu veux ! Prends $namegf si elle te plaît ! &lt;&lt;/d >> &lt;hr> &lt;&lt;a>> Tu te réveilles en sursaut. Tu sens une goutte de sueur sur ton front. &lt;&lt;/a>> &lt;&lt;include GET-2-0-4>> &lt;&lt;/fadein>></tw-passagedata><tw-passagedata name=BRO-2-7-0 position=2874,8774 size=100,100 tags=""pid=128>&lt;&lt;d gf>> $namegf ! Mais qu'est-ce que tu fais ? &lt;&lt;/d>> &lt;&lt;a>> Tu sursautes de surprise. &lt;&lt;/a>> &lt;&lt;a>> Tu es dans la chambre avec $namebf, complètement nu sur le canapé. Vous mattez un porno en vous caressant. &lt;&lt;/a>> &lt;&lt;d mc>> Je... Non, c'est pas ce que tu crois. &lt;&lt;/d>> &lt;&lt;d gf>> Oh, t'inquiète pas. Vous faîtes des trucs de garçons, je comprends. &lt;&lt;/d>> &lt;&lt;a>> $namegf a un petit sourire en coin. &lt;&lt;/a>> &lt;&lt;d gf>> Ca te dérange si je me joins à vous ? &lt;&lt;/d>> &lt;&lt;a>> Avant que tu n'aies le temps de répondre, $namebf vient s'installer entre vous deux, elle remarque le porno en fond. &lt;&lt;/a>> /* porno blacked */ &lt;&lt;d bf>> Oh. C'est donc ce genre de porno que tu aimes regarder ? &lt;&lt;/d>> &lt;&lt;d mc>> Non, pas du tout. &lt;&lt;/d>> &lt;&lt;d bf>> Ca me plait aussi... &lt;&lt;/d>> &lt;&lt;a>> Tu sens la main de $namegf se poser sur ta queue, et faire doucement des va-et-vients. &lt;&lt;/a>></tw-passagedata><tw-passagedata name=LOOP-2-8-3 position=2050,897 size=100,100 tags=""pid=129>&lt;&lt;setColors #1b0044 white>> &lt;&lt;pushevent dream 1>> &lt;div id="s1"> &lt;&lt;a>> Ta nuit est troublée par des rêves étranges... &lt;&lt;/a>> &lt;hr> &lt;&lt;a>> Tu es dans les toilettes de l'école, à genoux. Tu peux sentir la dureté du sol contre tes tibias. Tu es en train de frotter une paire de chaussures avec un drap blanc. En levant la tête, tu vois le propriétaire: $nameb, l'homme qui te terrorise à l'école. Il discute, sans faire attention à toi. &lt;&lt;/a>> &lt;&lt;a>> Des gloussements lui répondent. Tu tournes la tête, et tu vois $namegf, sourire aux lèvres. Elle ne semble pas t'avoir vu. &lt;&lt;/a>> &lt;&lt;t>> Que fait $namegf ici ? Pourquoi parle-t-elle à $nameb ?! &lt;&lt;/t>> &lt;&lt;a>> Tu te concentres sur la conversation. &lt;&lt;/a>> &lt;&lt;d gf>> Non pas du tout, pourquoi je ferai ça ? &lt;&lt;/d>> &lt;&lt;d b>> Une meuf comme toi mérites bien mieux. Une fille aussi jolie, aussi sensible et intelligente. Ca fait longtemps que je te regarde tu sais, et sincèrement je ne crois pas qu'il y ait une fille de l'école qui t'arrive à la cheville. &lt;&lt;/d>> &lt;&lt;a>> Tu vois $namegf rougir en se laissant bercer par les flatteries de $nameb, avant de se ressaisir. &lt;&lt;/a>> &lt;&lt;d gf>> Non désolé, je ne suis pas intéressée. Tu as frappé mon copain ! &lt;&lt;/d>> &lt;&lt;d b>> Hein ? Tu racontes quoi ? C'était rien du tout... Tu sais, j'ai beaucoup d'influence ici, il ne lui arrivera plus rien de mal si tu acceptes... Tu veux le protéger n'est-ce pas ? &lt;&lt;/d>> &lt;&lt;d gf>> Non... Je ne sais pas... Tu le laisseras tranquilles si j'accepte, tu le promets ? &lt;&lt;/d>> &lt;&lt;t>> Elle doit accepter quoi ? &lt;&lt;/t>> &lt;/div> &lt;div class='choices' id='c-0'> &lt;&lt;button "Je m'occupe très bien de moi tout seul !">> &lt;&lt;dunshow c-0 s1>> &lt;&lt;if $events.dream[1] > 2>> &lt;&lt;dshow r-0-0 r-0-e c-1>> &lt;&lt;else>> &lt;&lt;courage 1>> &lt;&lt;dshow r-0-0 r-0-e ending-0 end>> &lt;&lt;/if>> &lt;&lt;/button>> &lt;&lt;button "Continuer de regarder la scène">> &lt;&lt;dunshow c-0 s1>> &lt;&lt;if $events.dream[1] > 2>> &lt;&lt;dshow r-0-1 r-0-e c-2>> &lt;&lt;else>> &lt;&lt;blacked 1>> &lt;&lt;dshow r-0-1 r-0-e ending-0 end>> &lt;&lt;/if>> &lt;&lt;/button>> &lt;/div> &lt;div id='r-0-0'> &lt;&lt;a>> Tu ressens un point de tension au niveau du ventre en voyant $nameb draguer $namegf devant toi. Il faut que tu interviennes... &lt;&lt;/a>> &lt;&lt;d mc>> Oh, t-tu sais, je peux me débrouiller tout s-seul. &lt;&lt;/d>> &lt;&lt;a>> C'était très courageux de ta part. &lt;&lt;/a>> &lt;&lt;d gf>> Ah $namemc, tu es là ? Je ne t'avais pas remarqué... &lt;&lt;/d>> &lt;&lt;a>> $nameb n'a pas l'air content du tout. Il te jette un regard noir qui en dit long. &lt;&lt;/a>> &lt;&lt;d b>> Qui t'a dit que tu pouvais parler toi ? Continue de frotter et arrête de me casser les couilles bouffe-merde ! &lt;&lt;/d>> &lt;&lt;a>> Tu baisses la tête sans arrêter d'écouter. $nameb continue sa discussion avec $namegf qui semble de nouveau t'avoir oublié. &lt;&lt;/a>> &lt;/div> &lt;div id='r-0-1'> &lt;&lt;a>> Tu ressens un point de tension au niveau du ventre en voyant $nameb draguer $namegf devant toi. Tu as envie d'intervenir, mais cela te semble trop risqué pour le moment, tu préfères attendre et voir comment ça évolue. Et puis, tu peux faire confiance à $namegf. Elle t'aime, n'est-ce pas ? &lt;&lt;/a>> &lt;&lt;a>> $nameb continue de parler à ta petite amie. &lt;&lt;/a>> &lt;/div> &lt;div id='r-0-e'> &lt;&lt;d b>> Oui bien sûr, je m'occuperai bien de lui, tu as ma parole. Et toi, tu pourras avoir un homme rien que pour toi. Je veux dire, un vrai homme, pas une petite pleurnicheuse. Tu en as déjà rêvé, d'avoir un homme comme moi pour prendre soin de toi ? &lt;&lt;/d>> &lt;&lt;a>> Tu vois $namegf se tortiller en répondant. &lt;&lt;/a>> &lt;&lt;d gf>> Je ne sais pas trop... Je ne veux pas que $namemc pense que je le trahis... &lt;&lt;/d>> &lt;&lt;d b>> Ce n'est pas de la trahison si il est d'accord... Il veut ton bonheur, il sait que tu seras plus heureuse si je m'occupe de toi... Hein, mange-merde ? &lt;&lt;/d>> &lt;&lt;a>> Cette fois, $nameb s'est adressé directement à toi. Ton stress est encore monté d'un cran. Ca te fait mal de voir $namegf hésitante. Elle ne sait pas comment s'en sortir, elle a besoin de toi... &lt;&lt;/a>> &lt;/div> &lt;div class='choices' id='c-1'> &lt;&lt;button "$nameb m'a dit de continuer à frotter...">> &lt;&lt;dunshow r-0-0 r-0-1 r-0-e c-1>> &lt;&lt;if $events.dream[1] > 2>> &lt;&lt;dshow r-1-1 c-2-0>> &lt;&lt;else>> &lt;&lt;blacked 2>> &lt;&lt;dshow r-1-1 ending-0 end>> &lt;&lt;/if>> &lt;&lt;/button>> &lt;&lt;button "Hors de question de le laisser faire !">> &lt;&lt;dunshow r-0-0 r-0-1 r-0-e c-1>> &lt;&lt;if $events.dream[1] > 2>> &lt;&lt;dshow r-1-0 c-1-0>> &lt;&lt;else>> &lt;&lt;dominattion 2>> &lt;&lt;dshow r-1-0 ending-0 end>> &lt;&lt;/if>> &lt;&lt;/button>> &lt;/div> &lt;div class='choices' id='c-2'> &lt;&lt;button "Je veux voir si je peux lui faire confiance">> &lt;&lt;dunshow r-0-1 r-0-e c-2>> &lt;&lt;if $events.dream[1] > 2>> &lt;&lt;dshow r-1-1 c-2-0>> &lt;&lt;else>> &lt;&lt;blacked 2>> &lt;&lt;dshow r-1-1 ending-0 end>> &lt;&lt;/if>> &lt;&lt;/button>> &lt;&lt;button "Je ne peux pas laisser les choses aller plus loin !">> &lt;&lt;dunshow r-0-1 r-0-e c-2>> &lt;&lt;if $events.dream[1] > 2>> &lt;&lt;dshow r-1-0 c-1-0>> &lt;&lt;else>> &lt;&lt;courage 2>> &lt;&lt;dshow r-1-0 ending-0 end>> &lt;&lt;/if>> &lt;&lt;/button>> &lt;/div> &lt;div id='r-1-0'> &lt;&lt;a>> Tu arrives de moins en moins à te contenir... Presque contre ta volonté, tu te rélèves complètement, et tu parle d'une voix qui essaie d'être la plus claire possible. &lt;&lt;/a>> &lt;&lt;d mc>> Non je ne m'en fiche pas du tout. &lt;&lt;/d>> &lt;&lt;d gf>> $namemc mon bébé, je ne t'avais pas vu ! Je suis contente que tu sois là. &lt;&lt;/d>> &lt;&lt;a>> $nameb a senti le changement, il ne joue plus. &lt;&lt;/a>> &lt;&lt;d b>> Tu commences à me chauffer mange-merde. Je te dis de te coucher ! Continue de faire le malin et je t'atomise ! &lt;&lt;/d>> &lt;div class='choices' id='c-1-0'> &lt;&lt;button "Je... d'accord.">> &lt;&lt;dunshow r-1-0 c-1-0>> &lt;&lt;if $events.dream[1] > 3>> &lt;&lt;dshow r-2-0-1 c-3-1>> &lt;&lt;else>> &lt;&lt;humiliation 2>> &lt;&lt;dshow r-2-1 r-2-0-1 ending-0 end>> &lt;&lt;/if>> &lt;&lt;/button>> &lt;&lt;button "Refuser d'obéir !">> &lt;&lt;dunshow r-1-0 c-1-0>> &lt;&lt;if $events.dream[1] > 3>> &lt;&lt;dshow r-2-0 c-1-1>> &lt;&lt;else>> &lt;&lt;courage 2>> &lt;&lt;dshow r-2-0 ending-0 end>> &lt;&lt;/if>> &lt;&lt;/button>> &lt;/div> &lt;/div> &lt;div id="r-1-1"> &lt;&lt;a>> Tu ne réponds rien. Au fond de toi, tu n'as pas encore trouvé la force pour riposter. Ou alors, peut-être n'as tu tout simplement pas envie de riposter... &lt;&lt;/a>> &lt;&lt;a>> $namegf est dans un état secondaire, ne sachant pas quoi faire ni comment se comporter. Elle semble partagée entre plusieurs volontés, aucune n'arrivant à prendre l'ascendant sur les autres. &lt;&lt;/a>> &lt;&lt;d b>> Tu vois qu'il est d'accord. Il ''sait'' que c'est ce que tu veux vraiment au fond de toi. Il le sait, et il l'accepte. Alors laisse toi aller $namegf, laisse toi tenter... Approche. &lt;&lt;/d>> &lt;&lt;a>> A ta grande surprise, $namegf s'approche doucement de $nameb. Tu la vois s'approcher jusqu'à quelques centimètres de lui. &lt;&lt;/a>> &lt;&lt;t>> $namegf ! Qu'est-ce que tu fais ?! &lt;&lt;/t>> &lt;&lt;a>> Tu es toujours au pied de $nameb, et maintenant aux pieds de $namegf... Elle a une petite jupe courte qui tombe au dessus de ses genoux, et qui révèle les deux tiers de ses jambes. A la place où tu es, tu peux presque voir sous sa jupe. &lt;&lt;/a>> &lt;&lt;a>> $nameb continue de parler, et $namegf semble complètement hypnotisée. Tu vois les doigts sombres de $nameb effleurer la peau blanche de la cuisse de $namegf... &lt;&lt;/a>> &lt;div class='choices' id='c-2-0'> &lt;&lt;button "STOP !">> &lt;&lt;dunshow r-1-1 c-2-0>> &lt;&lt;if $events.dream[1] > 3>> &lt;&lt;dshow r-2-1-1 r-2-0 c-1-1>> &lt;&lt;else>> &lt;&lt;courage 2>> &lt;&lt;dshow r-2-1-1 r-2-0 ending-0 end>> &lt;&lt;/if>> &lt;&lt;/button>> &lt;&lt;button "Attendre encore un peu">> &lt;&lt;dunshow r-1-1 c-2-0>> &lt;&lt;if $events.dream[1] > 3>> &lt;&lt;dshow r-2-1 c-3-1>> &lt;&lt;else>> &lt;&lt;blacked 2>> &lt;&lt;dshow r-2-1 ending-0 end>> &lt;&lt;/if>> &lt;&lt;/button>> &lt;/div> &lt;/div> &lt;div id="r-2-1-1"> &lt;&lt;d mc>> ''NON, STOP ! Eloigne toi de $namegf !'' &lt;&lt;/d>> &lt;&lt;a>> Tu te lèves d'un bon. &lt;&lt;/a>> &lt;&lt;d b>> Reste couché toi ! &lt;&lt;/d>> &lt;/div> &lt;div id="r-2-0-1"> &lt;&lt;d mc>> Je... &lt;&lt;/d>> &lt;&lt;a>> Le regard intense de $nameb te déstabilise, tu baisses les yeux. Tu sens ta colère s'estomper complètement pour laisser la place à la résignation. &lt;&lt;/a>> &lt;&lt;d mc>> D'accord, désolé... &lt;&lt;/d>> &lt;&lt;d b>> Bien, on est au clair ? &lt;&lt;/d>> &lt;&lt;a>> Tu te remets accroupi aux pieds de $nameb en sentant son regard noir fixé sur toi. Une fois à ta place, il continue sa //discussion// avec $namegf. &lt;&lt;/a>> &lt;div class="choices"> &lt;&lt;button "Continuer d'écouter">> &lt;&lt;dunshow r-2-0-1>> &lt;&lt;dshow r-2-1>> &lt;&lt;/button>> &lt;/div> &lt;/div> &lt;div id="r-2-0"> &lt;&lt;a>> Tes poings sont serrés quand tu réponds. &lt;&lt;/a>> &lt;&lt;d mc>> J'ai dit que je refusais ! Alors ferme ta grande gueule ! &lt;&lt;/d>> &lt;&lt;t>> Ce fils de chien essaie de me voler ma meuf ! Je ne peux pas le laisser faire ! &lt;&lt;/t>> &lt;&lt;a>> Tu peux sentir la colère prendre possession de toi. Il t'a donné un ordre direct et tu l'as envoyé se faire foutre. &lt;&lt;/a>> &lt;&lt;a>> Tu te tournes vers $namegf. &lt;&lt;/a>> &lt;&lt;d mc>> Ne l'écoute pas bébé, tu sais que tu m'aimes ! Tu sais que... &lt;&lt;/d>> &lt;&lt;a>> Avant que tu aies le temps de terminer ta phrase, tu pressens un violent coup qui arrive dans ta direction. Le coup vient s'écraser sur ton visage. &lt;&lt;/a>> &lt;div class='choices' id='c-1-1'> &lt;&lt;button "L'esquiver">> &lt;&lt;dunshow r-2-0>> &lt;&lt;dshow r-3-0 c-1-2>> &lt;&lt;/button>> &lt;/div> &lt;/div> &lt;div id="r-2-1"> &lt;&lt;a>> La large main de $nameb est maintenant complètement posée sur la cuisse de $namegf, sous sa jupe. Ses doigts passent le long de sa cuisse, faisant remonter sa jupe et découvrir ses cuisses, de plus en plus haut. Tu peux parfois apercevoir le début du rebondi des fesses blanches de $namegf. Ses cuisses, ses fesses et son corps tout entier frissonnent sous les caresses. &lt;&lt;/a>> &lt;&lt;a>> Et $namegf, qu'attend-t-elle pour le rejeter ?! &lt;&lt;/a>> &lt;&lt;d b>> Voilà. C'est très bien, laisse toi aller. Tu vois, ça n'était pas compliqué. &lt;&lt;/d>> &lt;&lt;a>> $namegf est complètement absorbée par les sensations, et ne répond rien. Elle pousse un soupir incontrôlé quand $nameb vient prendre ses deux fesses entre ses mains et plaque ta copine contre lui. Tu as presque envie de pleurer en voyant $nameb, sous la robe de $namegf, prendre son cul à pleine main pour le malaxer avec vigueur. &lt;&lt;/a>> &lt;&lt;t>> Oh putain non !! &lt;&lt;/t>> &lt;&lt;a>> Mais rien n'aurait pu te préparer à ce que tu vois maintenant. Ton coeur ne fait qu'un bond en voyant... &lt;&lt;/a>> &lt;div class='choices' id='c-3-1'> &lt;&lt;button "Continue">> &lt;&lt;dunshow c-3-1 r-2-1>> &lt;&lt;dshow r-3-1>> &lt;&lt;/button>> &lt;/div> &lt;/div> &lt;div id="r-3-1"> &lt;&lt;a>> Tu as envie d'hurler à $namegf de te dire ce qu'elle est en train de faire. Depuis combien de temps fait-elle ça ? &lt;&lt;/a>> &lt;&lt;a>> Tu vois ta petite $namegf, habituellement si timide, regarder $nameb dans les yeux en caressant avec sa main une bosse bien dure dans son pantalon. Tu vois ses doigts passer doucement sur toute sa longueur, à quelques centimètres de ton visage. &lt;&lt;/a>> &lt;&lt;t>> $namegf, qu'est-ce que tu fais ?! &lt;&lt;/t>> &lt;&lt;a>> Tu as presque les larmes aux yeux. $nameb se tourne vers toi, un grand sourire sur les lèvres. &lt;&lt;/a>> &lt;&lt;d b>> Je vais la forcer à me donner tout ce que tu n'as jamais eu... &lt;&lt;/d>> &lt;div class='choices' id='c-3-2'> &lt;&lt;button "Tout arrêter">> &lt;&lt;dunshow c-3-2>> &lt;&lt;dshow c-3-2-1>> &lt;&lt;/button>> &lt;&lt;button "Continue">> &lt;&lt;dunshow r-3-1>> &lt;&lt;dshow r-4-1 ending-1 end>> &lt;&lt;pushevent b 7>> &lt;&lt;endevent b 8 1>> &lt;&lt;blacked 10>> &lt;&lt;/button>> &lt;/div> &lt;div id='c-3-2-1'> &lt;&lt;a>> C'est trop tard, tu n'as plus la volonté de résister. &lt;&lt;/a>> &lt;div class='choices'> &lt;&lt;button "Continue">> &lt;&lt;dunshow r-3-1>> &lt;&lt;dshow r-4-1 ending-1 end>> &lt;&lt;pushevent b 7>> &lt;&lt;pushevent mc 3>> &lt;&lt;pushevent mc 3>> &lt;&lt;endevent b 8 1>> &lt;&lt;humiliation 10>> &lt;&lt;/button>> &lt;/div> &lt;/div> &lt;/div> &lt;div id='r-4-1'> &lt;&lt;a>> Sans ménagement, $nameb ramène $namegf vers lui pour l'embrasser à pleine bouche. $namegf se laisse faire et semble même s'offrir à lui... La langue de ta copine se mélange à celle de $nameb sous tes yeux, et ils n'ont pas l'air de vouloir s'arrêter là. &lt;&lt;/a>> &lt;&lt;video data/b/dream/3.webm>> &lt;&lt;a>> La dernière image que tu vois, c'est $namegf écarter légèrement les cuisses pour laisser la grosse main de $nameb se glisser dans sa culotte. &lt;&lt;/a>> &lt;/div> &lt;div id="r-3-0"> &lt;&lt;a>> Au dernier moment, avec un geste plus proche du réflexe que de l'acte conscient, tu décales ton visage, et tu sens le poing puissant de $nameb venir fendre l'air à quelques centimètres de toi. &lt;&lt;/a>> &lt;&lt;a>> La colère a envahi chaque nerf de ton corps. $nameb est surpris, il présente ses paumes devant lui dans une posture défensive. &lt;&lt;/a>> &lt;&lt;video data/b/dream/2.webm>> &lt;&lt;d mc>> Espèce d'enculé, je vais t'écraser comme la pire des merdes... &lt;&lt;/d>> &lt;/div> &lt;div class='choices' id='c-1-2'> &lt;&lt;button "Lui écraser la gueule au sol">> &lt;&lt;unshow c-1-2>> &lt;&lt;show ending-1 end>> &lt;&lt;pushevent b 8>> &lt;&lt;pushevent mc 2>> &lt;&lt;pushevent mc 2>> &lt;&lt;endevent b 7 1>> &lt;&lt;courage 10>> &lt;&lt;/button>> &lt;/div> &lt;div id="ending-0"> &lt;hr> &lt;&lt;a>> Tu te réveilles en sursaut. Tu sens une goutte de sueur sur ton front. &lt;&lt;/a>> &lt;&lt;t>> Putain pourquoi je rêve de ça moi ? Jamais $namegf ne se salirait à lui parler. &lt;&lt;/t>> &lt;div class="choices" id="plugin-sleep"> &lt;&lt;button "Te lever">> &lt;&lt;include SCHOOL-2-5-5>> &lt;&lt;goto SIS-1-1-2>> &lt;&lt;/button>> &lt;/div> &lt;/div> &lt;div id="ending-1"> &lt;hr> &lt;&lt;a>> Tu te réveilles en sursaut. Tu es en sueur, et complètement essoufflé. &lt;&lt;/a>> &lt;&lt;t>> Ces rêves vont beaucoup trop loin... &lt;&lt;/t>> &lt;div class="choices" id="plugin-sleep"> &lt;&lt;button "Te lever">> &lt;&lt;include SCHOOL-2-5-5>> &lt;&lt;goto SIS-1-1-2>> &lt;&lt;/button>> &lt;/div> &lt;/div> &lt;&lt;unshow2 ending-0 ending-1>> &lt;&lt;unshow2 c-1 c-2 c-1-0 c-2-0 c-1-1 c-1-2>> &lt;&lt;unshow2 r-0-0 r-0-1 r-0-e r-1-0 r-1-1 r-2-0 r-2-1 r-2-0-1 r-2-1-1 r-3-1 r-3-0 c-3-1 c-3-2-1 r-4-1>> &lt;&lt;if $events.dream[1] == 1>> &lt;&lt;show2 ending-0>> &lt;&lt;unshow2 c-0>> &lt;&lt;/if>></tw-passagedata><tw-passagedata name=MACRO-0-7-5 position=9119,4468 size=100,100 tags=""pid=130>&lt;&lt;set _rand = random(10)>> &lt;&lt;fadein 4s>> &lt;&lt;if [0, 1].includes(_rand)>> &lt;&lt;video data/mc/dream/realityshow.webm>> &lt;&lt;a>> Tu rêves de la dernière émission télévisée que tu as regardé. &lt;&lt;/a>> &lt;&lt;elseif [2, 3].includes(_rand)>> &lt;&lt;a>> Tu passes une nuit apaisée, sans rêve ni cauchemar. &lt;&lt;/a>> &lt;&lt;else>> &lt;&lt;pushevent dream 3>> &lt;&lt;excitation 20>> &lt;&lt;set _dream = 'data/mc/dream/boobs1/' + random(11) + '.webm'>> &lt;&lt;a>> Ta nuit est remplie de rêves troubles. &lt;&lt;/a>> &lt;&lt;video _dream>> &lt;&lt;d mc>> Est-ce que rêver d'une autre fille, c'est tromper ? &lt;&lt;/d>> &lt;&lt;t>> Tais toi et profite... &lt;&lt;/t>> &lt;hr> &lt;&lt;a>> Tu te réveilles avec des images pleins la tête. T'as une grosse gaule dans ton caleçon. &lt;&lt;/a>> &lt;&lt;/if>> &lt;&lt;include GET-2-0-4>> &lt;&lt;/fadein>></tw-passagedata><tw-passagedata name=SBFR-2-6-2 position=2290,8478 size=100,100 tags=""pid=131>&lt;&lt;video data/mc/dream/insomnie.webm>> &lt;&lt;a>> Tu as beau changer de position, compter les moutons, te vider l'esprit, il n'y a rien à faire, le sommeil ne vient pas. Ton esprit est rempli de pensées érotiques que tu n'arrives pas à chasser. Ta main vient machinalement se poser sur ta queue bien dure qu'elle caresse doucement sur toute sa longueur. &lt;&lt;/a>> &lt;&lt;a>> Ton excitation est trop importante, tu n'arrives pas à t'apaiser pour dormir. Peut-être devrais tu trouver un moyen de soulager tes tensions... &lt;&lt;/a>> &lt;div class="choices"> [[Te lever|SIS-1-1-2]] &lt;/div></tw-passagedata><tw-passagedata name=SBFR-0-1-1 position=2615,565 size=100,100 tags=""pid=132>&lt;&lt;set _r = random(1)>> &lt;&lt;if $player.excitation >= 60>> &lt;&lt;include SBFR-2-6-2>> &lt;&lt;set _passDay = false>> &lt;&lt;elseif setup.isAchievementsAllDone() && setup.oneshot("endOfTheGameMessage")>> &lt;&lt;script>> Dialog.setup("End of the current content"); Dialog.wiki(Story.get("FBRO-0-6-3").processText()); Dialog.open(); &lt;&lt;/script>> &lt;&lt;pushevent dream 3>> &lt;&lt;excitation 20>> &lt;&lt;a>> Ta nuit est remplie de rêves troubles. &lt;&lt;/a>> &lt;&lt;video data/mc/dream/boobs1/5.webm>> &lt;hr> &lt;&lt;a>> Tu te réveilles avec des images pleins la tête. T'as une grosse gaule dans ton caleçon. &lt;&lt;/a>> &lt;&lt;include GET-2-0-4>> &lt;&lt;elseif setup.isGameDay(0)>> &lt;&lt;include BRO-2-7-1>> &lt;&lt;elseif setup.isGameDay(1)>> &lt;&lt;include MACRO-0-7-0>> &lt;&lt;elseif ($events.b[4] or $events.b[5]) && not $events.dream[0]>> &lt;&lt;pushevent dream 0>> &lt;&lt;include SCHOOL-2-7-5>> &lt;&lt;elseif $events.b[6] && !($events.dream[1] > 3) && _r == 0>> &lt;&lt;include LOOP-2-8-3>> &lt;&lt;else>> &lt;&lt;include MACRO-0-7-5>> &lt;&lt;/if>></tw-passagedata><tw-passagedata name=GET-2-0-4 position=9092,5123 size=100,100 tags=""pid=133>&lt;div class="choices" id="plugin-first-day"> [[Continuer|STORY-2-3-5]] &lt;/div> &lt;div class="choices" id="plugin-sleep"> &lt;&lt;button "Te lever">> &lt;&lt;include SCHOOL-2-5-5>> &lt;&lt;goto SIS-1-1-2>> &lt;&lt;/button>> &lt;/div> &lt;&lt;unshow2 plugin-first-day plugin-sleep>> &lt;&lt;if setup.isGameDay(0)>> &lt;&lt;show2 plugin-first-day>> &lt;&lt;else>> &lt;&lt;show2 plugin-sleep>> &lt;&lt;/if>></tw-passagedata><tw-passagedata name=SCHOOL-2-5-5 position=1754,8101 size=100,100 tags=""pid=134>&lt;&lt;set $day += 1>> &lt;&lt;for ; $engine.time.period != 0;>> &lt;&lt;nextPeriod>> &lt;&lt;/for>> &lt;&lt;run $date.setDate($date.getDate() + 1)>> /* Perte de savoir et de note à l'école si on ne travaille pas assez */ &lt;&lt;if $player.status.working > 0>> &lt;&lt;set $player.status.working -= 1>> &lt;&lt;/if>> &lt;&lt;if setup.isEvent("sm", 3) && not setup.isEvent("mc", 1)>> &lt;&lt;endevent mc 1>> &lt;&lt;/if>> &lt;&lt;script>> /* if (setup.sleepMin > 300) { setup.sleepMin -= 50; } if (setup.sleepMax &lt; 1000) { setup.sleepMax += 50; } */ &lt;&lt;/script>> /* Réduit de 1 jours tous les jobs avec une période de fired */ &lt;&lt;run setup.updateJobsFired()>> /* On réactive le réveil */ &lt;&lt;run setup.switch("iswakeup")>> /* Reset des évènements journalier */ &lt;&lt;run setup.dailyEventReset()>> /* On devient un peu plus sale */ &lt;&lt;stink 1>></tw-passagedata><tw-passagedata name=GET-0-0-1 position=3222,319 size=100,100 tags=""pid=135>&lt;style> #tutorial-wardrobe { background-color: green; border-radius: 4px; background-color: rgba(67, 97, 105, 0.3); padding-left: 8px; padding-top: 1px; padding-right: 21px; padding-bottom: 14px; } &lt;/style> &lt;&lt;image data/mc/chambre/armoire.jpg 100>> &lt;&lt;t>> Mon armoire, mes habits. &lt;&lt;/t>> &lt;div class='outfit-zone'> &lt;&lt;printClothes>> &lt;div class="dresser-zone"> &lt;div class="dresser-logo"> GlükenDruk Dresser &lt;/div> &lt;div class='dresser-image'> &lt;&lt;image3 data/mc/armoire/commode1.png>> &lt;/div> &lt;/div> &lt;div class='dresser-data'> &lt;&lt;printBag "wardrobe" 3 3 "commode1">> &lt;/div> &lt;/div> &lt;div id="outfitErrorZone"> &lt;/div> &lt;div id="tutorial-zone"> &lt;div id="tutorial-wardrobe"> &lt;&lt;d author>> Bienvenue dans le système de tenue ! :) Sur ta gauche, tu peux voir ce que tu as sur le dos: chapeau, haut, sous-vêtements, etc. Sur la droite, tu peux voir le contenu de ton armoire. Elle est un peu vide pour le moment: c'est normal, tu pourras acheter d'autres vêtements plus tard. Pour changer tes vêtements, fais glisser le tee-shirt bugs bunny sur le vieux pull de ta grand mère. Voilà ! C'est aussi simple que ça ! &lt;&lt;/d>> &lt;&lt;d author>> Chaque vêtement te donnera des bonus ou des malus. Tu pourras également compléter des tenues (c'est à dire porter tous les vêtements d'un même style) ce qui donnera des bonus supplémentaires, débloquera l'accès de certains lieux spéciaux, modifiera les réactions des gens autour de toi, etc. &lt;&lt;/d>> &lt;&lt;d author>> Note: les nouveaux vêtements sont en cours de création, ils arriveront dans les prochaines versions. &lt;&lt;/d>> &lt;&lt;button "Ne plus afficher ce tutorial">> &lt;&lt;replace "#tutorial-zone">> &lt;&lt;/replace>> &lt;&lt;run setup.turnOn("turnoff-tuto-wardrobe")>> &lt;&lt;/button>> &lt;/div> &lt;/div> &lt;div class="choices"> &lt;&lt;button "Fermer l'armoire">> &lt;&lt;set _checkOutfit = setup.checkOutfit()>> &lt;&lt;if _checkOutfit.length != 0>> &lt;&lt;replace "#outfitErrorZone">> &lt;&lt;t>> &lt;&lt;= _checkOutfit>> &lt;&lt;/t>> &lt;&lt;/replace>> &lt;&lt;else>> UInv.DeleteEventHandler("table", "Drop", "eventUpdateWardrobe", []); &lt;&lt;goto SIS-1-1-2>> &lt;&lt;/if>> &lt;&lt;/button>> &lt;/div> &lt;&lt;if setup.isTurnOn("turnoff-tuto-wardrobe")>> &lt;&lt;unshow2 tutorial-zone>> &lt;&lt;/if>> &lt;&lt;script>> UInv.AddEventHandler("table", "Drop", "eventUpdateWardrobe", []); &lt;&lt;/script>></tw-passagedata><tw-passagedata name=FBRO-2-3-0 position=8971,5767 size=100,100 tags=""pid=136>&lt;&lt;setColors reset>> &lt;&lt;ambiance stop>> &lt;div id="initial-image"> &lt;&lt;image data/places/home/home.jpg 100>> &lt;/div> &lt;div id="initial"> &lt;&lt;a>> Tu es chez toi. La maison est toujours parfaitement rangée. &lt;&lt;/a>> &lt;&lt;a>> Ou veux-tu aller ? &lt;&lt;/a>> &lt;div class="choices direction"> [[Monter dans ta chambre|SIS-1-1-2]] &lt;&lt;include MACRO-0-0-2>> &lt;&lt;if setup.isNight()>> &lt;&lt;button "Aller dans la chambre de ta $relationsm" after:female-1>> &lt;&lt;goto LOOP-0-7-3>> &lt;&lt;/button>> &lt;&lt;else>> &lt;&lt;button "Aller dans la chambre de ta $relationsm">> &lt;&lt;goto LOOP-0-7-3>> &lt;&lt;/button>> &lt;&lt;/if>> &lt;&lt;if setup.isNight() || setup.isAfternoon(2)>> &lt;&lt;button "Aller dans la chambre de ta $relationss" after:female-1>> &lt;&lt;goto LOOP-2-8-2>> &lt;&lt;/button>> &lt;&lt;else>> &lt;&lt;button "Aller dans la chambre de ta $relationss">> &lt;&lt;goto LOOP-2-8-2>> &lt;&lt;/button>> &lt;&lt;/if>> &lt;&lt;if setup.isMorning(0) && (setup.getGameDay() % 2 == 0) && setup.getGameDay() > 0>> &lt;&lt;button "Aller dans la salle de bain" STORY-0-4-0 before:bathroom after:female-1>> &lt;&lt;/button>> &lt;&lt;else>> &lt;&lt;button "Aller dans la salle de bain" STORY-0-4-0 before:bathroom>> &lt;&lt;/button>> &lt;&lt;/if>> &lt;&lt;if setup.isWeekend()>> &lt;hr> &lt;&lt;button "Aller en ville" SCHOOL-1-3-4 before:city>> &lt;&lt;/button>> &lt;&lt;/if>> &lt;&lt;if setup.isMorning() && setup.isWeek()>> &lt;hr> &lt;&lt;button "Aller à l'école" before:school>> &lt;&lt;if (!setup.isGameDay(0)) && (setup.getGameDay() % 7) == 4 && setup.event("bus", 2) &lt; 2>> &lt;&lt;goto DREAM-2-6-3>> &lt;&lt;elseif (setup.isEvent("b", 17)) && (!setup.isEvent("bus", 5))>> &lt;&lt;goto DREAM-2-6-3>> &lt;&lt;else>> &lt;&lt;goto SUB-1-4-3>> &lt;&lt;/if>> &lt;&lt;/button>> &lt;&lt;/if>> &lt;/div> &lt;/div> &lt;&lt;if setup.isGameDay(1) && setup.getFranc() == 0 && setup.isEvent('b', 1)>> &lt;&lt;include WIDGET-0-3-4>> &lt;&lt;unshow2 initial>> &lt;&lt;elseif setup.isEvent('b', 6) && setup.oneshot("needworkspeech")>> &lt;&lt;include BRO-2-5-2>> &lt;&lt;unshow2 initial initial-image>> &lt;&lt;elseif setup.isDay() && random(5) == 0>> &lt;&lt;if setup.dailyEvent("houseEventRandom")>> &lt;&lt;if random(1) == 0 && setup.isWearClothe("top1")>> &lt;&lt;include MOM-0-8-1>> &lt;&lt;show2 random1>> &lt;&lt;unshow2 initial>> &lt;&lt;elseif setup.isStink()>> &lt;&lt;include MOM-0-8-1>> &lt;&lt;show2 random2>> &lt;&lt;unshow2 initial>> &lt;&lt;crasseux>> &lt;&lt;/if>> &lt;&lt;/if>> &lt;&lt;/if>></tw-passagedata><tw-passagedata name=MOM-0-8-1 position=1278,7651 size=100,100 tags=""pid=137>&lt;&lt;humiliation 1>> &lt;div id="random1"> &lt;&lt;d ss>> Oh il est génial ton tshirt ! &lt;&lt;/d>> &lt;&lt;d mc>> Merci ! &lt;&lt;/d>> &lt;&lt;a>> Ta $relationss continue avec un petit sourire. &lt;&lt;/a>> &lt;&lt;d ss>> Tu es vraiment toute belle avec ça. :) &lt;&lt;/d>> &lt;&lt;t>> Heu... &lt;&lt;/t>> &lt;/div> &lt;div id="random2"> &lt;&lt;d ss>> Oh merde, c'est toi qui pues comme ça ?! &lt;&lt;/d>> &lt;&lt;d mc>> Hein ? &lt;&lt;/d>> &lt;&lt;d ss>> Me regarde pas comme ça, va te laver sale crasseux ! &lt;&lt;/d>> &lt;&lt;a>> Tu baisses la tête en rougissant. &lt;&lt;/a>> &lt;&lt;t>> Je devrais peut-être prendre une douche... &lt;&lt;/t>> &lt;/div> &lt;div class="choices" id="MOM-0-8-1-choices"> &lt;&lt;button Continuer>> &lt;&lt;dunshow random1 random2 MOM-0-8-1-choices>> &lt;&lt;dshow initial>> &lt;&lt;/button>> &lt;/div> &lt;&lt;unshow2 random1 random2>></tw-passagedata><tw-passagedata name=BFR-2-5-0 position=3859,163 size=100,100 tags=""pid=138>&lt;&lt;run setup.dailyEvent("breakfast")>> &lt;div id="BFR-2-5-0-initial"> &lt;&lt;a>> C'est ce moment que ta $relationss choisi pour arriver dans la cuisine en peignoire, une serviette sur la tête. &lt;&lt;/a>> &lt;&lt;d sm>> $namess ma chérie, je t'ai entendu crier, qu'est-ce qu'il s'est passé ? &lt;&lt;/d >> &lt;&lt;d ss>> A ton avis ! C'est ce ''pervers'' de $namemc qui m'a encore espionné dans la salle de bain... &lt;&lt;/d >> &lt;&lt;a>> $namess, malheureusement, est ta $relationss, et vit sous le même toit que toi. Elle a 2 ans de plus que toi et fait semblant de suivre des études à l'université pour devenir une "grande sociologue". &lt;&lt;/a>> &lt;&lt;a>> Ca te fait beaucoup rire. En fait, elle passe son temps à fumer de la beuh, à écouter du rap dans sa chambre, à zoner sur des sites de rencontres, à lire des magazines féminins, et à t'insulter... &lt;&lt;/a>> &lt;div class="choices" id="choice_1"> &lt;&lt;button "S'excuser">> &lt;&lt;pushevent ss 3>> &lt;&lt;humiliation 5>> &lt;&lt;dynamicunshow choice_1 BFR-2-5-0-initial>> &lt;&lt;dynamicshow ending r-1>> &lt;&lt;/button>> &lt;&lt;button "La provoquer">> &lt;&lt;pushevent ss 4>> &lt;&lt;whited 5>> &lt;&lt;dynamicunshow choice_1 BFR-2-5-0-initial>> &lt;&lt;dynamicshow ending r-2>> &lt;&lt;/button>> &lt;/div> &lt;/div> &lt;div id="r-1"> &lt;&lt;t>> Je n'ai pas envie de l'énerver davantage, et elle a raison, je me suis mal comporté... &lt;&lt;/t>> &lt;&lt;d mc>> Excuse moi $namess, je n'avais pas vu que tu étais en train de prendre ta douche. &lt;&lt;/d >> &lt;&lt;d ss>> Avec tout le bruit que ça fait ? Nan mais j'hallucine, tu veux faire croire ça à qui ? &lt;&lt;/d >> &lt;&lt;d mc>> Ca ne se reproduira pas. &lt;&lt;/d >> &lt;&lt;d ss>> T'as intérêt, prochaine fois je te coupe les couilles, entendu petite bite ? &lt;&lt;/d >> &lt;&lt;a>> $namesm poussa un soupir de désespoir devant cette scène... &lt;&lt;/a>> &lt;/div> &lt;div id="r-2"> &lt;&lt;d mc>> Ne fais pas genre $namess. Tu ne verrouilles pas la porte de la salle de bain, on sait tous pourquoi... Je me suis fait avoir, c'est tout. &lt;&lt;/d >> &lt;&lt;a>> Tu entends de la colère dans sa voix. &lt;&lt;/a>> &lt;&lt;d ss>> Tu insinues que j'avais ''envie'' que tu me vois ?! Nan mais il est complètement fou j'hallucine ! &lt;&lt;/d >> &lt;&lt;d mc>> C'est une évidence. &lt;&lt;/d >> &lt;&lt;d ss>> Espèce de pervers dégueulasse, tu peux être sur que ça ne se reproduira plus ! &lt;&lt;/d >> &lt;&lt;a>> $namesm poussa un soupir de désespoir devant cette scène... &lt;&lt;/a>> &lt;/div> &lt;&lt;unshow2 BFR-2-5-0-initial ending r-1 r-2>></tw-passagedata><tw-passagedata name=INDEX-0-4-4 position=8757,6386 size=100,100 tags=""pid=139>&lt;&lt;run setup.dailyEvent("breakfast")>> &lt;div id="init"> &lt;&lt;a>> En frottant une assiette, ta $relationsm te demande. &lt;&lt;/a>> &lt;&lt;d sm>> Et à l'école, tout se passe comme tu veux ? Tes amis vont bien ? &lt;&lt;/d>> &lt;&lt;a>> Ta $relationss, qui vient juste de faire son apparition dans l'encadrure de la porte, répond à ta place. &lt;&lt;/a>> &lt;&lt;d ss>> Il a des amis ce branleur ? Qui accepte de traîner avec un blaireau pareil ? &lt;&lt;/d>> &lt;/div> &lt;div class="choices" id="choice1"> &lt;&lt;button "Bien sûr que si j'en ai !">> &lt;&lt;pushevent ss 3>> &lt;&lt;blacked 5>> &lt;&lt;dunshow init choice1 SBFR-0-8-2-initial mother-speak>> &lt;&lt;dshow res1 ending>> &lt;&lt;/button>> &lt;&lt;button "La remettre à sa place">> &lt;&lt;pushevent ss 4>> &lt;&lt;whited 5>> &lt;&lt;dunshow init choice1 SBFR-0-8-2-initial mother-speak>> &lt;&lt;show res2 ending>> &lt;&lt;/button>> &lt;/div> &lt;div id="res1"> &lt;&lt;d mc>> Bien sûr que si j'ai des amis ! &lt;&lt;/d >> &lt;&lt;d ss>> Ah ouais, et tu peux bien me dire qui ? &lt;&lt;/d>> &lt;&lt;a>> Tu cherches désespérement un nom à donner, mais aucun ne te vient à l'esprit. Puis finalement... &lt;&lt;/a>> &lt;&lt;d mc>> Il y a $namebf ! &lt;&lt;/d>> &lt;&lt;t>> Bon, je ne l'ai vu qu'une fois, et je ne suis pas certain de le revoir, mais, hey, il m'a invité chez lui, ça compte non ? &lt;&lt;/t>> &lt;&lt;a>> $namess laisse filer un petit rire aigüe. &lt;&lt;/a>> &lt;&lt;d ss>> $namebf ! Nan mais j'hallucine ! Tu parles bien DU $namebf, ce weirdo que tout le monde fuit ? Ne me dis pas que tu traînes avec lui... Franchement à part me faire honte tu sers à quoi ? &lt;&lt;/d>> &lt;&lt;d sm>> $namess, sois gentille avec $namemc s'il te plait. &lt;&lt;/d>> &lt;/div> &lt;div id="res2" style="display: none"> &lt;&lt;d mc>> Va plutôt faire quelques squats toi. C'est pas avec ton cul flasque que tu vas réussir à te trouver quelqu'un. &lt;&lt;/d >> &lt;&lt;d ss>> Nan mais j'hallucine ! Espèce de connard ! Je suis une femme indépendante et je vais devenir une grande sociologue, je n'ai besoin de personne ! &lt;&lt;/d >> &lt;&lt;d mc>> Ah ouais ? Tu crois que je ne te vois pas sur instagram à taguer toutes les starlettes dans l'espoir de te faire réperer ? &lt;&lt;/d >> &lt;&lt;d ss>> Mdr ! Tu crois quoi toi ? Une meuf comme moi se fait repérer quand elle veut. Mais comment tu pourrais comprendre avec ta dégaine de fillette anorexique. &lt;&lt;/d >> &lt;&lt;t>> Quelle sale menteuse, je fais bien plus que 40 kilos... &lt;&lt;/t>> &lt;&lt;d sm>> $namess ! $namemc ! Ca suffit ! &lt;&lt;/d >> &lt;&lt;d ss>> De toutes façons j'allais me tirer, ce merdeux m'a saoulé. &lt;&lt;/d >> &lt;&lt;a>> Ta $relationss s'en va, claquant la porte en sortant. &lt;&lt;/a>> &lt;/div> &lt;&lt;unshow2 res1 res2 ending>></tw-passagedata><tw-passagedata name=WIDGET-2-4-2 position=873,7136 size=100,100 tags=""pid=140>&lt;div class="choices" id="b-1"> &lt;&lt;button "Matter son cul">> &lt;&lt;pushevent sm 1>> &lt;&lt;pushevent sm 2>> &lt;&lt;excitation 10>> &lt;&lt;set $person.sm.spykitchen += 1>> &lt;&lt;show r-1 ending>> &lt;&lt;unshow b-1>> &lt;&lt;/button>> &lt;/div> &lt;div id="r-1"> &lt;&lt;a>> Tu regardes ta $relationsm nettoyer la cuisine du coin de l'oeil. Son cul colossal fait des mouvements hypnotiques de gauche à droite quand elle frotte. &lt;&lt;/a>> &lt;&lt;video data/sm/1.webm>> &lt;&lt;a>> Tu viens machinalement poser ta main sur ton jean. Après quelques minutes, ta $relationsm se retourne et te sort de tes rêveries. &lt;&lt;/a>> &lt;&lt;d sm>> $namemc, tu fais quoi ? Dépèche toi tu vas être en retard ! &lt;&lt;/d >> &lt;&lt;t>> Mh. Je devrais faire un peu plus attention. &lt;&lt;/t>> &lt;&lt;include VRT-0-0-3>> &lt;/div> &lt;&lt;unshow2 r-1>></tw-passagedata><tw-passagedata name=DOM-2-3-2 position=4511,101 size=100,100 tags=""pid=141>&lt;&lt;pushevent sm 4>> &lt;div id="s1"> &lt;&lt;a>> Ta $relationss prend son petit-déjeuner en face de toi. Comme tous les matins, elle est sur son téléphone, complètement fermée au monde extérieur. &lt;&lt;/a>> &lt;&lt;d sm>> $namess ? &lt;&lt;/d>> &lt;&lt;qbutton "Continuer" out:s1 out:SBFR-0-8-2-initial out:initial-image out:mother-speak in:s2>> &lt;/div> &lt;div id="s2"> &lt;&lt;a>> $namess répond par un grognement sans lever son nez du téléphone. &lt;&lt;/a>> &lt;&lt;d sm>> Dis moi, c'est toi qui es passée dans ma chambre récemment ? &lt;&lt;/d>> &lt;&lt;a>> Ton coeur ne fait qu'un bond dans ta poitrine. Tu essaies de continuer de mâcher tes céréales d'un air cool. &lt;&lt;/a>> &lt;&lt;d ss>> Mh. &lt;&lt;/d>> &lt;&lt;d sm>> Tu sais que si tu as besoin de vêtements tu peux me demander ? &lt;&lt;/d>> &lt;&lt;d ss>> Mh. &lt;&lt;/d>> &lt;&lt;d sm>> C'est important de respecter l'intimité de chacun, surtout quand on vit sous le même toit. &lt;&lt;/d>> &lt;&lt;qbutton "Mh ?" out:s2 in:s3 in:ending>> &lt;/div> &lt;div id="s3"> &lt;&lt;d ss>> Mh. &lt;&lt;/d>> &lt;&lt;d sm>> Si tout le monde n'en fait qu'à sa tête, alors on ne s'en sort plus ! &lt;&lt;/d>> &lt;&lt;d ss>> Mh. &lt;&lt;/d>> &lt;&lt;d sm>> Et ça devient vite la guerre. Bref, invivable ! &lt;&lt;/d>> &lt;&lt;d ss>> Mh. &lt;&lt;/d>> &lt;&lt;d sm>> Je suis heureuse que tu sois si compréhensive. &lt;&lt;/d>> &lt;&lt;d ss>> Mh. &lt;&lt;/d>> &lt;&lt;t>> Ouch. J'ai eu chaud. Je n'ai pas du faire assez attention... Je vais éviter d'y retourner, c'est trop risqué. &lt;&lt;/t>> &lt;&lt;if not $events.mc[1]>> &lt;&lt;endevent mc 4 1>> &lt;&lt;unshow2 opt1>> &lt;&lt;/if>> &lt;div id="opt1"> &lt;&lt;a>> Tu repenses à la culotte que tu as pris par mégarde. &lt;&lt;/a>> &lt;&lt;t>> Il faudra que je la cache bien. Je ne vais pas pouvoir la ramener, c'est trop risqué. &lt;&lt;/t>> &lt;/div> &lt;/div> &lt;&lt;unshow2 s2 s3 ending>></tw-passagedata><tw-passagedata name=SBFR-0-8-2 position=8456,6968 size=100,100 tags=""pid=142>&lt;&lt;if not setup.isEvent("ss", 1)>> &lt;&lt;pushevent ss 2>> &lt;&lt;/if>> &lt;div id="initial-image"> &lt;&lt;image data/places/petitdej.jpg 60>> &lt;/div> &lt;div id="SBFR-0-8-2-initial"> &lt;&lt;a>> Tu rentres dans la cuisine. Une odeur magique de pain chaud et de café lèchent tes narines. $namesm a même été chercher les croissants. &lt;&lt;/a>> &lt;&lt;d sm>> Salut mon chou, tu as bien dormi ? &lt;&lt;/d >> &lt;&lt;d mc>> Oui très bien merci. &lt;&lt;/d>> &lt;/div> &lt;&lt;if !setup.isGameDay(0)>> &lt;&lt;unshow2 mother-presentation>> &lt;&lt;/if>> &lt;div id="mother-presentation"> &lt;&lt;a>> Cette femme qui te prépare d'excellents petit-déjeuners et qui te parle avec une voie douce et bienveillance, c'est $namesm, ta $relationsm. &lt;&lt;/a>> &lt;&lt;a>> $namesm passe sa vie entre son travail de RH dans une grande société bien installée et l'entretien de son foyer qu'elle prend très à coeur. Elle est dépressive depuis que son ex-mari l'a lâchement abandonné il y a plus de 6 ans, et tu l'entends parfois pleurer quand elle est seule le soir, dans sa chambre. &lt;&lt;/a>> &lt;/div> &lt;div id="mother-speak"> &lt;&lt;a>> $namesm discute 2 minutes avec toi de la pluie et du beau temps, avant de retourner à ses tâches ménagères matinales. &lt;&lt;/a>> &lt;/div> &lt;&lt;if setup.isGameDay(0) && setup.oneshot("firstBreakfastEvent")>> &lt;div class="choices" id="breakfast-day-one-continue"> &lt;&lt;button "Tu entends du bruit à la porte">> &lt;&lt;dynamicunshow mother-speak mother-presentation SBFR-0-8-2-initial breakfast-day-one-continue>> &lt;&lt;dynamicshow BFR-2-5-0-initial>> &lt;&lt;/button>> &lt;/div> &lt;&lt;include "BFR-2-5-0">> &lt;&lt;elseif (setup.getGameDay() % 2 == 1)>> &lt;&lt;if setup.getGameDay() > 1 && setup.oneshot("secondBreakfastEvent")>> &lt;&lt;include "INDEX-0-4-4">> &lt;&lt;elseif setup.isEvent("sm", 3) and not setup.isEvent("sm", 4)>> &lt;&lt;include "DOM-2-3-2">> &lt;&lt;else>> &lt;&lt;include WIDGET-2-4-2>> &lt;&lt;/if>> &lt;&lt;else>> &lt;&lt;include WIDGET-2-4-2>> &lt;&lt;/if>> &lt;div id="ending"> &lt;&lt;a>> Tu termines ton petit-déjeuner et tu te prépares à partir. &lt;&lt;/a>> &lt;div class="choices"> [[Quitter la cuisine|FBRO-2-3-0]] &lt;/div> &lt;/div></tw-passagedata><tw-passagedata name=LOOP-0-2-2 position=547,6568 size=100,100 tags=""pid=143>&lt;div id='LOOP-0-2-2'> &lt;&lt;image data/places/home/kitchen/kitchen.jpg 100>> &lt;&lt;t>> La cuisine est vide... &lt;&lt;/t>> &lt;div class="choices"> [[Quitter la cuisine|FBRO-2-3-0]] &lt;/div> &lt;/div> &lt;div id='mother-diner-initial'> &lt;&lt;image data/places/home/kitchen/kitchen.jpg 100>> &lt;&lt;d sm>> Qu'est-ce que je peux faire pour toi mon chéri ? &lt;&lt;/d>> &lt;div class="choices"> [[Quitter la cuisine|FBRO-2-3-0]] &lt;/div> &lt;/div> &lt;&lt;if setup.isAfternoon(2)>> &lt;&lt;unshow2 LOOP-0-2-2>> &lt;&lt;else>> &lt;&lt;unshow2 mother-diner-initial>> &lt;&lt;/if>></tw-passagedata><tw-passagedata name=MACRO-0-0-2 position=5165,134 size=100,100 tags=""pid=144>&lt;&lt;if setup.isMorning(0) && !setup.isDailyEvent("breakfast")>> &lt;&lt;if (setup.getGameDay() % 2 == 1)>> &lt;&lt;button "Aller dans la cuisine" before:kitchen after:female-2>> &lt;&lt;goto SBFR-0-8-2>> &lt;&lt;run setup.dailyEvent("breakfast")>> &lt;&lt;/button>> &lt;&lt;else>> &lt;&lt;button "Aller dans la cuisine" before:kitchen after:female-1>> &lt;&lt;goto SBFR-0-8-2>> &lt;&lt;run setup.dailyEvent("breakfast")>> &lt;&lt;/button>> &lt;&lt;/if>> &lt;&lt;elseif setup.isAfternoon(2)>> &lt;&lt;button "Aller dans la cuisine" before:kitchen after:female-1>> &lt;&lt;goto LOOP-0-2-2>> &lt;&lt;/button>> &lt;&lt;else>> &lt;&lt;button "Aller dans la cuisine" before:kitchen>> &lt;&lt;goto LOOP-0-2-2>> &lt;&lt;/button>> &lt;&lt;/if>></tw-passagedata><tw-passagedata name=WIDGET-0-3-4 position=8074,7500 size=100,100 tags=""pid=145>&lt;div id="s1"> &lt;&lt;a>> Tu arrives chez toi. En rentrant, tu sens une bonne odeur de ratatouille. Tu entends ta $relationsm crier depuis la cuisne. &lt;&lt;/a>> &lt;&lt;d sm>> Ah $namemc mon chéri tu es rentré ! Comment s'est passée ta journée ? Tu t'es amusé ? &lt;&lt;/d>> &lt;&lt;d mc>> Oui, c'était génial. &lt;&lt;/d>> &lt;&lt;d sm>> Et $namegf, comment elle va ? Tu as pensé à... &lt;&lt;/d>> &lt;&lt;d mc>> J'ai du travail, je monte. Ne m'attendez pas pour manger. &lt;&lt;/d>> &lt;&lt;d sm>> Ah, d'accord, comme tu veux. &lt;&lt;/d>> &lt;div class="choices" id="c1"> &lt;&lt;button "Monter à l'étage">> &lt;&lt;dunshow s1>> &lt;&lt;dshow s2>> &lt;&lt;/button>> &lt;/div> &lt;/div> &lt;div id="s2"> &lt;&lt;a>> Tu rentres dans ta chambre, tu fermes la porte, tu la verrouilles à double tour. Tu enlèves tes chaussures, et tu t'effondres sur le lit. Enfin... Enfin ! Tu es en sécurité. Enfin, tu peux souffler. &lt;&lt;/a>> &lt;&lt;d mc>> Tout ira bien... Hein ? &lt;&lt;/d>> &lt;&lt;a>> La vérité, c'est que rien ne va bien. La vérité, c'est que tu t'es fait frapper en public. La vérité, c'est que tu n'as aucune idée de comment tu vas t'en sortir. La vérité, c'est que ça fait des semaines que tu angoisses en attendant ce moment. Ce moment où tu n'aurais plus de quoi payer. Ca fait des semaines que tu te lèves avec l'estomac noué, que tu prends le bus avec une boule au ventre, et que tu en fais des putains de cauchemars la nuit. &lt;&lt;/a>> &lt;&lt;a>> Aujourd'hui, c'est la première fois qu'il te frappe réellement... Et tu n'as surtout pas envie que ça recommence. Tu as réussi à garder un semblant de dignité avec $namebf, avec $namegf, mais ce fut au prix de grands efforts. &lt;&lt;/a>> &lt;&lt;d mc>> $namemc, t'es dans la merde. &lt;&lt;/d>> &lt;&lt;t>> Tu ES une merde. &lt;&lt;/t>> &lt;div class="choices" id="c1"> &lt;&lt;button "Se détendre">> &lt;&lt;dunshow s2>> &lt;&lt;dshow s3>> &lt;&lt;/button>> &lt;/div> &lt;/div> &lt;div id="s3"> &lt;&lt;a>> Tu fermes les yeux, et tu restes sur ton lit, la tête vide, à ne surtout rien penser. Après une bonne dizaine de minutes, tu décides qu'il faut te bouger. &lt;&lt;/a>> &lt;&lt;t>> De l'argent ! Il faut que je trouve de l'argent. Je n'ai pas le choix. C'est ma priorité. &lt;&lt;/t>> &lt;&lt;a>> Tu avais surpris une conversation entre $namesm et une de ses soeurs. Elle parlait d'une petite boite cachée dans sa chambre dans laquelle elle avait mis un peu d'argent. En cas d'urgence. Il faudrait peut être que j'aille vérifier. &lt;&lt;/a>> &lt;&lt;a>> $namesm doit être en bas avec $namess en train de manger, c'est le moment. &lt;&lt;/a>> &lt;div class="choices" id="c1"> &lt;&lt;button "En profiter pour se rendre dans sa chambre" VRT-0-6-3 before:nextInstant>> &lt;&lt;/button>> &lt;/div> &lt;/div> &lt;&lt;unshow2 s2 s3>></tw-passagedata><tw-passagedata name=VRT-0-6-3 position=306,5958 size=100,100 tags=""pid=146>&lt;&lt;nextInstant>> &lt;&lt;image data/places/home/smroom/room.jpg 100>> &lt;&lt;a>> Tu arrives devant la porte de sa chambre. Ca va être la première fois que tu rentres dedans. Tu poses ta main sur la clanche, et tu restes quelques secondes avec le métal froid sur ta paume. Tu es presque surpris qu'il ne se passe rien... Mais en même temps tu t'attendais à quoi, l'activation d'un sceau magique ? &lt;&lt;/a>> &lt;&lt;a>> Tu es rentré. La chambre de ta $relationsm est remplie d'une douce odeur féminine. Sa chambre est parfaitement rangée, même le lit est fait. Devant toi au milieu de la pièce trône le grand lit double. A sa droite, il y a une commode surmontée d'un large miroir et sur laquelle est posée toutes sortes de bibelots. A gauche du lit, il y a un bureau simple avec une chaise. &lt;&lt;/a>> &lt;&lt;t>> Bon aller, faut que je fasse vite ! &lt;&lt;/t>> &lt;div class="choices"> &lt;div id="select-lit"> &lt;&lt;button "Regarder sous le lit">> &lt;&lt;dunshow bureau commode>> &lt;&lt;dshow lit>> &lt;&lt;/button>> &lt;/div> &lt;div id="select-bureau"> &lt;&lt;button "Fouiller le bureau">> &lt;&lt;dunshow lit commode>> &lt;&lt;dshow bureau>> &lt;&lt;/button>> &lt;/div> &lt;div id="select-commode"> &lt;&lt;button "Ouvrir les tiroirs de la commode">> &lt;&lt;dunshow lit bureau>> &lt;&lt;dshow commode>> &lt;&lt;/button>> &lt;/div> &lt;/div> &lt;div id="lit"> &lt;&lt;a>> Tu regardes sous le lit, il n'y a rien du tout. Tu passes un doigt sur le parquet : pas une fibre de poussière. &lt;&lt;/a>> &lt;&lt;t>> Quelle fée du logis ! &lt;&lt;/t>> &lt;/div> &lt;div id="bureau"> &lt;&lt;a>> Il y a deux tiroirs, un sur la gauche, un sur la droite. &lt;&lt;/a>> &lt;&lt;a>> Dans le premier tiroir, tu ne trouves que des documents, des factures, un ciseaux et deux stylos. &lt;&lt;/a>> &lt;&lt;t>> Ce ciseaux me sera utile si je veux trucider $namess. &lt;&lt;/t>> &lt;&lt;a>> Tu essaies d'ouvrir le second tiroir, mais quelque chose le bloque. Tu t'accroupis pour regarder d'où vient le problème, et tu vois une petite serrure ornée permettant d'insérer une clé que tu devines fine. Tu fouines partout autour à la recherche de cette clé mais, hey, évidemment, tu n'en vois aucune. Tu abandonnes. &lt;&lt;/a>> &lt;/div> &lt;div id="commode"> &lt;&lt;a>> La commode a trois larges tiroir. &lt;&lt;/a>> &lt;&lt;a>> Tu tires tout doucement le premier. Tu es heureux de constater que les roulements sont bien entretenus : ça ne fait aucun bruit. Malheureusement tu ne trouves rien d'intéressant, ce ne sont que les habits de tous les jours de ta $relationsm. Rien non plus dans le second. Par contre, le troisième attire ton attention. &lt;&lt;/a>> &lt;&lt;a>> Ce sont les affaires un peu plus... privées de $namess. Le tiroir est rempli de sous vêtements. Tu es surpris en voyant son contenu. Il n'y a pas seulement des culottes et des soutiens-gorges, mais tu vois également toutes sortes de lingeries plus coquines. Des strings, de la dentelle, des porte-jarretelles, des nuisettes, et même de fines robes moulantes. Il y a du rose, du noir, du violet. Jamais tu n'as vu $namesm porter ça... &lt;&lt;/a>> &lt;&lt;a>> Et dans le coin, tu vois une petite boite en bois. Tu la prends et tu l'ouvres. &lt;&lt;/a>> &lt;&lt;d mc>> Bingo ! &lt;&lt;/d>> &lt;&lt;a>> Dans la petite boite, tu trouves une petite liasse de billet. &lt;&lt;/a>> &lt;div class="choices" id="bouton-prendre-money"> &lt;&lt;button "Prendre l'argent">> &lt;&lt;show bouton-prendre-culotte>> &lt;&lt;unshow bouton-prendre-money>> &lt;&lt;franc 140>> &lt;&lt;pushevent sm 3>> &lt;&lt;/button>> &lt;/div> &lt;div id="bouton-prendre-culotte"> &lt;&lt;a>> Tu en prends quelques uns et tu reposes la boîte exactement au même endroit. Tu allais fermer quand une lingerie attire ton attention. Tu hésites. &lt;&lt;/a>> &lt;div class="choices"> &lt;&lt;button "Examiner une culotte">> &lt;&lt;show prendre-culotte>> &lt;&lt;unshow bouton-prendre-culotte>> &lt;&lt;excitation 5>> &lt;&lt;/button>> [[Quitter la chambre|SIS-1-1-2]] &lt;/div> &lt;/div> &lt;div id="prendre-culotte"> &lt;&lt;image data/mc/armoire/underware2.png 50 noborder>> &lt;&lt;a>> Tu prends une culotte dans tes mains. C'est une petite culotte rose en coton avec des points noirs dessus... &lt;&lt;/a>> &lt;&lt;t>> Wow... Elle est douce. &lt;&lt;/t>> &lt;&lt;a>> Tu passes tes doigts sur la face interne... L'idée que ce que tu touches a été en contact avec... l'intimité de $namesm, ça te procure une sensation étrange... &lt;&lt;/a>> &lt;div class="choices" id="bouton-sentir-culotte"> &lt;&lt;button "Sentir son odeur">> &lt;&lt;show sentir-culotte>> &lt;&lt;unshow bouton-sentir-culotte>> &lt;&lt;blacked 1>> &lt;&lt;excitation 10>> &lt;&lt;/button>> [[Quitter la chambre|SIS-1-1-2]] &lt;/div> &lt;/div> &lt;div id="sentir-culotte"> &lt;&lt;a>> Sans réfléchir, tu portes à ton nez le petit carré de tissu en contact avec sa fleur, et tu prends une profonde inspiration. Ca sent la lessive. &lt;&lt;/a>> &lt;div class="choices" id="bouton-voler-culotte"> &lt;&lt;button "Mettre la culotte dans ta poche">> &lt;&lt;unshow bouton-voler-culotte>> &lt;&lt;show voler-culotte>> &lt;&lt;blacked 5>> &lt;&lt;pushevent mc 1>> &lt;&lt;set UInv.AddItem("wardrobe", "underware2")>> &lt;&lt;/button>> [[Quitter la chambre|SIS-1-1-2]] &lt;/div> &lt;/div> &lt;div id="voler-culotte"> &lt;&lt;a>> Soudainement, tu te figes. Tu viens d'entendre du bruit dans les escaliers. Probablement ta $relationss qui remonte. Machinalement, tu mets ce que tu tiens dans les mains dans ta poche, tu refermes le tiroir sans un bruit, et tu te diriges vers la porte. &lt;&lt;/a>> &lt;div class="choices" id="bouton-voler-culotte"> [[Retourner dans ta chambre|SIS-1-1-2]] &lt;/div> &lt;/div> &lt;/div> &lt;&lt;unshow2 lit bureau commode prendre-culotte sentir-culotte voler-culotte bouton-prendre-culotte>></tw-passagedata><tw-passagedata name=LOOP-0-7-3 position=5808,262 size=100,100 tags=""pid=147>&lt;div id="night"> &lt;&lt;image data/places/closedoor.jpg 100>> &lt;&lt;a>> La porte est fermée. Tu crois entendre la respiration cadencée de ta $relationsm qui dort. Tu fais demi-tour à petits pas pour ne pas la réveiller. &lt;&lt;/a>> &lt;/div> &lt;div id="day"> &lt;&lt;image data/places/home/smroom/room.jpg 100>> &lt;&lt;t>> $namesm n'est pas ici. &lt;&lt;/t>> &lt;/div> &lt;&lt;d author>> Il n'y a rien à voir ici pour le moment. Le contenu arrive très prochainement :) &lt;&lt;/d>> &lt;div class="choices"> [[Retourner dans la maison|FBRO-2-3-0]] &lt;/div> &lt;&lt;if setup.isNight()>> &lt;&lt;unshow2 day>> &lt;&lt;else>> &lt;&lt;unshow2 night>> &lt;&lt;/if>></tw-passagedata><tw-passagedata name=LOOP-2-8-2 position=7619,7972 size=100,100 tags=""pid=148>&lt;div id="night"> &lt;&lt;image data/places/closedoor.jpg 100>> &lt;&lt;a>> La porte est fermée à clef. Derrière, tu entends $namess écouter le dernier clip de rap à la mode, et une forte odeur de beuh passe à travers la porte. &lt;&lt;/a>> &lt;/div> &lt;div id="day"> &lt;&lt;image data/places/home/ssroom/room.jpg 100>> &lt;&lt;t>> La chambre de $namess. Je n'ai pas le droit d'être ici... &lt;&lt;/t>> &lt;/div> &lt;&lt;d author>> Il n'y a rien à voir ici pour le moment. Le contenu arrive très prochainement :) &lt;&lt;/d>> &lt;div class="choices"> [[Retourner dans la maison|FBRO-2-3-0]] &lt;/div> &lt;&lt;if setup.isAfternoon(2) || setup.isNight()>> &lt;&lt;unshow2 day>> &lt;&lt;else>> &lt;&lt;unshow2 night>> &lt;&lt;/if>> /* - Obliger à penser à toi chaque fois qu'elle jouit - L'obligé à se masturber sans qu'elle ne puisse jouir => après l'avoir laissé mijoter, lui dire qu'elle ne peut jouir qu'avec toi, ce qui provoque un orgasme extrêmement intense - Elle peut se plaindre et gémir tant qu'elle veut, tout ce qu'elle aura, c'est qu'il la fera attendre plus longtemps avant son prochain orgasme. */</tw-passagedata><tw-passagedata name=BFR-0-8-0 position=156,5320 size=100,100 tags=""pid=149>&lt;&lt;a>> La fonction de sauvegarde est disponible dans ta chambre, le soir, quand tu regardes sous ton lit. &lt;&lt;/a>> &lt;&lt;a>> Cette limitation est due à des problèmes techniques. Elle est temporaire et sera levée dès que possible. &lt;&lt;/a>></tw-passagedata><tw-passagedata name=WIDGET-0-2-5 position=6425,481 size=100,100 tags=""pid=150>&lt;&lt;for ; !setup.isAfternoon(1);>> &lt;&lt;nextInstant>> &lt;&lt;/for>> &lt;&lt;if $events.place[1] >= 1 && $events.place[1] &lt; 3>> &lt;&lt;pushevent place 1>> &lt;&lt;/if>> &lt;&lt;for _i to 0; _i lt $study.length; _i++>> &lt;&lt;set _t = "&lt;&lt;nothing-translate>>Aujourd'hui, nous étudierons " + $study[_i] + ".&lt;&lt;/nothing-translate>>">> &lt;&lt;= _t>> &lt;&lt;/for>> &lt;&lt;set _select = $study.random()>> &lt;&lt;set _randomStudy = "&lt;&lt;d teacher>>Aujourd'hui, nous étudierons " + _select + ".&lt;&lt;/d>>">> &lt;&lt;if setup.isGameDay(0)>> &lt;&lt;unshow2 base>> &lt;&lt;else>> &lt;&lt;unshow2 init>> &lt;&lt;/if>> &lt;div id="init"> &lt;&lt;a>> Arrivé devant la porte de ta classe, tu fais un signe de la main à $namegf qui continue son chemin pour se rendre quelques salles plus loin, dans la sienne. &lt;&lt;/a>> &lt;hr> &lt;/div> &lt;div id="base"> &lt;&lt;a>> Tu arrives pile au début du cours. &lt;&lt;/a>> &lt;hr> &lt;/div> &lt;&lt;image data/places/school/teacher.jpg>> &lt;&lt;a>> Tu rentres en classe avec un peu de retard. Ta prof, Madame Mcdonaldgall, baisse avec deux doigts ses fines lunettes sur son nez pour te fixer d'un air sévère. Elle ne te quitte pas des yeux jusqu'à ce que tu sois installé sur ta chaise. &lt;&lt;/a>> &lt;&lt;d teacher>> Bien, nous pouvons commencer. &lt;&lt;/d>> &lt;&lt;a>> Elle se retourne pour marquer au tableau le sujet du jour. &lt;&lt;/a>> _randomStudy &lt;&lt;t>> Oh putain de merde... &lt;&lt;/t>> &lt;&lt;d teacher>> $namemc ! Tiens ton langage ! &lt;&lt;/d>> &lt;&lt;d mc>> Mais, comment ? Je n'ai rien... &lt;&lt;/d>> &lt;&lt;a>> Tu préfères ne pas protester davantage. &lt;&lt;/a>> &lt;&lt;t>> C'est quoi, une sorcière ? &lt;&lt;/t>> &lt;hr> &lt;&lt;a>> La journée de cours se passe très bien. &lt;&lt;/a>> &lt;&lt;a>> Ton intelligence, ainsi que ton travail sérieux et régulier te permet de suivre avec aisance les enseignements. Tu es trop timide pour répondre, mais tu avais la réponse à presque toutes les questions. &lt;&lt;/a>> &lt;&lt;a>> Finalement, la sonnerie scolaire se met à retentir. Tous les élèves se précipitent dehors dans un brouhaha infernal. Que souhaites-tu faire de ton après midi ? &lt;&lt;/a>> &lt;div id="annonce-city-available"> &lt;&lt;d author>> Tu peux maintenant aller dans la ville après l'école ! :) &lt;&lt;/d>> &lt;/div> &lt;&lt;unshow2 annonce-city-available>> &lt;div class="choices"> &lt;&lt;if setup.isEvent("b", 14)>> &lt;&lt;if setup.oneshot("acces-ville-apres-ecole")>> &lt;&lt;show2 annonce-city-available>> &lt;&lt;/if>> &lt;&lt;button "Aller en ville" SCHOOL-1-3-4 before:city>> &lt;&lt;/button>> &lt;&lt;else>> &lt;&lt;button "Se rendre chez ta copine" FBRO-0-1-3 before:nextInstant>> &lt;&lt;/button>> &lt;&lt;if $events.place[1] >= 3>> &lt;&lt;button "Aller voir ton meilleur ami" MALL-1-6-5 before:nextInstant>> &lt;&lt;/button>> &lt;&lt;/if>> &lt;&lt;/if>> &lt;/div></tw-passagedata><tw-passagedata name=GET-1-4-2 position=7100,8372 size=100,100 tags=""pid=151>&lt;&lt;pushevent gf 1>> &lt;div id="s-1"> &lt;&lt;image data/gf/photo.jpg 50>> &lt;&lt;a>> Juste devant la porte d'entrée, tu vois $namegf, ta princesse, qui t'attend assise sur un muret. &lt;&lt;/a>> &lt;&lt;a>> $namegf est ton amie d'enfance et ta petite-amie. Tu ne sais pas ce que tu as fait pour mériter cette fille, mais tu en es très fier ! En plus d'être mignonne, elle est humble, et toujours serviable. Elle travaille beaucoup, ses parents sont sévères et lui mettent la pression pour qu'elle intègre les meilleures écoles. Tout le monde lui prédit d'ailleurs un brillant avenir. &lt;&lt;/a>> &lt;div class="choices"> &lt;&lt;button "La regarder">> &lt;&lt;dynamicunshow s-1>> &lt;&lt;dynamicshow s-2>> &lt;&lt;/button>> &lt;/div> &lt;/div> &lt;div id="s-2"> &lt;&lt;a>> Tu la vois arborer son air habituel, qui est un mélange paradoxal entre une pointe de timidité juvénile et des yeux qui observent avec intensité. Une fine tristesse mélancolique, bien que très subtile, est également visible pour un oeil sensible. Sa chevelure, magnifiquement rousse, contraste avec sa peau d'une blancheur immaculée. Sa main vient, de temps en temps, quand le vent y met sa pagaille, remettre de l'ordre dans sa crinière. &lt;&lt;/a>> &lt;&lt;a>> Parfois, croisant ici et là un visage connu, tu la vois faire apparaître un sourire fugace qui accentue encore la sensation de tristesse de son regard. Elle ne t'a pas encore repéré. Tu décides de profiter de cette occasion pour la surprendre, et tu fais le grand tour pour arriver sur ses arrières. &lt;&lt;/a>> &lt;&lt;a>> Tu t'approches d'elle, doucement. Tout doucement. Elle ne t'a pas encore vu. Tu n'es plus qu'à deux petits mètres... Tu fais encore quelques pas très lents... Vite ! D'un mouvement rapide, tu te retrouves maintenant contre son dos, tes bras qui l'entourent pour aller recouvrir ses yeux de tes mains. &lt;&lt;/a>> &lt;&lt;d mc>> Devine c'est qui ? &lt;&lt;/d>> &lt;div class="choices"> &lt;&lt;button "Sentir sa peau sous tes doigts">> &lt;&lt;dynamicunshow s-2>> &lt;&lt;dynamicshow s-3>> &lt;&lt;/button>> &lt;/div> &lt;/div> &lt;div id="s-3"> &lt;&lt;a>> Tes mains sentent un grand sourire se former sur son visage. &lt;&lt;/a>> &lt;&lt;d gf>> C'est Monsieur Nigaud ! Haha ! &lt;&lt;/d >> &lt;&lt;a>> Elle éclate de rire, se libère de ton étreinte factice, et s'approche à quelques centimètres de toi. Elle lève son visage vers le tien. Tu sens la vague de son parfum sucré t'envahir. &lt;&lt;/a>> &lt;&lt;d gf>> Tu sais que la dernière fois que l'on m'a fait ce coup, j'avais 12 ans ? &lt;&lt;/d >> &lt;&lt;d mc>> Comme quoi, on peut rencontrer un génie de la blague deux fois dans sa vie. :) &lt;&lt;/d >> &lt;&lt;a>> Elle te rend ton sourire, et te gratifie d'un baisé, à moitié sur ta joue, à moitié sur tes lèvres. La sensation de son baisé et de son goût laisse une marque sensorielle toujours présente plusieurs secondes après qu'elle ait retiré ses lèvres. Tu as envie de fermer les yeux pour mieux en profiter, mais elle te rappelle très vite à la réalité. &lt;&lt;/a>> &lt;&lt;d gf>> T'es encore une fois dans les derniers ! Mais qu'est-ce qui te prend autant de temps entre le bus et ici ? Allons vite en cours avant que tu ne nous mettes en retard Monsieur Nigaud ! &lt;&lt;/d >> &lt;div class="choices"> &lt;&lt;button "Te rendre en cours" WIDGET-0-2-5 before:nextInstant-2>> &lt;&lt;/button>> &lt;/div> &lt;/div> &lt;&lt;unshow2 s-2 s-3>></tw-passagedata><tw-passagedata name=LOOP-0-4-2 position=100,4667 size=100,100 tags=""pid=152>&lt;&lt;nextInstant>> &lt;&lt;nextInstant>> &lt;&lt;nextInstant>> &lt;div id="s1"> &lt;&lt;d m>> Hey ! Hey gros ! T'es réveillé ? &lt;&lt;/d >> &lt;&lt;a>> Tu reprends lentement conscience... Et tu prends aussi conscience que quelqu'un te frappe encore... &lt;&lt;/a>> &lt;&lt;a>> ''*slap* *slap*'' &lt;&lt;/a>> &lt;&lt;a>> Cet enculé de $nameb continue de te mettre des gifles ! Cette fois, tu refuses de le laisser te frapper sans rien dire, et tu renvoies d'instinct un crochet du gauche qui le touche. Tu entends un cri etouffé, puis un corps qui tombe lourdement au sol en couinant. Tu ouvres les yeux pour évaluer la situation. La lumière t'éblouit un instant, avant de se stabiliser. &lt;&lt;/a>> &lt;&lt;image data/places/school/infirmerie.jpg>> &lt;&lt;a>> Tu es dans une grande salle d'hôpital aux volets mi clos, allongé dans un lit aux draps blancs. Au sol gît quelqu'un que tu ne connais pas. Tout ce que tu peux dire, c'est que ce n'est pas $nameb, ce qui te rassure un peu. Tu constates que ça n'est pas non plus une infirmière blonde à gros seins, ce qui te déçoit légèrement. &lt;&lt;/a>> &lt;div class="choices"> &lt;&lt;button "Continuer">> &lt;&lt;dunshow s1>> &lt;&lt;dshow s2>> &lt;&lt;/button>> &lt;/div> &lt;/div> &lt;div id="s2"> &lt;&lt;d m>> Mais t'es complètement débile ou quoi ? &lt;&lt;/d >> &lt;&lt;a>> Il est visiblement en colère. &lt;&lt;/a>> &lt;&lt;d mc>> Je suis désolé, mais tu étais en train de me frapper... &lt;&lt;/d >> &lt;&lt;d m>> J'essayais de te réanimer ! Ca fait deux bonnes heures que t'es inconscient ! Tu marmonnais des trucs, "$namegf ! $namegf !", alors je me suis dit qu'il fallait que je t'aide. &lt;&lt;/d >> &lt;&lt;a>> Tu as maintenant complètement repris tes esprits. &lt;&lt;/a>> &lt;&lt;d mc>> D'accord. Heuuu... Bah excuse moi encore, et merci pour les gifles alors. On est où ici ? &lt;&lt;/d>> &lt;&lt;d m>> Ici c'est l'infirmerie de l'école. Je t'y ai emmené peu de temps après que tu te sois fait besogner comme une salope. &lt;&lt;/d >> &lt;&lt;t>> Besogner comme une salope ? Il n'a pas l'air méchant, mais il ne mâche pas ses mots. &lt;&lt;/t>> &lt;&lt;d m>> D'ailleurs, heureusement que t'es un poids plume sinon je n'aurais pas été bien loin en te portant. &lt;&lt;/d >> &lt;div class="choices"> &lt;&lt;button "Lui demander qui il est">> &lt;&lt;dunshow s2>> &lt;&lt;dshow s3>> &lt;&lt;/button>> &lt;/div> &lt;/div> &lt;div id="s3"> &lt;&lt;d mc>> J'espère que ça n'a pas été trop dur. Et du coup, tu es ? &lt;&lt;/d >> &lt;&lt;d bf>> Oh, pardon, j'ai oublié de me présenter. Je m'appelle $namebf. Je suis en première année. &lt;&lt;/d >> &lt;&lt;image data/bf/photo.jpg 50>> &lt;&lt;a>> $namebf se releve et te tend un main pour te saluer. Sa main est molle, tellement molle que tu t'es demandé si il ne voulait pas un baisemain. &lt;&lt;/a>> &lt;div class="choices"> &lt;&lt;button "Remercier $namebf">> &lt;&lt;dunshow s3>> &lt;&lt;dshow s4>> &lt;&lt;/button>> &lt;/div> &lt;/div> &lt;div id="s4"> &lt;&lt;d mc>> Encore merci pour ton aide. Moi c'est $namemc. Tu peux retourner en cours si tu veux, je pense que je peux me débrouiller maintenant. &lt;&lt;/d >> &lt;&lt;d bf>> Oh non pas besoin. Tu sais, moi si je peux sécher les cours, ça m'arrange bien. &lt;&lt;/d >> &lt;&lt;a>> Il explose d'un rire un peu creepy. Il ajoute, comme si cela expliquait tout. &lt;&lt;/a>> &lt;&lt;d bf>> Je suis dans la même classe que $nameb. &lt;&lt;/d >> &lt;&lt;a>> Tu passes le reste de la journée avec $namebf. Sa présence n'est pas désagréable. Il te raconte sa vie, son avenir en tant que streamer, les pornos qu'il matte, parle de sa soeur, de son chien, de Sasha Grey qui gère apparamment les gang-bangs comme personne, du prochain Avengers qui sort la semaine prochain, du sub-Reddit sur le porn interracial. &lt;&lt;/a>> &lt;&lt;t>> Ce gars parle surtout de porno en fait... Je suppose qu'il est gros consommateur. &lt;&lt;/t>> &lt;&lt;d bf>> Tu pourras venir chez moi si tu veux, je te montrerai ma collection ! J'ai plus de 3 téras classés en une centaine de catégories ! &lt;&lt;/d >> &lt;&lt;d mc>> Ah oui... Pourquoi pas. &lt;&lt;/d >> &lt;&lt;t>> Ce gars a l'air spécial. &lt;&lt;/t>> &lt;div class="choices"> &lt;&lt;button "Continuer">> &lt;&lt;dunshow s4>> &lt;&lt;dshow s5>> &lt;&lt;/button>> &lt;/div> &lt;/div> &lt;div id="s5"> &lt;&lt;d bf>> Et c'était qui le nom que tu criais tout à l'heure quand tu dormais... &lt;&lt;/d >> &lt;&lt;d mc>> $namegf ? C'est ma petite amie. &lt;&lt;/d >> &lt;&lt;d bf>> C'est la $namegf de l'école ? La rousse ? &lt;&lt;/d >> &lt;&lt;d mc>> C'est bien elle. &lt;&lt;/d >> &lt;&lt;d bf>> T'es sérieux mec ? Bah tu te mets bien ! Tu dois en faire des jaloux ! &lt;&lt;/d >> &lt;&lt;a>> La conversation est coupée par la sonnerie qui retentit, marquant la fin de la journée scolaire. $namebf semble soudainement extrêmement pressé. Il te salut à toute vitesse en renouvellant son invitation, et quitte la salle précipitamment. &lt;&lt;/a>> &lt;&lt;t>> Il est définitivement bizarre... Mais bon, il m'a aidé, je peux bien lui pardonner ça. Je suppose que la moindre des choses, ça serait que j'aille lui rendre visite pour le remercier proprement... Et puis, peut-être que je pourrai enfin réussir à me faire un ami. &lt;&lt;/t>> &lt;&lt;t>> Bon, je devrais aller voir $namegf, elle doit être morte d'inquiétude. &lt;&lt;/t>> &lt;&lt;t>> Et surtout, il va falloir que je trouve de l'argent... &lt;&lt;/t>> &lt;div class="choices"> [[Se rendre chez ta copine|FBRO-0-1-3]] &lt;/div> &lt;/div> &lt;&lt;unshow2 s2 s3 s4 s5>></tw-passagedata><tw-passagedata name=DREAM-2-5-1 position=7004,788 size=100,100 tags=""pid=153>&lt;&lt;pushevent b 1>> &lt;div id="s1"> &lt;&lt;image data/places/school/school.jpg 100>> &lt;&lt;a>> Tu arrives devant l'imposant bâtiment. Tu t'es toujours demandé qui avait bâti quelque chose d'aussi laid, et si cette personne était communiste. Tu ressens toujours un sentiment d'oppression en arrivant à ses pieds. &lt;&lt;/a>> &lt;&lt;a>> Tu rejoins rapidement $namegf qui t'attend à l'endroit habituel, sur le petit muret devant la porte. &lt;&lt;/a>> &lt;&lt;a>> Alors que vous passez les portes de l'école, tu reçois soudainement un violent coup dans le ventre qui te coupe le souffle et te projette au sol. &lt;&lt;/a>> &lt;&lt;t>> Ouch ! &lt;&lt;/t>> &lt;&lt;a>> Tu reprends tes esprits, et en levant les yeux tu vois $nameb qui te regarde avec un air méchant. &lt;&lt;/a>> &lt;&lt;d b>> Et bah alors bouffe-merde, je t'ai pas vu hier, qu'est-ce qu'il se passe ? &lt;&lt;/d >> &lt;&lt;a>> Tu jettes un regard vers $namegf, et tu croises ses yeux paniqués. &lt;&lt;/a>> &lt;div class="choices"> &lt;&lt;button "La mettre en sécurité">> &lt;&lt;dunshow s1>> &lt;&lt;dshow s2>> &lt;&lt;/button>> &lt;/div> &lt;/div> &lt;div id="s2"> &lt;&lt;t>> Merde.. Elle n'était pas au courant des petites... affaires... entre $nameb et moi. &lt;&lt;/t>> &lt;&lt;a>> D'un geste de la main, tu la supplies de se rendre en cours sans toi. $nameb remarque ton geste, et tourne sa tête pour poser ses yeux bovins sur $namegf qui s'éloigne. &lt;&lt;/a>> &lt;&lt;d b>> C'est qui celle là ? Ta petite amie ? Bon petit cul pour une blanche. C'est quoi son nom ? &lt;&lt;/d >> &lt;&lt;a>> La dernière question est posée avec un sourire sadique, te faisant craindre le pire. Tu réponds sur le ton du défi. &lt;&lt;/a>> &lt;&lt;d mc>> T'as pas intérêt à la mêler à tout... &lt;&lt;t>> Ouch ! &lt;&lt;/t>> &lt;&lt;/d >> &lt;&lt;a>> Immédiatement, tu reçois un nouveau coup dans les côtes qui te renvoit au sol. &lt;&lt;/a>> &lt;&lt;d b>> Oublie pas ta place ici bouffe-merde, si je veux parler du cul de ta meuf je le fais. Et je t'ai demandé pourquoi je ne t'ai pas vu hier mais j'ai toujours pas entendu de réponse. &lt;&lt;/d >> &lt;&lt;t>> $nameb.. Je suis en mauvaise posture je crois. Ca fait des semaines que lui et son groupe d'enculés m'obligent à leur ramener 20 balles tous les jours. Il croit que je vais pouvoir le faire toute ma vie ? J'ai déjà niqué toutes mes résèrves ! &lt;&lt;/t>> &lt;&lt;t>> J'ai retourné le problème dans tous les sens, je ne vois pas de solution. Il faudrait que je parle de ce qu'il se passe à quelqu'un, mais putain, quelle honte, quelle honte ! C'est impossible à assumer... &lt;&lt;/t>> &lt;div class="choices"> &lt;&lt;button "Vite, je dois trouver une solution !">> &lt;&lt;dunshow s2>> &lt;&lt;dshow s3>> &lt;&lt;/button>> &lt;/div> &lt;/div> &lt;div id="s3"> &lt;&lt;t>> Bon. Si je lui mets un gros direct, j'aurai peut être le temps de slalomer entre ses potes pour m'enfuir... Mais demain alors ? Il me rattrapera. Rah, merde, c'est pas une solution. Et j'vais pas me mentir, j'suis pas stuffé pour donner des coups. Ailleurs que dans WOW en tout cas. &lt;&lt;/t>> &lt;&lt;t>> Si j'avais la carrure de mon Paladin 120, ça serait différent, j'en ferai qu'une bouché. Petit sceau d'altérité avec une... &lt;&lt;/t>> &lt;&lt;d b>> ''OH !'' Il est paralysé le bouffe-merde ? Ma thune ! Tu l'as ou pas ? &lt;&lt;/d >> &lt;&lt;a>> Tu prends instinctivement ta plus petite voix pour répondre à $nameb. &lt;&lt;/a>> &lt;&lt;d mc>> Désolé $nameb je n'ai pas l'argent, je t'ai déjà donné tout ce que j'avais, je n'ai plus rien... Ma famille n'est pas riche, comment tu veux que je fasse crétin ? &lt;&lt;/d >> &lt;&lt;a>> Tu ne sais pas pourquoi ce dernier mot est sorti de ta bouche. La fierté peut-être. Ce qui est certain, c'est que tu le regrettes instantanément. &lt;&lt;/a>> &lt;&lt;a>> Tu vois une haine immense traverser un instant le regard de $nameb, avant de disparaitre. Il rapproche doucement son visage du tien jusqu'à ce que tu sentes son souffle fétide, puis te parle d'une voix très calme. &lt;&lt;/a>> &lt;&lt;d b>> Tu préfères peut être que j'aille demander à la fille de tout à l'heure ? &lt;&lt;/d >> &lt;&lt;a>> Ces paroles ont eu l'effet d'un electrochoc ! L'idée que $namegf puisse être mêlée à tout ça... Ton stress s'entend clairement dans ta voix. &lt;&lt;/a>> &lt;div class="choices"> &lt;&lt;button "Promettre à $nameb de payer demain">> &lt;&lt;dunshow s3>> &lt;&lt;dshow s4>> &lt;&lt;/button>> &lt;/div> &lt;/div> &lt;div id="s4"> &lt;&lt;d mc>> Non ! Non pas besoin $nameb, ça n'est pas utile ! J'ai un peu de retard mais tu sais que je vais payer ! Tu auras ta paie d'aujourd'hui et de demain. Ne t'inquiète pas mon frère. &lt;&lt;t>> La "paie"... Ce mec est juste en train de me voler... &lt;&lt;/t>> &lt;&lt;/d >> &lt;&lt;d b>> Parfait. &lt;&lt;/d >> &lt;&lt;a>> $nameb se relève doucement. Et soudainement, alors qu'il te semblait calmé... &lt;&lt;/a>> &lt;&lt;video data/places/school/punch.webm>> &lt;&lt;a>> Tu sens qu'un violent coup t'est porté au visage. Ta conscience te quitte petit à petit alors que tu t'effondres sur le sol, à peine as-tu le temps d'entendre les dernières paroles de ton bourreau... &lt;&lt;/a>> &lt;&lt;d b>> Et voilà la tienne de paie, "mon frère". &lt;&lt;/d >> &lt;&lt;a>> Ton corps heurta le sol, et tu perdis complètement conscience. &lt;&lt;/a>> &lt;div class="choices"> [[Hey ! Oh !|LOOP-0-4-2]] &lt;/div> &lt;/div> &lt;&lt;unshow2 s2 s3 s4>></tw-passagedata><tw-passagedata name=SUB-1-4-3 position=6529,8693 size=100,100 tags=""pid=154>&lt;&lt;if setup.isGameDay(0)>> &lt;&lt;include GET-1-4-2>> &lt;&lt;unshow2 base>> &lt;&lt;elseif setup.isGameDay(1)>> &lt;&lt;include DREAM-2-5-1>> &lt;&lt;unshow2 base>> &lt;&lt;else>> &lt;&lt;nextInstant>> &lt;&lt;/if>> &lt;div id="base"> &lt;&lt;image data/places/school/school.jpg 100>> &lt;&lt;a>> Tu arrives devant l'imposant bâtiment. Tu t'es toujours demandé qui avait construit quelque chose d'aussi laid, et si cette personne était communiste. Tu ressens toujours un sentiment d'oppression en arrivant à ses pieds. &lt;&lt;/a>> &lt;&lt;a>> Tu rejoins rapidement $namegf qui t'attend à l'endroit habituel, sur le petit muret devant la porte. &lt;&lt;/a>> &lt;&lt;if $events.b[1] && not $events.b[17]>> &lt;div class="choices" id="c-1"> &lt;&lt;button "Te rendre en cours" before:nextInstant-2>> &lt;&lt;show r-1>> &lt;&lt;unshow c-1>> &lt;&lt;/button>> &lt;&lt;button "Passer aux toilettes">> &lt;&lt;goto END-1-8-2>> &lt;&lt;/button>> &lt;/div> &lt;&lt;else>> &lt;div class="choices"> &lt;&lt;button "Te rendre en cours" WIDGET-0-2-5 before:nextInstant-2>> &lt;&lt;/button>> [[Passer aux toilettes|END-1-8-2]] &lt;/div> &lt;&lt;/if>> &lt;div id="r-1"> &lt;&lt;t>>Non, je dois aller voir $nameb avant...&lt;&lt;/t>> &lt;div class="choices"> &lt;&lt;button "Passer aux toilettes">> &lt;&lt;goto END-1-8-2>> &lt;&lt;/button>> &lt;/div> &lt;/div> &lt;&lt;unshow2 r-1>> &lt;/div></tw-passagedata><tw-passagedata name=SBFR-2-5-1 position=140,4013 size=100,100 tags=""pid=155>&lt;&lt;pushevent b 2>> &lt;&lt;pushevent b 3>> &lt;div id="s1"> &lt;&lt;a>> Tu arrives devant la porte des toilettes. Derrière, tu entends la voix de $nameb et d'autres personnes parler bruyamment, se mettant parfois à éclater de rire. Ta boule au ventre te fait presque mal, et plusieurs fois tu fais demi tour avant de revenir. La peur de ce qui arrivera si tu ne paies pas est plus forte que la peur de rentrer. Tu te forces à te motiver. &lt;&lt;/a>> &lt;&lt;t>> Aller $namemc ! Tu n'as pas le choix il faut que t'y ailles. &lt;&lt;/t>> &lt;&lt;a>> Finallement, tu oses toquer tout doucement à la porte, et tu attends. Rien ne se passe, les conversations continuent. Tu retoques en appuyant tes coups à peine plus fort. Cette fois, un silence complet s'installe à l'intérieur des toilettes. Quelques pas se font entendre, la porte s'ouvre devant toi. &lt;&lt;/a>> &lt;&lt;d b>> Ah, mais regardez c'est qui. C'est mon meilleur pote $namemc. Je t'en prie, rentre. &lt;&lt;/d>> &lt;&lt;a>> $nameb est dans l'encadrure de la porte, une main posée sur la poignée. Tu avances prudemment en te faisant tout petit, $nameb te laissant tout juste la place pour rentrer. Ta tête est rentrée dans tes épaules comme si tu t'attendais à recevoir un nouveau coup. &lt;&lt;/a>> &lt;&lt;a>> Aucun coup ne vient. A la place, il y a l'odeur qui te prend au nez. Malgré une petite fenêtre ouverte, les toilettes puent un mélange de beuh et de pisse. Il y a plus de monde que ce que tu pensais. Il y a $nameb bien sûr, mais tu vois 3 mecs de sa bande qui sont souvent avec lui. &lt;&lt;/a>> &lt;&lt;a>> Tu es surpris de reconnaitre aussi 2 filles. Une petite blonde et une fille aux longs cheveux noirs. Tu les connais de vue car elles sont toutes les deux dans ta classe, même si bien sûr elles ne t'ont jamais adressé la parole, ni même un regard. Jamais tu n'aurais imaginé les voir ici. &lt;&lt;/a>> &lt;div class="choices"> &lt;&lt;button "Les regarder plus attentivement">> &lt;&lt;dunshow initial s1>> &lt;&lt;dshow s2>> &lt;&lt;/button>> &lt;/div> &lt;/div> &lt;div id="s2"> &lt;&lt;image data/b/b/photo.jpg 50>> &lt;&lt;a>> Les deux filles n'ont pas l'air beaucoup plus heureuse que toi d'être là. Elles sont dans un coin, comme recroquevillées sur elles-même, les bras croisés, affichant un regard morne, presque vide. T'as l'impression qu'elles ne sont pas dans leur état normal, et que cette petite interruption que tu causes vient de les réveiller. &lt;&lt;/a>> &lt;&lt;image data/b/n/photo.jpg 50>> &lt;&lt;a>> $nameb prend la parole. &lt;&lt;/a>> &lt;div class="choices"> &lt;&lt;button "L'écouter">> &lt;&lt;dunshow s2>> &lt;&lt;dshow s3>> &lt;&lt;franc -40>> &lt;&lt;/button>> &lt;/div> &lt;/div> &lt;div id="s3"> &lt;&lt;d b>> Bah ça alors, qu'est-ce qui t'es arrivé au visage ? &lt;&lt;/d>> &lt;&lt;a>> Toute sa bande se met à ricaner bruyamment. &lt;&lt;/a>> &lt;&lt;d b>> Faut faire attention aux gens que tu côtoies, certains ont l'air dangereux. Tu ne veux pas te retrouver en morceau, hein ? &lt;&lt;/d>> &lt;&lt;d b>> On m'a dit que t'avais un cadeau pour moi, c'est vrai ça ? &lt;&lt;/d>> &lt;&lt;a>> Sans oser le regarder dans les yeux, tu lui tends 40€. 20€ pour aujourd'hui, et 20€ pour ton oubli d'hier. Il les prit avec une exclamation de satisfation, puis posa son bras sur tes deux épaules. &lt;&lt;/a>> &lt;&lt;d b>> Aaaaah ! Je suis content de voir qu'on a réussi à se comprendre tous les deux. Tu vois, tout va très bien quand tu ne fais pas de bêtises, hein mange-merde ? &lt;&lt;/d>> &lt;&lt;a>> Tu restes silencieux en regardant tes pieds. Il insiste. &lt;&lt;/a>> &lt;&lt;d b>> Tu seras gentil, mange-merde ? &lt;&lt;/d>> &lt;div class="choices"> &lt;&lt;button "O-Oui...">> &lt;&lt;dunshow s3>> &lt;&lt;dshow s4>> &lt;&lt;/button>> &lt;/div> &lt;/div> &lt;div id="s4"> &lt;&lt;d mc>> O-Oui... &lt;&lt;/d>> &lt;&lt;d b>> Très bien. &lt;&lt;/d>> &lt;&lt;a>> Il fait une pause, avant de reprendre avec un petit sourire. &lt;&lt;/a>> &lt;&lt;d b>> Et ta petite rousse, comment elle va ? :) &lt;&lt;/d>> &lt;&lt;a>> Ton coeur se met à battre à toute allure. Tu veux répliquer, lui dire d'aller se faire foutre, mais la peur t'en empêche. &lt;&lt;/a>> &lt;&lt;d mc>> E-Elle va bien... &lt;&lt;/d>> &lt;&lt;d b>> Elle te l'a dit, que nos regards se sont croisés la dernière fois ? Je la regardais passer pour aller en cours, quand elle m'a vu. T'es un veinard tu sais, elle est vraiment mignonne. Et tu sais ce qu'elle a fait ? Elle a essayé de tenir le regard en prenant un petit air menaçant. &lt;&lt;/d>> &lt;&lt;a>> $nameb explose de rire en repensant à ce moment. Une fois calmé, il reprend. &lt;&lt;/a>> &lt;&lt;d b>> Évidemment, elle a rapidement baissé les yeux. Mais c'est juste après, quand elle est devenue toute rouge et confuse, qu'elle était la plus mignonne. C'était presque romantique comme moment ! Enfin... Je te dis ça, mais j'espère que ça ne te dérange pas que je regarde ta copine ? &lt;&lt;/d>> &lt;div class="choices"> &lt;&lt;button "N-Non...">> &lt;&lt;dunshow s4>> &lt;&lt;dshow s5-0 e1>> &lt;&lt;humiliation 5>> &lt;&lt;/button>> &lt;&lt;button "U-Un peu...">> &lt;&lt;dunshow s4>> &lt;&lt;dshow s5-1 e1>> &lt;&lt;courage 5>> &lt;&lt;/button>> &lt;/div> &lt;/div> &lt;div id="s5-0"> &lt;&lt;a>> Tu es effrayé par $nameb. Tu as l'impression qu'il peut te frapper de nouveau à la moindre réponse qui lui déplaira. Il vaut mieux lui dire ce qu'il veut entendre. &lt;&lt;/a>> &lt;&lt;d mc>> N-Non... &lt;&lt;/d>> &lt;&lt;a>> $nameb affiche un sourire satisfait. &lt;&lt;/a>> &lt;&lt;d b>> Je commence à t'apprécier $namemc. Tu me la présenteras un jour, c'est ce que font les vrais potes. Aller, casse toi. &lt;&lt;/d>> &lt;&lt;a>> Sans te faire prier, tu quittes les toilettes. Une fois dehors, tu te relâches, soulagé. Tout s'est bien passé. &lt;&lt;/a>> &lt;/div> &lt;div id="s5-1"> &lt;&lt;a>> Tu bouillonnes intérieurement. Les filles semblent mal à l'aise et tu sens de la peine dans leur regard, voir de la pitié. &lt;&lt;/a>> &lt;&lt;d mc>> J-Je ne sais pas... &lt;&lt;/d>> &lt;&lt;a>> Cette réponse t'a déjà demandé beaucoup de courage. $nameb te regarde avec un visage sévère. Il pose sa main sur ton épaule, et serre avec force comme un coup de semonce. &lt;&lt;/a>> &lt;&lt;a>> Tu sais que tu ne peux rien faire, que tu n'es pas en position de force. Tu préfères ne pas le provoquer pour le moment. &lt;&lt;/a>> &lt;&lt;d mc>> N-Non... Ca ne me dérange pas. &lt;&lt;/d>> &lt;&lt;a>> $nameb affiche un sourire satisfait. &lt;&lt;/a>> &lt;&lt;d b>> Je commence à t'apprécier $namemc. Tu me la présenteras un jour, c'est ce que font les vrais potes. Aller, casse toi. &lt;&lt;/d>> &lt;&lt;a>> Sans te faire prier, tu quittes les toilettes. Une fois dehors, tu te relâches, soulagé. Tout s'est bien passé. &lt;&lt;/a>> &lt;/div> &lt;div class="choices" id="e1"> &lt;&lt;button "Aller en cours" WIDGET-0-2-5 before:nextInstant-2>> &lt;&lt;/button>> &lt;/div> &lt;&lt;unshow2 s2 s3 s4 s5-0 s5-1 e1>></tw-passagedata><tw-passagedata name=VRT-0-2-5 position=7533,1175 size=100,100 tags=""pid=156>&lt;&lt;pushevent b 6>> &lt;&lt;if $events.b[4] > $events.b[5]>> &lt;&lt;set _video1 = "data/b/b/f1.webm">> &lt;&lt;set _video2 = "data/b/b/f2.webm">> &lt;&lt;unshow2 noir-1 noir-2>> &lt;&lt;else>> &lt;&lt;set _video1 = "data/b/n/f1.webm">> &lt;&lt;set _video2 = "data/b/n/f2.webm">> &lt;&lt;unshow2 blonde-1 blonde-2>> &lt;&lt;/if>> &lt;&lt;note>> MC n'a plus d'argent. B va le bolosser, et il va notamment s'en prendre à la fille que MC a le plus regardé, et la forcer à le sucer devant lui. BF intervient pour calmer B et lui payer ce que tu lui dois. Tu vas apprendre que BF se fait raquetter aussi. Cette scène débloque la maison de BF. &lt;&lt;/note>> &lt;div id="s1"> &lt;&lt;t>> Oh bah merde ! Désolé $nameb, j'ai oublié mon chéquier chez moi. Tu acceptes les tickets resto ? &lt;&lt;/t>> &lt;&lt;a>> Foutage de gueule. &lt;&lt;/a>> &lt;&lt;t>> Wesh mon frère ! Bien ou bien ? &lt;&lt;/t>> &lt;&lt;a>> Pathétique. &lt;&lt;/a>> &lt;&lt;t>> PITIE &lt;&lt;= $nameb.toUpperCase()>> NE ME FAIS PAS DE MAL DIS MOI COMMENT ME FAIRE PARDONNER ! &lt;&lt;/t>> &lt;&lt;a>> Exagéré. &lt;&lt;/a>> &lt;&lt;t>> Tu ne trouves pas que les gens sont trop matérialistes de nos jours ? L'important n'est il pas dans l'humain ? Pourquoi ne pas simplement vivre en paix et dans l'amour ? &lt;&lt;/t>> &lt;&lt;a>> Tu es devant la porte des toilettes depuis 10 bonnes minutes, à chercher les bons mots qui pourraient préserver $nameb d'une colère en apprenant que tu n'as pas l'argent. Tu sais très bien que tout peut arriver si il se met en colère. &lt;&lt;/a>> &lt;&lt;t>> Hey chef. J'ai une mauvaise nouvelle... Je me suis fait racketer sur le chemin de l'école, on m'a tout pris ! Quelle horreur mon dieu ! Ils étaient 3, tous avec des casquettes et des survêtements, je n'ai rien pu... &lt;&lt;/t>> &lt;&lt;a>> Soudainement, la porte s'ouvre en un claquement. $nameb se trouve dans l'encadrure, à te regarder dans les yeux. &lt;&lt;/a>> &lt;&lt;qbutton Continuer out:initial out:s1 in:s2>> &lt;/div> &lt;div id="s2"> &lt;&lt;d b>> Et bah alors mon pote, qu'est-ce que tu fais là ? Reste pas planté comme ça, rentre. &lt;&lt;/d>> &lt;div id="blonde-1"> &lt;&lt;a>> Tu entres dans les toilettes. La désormais habituelle odeur de beuh et de pisse envahit tes poumons. $nameb est seul avec la fille aux cheveux blonds. &lt;&lt;/a>> &lt;/div> &lt;div id="noir-1"> &lt;&lt;a>> Tu entres dans les toilettes. La désormais habituelle odeur de beuh et de pisse envahit tes poumons. $nameb est seul avec la fille aux cheveux noirs. &lt;&lt;/a>> &lt;/div> &lt;&lt;d b>> Bon, j'ai pas beaucoup de temps aujourd'hui, lâche la thune. &lt;&lt;/d>> &lt;&lt;a>> Ton coeur se met à battre à 1000 à l'heure. Ta réponse est quasiment inaudible tellement tu bafouilles. &lt;&lt;/a>> &lt;div class="choices"> &lt;&lt;button Bégayer>> &lt;&lt;dunshow initial s2>> &lt;&lt;dshow s3>> &lt;&lt;/button>> &lt;/div> &lt;/div> &lt;div id="s3"> &lt;&lt;d mc>> Ah oui... Euh... L'argent... A ce propos... Je voulais te dire... Je n'ai pas pu... Je veux dire... Tu sais... J-Je t'amène ça disons... D-Demain ? &lt;&lt;/d>> &lt;&lt;a>> Un silence pesant s'installe pendant une très longue minute. &lt;&lt;/a>> &lt;&lt;a>> Finalement, $nameb se décide à parler. Ou plutôt à aboyer. &lt;&lt;/a>> &lt;&lt;d b>> ''Clara !'' &lt;&lt;/d>> &lt;div id="blonde-2"> &lt;&lt;a>> La fille aux cheveux blonds sursaute. &lt;&lt;/a>> &lt;/div> &lt;div id="noir-2"> &lt;&lt;a>> La fille aux cheveux noirs sursaute. &lt;&lt;/a>> &lt;/div> &lt;&lt;d b>> Approche ! Tout de suite ! &lt;&lt;/d>> &lt;&lt;a>> La fille, Clara, obéit et se lève pour se mettre face à $nameb, à quelques centimètres de lui. $nameb pose ses mains sur sa taille, puis te regarde. &lt;&lt;/a>> &lt;&lt;d b>> J'ai remarqué comme tu la regardais. Elle te plait hein ? &lt;&lt;/d>> &lt;div class="choices" id="c1"> &lt;&lt;button Oui>> &lt;&lt;unshow s3>> &lt;&lt;dshow s4-0 s4>> &lt;&lt;whited 2>> &lt;&lt;if $events.b[4] > $events.b[5]>> &lt;&lt;pushevent b 9>> &lt;&lt;else>> &lt;&lt;pushevent b 9>> &lt;&lt;pushevent b 9>> &lt;&lt;/if>> &lt;&lt;/button>> &lt;&lt;button Non>> &lt;&lt;unshow s3>> &lt;&lt;dshow s4-1 s4>> &lt;&lt;humiliation 2>> &lt;&lt;if $events.b[4] > $events.b[5]>> &lt;&lt;pushevent b 10>> &lt;&lt;else>> &lt;&lt;pushevent b 10>> &lt;&lt;pushevent b 10>> &lt;&lt;/if>> &lt;&lt;/button>> &lt;/div> &lt;/div> &lt;div id="s4-0"> &lt;&lt;d mc>> O-oui. &lt;&lt;/d>> &lt;&lt;a>> $nameb paraît surpris de ta réponse. &lt;&lt;/a>> &lt;&lt;d b>> Ah ouais ? Tu veux pécho ma meuf ? &lt;&lt;/d>> &lt;/div> &lt;div id="s4-1"> &lt;&lt;a>> Tu bafouilles. &lt;&lt;/a>> &lt;&lt;d mc>> N-non pas du t-tout. &lt;&lt;/d>> &lt;&lt;d b>> T'es en train de dire que ma meuf est moche ? &lt;&lt;/d>> &lt;&lt;d mc>> Non ! Je veux dire, y'a... &lt;&lt;/d>> &lt;&lt;d b>> Aller ta gueule mange-merde. &lt;&lt;/d>> &lt;/div> &lt;div id="s4"> &lt;&lt;a>> Se tournant vers Clara. &lt;&lt;/a>> &lt;&lt;d b>> A genoux. &lt;&lt;/d>> &lt;&lt;a>> Clara est déboussolée. Ne sachant pas trop si elle doit s'exécuter ou pas, elle jette des regards vers toi pour demander de l'aide. Ne voyant aucune réaction de ta part, elle obéit, et tu la vois doucement se mettre à genoux devant $nameb. Une fois fait, $nameb te regarde d'un air menaçant, pendant que tu entends Clara déboutonner lentement son jean, et sortir sa queue... &lt;&lt;/a>> &lt;&lt;d b>> Suce. &lt;&lt;/d>> &lt;&lt;a>> Clara s'exécute immédiatement. La petite étincelle de résistance qu'elle a manifestée semble avoir disparu. Gêné, tu tournes la tête pour ne pas voir le spectacle. &lt;&lt;/a>> &lt;&lt;d b>> Approche et regarde. &lt;&lt;/d>> &lt;div class="choices"> &lt;&lt;button "Hein ?">> &lt;&lt;dunshow s4 s4-0 s4-1>> &lt;&lt;dshow s5>> &lt;&lt;excitation 20>> &lt;&lt;/button>> &lt;/div> &lt;/div> &lt;div id="s5"> &lt;&lt;a>> Surpris, tu t'approches lentement de $nameb, et tu baisses les yeux pour regarder au niveau de son caleçon. Tu vois les lèvres roses de Clara autour de la queue de $nameb. &lt;&lt;/a>> &lt;&lt;video _video1>> &lt;&lt;t>> Je suis désolé Clara... Tout ça c'est de ma faute... La pauvre. &lt;&lt;/t>> &lt;&lt;a>> C'est la première fois que tu vois une fille donner une fellation, et malgré la culpabilité d'être à l'origine de cette situation, tu ressens une excitation qui monte tout doucement. Tu ne peux t'empêcher de remarquer qu'elle a un talent certain dans ce qu'elle fait. &lt;&lt;/a>> &lt;&lt;d b>> Cette pute m'appartient, évite de tourner autour si tu ne veux pas que je te casse la mâchoire. &lt;&lt;/d>> &lt;&lt;a>> Pendant de longues minutes, le silence est complet dans les toilettes. On entend seulement les bruits de succion de la fellation de Clara qui semble complètement absorbée dans sa tâche. $nameb a les deux bras appuyés sur le lavabo. Il passe ses mains dans ses cheveux, et parfois, la pousse à avaler un peu mieux sa queue. &lt;&lt;/a>> &lt;div class="choices"> &lt;&lt;button "Continuer à regarder">> &lt;&lt;dunshow s5>> &lt;&lt;dshow s6>> &lt;&lt;/button>> &lt;/div> &lt;/div> &lt;div id="s6"> &lt;&lt;d b>> Mmmmh, regarde moi cette bonne suceuse. Je l'ai bien dressée. &lt;&lt;/d>> &lt;&lt;a>> S'adressant directement à Clara. &lt;&lt;/a>> &lt;&lt;d b>> T'es une bonne suceuse hein ? &lt;&lt;/d>> &lt;&lt;a>> Clara acquiesse sans prendre le temps de s'arrêter. &lt;&lt;/a>> &lt;&lt;d b>> Garde bien ma queue en bouche jusqu'à la fin. &lt;&lt;/d>> &lt;&lt;a>> Clara continue son job. Finalement, dans un long râle, $nameb finit par se vider complètement dans sa bouche. &lt;&lt;/a>> &lt;div class="choices"> &lt;&lt;button "Ne me dis pas que...">> &lt;&lt;dunshow s6>> &lt;&lt;dshow s7 e1>> &lt;&lt;excitation 10>> &lt;&lt;/button>> &lt;/div> &lt;/div> &lt;div id="s7"> &lt;&lt;video _video2>> &lt;&lt;a>> Une fois son esprit revenu, il la félicite d'être une bonne petite suceuse comme on félicite un chien qui a ramené la balle. Il la fait retourner dans son coin. &lt;&lt;/a>> &lt;&lt;a>> Il se retourne vers toi. Sans prévenir, il te met une gifle. &lt;&lt;/a>> &lt;&lt;d b>> Tu sais pourtant que je déteste ça quand tu me prends pour un con. &lt;&lt;/d>> &lt;&lt;a>> $nameb retrousse ses manches, tu sens que tu vas passer un mauvais moment. Il s'approche de toi. Instinctivement tu te recroquevilles sur toi même et tu fermes les yeux. &lt;&lt;/a>> &lt;/div> &lt;div id="e1" class="choices"> &lt;&lt;button "Frapper le premier">> &lt;&lt;pushevent b 11>> &lt;&lt;show e2>> &lt;&lt;unshow e1>> &lt;&lt;courage 5>> &lt;&lt;/button>> &lt;&lt;button "Fermer les yeux">> &lt;&lt;pushevent b 12>> &lt;&lt;goto FBRO-0-8-3>> &lt;&lt;blacked 5>> &lt;&lt;/button>> &lt;/div> &lt;div id="e2"> &lt;&lt;a>> Tu as encore besoin de te fortifier pour pouvoir te défendre. &lt;&lt;/a>> &lt;div class="choices"> &lt;&lt;button "Fermer les yeux">> &lt;&lt;goto FBRO-0-8-3>> &lt;&lt;/button>> &lt;/div> &lt;/div> &lt;&lt;endevent b 5 5>> &lt;&lt;endevent b 4 5>> &lt;&lt;unshow2 s2 s3 s4 s4-0 s4-1 s5 s6 s7 e1 e2>></tw-passagedata><tw-passagedata name=FBRO-0-8-3 position=5917,8928 size=100,100 tags=""pid=157>&lt;div id="s1"> &lt;&lt;d bf>> $nameb attends ! &lt;&lt;/d>> &lt;&lt;a>> $namebf vient d'entrer dans les toilettes, il fait face à ton bourreau qui s'est interrompu. Il n'a pas l'air du tout en confiance, et sa voix est tremblante, mais il arrive au moins à rester debout, lui. &lt;&lt;/a>> &lt;&lt;d bf>> E-ecoute, il n'a pas encore bien compris les règles, mais je le vois faire des efforts. Si tu es d'accord je vais payer pour lui aujourd'hui ok ? &lt;&lt;/d>> &lt;&lt;a>> $nameb réfléchit un instant. Tu le vois se détendre. &lt;&lt;/a>> &lt;&lt;d b>> Ok. Ok, je suis de bonne humeur aujourd'hui, c'est d'accord. Tu paieras pour lui. &lt;&lt;/d>> &lt;&lt;a>> Se tournant vers toi. &lt;&lt;/a>> &lt;&lt;d b>> T'as de la chance, y'a ton petit copain ''PD'' qui te sauve la mise aujourd'hui. Et remercie Clara aussi, bouffe-merde. &lt;&lt;/d>> &lt;&lt;a>> Puis, se tournant vers $namebf. &lt;&lt;/a>> &lt;&lt;d b>> On voit ça tout à l'heure. &lt;&lt;/d>> &lt;&lt;a>> Sans un mot, $namebf te prend par le bras et te sort de là. Tu as une dernière pensée pour Clara, obligée de rester à l'intérieur. Tu lui jettes un discret coup d'oeil, elle semble être revenue à son apathie habituelle. &lt;&lt;/a>> &lt;div class="choices"> &lt;&lt;button "Sortir des toilettes">> &lt;&lt;dunshow s1>> &lt;&lt;dshow s2>> &lt;&lt;/button>> &lt;/div> &lt;/div> &lt;div id="s2"> &lt;&lt;a>> Une fois dehors, $namebf éclate de rire. &lt;&lt;/a>> &lt;&lt;d bf>> Et bah, t'aimes bien te foutre dans la merde toi. &lt;&lt;/d>> &lt;&lt;d mc>> Je fais ça pour te permettre de venir me sauver ! &lt;&lt;/d>> &lt;&lt;a>> Vous vous dirigez en marchant vers les salles de classe. Tu remarques la démarche trainante de $namebf quand il marche. Cette petite balade te permet de reprendre doucement tes esprits après ce moment intense. Tu demandes. &lt;&lt;/a>> &lt;&lt;d mc>> C'était quoi, ça ? &lt;&lt;/d>> &lt;&lt;d bf>> Ca ? Bah c'était $nameb. &lt;&lt;/d>> &lt;&lt;d mc>> Mais je veux dire, pourquoi il a fait ça ?! &lt;&lt;/d>> &lt;&lt;d bf>> Dis moi, tu as un peu trop regardé cette fille, non ? &lt;&lt;/d>> &lt;div class="choices"> &lt;&lt;button "Ne rien répondre">> &lt;&lt;dunshow s2>> &lt;&lt;dshow s3>> &lt;&lt;/button>> &lt;/div> &lt;/div> &lt;div id="s3"> &lt;&lt;a>> Tu restes silencieux. &lt;&lt;/a>> &lt;&lt;d bf>> Tu n'as pas à te cacher, elle est super jolie... $nameb a du interpréter cela comme un manque de respect. Je suppose qu'il a voulu rappeler à qui appartient cette fille. A sa manière. &lt;&lt;/d>> &lt;&lt;a>> Après une petite pause, il conclut. &lt;&lt;/a>> &lt;&lt;d bf>> C'est normal pour le mâle dominant de protéger son territoire, et cette fille, c'est son territoire. &lt;&lt;/d>> &lt;&lt;t>> Le mâle dominant ? Territoire ? &lt;&lt;/t>> &lt;&lt;d mc>> Mais pourquoi cette fille se laisse faire ? &lt;&lt;/d>> &lt;&lt;a>> $namebf te regarde avec un air bizarre. Vous arrivez devant la porte de ta classe. Il s'arrête. &lt;&lt;/a>> &lt;div class="choices" id="c1"> &lt;&lt;button "Continuer">> &lt;&lt;dunshow s3>> &lt;&lt;dshow s3-1>> &lt;&lt;/button>> &lt;/div> &lt;/div> &lt;div id="s3-1"> &lt;&lt;d bf>> Bon poto, on continuera cette discussion plus tard. &lt;&lt;/d>> &lt;&lt;d mc>> En tout cas, merci beaucoup ! &lt;&lt;/d>> &lt;&lt;d bf>> Oh, c'était rien. Je connais bien $nameb, j'arrive à le gérer. &lt;&lt;/d>> &lt;&lt;d mc>> Ah ? Comment ça se fait que tu le connaisses comme ça ? &lt;&lt;/d>> &lt;&lt;d bf>> Bah... On va dire que je suis dans une situation similaire à la tienne. Mais on reparlera de ça plus tard. Tiens. &lt;&lt;/d>> &lt;&lt;a>> Il te tend un petit bout de papier. &lt;&lt;/a>> &lt;div class="choices" id="c1"> &lt;&lt;button "Le prendre">> &lt;&lt;dunshow s3-1>> &lt;&lt;dshow s4>> &lt;&lt;pushevent place 1>> &lt;&lt;/button>> &lt;/div> &lt;/div> &lt;div id="s4"> &lt;&lt;d bf>> C'est mon adresse. J'avais oublié de te la donner la dernière fois. Passe quand tu veux mon pote ! Tchuss. &lt;&lt;/d>> &lt;&lt;a>> $namebf s'éloigne en trainant des pieds pendant que tu fourres le papier dans ta poche. &lt;&lt;/a>> &lt;div class="choices"> &lt;&lt;button "Aller en cours" WIDGET-0-2-5 before:nextInstant-2>> &lt;&lt;/button>> &lt;/div> &lt;/div> &lt;&lt;unshow2 s2 s3 s3-1 s4>></tw-passagedata><tw-passagedata name=SUB-2-3-0 position=273,3372 size=100,100 tags=""pid=158>/* > Couleurs tests (#f97e02) > Couleurs tests (#f97902) Tu rencontres la meuf qui pleure. Elle t'explique qu'elle n'est pas bien Il se passe une couille Tu peux soit accuser le meilleur pote Il pose une main sur ton épaule > Tu peux soit te dégager > Soit te laisser faire Il te dit que tu vas travailler pour lui > Tu dois faire des trucs > des livraisons, gérer son réseau de putes, etc > Un moment il y a une embrouille avec les flics > Soit tu as choisi la rebellion et tu le trahis pour l'envoyer en taule > Soit tu as choisi la soumission et tu le protèges > b en taule > chapitre 3 > Tu prends le contrôle de la zone école > "Tu es maintenant responsable du quartier de l'école. Tu viens de te faire un nom dans la ville de B&W. Le problème, c'est que tu ne pourras plus te balader librement. Plus tu montes, plus la concurrence sera féroce. Plus tu deviens puissant, plus les gens voudront t'anéantir. Choisis bien tes alliés. Trahison, etc." > b dehors devient de plus en plus autoritaire > chapitre 3 */ &lt;&lt;pushevent b 13>> &lt;div id="s0"> &lt;&lt;a>> Tu rentres dans les toilettes. A première vue elles semblent vides, mais rapidement des gémissements venus du fond, derrière une porte, attirent ton attention. &lt;&lt;/a>> &lt;&lt;d mc>> Il y a quelqu'un ? &lt;&lt;/d>> &lt;&lt;qbutton "Aller vérifier" out:s0 out:initial in:s1>> &lt;/div> &lt;div id="s1"> &lt;&lt;a>> Piqué par la curiosité, tu t'approches. Avant que tu n'atteignes cette porte, elle s'ouvre. $nameb en sort. &lt;&lt;/a>> &lt;&lt;d b>> Tu veux quoi ? &lt;&lt;/d>> &lt;&lt;d mc>> R-rien... Tu veux que je m'en aille ? &lt;&lt;/d>> &lt;&lt;d b>> Fais ce que tu veux, j'ai fini ce que j'avais à faire. &lt;&lt;/d>> &lt;&lt;a>> Il te pousse pour passer, mais s'arrête à ta hauteur. &lt;&lt;/a>> &lt;&lt;d b>> Il faudra qu'on parle. J'ai quelque chose pour toi. &lt;&lt;/d>> &lt;&lt;a>> $nameb reprend son chemin. Tu entends la porte des toilettes claquer derrière toi. &lt;&lt;/a>> &lt;&lt;t>> Qu'est-ce qu'il me veut encore ? &lt;&lt;/t>> &lt;&lt;qbutton "Regarder dans la cabine" out:initial out:s1 in:s2>> &lt;/div> &lt;div id="s2"> /* La fille est là, elle explique sa situation et comment elle en est arrivée là */ /* Autre possibilité: best friend nous raconte avant que c'était une fille joyeuse */ &lt;&lt;image data/b/toilet/1.jpg>> &lt;&lt;a>> Tu ouvres la cabine. $nameclara est là, accroupie sur la cuvette des toilettes, la culotte en bas des genoux. Elle pleure. &lt;&lt;/a>> &lt;&lt;d mc>> $nameclara ! Tout va bien ? &lt;&lt;/d>> &lt;&lt;a>> Elle lève vers toi un visage en larme. &lt;&lt;/a>> &lt;&lt;video data/b/toilet/1.webm 30>> &lt;&lt;d clara>> Oui, oui, je vais bien... C'est juste... $nameb. &lt;&lt;/d>> &lt;&lt;a>> Elle remonte sa culotte, sèche ses larmes et sors des toilettes. Tu n'imagines que trop bien ce qui vient de se passer... &lt;&lt;/a>> &lt;&lt;qbutton "Continuer" out:s2 in:s3>> &lt;/div> &lt;div id="s3"> &lt;&lt;a>> $nameclara reste à côté de toi sans bouger. Tu essaies de briser la glace. &lt;&lt;/a>> &lt;&lt;d mc>> Ca fait longtemps que tu sors avec lui ? &lt;&lt;/d>> &lt;&lt;d clara>> Sortir ? Je ne sors pas avec lui... C-c'était mon dealer à la base. Je lui achetais de la beuh de temps en temps avant d'aller en soirée... Puis un jour il m'a donné quelque chose de plus fort. Beaucoup plus fort. Il me l'offrait gratuitement. Je pensais qu'il faisait ça parce qu'il m'aimait bien... J'ai été tellement naïve... &lt;&lt;/d>> &lt;&lt;a>> Elle essuie ses larmes avant de reprendre. Son maquillage a coulé. Etrangement, ça la rend plus attirante que jamais. &lt;&lt;/a>> &lt;&lt;d clara>> C'était vraiment un bon trip au début. Une bonne drogue. Mais rapidement, j'ai eu besoin d'augmenter les doses, de plus en plus. Et j'ai eu envie d'en prendre de plus en plus souvent... Et un jour, j-j'ai voulu arrêté. C'était horrible ! Je ne pensais plus qu'à ça, ça me torturait ! J-je n'ai pas réussi à stopper, et je suis retourné le voir une nuit pour lui en reprendre. J'étais complètement en manque. &lt;&lt;/d>> &lt;&lt;a>> $nameclara s'arrête, perdue dans ses pensées. &lt;&lt;/a>> &lt;&lt;qbutton "Lui demander de continuer" out:s3 in:s4>> &lt;/div> &lt;div id="s4"> &lt;&lt;d mc>> Et ensuite ? &lt;&lt;/d>> &lt;&lt;a>> Elle reprend. Sa voix est plus hésitante, plus saccadée. &lt;&lt;/a>> &lt;&lt;d clara>> E-ensuite... I-il m'a dit que c'était devenu payant ! Mais moi je ne pouvais pas payer ! C'est une drogue beaucoup trop chère pour moi, et j'ai déjà du mal à régler mon loyer... Je lui ai dit ça, et il m'a proposé de... de payer... autrement. Je n'ai pas su quoi répondre, j'en avais trop besoin ! J'étais totalement perdue ! Et j'ai... &lt;&lt;/d>> &lt;&lt;d mc>> Tu as ? &lt;&lt;/d>> &lt;&lt;d clara>> J'ai accepté son offre. I-Il voulait pas grand chose... juste que je le suce. &lt;&lt;/d>> &lt;&lt;t>> C'est pas grand chose ça ? &lt;&lt;/t>> &lt;&lt;qbutton "Continuer" out:s4 in:s5>> &lt;/div> &lt;div id="s5"> &lt;&lt;a>> Elle rigole d'un rire nerveux. &lt;&lt;/a>> &lt;&lt;d clara>> Ne me juge pas pour ça, c'était vraiment impossible de résister... J-je te raconterai peut-être la suite tard. &lt;&lt;/d>> &lt;&lt;d mc>> Comme tu veux $nameclara. &lt;&lt;/d>> &lt;&lt;d clara>> Eh, juste une dernière chose... C'est vrai que tu sors avec $namegf ? Je lui ai déjà parlé tu sais. Elle m'avait aidé pour des cours, c'est vraiment une gentille fille. Vous allez bien ensemble, je trouve. &lt;&lt;/d>> &lt;&lt;a>> Elle a un instant d'hésitation. &lt;&lt;/a>> &lt;&lt;d clara>> J'ai... J'ai entendu $nameb et sa bande parler d'elle à plusieurs reprises. Garde la très loin de lui, c'est un conseil. &lt;&lt;/d>> &lt;div id="s4-ellemeplait"> &lt;&lt;a>> Elle baisse les yeux, comme troublée. Tu as même l'impression qu'elle rougit. &lt;&lt;/a>> &lt;&lt;d clara>> Et... C-c'est vrai ce que t'as dit la dernière fois ? &lt;&lt;/d>> &lt;&lt;d mc>> J'ai dit quoi ? &lt;&lt;/d>> &lt;&lt;d clara>> Que... je te plaisais ? &lt;&lt;/d>> &lt;&lt;d mc>> ... &lt;&lt;/d>> &lt;&lt;a>> Elle sourit. C'est la première fois que tu vois $nameclara sourire. &lt;&lt;/a>> &lt;/div> &lt;&lt;d clara>> Bon, je file en cours. Merci. Ca m'a fait du bien de te parler. On se dit à plus tard alors ! &lt;&lt;/d>> &lt;&lt;t>> Cette fille a une triste histoire... &lt;&lt;/t>> &lt;div class="choices"> &lt;&lt;button "Aller en cours" WIDGET-0-2-5 before:nextInstant-2>> &lt;&lt;/button>> &lt;/div> &lt;/div> &lt;&lt;unshow2 s1 s2 s3 s4 s5>> &lt;&lt;if setup.isEvent("b", 10)>> &lt;&lt;unshow2 s4-ellemeplait>> &lt;&lt;/if>></tw-passagedata><tw-passagedata name=DREAM-0-7-5 position=8000,1634 size=100,100 tags=""pid=159>&lt;&lt;pushevent b 14>> &lt;div id="s0"> &lt;&lt;a>> Tu entres dans les toilettes. $nameb est en train de fumer un joint. Tu t'approches. &lt;&lt;/a>> &lt;&lt;d mc>> T-tu voulais me parler ? &lt;&lt;/d>> &lt;&lt;d b>> Installe toi. &lt;&lt;/d>> &lt;&lt;a>> Tu regardes autour de toi, il n'y a rien qui ne te semble approprié pour t'installer. Quel enculé... Tu restes sur place sans bouger. &lt;&lt;/a>> &lt;&lt;qbutton "Ecouter ce qu'il a à te dire" out:s0 out:initial in:s1>> &lt;/div> &lt;div id="s1"> &lt;&lt;d b>> J'ai bien compris que t'avais pas un rond. Foutu branleur incapable de ramener de la thune... $namebf lui au moins sait comment ramener de l'argent. &lt;&lt;/d>> &lt;&lt;t>> Facile, quand on a des parents blindés. &lt;&lt;/t>> &lt;&lt;d b>> J'ai un autre moyen pour toi de me payer. Tu vas me rendre des petits services. En échange de ma protection. &lt;&lt;/d>> &lt;&lt;t>> Sa protection... contre lui même... &lt;&lt;/t>> &lt;&lt;d mc>> Des services ? &lt;&lt;/d>> &lt;&lt;d b>> Ouais, des services. Je te dirai de faire un truc et le feras, c'est pas plus compliqué que ça. &lt;&lt;/d>> &lt;&lt;a>> $nameb pose son joint sur le rebord d'un évier. &lt;&lt;/a>> &lt;&lt;d b>> Je vais être direct. Les mecs qui traînent avec moi ont leur utilité dans certaines situations, mais c'est vraiment pas des flèches. Toi t'es peut-être une fiotte mais t'as pas l'air d'être trop con. Je vais pouvoir te trouver une utilité. Et puis, ça te ferait plaisir de bosser pour moi, hein ? &lt;&lt;/d>> &lt;div class="choices"> &lt;&lt;button "$namebf paie déjà pour moi !">> &lt;&lt;dunshow s1 initial>> &lt;&lt;dshow s2-1>> &lt;&lt;courage 5>> &lt;&lt;/button>> &lt;&lt;button "Est-ce que j'ai le choix ?">> &lt;&lt;dunshow s1 initial>> &lt;&lt;dshow s2-2>> &lt;&lt;blacked 5>> &lt;&lt;/button>> &lt;/div> &lt;/div> &lt;div id="s2-1"> &lt;&lt;t>> Après m'avoir tout volé, il essaie de m'exploiter ?! &lt;&lt;/t>> &lt;&lt;d mc>> Mais pourquoi je ferai ça, $namebf a déjà dit qu'il paierait pour moi ? Je m'arrange avec lui... &lt;&lt;/d>> &lt;&lt;a>> $nameb se met à rire. &lt;&lt;/a>> &lt;&lt;d b>> $namebf ? Je crois que t'as toujours pas bien compris comment ça marche ici, alors laisse moi t'expliquer. &lt;&lt;/d>> &lt;&lt;d b>> Ton pote PD m'avait dit qu'il ne pouvait pas me payer plus. T'imagines ma surprise quand s'est ramené en sauver pour payer ta part... Il m'a beaucoup déçu, et j'ai su lui montrer ma déception. Je ne rentre pas dans les détails, mais le prix pour sa protection a augmenté. Tu ne peux plus compter sur lui pour payer à ta place. &lt;&lt;/d>> &lt;&lt;a>> Tu sers les poings de rage. &lt;&lt;/a>> &lt;&lt;qbutton "Continuer" out:s2-1 in:s3>> &lt;/div> &lt;div id="s2-2"> &lt;&lt;d mc>> Je crois que je n'ai pas vraiment le choix. &lt;&lt;/d>> &lt;&lt;d b>> C'est très bien $namemc, je vois que tu commences à comprendre ta place ici. &lt;&lt;/d>> &lt;&lt;qbutton "Continuer" out:s2-2 in:s3>> &lt;/div> &lt;div id="s3"> &lt;&lt;d b>> Et pas d'enculade. Je crois qu'on a été assez clair sur qui donne les ordres ici. Tu sais de quoi je suis capable. &lt;&lt;/d>> &lt;&lt;a>> Les lèvres de $nameb se plissent dans un sourire pervers. &lt;&lt;/a>> &lt;&lt;d b>> Je n'hésiterai pas à rendre une petite visite à ta belle $namegf... En plus j'ai déjà vu qu'elle me kiffait. &lt;&lt;/d>> &lt;&lt;t>> Conneries ! &lt;&lt;/t>> &lt;&lt;d mc>> Et du coup, tu veux que je fasse quoi ? &lt;&lt;/d>> &lt;&lt;d b>> Reviens me voir demain, tu sauras ce que tu dois faire. &lt;&lt;/d>> &lt;&lt;a>> $nameb t'indique la porte d'un mouvement de la tête. &lt;&lt;/a>> &lt;div class="choices"> &lt;&lt;button "Aller en cours" WIDGET-0-2-5>> &lt;&lt;/button>> &lt;/div> &lt;/div> &lt;&lt;unshow2 s1 s2-1 s2-2 s3>></tw-passagedata><tw-passagedata name=SIS-1-0-4 position=5278,9072 size=100,100 tags=""pid=160>&lt;div id="s1"> &lt;&lt;d b>> Viens là. &lt;&lt;/d>> &lt;&lt;a>> Tu t'approches. &lt;&lt;/a>> &lt;/div> &lt;div id="no-mission"> &lt;&lt;d b>> J'ai rien pour toi aujourd'hui, reviens demain. &lt;&lt;/d>> &lt;/div> &lt;div id="mission-status-active"> &lt;&lt;d b>> Alors, ce que je t'ai donné à faire, ça avance ? &lt;&lt;/d>> &lt;&lt;d mc>> Je n'ai pas encore terminé... &lt;&lt;/d>> &lt;&lt;d b>> Bouge toi un peu plus putain ! Reviens me voir quand t'as fini. &lt;&lt;/d>> &lt;/div> &lt;div id="mission-1-info-1"> &lt;&lt;d b>> $namemc, j'ai un premier taff pour toi. Tu te sens prêt ? &lt;&lt;/d>> &lt;&lt;qbutton "Ecouter" out:initial out:s1 out:mission-1-info-1 in:mission-1-info-2>> &lt;/div> &lt;div id="mission-1-info-2"> &lt;&lt;d mc>> J-je crois. &lt;&lt;/d>> &lt;&lt;d b>> Tu connais les chintoks du $city.massage.name ? &lt;&lt;/d>> &lt;&lt;if setup.isJobActive("massage")>> &lt;&lt;d mc>> Oui, je les connais très bien, je bosse chez eux de temps en temps. &lt;&lt;/d>> &lt;&lt;d b>> Mais tu fais de la thune alors ?! &lt;&lt;/d>> &lt;&lt;t>> Merde... &lt;&lt;/t>> &lt;&lt;d mc>> P-pas assez pour te payer... &lt;&lt;/d>> &lt;&lt;a>> $nameb réfléchit un instant, avant de reprendre. &lt;&lt;/a>> &lt;&lt;else>> &lt;&lt;d mc>> Ouais je vois où est le salon de massage. &lt;&lt;/d>> &lt;&lt;/if>> &lt;&lt;qbutton "Continuer" out:mission-1-info-2 in:mission-1-info-3 in:goclass>> &lt;/div> &lt;div id="mission-1-info-3"> &lt;&lt;d b>> Je leur fournis de temps en temps des produits. &lt;&lt;/d>> &lt;&lt;d mc>> Sérieux ? Mais ils en font quoi ? &lt;&lt;/d>> &lt;&lt;d b>> Elle m'a dit que certains de leurs clients avaient des demandes... particulières. J'en sais pas plus. D'façon ça me regarde pas, et toi non plus, compris ? On évite de poser trop de questions, garde ça en tête si tu veux pas de problèmes. &lt;&lt;/d>> &lt;&lt;t>> J'y pense... Ca fait longtemps qu'il m'a pas insulté... &lt;&lt;/t>> &lt;&lt;d b>> Je te résume ça: aller au $city.massage.name, déposer le colis, récupérer la thune, revenir. Aucune question, aucun risque, aucun problème. &lt;&lt;/d>> &lt;&lt;a>> Il te temps un petit paquet emballé dans un papier brun. Le colis fait sont poids, un bon 5 kilos. &lt;&lt;/a>> &lt;&lt;d b>> Reviens me voir quand t'as fini. Et te fais pas choper avec ça. &lt;&lt;/d>> &lt;&lt;t>> Je ne sais pas ce qu'il y a là dedans, mais ça m'a l'air tout sauf légal. Me voilà livreur de substances bizarres... ? &lt;&lt;/t>> &lt;/div> &lt;div id="mission-1-done"> &lt;&lt;d b>> Ca avance ce que tu dois faire ? &lt;&lt;/d>> &lt;&lt;d mc>> Ca y est, le colis est livré. &lt;&lt;/d>> &lt;&lt;d b>> Donne la thune. &lt;&lt;/d>> &lt;&lt;a>> Tu lui donnes la liasse de billets que tu as reçu. $nameb la prend, la soupèse et l'agite. Il compte l'argent, billet par billet, puis se retourne vers toi, satisfait. &lt;&lt;/a>> &lt;&lt;d b>> Elle t'a donné quelque chose d'autre ? &lt;&lt;/d>> &lt;div class="choices"> &lt;&lt;button "Dire la vérité">> &lt;&lt;obeissant 5>> &lt;&lt;franc -100>> &lt;&lt;dunshow mission-1-done initial s1>> &lt;&lt;dshow mission-1-done-verite mission-1-done-2 goclass>> &lt;&lt;/button>> &lt;&lt;button "Mentir">> &lt;&lt;rebellion 5>> &lt;&lt;dunshow mission-1-done initial s1>> &lt;&lt;dshow mission-1-done-mensonge mission-1-done-2 goclass>> &lt;&lt;/button>> &lt;/div> &lt;/div> &lt;div id="mission-1-done-verite"> &lt;&lt;d mc>> J-J'ai aussi gagné 100$ pour mon travail... &lt;&lt;/d>> &lt;&lt;d b>> Gagné ? Tout ce que tu gagnes est à moi. Donne moi cette thune. &lt;&lt;/d>> &lt;&lt;a>> Tu donnes l'argent à contre-coeur. &lt;&lt;/a>> &lt;/div> &lt;div id="mission-1-done-mensonge"> &lt;&lt;a>> $nameb te regarde d'un air suspicieux. &lt;&lt;/a>> &lt;&lt;d b>> T'es sûr de toi ? &lt;&lt;/d>> &lt;&lt;a>> Tu tiens le regard de $nameb. &lt;&lt;/a>> &lt;&lt;d mc>> O-oui. &lt;&lt;/d>> &lt;/div> &lt;div id="mission-1-done-2"> &lt;&lt;d b>> Très bien. T'as fait du bon travail, je crois que je vais pouvoir faire quelque chose de toi. &lt;&lt;/d>> &lt;&lt;d b>> Reviens me voir demain. &lt;&lt;/d>> &lt;/div> &lt;div id="mission-2-info-1"> &lt;&lt;d b>> J'ai autre chose pour toi bouffe merde. &lt;&lt;/d>> &lt;&lt;t>> Bouffe merde. Ca faisait longtemps... &lt;&lt;/t>> &lt;&lt;button "Je dois faire quoi ?">> &lt;&lt;dunshow initial s1 mission-2-info-1>> &lt;&lt;dshow mission-2-info-2>> &lt;&lt;pushevent place 6>> &lt;&lt;/button>> &lt;/div> &lt;div id="mission-2-info-2"> &lt;&lt;d b>> Tu vois le camp des clodos à la sortie de la ville ? Tu vas aller là bas, et tu vas demander à parler avec un mec qui s'appelle Palmer. C'est un camé random qui me doit un peu de thune. &lt;&lt;/d>> &lt;&lt;d mc>> T-tu veux que je joue les gros bras ??? &lt;&lt;/d>> &lt;&lt;d b>> De quoi tu parles les gros bras ? Palmer est un camé de 40 kilos, il ne va poser aucun problème. &lt;&lt;/d>> &lt;&lt;d mc>> Et il te doit combien ? &lt;&lt;/d>> &lt;&lt;d b>> 50 balles. &lt;&lt;/d>> &lt;&lt;d mc>> C'est tout ?! &lt;&lt;/d>> &lt;&lt;d b>> Ouais, c'est pas grand chose. C'est pour ça que j'envoie un sous fifre. Et puis, tu seras avec tes potes clodos. &lt;&lt;/d>> &lt;&lt;a>> Il éclate d'un rire bien bras. &lt;&lt;/a>> &lt;&lt;t>> Bouffon... &lt;&lt;/t>> &lt;&lt;d b>> Je te résume ça: aller dans le camp des SDF, demander Palmer, récupérer les 50 balles et me les ramener. Reviens me voir quand t'as fini. &lt;&lt;/d>> &lt;&lt;button "Aller en cours" WIDGET-0-2-5 before:nextInstant-2>> &lt;&lt;pushevent place 6>> &lt;&lt;/button>> &lt;/div> &lt;div id="mission-2-done"> &lt;&lt;d b>> T'as la thune ? &lt;&lt;/d>> &lt;&lt;a>> Tu lui donnes les 50$. &lt;&lt;/a>> &lt;&lt;d b>> Tu t'en sors bien. Palmer est une véritable merde. Ca m'aurait emmerdé de devoir me salir les mains en lui collant des gifles. &lt;&lt;/d>> &lt;&lt;a>> Tu acquiesces. &lt;&lt;/a>> &lt;&lt;d b>> Reviens me voir demain. &lt;&lt;/d>> &lt;&lt;button "Aller en cours" WIDGET-0-2-5 before:nextInstant-2>> &lt;&lt;/button>> &lt;/div> &lt;div class="choices" id="goclass"> &lt;&lt;button "Aller en cours" WIDGET-0-2-5 before:nextInstant-2>> &lt;&lt;/button>> &lt;/div> &lt;div id="mission-3-info-1"> &lt;/div> &lt;div id="endOfMission"> &lt;&lt;include VRT-0-0-3>> &lt;&lt;button "Aller en cours" WIDGET-0-2-5 before:nextInstant-2>> &lt;&lt;/button>> &lt;/div> &lt;&lt;unshow2 mission-status-active no-mission endOfMission goclass>> &lt;&lt;unshow2 mission-1-info-1 mission-1-info-2 mission-1-info-3 mission-1-done mission-1-done-verite mission-1-done-mensonge mission-1-done-2>> &lt;&lt;unshow2 mission-2-info-1 mission-2-info-2 mission-2-done>> &lt;&lt;unshow2 mission-3-info-1>> &lt;&lt;if setup.getQuest("rivalmission", "status") == "end">> &lt;&lt;run setup.setQuest("rivalmission", "status", "next")>> &lt;&lt;show2 no-mission goclass>> &lt;&lt;elseif setup.getQuest("rivalmission", "num") == 0>> &lt;&lt;run setup.setQuest("rivalmission", "num", 1)>> &lt;&lt;run setup.setQuest("rivalmission", "status", "active")>> &lt;&lt;show2 mission-1-info-1>> &lt;&lt;elseif setup.getQuest("rivalmission", "status") == "active">> &lt;&lt;show2 mission-status-active goclass>> &lt;&lt;elseif setup.getQuest("rivalmission", "status") == "done">> &lt;&lt;set _missionDoneId = "mission-" + setup.getQuest("rivalmission", "num") + "-done">> &lt;&lt;show2 _missionDoneId>> &lt;&lt;run setup.setQuest("rivalmission", "status", "end")>> &lt;&lt;if setup.getQuest("rivalmission", "num") == 2>> &lt;&lt;franc -50>> &lt;&lt;pushevent b 17>> &lt;&lt;/if>> &lt;&lt;elseif setup.getQuest("rivalmission", "status") == "next">> &lt;&lt;set _curQuest = setup.getQuest("rivalmission", "num")>> &lt;&lt;set _curQuest = _curQuest + 1>> &lt;&lt;set setup.setQuest("rivalmission", "num", _curQuest)>> &lt;&lt;set _infoQuestId = "mission-" + _curQuest + "-info-1">> &lt;&lt;run setup.setQuest("rivalmission", "status", "active")>> &lt;&lt;show2 _infoQuestId>> &lt;&lt;/if>> &lt;&lt;if setup.isEvent("b", 17)>> &lt;&lt;show2 endOfMission>> &lt;&lt;/if>> /* Distribution des missions > >> Mission 1: > Récupérer la thune auprès du salon de massage japonais > Elle nous donne un bonus pour qu'on ne dise rien > On peut donner ce bonus à rival ou bien le garde pour soi >> Mission 2: > Aller dans le camp des clodos > Dilemne dans lequel on peut soit faire quelque chose que l'on veut pas faire qui est dégoutant, soit trouver une solution pour contourner >> Mission 3: > Rendre visite à Clara qui est malade et qui a besoin de sa dose > On continue l'histoire de sa vie et on peut soit faire du cul avec elle soit rien */</tw-passagedata><tw-passagedata name=SIS-0-5-5 position=499,2757 size=100,100 tags=""pid=161>&lt;&lt;pushevent b 3>> &lt;div id="s1"> &lt;&lt;a>> La porte s'ouvre. $nameb est seul avec les deux filles. Il y a toujours cette odeur de beuh et de pisse. Les filles ont l'air complètement stonent et remarquent à peine que tu es arrivé. $nameb te fait signe de rentrer. Une fois au milieu des toilettes, tu attends. &lt;&lt;/a>> &lt;&lt;d b>> Et bah reste pas planté là gros, dis bonjour. &lt;&lt;/d>> &lt;div class="choices"> &lt;&lt;button "Dire bonjour">> &lt;&lt;dunshow initial s1>> &lt;&lt;dshow s2>> &lt;&lt;franc -20>> &lt;&lt;if setup.isStink()>> &lt;&lt;humiliation 1>> &lt;&lt;/if>> &lt;&lt;/button>> &lt;/div> &lt;/div> &lt;div id="s2"> &lt;&lt;a>> Tu es un peu surpris, mais tu finis par te mettre en mouvement pour aller faire la bise aux deux filles. Leurs mouvements sont lents, et tu peux voir leur visage s'approcher et s'éloigner. Tu remarques à quel point elle sont toutes les deux vraiment très belles. &lt;&lt;/a>> &lt;div id="stink-1"> &lt;&lt;a>> Les deux filles ont un petit mouvement de recul quand tu leur fais la bise. &lt;&lt;/a>> &lt;&lt;d b>> C'est toi qui sens comme ça ? Sérieux tu devrais penser à te laver... Même dans les chiottes on ne sent que toi... &lt;&lt;/d>> &lt;/div> &lt;&lt;a>> Tu te tournes vers $nameb, un peu gêné et ne sachant quoi faire. Sans pression, il te fait un check et te met une petite tape amicale derrière la tête. &lt;&lt;/a>> &lt;&lt;d mc>> Salut. &lt;&lt;/d>> &lt;&lt;a>> Ton salut était piteux, t'en prends conscience juste après l'avoir sorti. Tu tends les 20€ à $nameb. &lt;&lt;/a>> &lt;&lt;d mc>> Voilà ton salaire. &lt;&lt;/d>> &lt;&lt;a>> $nameb te regarde quelques instants, puis se met à rigoler. &lt;&lt;/a>> &lt;&lt;d b>> Ah ! Mon salaire ! Je t'aime bien toi, t'as toujours les bons mots. &lt;&lt;/d>> &lt;&lt;a>> Tu écoutes $nameb te raconter ses histoires de dealer, puis il pointe du doigt la porte pour t'indiquer qu'il est temps de partir. Les filles n'ont pas dit un mot, et te suivent machinalement des yeux alors que tu quittes la pièce. &lt;&lt;/a>> &lt;div class="choices"> &lt;&lt;button "Jeter un coup d'oeil à cheveux blonds">> &lt;&lt;excitation 10>> &lt;&lt;pushevent b 4>> &lt;&lt;set _pic = "data/b/b/p/" + $events.b[4] + ".jpg">> &lt;&lt;dunshow s2>> &lt;&lt;dshow s3>> &lt;&lt;if $events.b[4] == 5>> &lt;&lt;prepend "#s3">> &lt;&lt;image _pic 50>> &lt;&lt;/prepend>> &lt;&lt;else>> &lt;&lt;prepend "#s3">> &lt;&lt;image _pic>> &lt;&lt;/prepend>> &lt;&lt;/if>> &lt;&lt;/button>> &lt;&lt;button "Jeter un coup d'oeil à cheveux noirs">> &lt;&lt;excitation 10>> &lt;&lt;pushevent b 5>> &lt;&lt;set _pic = "data/b/n/p/" + $events.b[5] + ".jpg">> &lt;&lt;dunshow s2>> &lt;&lt;dshow s3>> &lt;&lt;prepend "#s3">> &lt;&lt;image _pic>> &lt;&lt;/prepend>> &lt;&lt;/button>> &lt;/div> &lt;/div> &lt;div id="s3"> &lt;&lt;a>> Le contact visuel trouble immédiatement ton esprit. Ton imagination s'emballe, et tu la visualises dans une autre situation. La pression t'oblige à décrocher ton regard. &lt;&lt;/a>> &lt;div class="choices"> &lt;&lt;button "Aller en cours" WIDGET-0-2-5 before:nextInstant-2>> &lt;&lt;/button>> &lt;/div> &lt;/div> &lt;&lt;unshow2 s2 s3 stink-1>> &lt;&lt;if setup.isStink()>> &lt;&lt;show2 stink-1>> &lt;&lt;crasseux>> &lt;&lt;/if>></tw-passagedata><tw-passagedata name=END-1-8-2 position=8395,2157 size=100,100 tags=""pid=162>&lt;div id="initial"> &lt;&lt;image data/places/school/toilet2.jpg 50>> &lt;/div> &lt;div id="end" style="display:none;"> &lt;&lt;d author>> Tu es arrivé au bout de cette quête ! La suite arrive bientôt ! &lt;&lt;/d>> &lt;div class="choices"> &lt;&lt;button "Aller en cours" WIDGET-0-2-5 before:nextInstant-2>> &lt;&lt;/button>> &lt;/div> &lt;/div> &lt;div id="base" style="display:none;"> &lt;&lt;t>> Je préfère éviter les toilettes, c'est un endroit mal famé et dangereux. Le directeur a pourtant promis lors de son dernier discours de faire quelque chose, mais apparemment il n'a pas tenu parole, ou il n'a pas pu le faire. &lt;&lt;/t>> &lt;div class="choices"> [[Tu préfères t'éloigner|SUB-1-4-3]] &lt;/div> &lt;/div> &lt;&lt;unshow2 end base>> /* Quand les roilettes sont vides */ &lt;&lt;if setup.isGameDay(0)>> &lt;&lt;show2 base>> /* Deuxième première scène avec le rival */ &lt;&lt;elseif setup.isGameDay(2)>> &lt;&lt;include SBFR-2-5-1>> /* Premier cycle avec le rival => lui donner de l'argent jusqu'à épuisement des fonds */ &lt;&lt;elseif setup.isEvent("b", 1) && not setup.isEvent("b", 6)>> /* Tu as encore de l'argent */ &lt;&lt;if setup.canBuy(20)>> &lt;&lt;include SIS-0-5-5>> /* Tu n'as plus d'argent */ &lt;&lt;else>> &lt;&lt;include VRT-0-2-5>> &lt;&lt;/if>> /* Deuxième cycle avec le rival => tu fais des missions pour lui */ &lt;&lt;elseif setup.isEvent("b", 6)>> &lt;&lt;if not setup.isEvent("b", 13)>> &lt;&lt;include SUB-2-3-0>> &lt;&lt;elseif not setup.isEvent("b", 14)>> &lt;&lt;include DREAM-0-7-5>> &lt;&lt;else>> &lt;&lt;include SIS-1-0-4>> &lt;&lt;/if>> &lt;&lt;else>> &lt;&lt;show2 base>> &lt;&lt;/if>></tw-passagedata><tw-passagedata name=DOM-2-5-1 position=4625,9121 size=100,100 tags=""pid=163>&lt;&lt;setColors black white>> &lt;style> #flag-selector a::after { content: none; } &lt;/style> &lt;&lt;a>> Select your language. &lt;&lt;/a>> &lt;&lt;set _enFlag = '&lt;img id="lang_english" src="' + setup.findMedia("data/default/flag/english2.png") + '">'>> &lt;&lt;set _frFlag = '&lt;img id="lang_french" src="' + setup.findMedia("data/default/flag/france.png") + '">'>> &lt;div id="flag-selector"> &lt;a href="javascript:void(0)" onclick="SugarCube.setup.initialLangSelector('EN')"> &lt;&lt;= _enFlag>> &lt;/a> &lt;a href="javascript:void(0)" onclick="SugarCube.setup.initialLangSelector('FR')"> &lt;&lt;= _frFlag>> &lt;/a> &lt;/div></tw-passagedata><tw-passagedata name=SBFR-0-6-1 position=811,2181 size=100,100 tags=""pid=164>&lt;&lt;include END-0-6-0>> &lt;&lt;include VRT-0-5-3>> &lt;&lt;include MOM-1-6-2>></tw-passagedata><tw-passagedata name=END-0-6-0 position=8711,2731 size=100,100 tags=""pid=165>&lt;&lt;set _audioList = [ ["massage_ambiance.mp3", "massage_ambiance_day"], ["nightclub_ambiance_night.mp3", "nightclub_ambiance_night"], ["city_ambiance.mp3", "city_ambiance_day"], ["park_ambiance.mp3", "park_ambiance_day"], ["bank_ambiance.mp3", "bank_ambiance_day"], ["city_ambiance_night.mp3", "city_ambiance_night"], ["n1.mp3", "notification_base"] ]>> &lt;&lt;for _i to 0; _i lt _audioList.length; _i++>> &lt;&lt;set _audioPath = setup.findMedia("data/audio/" + _audioList[_i][0])>> &lt;&lt;set _cache = "&lt;&lt;cacheaudio " + _audioList[_i][1] + " " + _audioPath + ">>">> &lt;&lt;= _cache>> &lt;&lt;/for>> &lt;&lt;createaudiogroup ":sound">> &lt;&lt;track "nightclub_ambiance_night">> &lt;&lt;track "massage_ambiance_day">> &lt;&lt;track "city_ambiance_day">> &lt;&lt;track "park_ambiance_day">> &lt;&lt;track "bank_ambiance_day">> &lt;&lt;track "city_ambiance_night">> &lt;&lt;track "notification_base">> &lt;&lt;/createaudiogroup>> &lt;&lt;widget ambiance>> &lt;&lt;if $args.length != 1>> &lt;div class="bug"> Missing value: type or num event missing. &lt;/div> &lt;&lt;/if>> &lt;&lt;set _file = $args[0]>> &lt;&lt;set _isPlaying = false>> &lt;&lt;if SimpleAudio.tracks.has(_file)>> &lt;&lt;set _isPlaying = SimpleAudio.tracks.get(_file).isPlaying()>> &lt;&lt;/if>> &lt;&lt;if _file == "stop">> &lt;&lt;audio ":playing" fadeoverto 2 0>> &lt;&lt;elseif !_isPlaying>> &lt;&lt;audio ":playing" fadeoverto 2 0>> &lt;&lt;if settings.soundMusic>> &lt;&lt;timed 1s>> &lt;&lt;audio _file loop volume 0 fadeoverto 2 1>> &lt;&lt;/timed>> &lt;&lt;/if>> &lt;&lt;/if>> &lt;&lt;/widget>></tw-passagedata><tw-passagedata name=VRT-0-5-3 position=3971,9076 size=100,100 tags=""pid=166>&lt;&lt;set $notif_queue = []>> &lt;&lt;set $notif_num = 0>> &lt;&lt;set $events = { "mc": {}, "gf": {}, "sm": {}, "ss": {}, "b": {}, "bf": {}, "place": {}, "porn": {}, "blackedTitle": {}, "whitedTitle": {}, "dream": {}, "bus": {}, "bank": {}, "massage": {}, "city": {}, "sdf": {} }>> /* Mise à 0 de tous les events pour éviter qu'un events.type[num] ne renvoie rien */ &lt;&lt;for _i range Object.keys($events)>> &lt;&lt;for _j to 0; _j lt 100; _j++>> &lt;&lt;set $events[_i][_j] = 0>> &lt;&lt;/for>> &lt;&lt;/for>></tw-passagedata><tw-passagedata name=MOM-1-6-2 position=1203,1656 size=100,100 tags=""pid=167>&lt;&lt;widget setColors>> &lt;&lt;if State.__getUpperName__.args.length > 1>> &lt;&lt;script>> document.body.style.backgroundColor = State.__getUpperName__.args[0]; document.body.style.color = State.__getUpperName__.args[1]; $(".background").css("background-color", State.__getUpperName__.args[0]); &lt;&lt;/script>> &lt;&lt;else>> &lt;&lt;if State.__getUpperName__.args[0] == "night-stars">> &lt;div class="night-stars">&lt;/div> &lt;div class="night-twinkling">&lt;/div> &lt;&lt;elseif State.__getUpperName__.args[0] == "reset">> &lt;&lt;script>> document.body.style.backgroundColor = ""; document.body.style.color = ""; &lt;&lt;/script>> &lt;&lt;/if>> &lt;&lt;/if>> &lt;&lt;/widget>> &lt;&lt;widget oneshot>> &lt;&lt;set $engine.oneshot[$args[0]] = true>> &lt;&lt;/widget>> &lt;&lt;widget test>> &lt;&lt;= 3>> &lt;&lt;/widget>></tw-passagedata></tw-storydata><script id=script-sugarcube>"loading"===document.documentElement.getAttribute("data-init")&&function(window,document,jQuery,undefined){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _toConsumableArray(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}var _createClass=function(){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}(),_slicedToArray=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,a=!1,i=undefined;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){a=!0,i=e}finally{try{!n&&s.return&&s.return()}finally{if(a)throw i}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},errorPrologRegExp=/^(?:(?:uncaught\s+(?:exception:\s+)?)?\w*(?:error|exception|_err):\s+)+/i,Alert=function(){function n(e,t,r,n){var a="fatal"===e,i="Apologies! "+(a?"A fatal":"An")+" error has occurred.";i+=a?" Aborting.":" You may be able to continue, but some parts may not work properly.",null==t&&null==r||(i+="\n\nError",null!=t&&(i+=" ["+t+"]"),i+=null!=r?": "+r.replace(errorPrologRegExp,"")+".":": unknown error."),"object"===(void 0===n?"undefined":_typeof(n))&&n.stack&&(i+="\n\nStack Trace:\n"+n.stack),window.alert(i)}function i(e,t,r){n(null,e,t,r)}function o(e,t,r){n("fatal",e,t,r)}return s=window.onerror,window.onerror=function(e,t,r,n,a){"complete"===document.readyState?i(null,e,a):(o(null,e,a),window.onerror=s,"function"==typeof window.onerror&&window.onerror.apply(this,arguments))},Object.freeze(Object.defineProperties({},{error:{value:i},fatal:{value:o}}));var s}(),Patterns=(_=new Map([[" ","\\u0020"],["\f","\\f"],["\n","\\n"],["\r","\\r"],["\t","\\t"],["\v","\\v"],[" ","\\u00a0"],[" ","\\u1680"],["᠎","\\u180e"],[" ","\\u2000"],[" ","\\u2001"],[" ","\\u2002"],[" ","\\u2003"],[" ","\\u2004"],[" ","\\u2005"],[" ","\\u2006"],[" ","\\u2007"],[" ","\\u2008"],[" ","\\u2009"],[" ","\\u200a"],["\u2028","\\u2028"],["\u2029","\\u2029"],[" ","\\u202f"],[" ","\\u205f"],["　","\\u3000"],["\ufeff","\\ufeff"]]),aa=/^\s$/,ba="",_.forEach(function(e,t){aa.test(t)||(ba+=e)}),V=ba?"[\\s"+ba+"]":"\\s",W="\\s"===V?"\\S":V.replace(/^\[/,"[^"),X="[0-9A-Z_a-z\\-\\u00c0-\\u00d6\\u00d8-\\u00f6\\u00f8-\\u00ff\\u0150\\u0170\\u0151\\u0171]",Y=X.replace("\\-",""),Object.freeze({space:V,spaceNoTerminator:"[\\u0020\\f\\t\\v\\u00a0\\u1680\\u180e\\u2000-\\u200a\\u202f\\u205f\\u3000\\ufeff]",lineTerminator:"[\\n\\r\\u2028\\u2029]",notSpace:W,anyChar:"(?:.|[\\n\\r\\u2028\\u2029])",anyLetter:X,anyLetterStrict:Y,identifierFirstChar:"[$A-Z_a-z]",identifierNextChar:"[$0-9A-Z_a-z]",identifier:"[$A-Z_a-z][$0-9A-Z_a-z]*",variableSigil:"[$_]",variable:"[$_][$A-Z_a-z][$0-9A-Z_a-z]*",macroName:"[A-Za-z][\\w-]*|[=-]",templateName:"[A-Za-z][\\w-]*",cssImage:"\\[[<>]?[Ii][Mm][Gg]\\[(?:\\s|\\S)*?\\]\\]+",inlineCss:"([0-9A-Z_a-z\\-\\u00c0-\\u00d6\\u00d8-\\u00f6\\u00f8-\\u00ff\\u0150\\u0170\\u0151\\u0171]+)\\(([^\\)\\|\\n]+)\\):|([0-9A-Z_a-z\\-\\u00c0-\\u00d6\\u00d8-\\u00f6\\u00f8-\\u00ff\\u0150\\u0170\\u0151\\u0171]+):([^;\\|\\n]+);|((?:\\.[0-9A-Z_a-z\\-\\u00c0-\\u00d6\\u00d8-\\u00f6\\u00f8-\\u00ff\\u0150\\u0170\\u0151\\u0171]+)+);|((?:#[0-9A-Z_a-z\\-\\u00c0-\\u00d6\\u00d8-\\u00f6\\u00f8-\\u00ff\\u0150\\u0170\\u0151\\u0171]+)+);",url:"(?:file|https?|mailto|ftp|javascript|irc|news|data):[^\\s'\"]+"})),_,aa,ba,V,W,X,Y;!function(e){if(e&&e.prototype&&null==e.prototype.firstElementChild){var n=Node.ELEMENT_NODE;Object.defineProperty(e.prototype,"firstElementChild",{get:function(){for(var e=this.childNodes,t=0;t<e.length;++t){var r=e[t];if(r.nodeType===n)return r}return null}})}}(window.Node||window.Element),function(){function i(e,t){var r=Number.parseInt(e,10)||0;if(r<1)return"";var n=void 0===t?"":String(t);for(""===n&&(n=" ");n.length<r;){var a=n.length,i=r-a;n+=i<a?n.slice(0,i):n}return n.length>r&&(n=n.slice(0,r)),n}var n,a,e=(n=new RegExp("^"+Patterns.space+Patterns.space+"*"),a=new RegExp(""+Patterns.space+Patterns.space+"*$"),function(e,t){var r=String(e);if(!r)return r;switch(t){case"start":return n.test(r)?r.replace(n,""):r;case"end":return a.test(r)?r.replace(a,""):r;default:throw new Error('_trimString called with incorrect where parameter value: "'+t+'"')}});Array.prototype.flat||Object.defineProperty(Array.prototype,"flat",{configurable:!0,writable:!0,value:function r(){if(null==this)throw new TypeError("Array.prototype.flat called on null or undefined");var n=0===arguments.length?1:Number(arguments[0])||0;return n<1?Array.prototype.slice.call(this):Array.prototype.reduce.call(this,function(e,t){return t instanceof Array?e.push.apply(e,_toConsumableArray(r.call(t,n-1))):e.push(t),e},[])}}),Array.prototype.flatMap||Object.defineProperty(Array.prototype,"flatMap",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Array.prototype.flatMap called on null or undefined");return Array.prototype.map.apply(this,arguments).flat()}}),Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Array.prototype.includes called on null or undefined");if(0===arguments.length)return!1;var e=this.length>>>0;if(0==e)return!1;var t=arguments[0],r=Number(arguments[1])||0;for(r<0&&(r=Math.max(0,e+r));r<e;++r){var n=this[r];if(n===t||n!=n&&t!=t)return!0}return!1}}),Object.entries||Object.defineProperty(Object,"entries",{configurable:!0,writable:!0,value:function(t){if("object"!==(void 0===t?"undefined":_typeof(t))||null===t)throw new TypeError("Object.entries object parameter must be an object");return Object.keys(t).map(function(e){return[e,t[e]]})}}),Object.fromEntries||Object.defineProperty(Object,"fromEntries",{configurable:!0,writable:!0,value:function(e){return Array.from(e).reduce(function(e,t){if(Object(t)!==t)throw new TypeError("Object.fromEntries iterable parameter must yield objects");return t[0]in e?Object.defineProperty(e,t[0],{configurable:!0,enumerable:!0,writable:!0,value:t[1]}):e[t[0]]=t[1],e},{})}}),Object.getOwnPropertyDescriptors||Object.defineProperty(Object,"getOwnPropertyDescriptors",{configurable:!0,writable:!0,value:function(e){if(null==e)throw new TypeError("Object.getOwnPropertyDescriptors object parameter is null or undefined");var n=Object(e);return Reflect.ownKeys(n).reduce(function(e,t){var r=Object.getOwnPropertyDescriptor(n,t);return void 0!==r&&(t in e?Object.defineProperty(e,t,{configurable:!0,enumerable:!0,writable:!0,value:r}):e[t]=r),e},{})}}),Object.values||Object.defineProperty(Object,"values",{configurable:!0,writable:!0,value:function(t){if("object"!==(void 0===t?"undefined":_typeof(t))||null===t)throw new TypeError("Object.values object parameter must be an object");return Object.keys(t).map(function(e){return t[e]})}}),String.prototype.padStart||Object.defineProperty(String.prototype,"padStart",{configurable:!0,writable:!0,value:function(e,t){if(null==this)throw new TypeError("String.prototype.padStart called on null or undefined");var r=String(this),n=r.length,a=Number.parseInt(e,10);return a<=n?r:i(a-n,t)+r}}),String.prototype.padEnd||Object.defineProperty(String.prototype,"padEnd",{configurable:!0,writable:!0,value:function(e,t){if(null==this)throw new TypeError("String.prototype.padEnd called on null or undefined");var r=String(this),n=r.length,a=Number.parseInt(e,10);return a<=n?r:r+i(a-n,t)}}),String.prototype.trimStart||Object.defineProperty(String.prototype,"trimStart",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("String.prototype.trimStart called on null or undefined");return e(this,"start")}}),String.prototype.trimLeft||Object.defineProperty(String.prototype,"trimLeft",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("String.prototype.trimLeft called on null or undefined");return e(this,"start")}}),String.prototype.trimEnd||Object.defineProperty(String.prototype,"trimEnd",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("String.prototype.trimEnd called on null or undefined");return e(this,"end")}}),String.prototype.trimRight||Object.defineProperty(String.prototype,"trimRight",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("String.prototype.trimRight called on null or undefined");return e(this,"end")}})}(),function(){function _random(){var e=void 0,t=void 0;switch(arguments.length){case 0:throw new Error("_random called with insufficient parameters");case 1:t=arguments[e=0];break;default:e=arguments[0],t=arguments[1]}if(t<e){var r=[t,e];e=r[0],t=r[1]}return Math.floor(_nativeMathRandom()*(t-e+1))+e}function _randomIndex(e,t){var r=void 0,n=void 0;switch(t.length){case 1:r=0,n=e-1;break;case 2:r=0,n=Math.trunc(t[1]);break;default:r=Math.trunc(t[1]),n=Math.trunc(t[2])}return Number.isNaN(r)?r=0:!Number.isFinite(r)||e<=r?r=e-1:r<0&&(r=e+r)<0&&(r=0),Number.isNaN(n)?n=0:!Number.isFinite(n)||e<=n?n=e-1:n<0&&(n=e+n)<0&&(n=e-1),_random(r,n)}function _getCodePointStartAndEnd(e,t){var r=e.charCodeAt(t);if(Number.isNaN(r))return{char:"",start:-1,end:-1};if(r<55296||57343<r)return{char:e.charAt(t),start:t,end:t};if(55296<=r&&r<=56319){var n=t+1;if(n>=e.length)throw new Error("high surrogate without trailing low surrogate");var a=e.charCodeAt(n);if(a<56320||57343<a)throw new Error("high surrogate without trailing low surrogate");return{char:e.charAt(t)+e.charAt(n),start:t,end:n}}if(0===t)throw new Error("low surrogate without leading high surrogate");var i=t-1,o=e.charCodeAt(i);if(o<55296||56319<o)throw new Error("low surrogate without leading high surrogate");return{char:e.charAt(i)+e.charAt(t),start:i,end:t}}var _nativeMathRandom=Math.random,id,jd,ed,fd;Object.defineProperty(Array,"random",{configurable:!0,writable:!0,value:function(e){if("object"!==(void 0===e?"undefined":_typeof(e))||null===e||!Object.prototype.hasOwnProperty.call(e,"length"))throw new TypeError("Array.random array parameter must be an array or array-lke object");var t=e.length>>>0;if(0!=t)return e[0===arguments.length?_random(0,t-1):_randomIndex(t,Array.prototype.slice.call(arguments,1))]}}),Object.defineProperty(Array.prototype,"concatUnique",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Array.prototype.concatUnique called on null or undefined");var e=Array.from(this);if(0===arguments.length)return e;var t=Array.prototype.reduce.call(arguments,function(e,t){return e.concat(t)},[]),r=t.length;if(0===r)return e;for(var n=Array.prototype.indexOf,a=Array.prototype.push,i=0;i<r;++i){var o=t[i];-1===n.call(e,o)&&a.call(e,o)}return e}}),Object.defineProperty(Array.prototype,"count",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Array.prototype.count called on null or undefined");for(var e=Array.prototype.indexOf,t=arguments[0],r=Number(arguments[1])||0,n=0;-1!==(r=e.call(this,t,r));)++n,++r;return n}}),Object.defineProperty(Array.prototype,"delete",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Array.prototype.delete called on null or undefined");if(0===arguments.length)return[];var e=this.length>>>0;if(0==e)return[];for(var t=Array.prototype.concat.apply([],arguments),r=t.length,n=[],a=0;a<e;++a)for(var i=this[a],o=0;o<r;++o){var s=t[o];if(i===s||i!=i&&s!=s){n.push(a);break}}for(var u=[],l=0,c=n.length;l<c;++l)u[l]=this[n[l]];for(var d=Array.prototype.splice,p=n.length-1;0<=p;--p)d.call(this,n[p],1);return u}}),Object.defineProperty(Array.prototype,"deleteAt",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Array.prototype.deleteAt called on null or undefined");if(0===arguments.length)return[];var t=this.length>>>0;if(0==t)return[];for(var e=Array.prototype.splice,r=[].concat(_toConsumableArray(new Set(Array.prototype.concat.apply([],arguments).map(function(e){return e<0?Math.max(0,t+e):e})).values())),n=[].concat(_toConsumableArray(r)).sort(function(e,t){return t-e}),a=[],i=0,o=r.length;i<o;++i)a[i]=this[r[i]];for(var s=0,u=n.length;s<u;++s)e.call(this,n[s],1);return a}}),Object.defineProperty(Array.prototype,"deleteWith",{configurable:!0,writable:!0,value:function(e,t){if(null==this)throw new TypeError("Array.prototype.deleteWith called on null or undefined");if("function"!=typeof e)throw new Error("Array.prototype.deleteWith predicate parameter must be a function");var r=this.length>>>0;if(0==r)return[];for(var n=Array.prototype.splice,a=[],i=[],o=0;o<r;++o)e.call(t,this[o],o,this)&&(i.push(this[o]),a.push(o));for(var s=a.length-1;0<=s;--s)n.call(this,a[s],1);return i}}),Object.defineProperty(Array.prototype,"first",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Array.prototype.first called on null or undefined");if(0!=this.length>>>0)return this[0]}}),Object.defineProperty(Array.prototype,"includesAll",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Array.prototype.includesAll called on null or undefined");if(1===arguments.length)return Array.isArray(arguments[0])?Array.prototype.includesAll.apply(this,arguments[0]):Array.prototype.includes.apply(this,arguments);for(var e=0,t=arguments.length;e<t;++e)if(!Array.prototype.some.call(this,function(e){return e===this.val||e!=e&&this.val!=this.val},{val:arguments[e]}))return!1;return!0}}),Object.defineProperty(Array.prototype,"includesAny",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Array.prototype.includesAny called on null or undefined");if(1===arguments.length)return Array.isArray(arguments[0])?Array.prototype.includesAny.apply(this,arguments[0]):Array.prototype.includes.apply(this,arguments);for(var e=0,t=arguments.length;e<t;++e)if(Array.prototype.some.call(this,function(e){return e===this.val||e!=e&&this.val!=this.val},{val:arguments[e]}))return!0;return!1}}),Object.defineProperty(Array.prototype,"last",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Array.prototype.last called on null or undefined");var e=this.length>>>0;if(0!=e)return this[e-1]}}),Object.defineProperty(Array.prototype,"pluck",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Array.prototype.pluck called on null or undefined");var e=this.length>>>0;if(0!=e){var t=0===arguments.length?_random(0,e-1):_randomIndex(e,[].concat(Array.prototype.slice.call(arguments)));return Array.prototype.splice.call(this,t,1)[0]}}}),Object.defineProperty(Array.prototype,"pluckMany",{configurable:!0,writable:!0,value:function(e){if(null==this)throw new TypeError("Array.prototype.pluckMany called on null or undefined");var t=this.length>>>0;if(0==t)return[];var r=Math.trunc(e);if(!Number.isInteger(r))throw new Error("Array.prototype.pluckMany want parameter must be an integer");if(r<1)return[];t<r&&(r=t);for(var n=Array.prototype.splice,a=[],i=t-1;a.push(n.call(this,_random(0,i--),1)[0]),a.length<r;);return a}}),Object.defineProperty(Array.prototype,"pushUnique",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Array.prototype.pushUnique called on null or undefined");var e=arguments.length;if(0===e)return this.length>>>0;for(var t=Array.prototype.indexOf,r=Array.prototype.push,n=0;n<e;++n){var a=arguments[n];-1===t.call(this,a)&&r.call(this,a)}return this.length>>>0}}),Object.defineProperty(Array.prototype,"random",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Array.prototype.random called on null or undefined");var e=this.length>>>0;if(0!=e)return this[0===arguments.length?_random(0,e-1):_randomIndex(e,[].concat(Array.prototype.slice.call(arguments)))]}}),Object.defineProperty(Array.prototype,"randomMany",{configurable:!0,writable:!0,value:function(e){if(null==this)throw new TypeError("Array.prototype.randomMany called on null or undefined");var t=this.length>>>0;if(0==t)return[];var r=Math.trunc(e);if(!Number.isInteger(r))throw new Error("Array.prototype.randomMany want parameter must be an integer");if(r<1)return[];t<r&&(r=t);var n=new Map,a=[],i=t-1;do{for(var o=void 0;o=_random(0,i),n.has(o););n.set(o,!0),a.push(this[o])}while(a.length<r);return a}}),Object.defineProperty(Array.prototype,"shuffle",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Array.prototype.shuffle called on null or undefined");var e=this.length>>>0;if(0==e)return this;for(var t=e-1;0<t;--t){var r=Math.floor(_nativeMathRandom()*(t+1));if(t!==r){var n=this[t];this[t]=this[r],this[r]=n}}return this}}),Object.defineProperty(Array.prototype,"unshiftUnique",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Array.prototype.unshiftUnique called on null or undefined");var e=arguments.length;if(0===e)return this.length>>>0;for(var t=Array.prototype.indexOf,r=Array.prototype.unshift,n=0;n<e;++n){var a=arguments[n];-1===t.call(this,a)&&r.call(this,a)}return this.length>>>0}}),Object.defineProperty(Function.prototype,"partial",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Function.prototype.partial called on null or undefined");var n=Array.prototype.slice,a=this,i=n.call(arguments,0);return function(){for(var e=[],t=0,r=0;r<i.length;++r)e.push(i[r]===undefined?arguments[t++]:i[r]);return a.apply(this,e.concat(n.call(arguments,t)))}}}),Object.defineProperty(Math,"clamp",{configurable:!0,writable:!0,value:function(e,t,r){var n=Number(e);return Number.isNaN(n)?NaN:n.clamp(t,r)}}),Object.defineProperty(Math,"easeInOut",{configurable:!0,writable:!0,value:function(e){return 1-(Math.cos(Number(e)*Math.PI)+1)/2}}),Object.defineProperty(Number.prototype,"clamp",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Number.prototype.clamp called on null or undefined");if(2!==arguments.length)throw new Error("Number.prototype.clamp called with an incorrect number of parameters");var e=Number(arguments[0]),t=Number(arguments[1]);if(t<e){var r=[t,e];e=r[0],t=r[1]}return Math.min(Math.max(this,e),t)}}),RegExp.escape||(ed=/[\\^$*+?.()|[\]{}]/g,fd=new RegExp(ed.source),Object.defineProperty(RegExp,"escape",{configurable:!0,writable:!0,value:function(e){var t=String(e);return t&&fd.test(t)?t.replace(ed,"\\$&"):t}})),id=/{(\d+)(?:,([+-]?\d+))?}/g,jd=new RegExp(id.source),Object.defineProperty(String,"format",{configurable:!0,writable:!0,value:function(e){if(arguments.length<2)return 0===arguments.length?"":e;var a=2===arguments.length&&Array.isArray(arguments[1])?[].concat(_toConsumableArray(arguments[1])):Array.prototype.slice.call(arguments,1);return 0===a.length?e:jd.test(e)?(id.lastIndex=0,e.replace(id,function(e,t,r){var n=a[t];if(null==n)return"";for(;"function"==typeof n;)n=n();switch(void 0===n?"undefined":_typeof(n)){case"string":break;case"object":n=JSON.stringify(n);break;default:n=String(n)}return function(e,t,r){if(!t)return e;var n=Math.abs(t)-e.length;if(n<1)return e;var a=String(r).repeat(n);return t<0?e+a:a+e}(n,r?Number.parseInt(r,10):0," ")})):e}}),Object.defineProperty(String.prototype,"contains",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("String.prototype.contains called on null or undefined");return-1!==String.prototype.indexOf.apply(this,arguments)}}),Object.defineProperty(String.prototype,"count",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("String.prototype.count called on null or undefined");var e=String(arguments[0]||"");if(""===e)return 0;for(var t=String.prototype.indexOf,r=e.length,n=Number(arguments[1])||0,a=0;-1!==(n=t.call(this,e,n));)++a,n+=r;return a}}),Object.defineProperty(String.prototype,"first",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("String.prototype.first called on null or undefined");return _getCodePointStartAndEnd(String(this),0).char}}),Object.defineProperty(String.prototype,"last",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("String.prototype.last called on null or undefined");var e=String(this);return _getCodePointStartAndEnd(e,e.length-1).char}}),Object.defineProperty(String.prototype,"splice",{configurable:!0,writable:!0,value:function(e,t,r){if(null==this)throw new TypeError("String.prototype.splice called on null or undefined");var n=this.length>>>0;if(0==n)return"";var a=Number(e);Number.isSafeInteger(a)?a<0&&(a+=n)<0&&(a=0):a=0,n<a&&(a=n);var i=Number(t);(!Number.isSafeInteger(i)||i<0)&&(i=0);var o=this.slice(0,a);return void 0!==r&&(o+=r),a+i<n&&(o+=this.slice(a+i)),o}}),Object.defineProperty(String.prototype,"splitOrEmpty",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("String.prototype.splitOrEmpty called on null or undefined");return""===String(this)?[]:String.prototype.split.apply(this,arguments)}}),Object.defineProperty(String.prototype,"toLocaleUpperFirst",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("String.prototype.toLocaleUpperFirst called on null or undefined");var e=String(this),t=_getCodePointStartAndEnd(e,0),r=t.char,n=t.end;return-1===n?"":r.toLocaleUpperCase()+e.slice(n+1)}}),Object.defineProperty(String.prototype,"toUpperFirst",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("String.prototype.toUpperFirst called on null or undefined");var e=String(this),t=_getCodePointStartAndEnd(e,0),r=t.char,n=t.end;return-1===n?"":r.toUpperCase()+e.slice(n+1)}}),Object.defineProperty(Date.prototype,"toJSON",{configurable:!0,writable:!0,value:function(){return["(revive:date)",this.toISOString()]}}),Object.defineProperty(Function.prototype,"toJSON",{configurable:!0,writable:!0,value:function(){return["(revive:eval)","("+this.toString()+")"]}}),Object.defineProperty(Map.prototype,"toJSON",{configurable:!0,writable:!0,value:function(){return["(revive:map)",[].concat(_toConsumableArray(this))]}}),Object.defineProperty(RegExp.prototype,"toJSON",{configurable:!0,writable:!0,value:function(){return["(revive:eval)",this.toString()]}}),Object.defineProperty(Set.prototype,"toJSON",{configurable:!0,writable:!0,value:function(){return["(revive:set)",[].concat(_toConsumableArray(this))]}}),Object.defineProperty(JSON,"reviveWrapper",{configurable:!0,writable:!0,value:function(e,t){if("string"!=typeof e)throw new TypeError("JSON.reviveWrapper code parameter must be a string");return["(revive:eval)",[e,t]]}}),Object.defineProperty(JSON,"_real_parse",{value:JSON.parse}),Object.defineProperty(JSON,"parse",{configurable:!0,writable:!0,value:function value(text,reviver){return JSON._real_parse(text,function(key,val){var value=val;if(Array.isArray(value)&&2===value.length)switch(value[0]){case"(revive:set)":value=new Set(value[1]);break;case"(revive:map)":value=new Map(value[1]);break;case"(revive:date)":value=new Date(value[1]);break;case"(revive:eval)":try{if(Array.isArray(value[1])){var $ReviveData$=value[1][1];value=eval(value[1][0])}else value=eval(value[1])}catch(e){}}else if("string"==typeof value&&"@@revive@@"===value.slice(0,10))try{value=eval(value.slice(10))}catch(e){}if("function"==typeof reviver)try{value=reviver(key,value)}catch(e){}return value})}}),Object.defineProperty(Array.prototype,"contains",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Array.prototype.contains called on null or undefined");return Array.prototype.includes.apply(this,arguments)}}),Object.defineProperty(Array.prototype,"containsAll",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Array.prototype.containsAll called on null or undefined");return Array.prototype.includesAll.apply(this,arguments)}}),Object.defineProperty(Array.prototype,"containsAny",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Array.prototype.containsAny called on null or undefined");return Array.prototype.includesAny.apply(this,arguments)}}),Object.defineProperty(Array.prototype,"flatten",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Array.prototype.flatten called on null or undefined");return Array.prototype.flat.call(this,1/0)}}),Object.defineProperty(String.prototype,"readBracketedList",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("String.prototype.readBracketedList called on null or undefined");for(var e=new RegExp("(?:\\[\\[((?:\\s|\\S)*?)\\]\\])|([^\"'\\s]\\S*)","gm"),t=[],r=void 0;null!==(r=e.exec(this));)r[1]?t.push(r[1]):r[2]&&t.push(r[2]);return t}})}();var Browser=(Zd=navigator.userAgent.toLowerCase(),$d=Zd.includes("windows phone"),_d=Object.freeze({Android:!$d&&Zd.includes("android"),BlackBerry:/blackberry|bb10/.test(Zd),iOS:!$d&&/ip(?:hone|ad|od)/.test(Zd),Windows:$d||Zd.includes("iemobile"),any:function(){return _d.Android||_d.BlackBerry||_d.iOS||_d.Windows}}),ae=!_d.Windows&&!/khtml|trident|edge/.test(Zd)&&Zd.includes("gecko"),be=!Zd.includes("opera")&&/msie|trident/.test(Zd),ce=be?(ge=/(?:msie\s+|rv:)(\d+\.\d)/.exec(Zd))?Number(ge[1]):0:null,de=Zd.includes("opera")||Zd.includes(" opr/"),ee=de?(ie=new RegExp((/khtml|chrome/.test(Zd)?"opr":"version")+"\\/(\\d+\\.\\d+)").exec(Zd))?Number(ie[1]):0:null,fe=Zd.includes("vivaldi"),Object.freeze({userAgent:Zd,isMobile:_d,isGecko:ae,isIE:be,ieVersion:ce,isOpera:de,operaVersion:ee,isVivaldi:fe})),Has=(je=function(){try{return"function"==typeof document.createElement("audio").canPlayType}catch(e){}return!1}(),ke=je&&function(){try{var e=document.createElement("audio").play();return e.catch(function(){}),e instanceof Promise}catch(e){}return!1}(),le=function(){try{return"Blob"in window&&"File"in window&&"FileList"in window&&"FileReader"in window&&!Browser.isMobile.any()&&(!Browser.isOpera||15<=Browser.operaVersion)}catch(e){}return!1}(),me=function(){try{return"geolocation"in navigator&&"function"==typeof navigator.geolocation.getCurrentPosition&&"function"==typeof navigator.geolocation.watchPosition}catch(e){}return!1}(),ne=function(){try{return"MutationObserver"in window&&"function"==typeof window.MutationObserver}catch(e){}return!1}(),oe=function(){try{return"performance"in window&&"function"==typeof window.performance.now}catch(e){}return!1}(),pe=function(){try{for(var e=new Map([["transition","transitionend"],["MSTransition","msTransitionEnd"],["WebkitTransition","webkitTransitionEnd"],["MozTransition","transitionend"]]),t=[].concat(_toConsumableArray(e.keys())),r=document.createElement("div"),n=0;n<t.length;++n)if(r.style[t[n]]!==undefined)return e.get(t[n])}catch(e){}return!1}(),Object.freeze({audio:je,audioPromise:ke,fileAPI:le,geolocation:me,mutationObserver:ne,performance:oe,transitionEndEvent:pe})),Visibility=(Ce=function(){try{return Object.freeze([{hiddenProperty:"hidden",stateProperty:"visibilityState",changeEvent:"visibilitychange"},{hiddenProperty:"webkitHidden",stateProperty:"webkitVisibilityState",changeEvent:"webkitvisibilitychange"},{hiddenProperty:"mozHidden",stateProperty:"mozVisibilityState",changeEvent:"mozvisibilitychange"},{hiddenProperty:"msHidden",stateProperty:"msVisibilityState",changeEvent:"msvisibilitychange"}].find(function(e){return e.hiddenProperty in document}))}catch(e){}return null}(),Object.freeze(Object.defineProperties({},{isHidden:{value:function(){return Boolean(Ce&&document[Ce.hiddenProperty])}},state:{value:function(){return Ce&&document[Ce.stateProperty]||"visible"}},hiddenProperty:{value:Ce.hiddenProperty},stateProperty:{value:Ce.stateProperty},changeEvent:{value:Ce.changeEvent}}))),_ref3=Object.freeze(Object.defineProperties({},{clone:{value:function r(t){if("object"!==(void 0===t?"undefined":_typeof(t))||null===t)return t;if(t instanceof String)return String(t);if(t instanceof Number)return Number(t);if(t instanceof Boolean)return Boolean(t);if("function"==typeof t.clone)return t.clone(!0);if(t.nodeType&&"function"==typeof t.cloneNode)return t.cloneNode(!0);var n=void 0;return t instanceof Array?n=new Array(t.length):t instanceof Date?n=new Date(t.getTime()):t instanceof Map?(n=new Map,t.forEach(function(e,t){return n.set(t,r(e))})):t instanceof RegExp?n=new RegExp(t):t instanceof Set?(n=new Set,t.forEach(function(e){return n.add(r(e))})):n=Object.create(Object.getPrototypeOf(t)),Object.keys(t).forEach(function(e){return n[e]=r(t[e])}),n}},convertBreaks:{value:function(e){for(var t=document.createDocumentFragment(),r=document.createElement("p"),n=void 0;null!==(n=e.firstChild);){if(n.nodeType===Node.ELEMENT_NODE)switch(n.nodeName.toUpperCase()){case"BR":if(null!==n.nextSibling&&n.nextSibling.nodeType===Node.ELEMENT_NODE&&"BR"===n.nextSibling.nodeName.toUpperCase()){e.removeChild(n.nextSibling),e.removeChild(n),t.appendChild(r),r=document.createElement("p");continue}if(r.hasChildNodes())break;e.removeChild(n);continue;case"ADDRESS":case"ARTICLE":case"ASIDE":case"BLOCKQUOTE":case"CENTER":case"DIV":case"DL":case"FIGURE":case"FOOTER":case"FORM":case"H1":case"H2":case"H3":case"H4":case"H5":case"H6":case"HEADER":case"HR":case"MAIN":case"NAV":case"OL":case"P":case"PRE":case"SECTION":case"TABLE":case"UL":r.hasChildNodes()&&(t.appendChild(r),r=document.createElement("p")),t.appendChild(n);continue}r.appendChild(n)}r.hasChildNodes()&&t.appendChild(r),e.appendChild(t)}},safeActiveElement:{value:function(){try{return document.activeElement||null}catch(e){return null}}},setPageElement:{value:function(e,t,r){var n="object"===(void 0===e?"undefined":_typeof(e))?e:document.getElementById(e);if(null==n)return null;var a=Array.isArray(t)?t:[t];jQuery(n).empty();for(var i=0,o=a.length;i<o;++i)if(Story.has(a[i]))return new Wikifier(n,Story.get(a[i]).processText().trim()),n;if(null!=r){var s=String(r).trim();""!==s&&new Wikifier(n,s)}return n}},throwError:{value:function(e,t,r){var n=jQuery(document.createElement("div")),a=jQuery(document.createElement("button")),i=jQuery(document.createElement("pre")),o=L10n.get("errorTitle")+": "+(t||"unknown error");return a.addClass("error-toggle").ariaClick({label:L10n.get("errorToggle")},function(){a.hasClass("enabled")?(a.removeClass("enabled"),i.attr({"aria-hidden":!0,hidden:"hidden"})):(a.addClass("enabled"),i.removeAttr("aria-hidden hidden"))}).appendTo(n),jQuery(document.createElement("span")).addClass("error").text(o).appendTo(n),jQuery(document.createElement("code")).text(r).appendTo(i),i.addClass("error-source").attr({"aria-hidden":!0,hidden:"hidden"}).appendTo(n),n.addClass("error-view").appendTo(e),console.warn(o+"\n\t"+r.replace(/\n/g,"\n\t")),!1}},toStringOrDefault:{value:function e(t,a){var i=e;switch(void 0===t?"undefined":_typeof(t)){case"number":if(Number.isNaN(t))return a;break;case"object":return null===t?a:Array.isArray(t)?t.map(function(e){return i(e,a)}).join(", "):t instanceof Set?[].concat(_toConsumableArray(t)).map(function(e){return i(e,a)}).join(", "):t instanceof Map?"{ "+[].concat(_toConsumableArray(t)).map(function(e){var t=_slicedToArray(e,2),r=t[0],n=t[1];return i(r,a)+" → "+i(n,a)}).join(", ")+" }":t instanceof Date?t.toLocaleString():"function"==typeof t.toString?t.toString():Object.prototype.toString.call(t);case"function":case"undefined":return a}return String(t)}}})),clone=_ref3.clone,convertBreaks=_ref3.convertBreaks,safeActiveElement=_ref3.safeActiveElement,setPageElement=_ref3.setPageElement,throwError=_ref3.throwError,toStringOrDefault=_ref3.toStringOrDefault,Ce,je,ke,le,me,ne,oe,pe,ie,ge,Zd,$d,_d,ae,be,ce,de,ee,fe;!function(){function a(e){13!==e.which&&32!==e.which||(e.preventDefault(),jQuery(safeActiveElement()||this).trigger("click"))}function i(t){return function(){var e=jQuery(this);e.ariaIsDisabled()||(e.is("[aria-pressed]")&&e.attr("aria-pressed","true"===e.attr("aria-pressed")?"false":"true"),t.apply(this,arguments))}}jQuery.fn.extend({ariaClick:function(e,t){if(0===this.length||0===arguments.length)return this;var r=e,n=t;return null==n&&(n=r,r=undefined),"string"!=typeof(r=jQuery.extend({namespace:undefined,one:!1,selector:undefined,data:undefined,controls:undefined,pressed:undefined,label:undefined},r)).namespace?r.namespace="":"."!==r.namespace[0]&&(r.namespace="."+r.namespace),"boolean"==typeof r.pressed&&(r.pressed=r.pressed?"true":"false"),this.filter("button").prop("type","button"),this.not("a,button").attr("role","button"),this.attr("tabindex",0),null!=r.controls&&this.attr("aria-controls",r.controls),null!=r.pressed&&this.attr("aria-pressed",r.pressed),null!=r.label&&this.attr({"aria-label":r.label,title:r.label}),this.not("button").on("keypress.aria-clickable"+r.namespace,r.selector,a),this.on("click.aria-clickable"+r.namespace,r.selector,r.data,r.one?function(e){return i(function(){jQuery(this).off(".aria-clickable").removeAttr("tabindex aria-controls aria-pressed").not("a,button").removeAttr("role").end().filter("button").prop("disabled",!0),e.apply(this,arguments)})}(n):i(n)),this},ariaDisabled:function(e){if(0===this.length||0===arguments.length)return this;var t=this.not("button,fieldset,input,menuitem,optgroup,option,select,textarea"),r=this.filter("button,fieldset,input,menuitem,optgroup,option,select,textarea");return e?(t.each(function(){this.setAttribute("disabled",""),this.setAttribute("aria-disabled","")}),r.each(function(){this.disabled=!0,this.setAttribute("aria-disabled","")})):(t.each(function(){this.removeAttribute("disabled"),this.removeAttribute("aria-disabled")}),r.each(function(){this.disabled=!1,this.removeAttribute("aria-disabled")})),this},ariaIsDisabled:function(){return this.is("[disabled]")}})}(),jQuery.extend({wikiWithOptions:function(t){for(var e=arguments.length,r=Array(1<e?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];if(0!==r.length){var a=document.createDocumentFragment();r.forEach(function(e){return new Wikifier(a,e,t)});var i=[].concat(_toConsumableArray(a.querySelectorAll(".error"))).map(function(e){return e.textContent.replace(errorPrologRegExp,"")});if(0<i.length)throw new Error(i.join("; "))}},wiki:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];this.wikiWithOptions.apply(this,[undefined].concat(t))}}),jQuery.fn.extend({wikiWithOptions:function(t){for(var e=arguments.length,r=Array(1<e?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];if(0===this.length||0===r.length)return this;var a=document.createDocumentFragment();return r.forEach(function(e){return new Wikifier(a,e,t)}),this.append(a),this},wiki:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.wikiWithOptions.apply(this,[undefined].concat(t))}});var Util=function(){function r(e){return Object.prototype.toString.call(e).slice(8,-1)}function e(e){if(null==e)return"";var t=String(e);return t&&a.test(t)?t.replace(n,function(e){return i[e]}):t}function t(e){if(null==e)return"";var t=String(e);return t&&s.test(t)?t.replace(o,function(e){return u[e.toLowerCase()]}):t}var n=/[&<>"'`]/g,a=new RegExp(n.source),i=Object.freeze({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"}),o=/&(?:amp|#38|#x26|lt|#60|#x3c|gt|#62|#x3e|quot|#34|#x22|apos|#39|#x27|#96|#x60);/gi,s=new RegExp(o.source,"i"),u=Object.freeze({"&amp;":"&","&#38;":"&","&#x26;":"&","&lt;":"<","&#60;":"<","&#x3c;":"<","&gt;":">","&#62;":">","&#x3e;":">","&quot;":'"',"&#34;":'"',"&#x22;":'"',"&apos;":"'","&#39;":"'","&#x27;":"'","&#96;":"`","&#x60;":"`"}),l=Has.performance?performance:Date,c=/^([+-]?(?:\d*\.)?\d+)([Mm]?[Ss])$/;return Object.freeze(Object.defineProperties({},{toEnum:{value:function(e){if(e instanceof Array)return Object.freeze(e.reduce(function(e,t,r){return e[t]=r,e},Object.create(null)));if(e instanceof Object)return Object.freeze(Object.assign(Object.create(null),e));throw new TypeError("Util.toEnum obj parameter must be an array or generic object")}},toStringTag:{value:r},getType:{value:function(e){if(null===e)return"null";var t=void 0===e?"undefined":_typeof(e);return"object"===t?Object.prototype.toString.call(e).slice(8,-1):t}},isNumeric:{value:function(e){var t=void 0;switch(void 0===e?"undefined":_typeof(e)){case"number":t=e;break;case"string":t=Number(e);break;default:return!1}return!Number.isNaN(t)&&Number.isFinite(t)}},isBoolean:{value:function(e){return"boolean"==typeof e||"string"==typeof e&&("true"===e||"false"===e)}},sameValueZero:{value:function(e,t){return e===t||e!=e&&t!=t}},slugify:{value:function(e){return String(e).trim().replace(/[^\w\s\u2013\u2014-]+/g,"").replace(/[_\s\u2013\u2014-]+/g,"-").toLocaleLowerCase()}},escape:{value:e},unescape:{value:t},charAndPosAt:{value:function(e,t){var r=String(e),n=Math.trunc(t),a=r.charCodeAt(n);if(Number.isNaN(a))return{char:"",start:-1,end:-1};var i={char:r.charAt(n),start:n,end:n};if(a<55296||57343<a)return i;if(55296<=a&&a<=56319){var o=n+1;if(o>=r.length)return i;var s=r.charCodeAt(o);return s<56320||57343<s||(i.char=i.char+r.charAt(o),i.end=o),i}if(0===n)return i;var u=n-1,l=r.charCodeAt(u);return l<55296||56319<l||(i.char=r.charAt(u)+i.char,i.start=u),i}},fromCssTime:{value:function(e){var t=c.exec(String(e));if(null===t)throw new SyntaxError('invalid time value syntax: "'+e+'"');var r=Number(t[1]);if(1===t[2].length&&(r*=1e3),Number.isNaN(r)||!Number.isFinite(r))throw new RangeError('invalid time value: "'+e+'"');return r}},toCssTime:{value:function(e){if("number"==typeof e&&!Number.isNaN(e)&&Number.isFinite(e))return e+"ms";var t=void 0;switch(void 0===e?"undefined":_typeof(e)){case"string":t='"'+e+'"';break;case"number":t=String(e);break;default:t=r(e)}throw new Error("invalid milliseconds: "+t)}},fromCssProperty:{value:function(e){if(!e.includes("-"))switch(e){case"bgcolor":return"backgroundColor";case"float":return"cssFloat";default:return e}return("-ms-"===e.slice(0,4)?e.slice(1):e).split("-").map(function(e,t){return 0===t?e:e.toUpperFirst()}).join("")}},parseUrl:{value:function(e){var t=document.createElement("a"),i=Object.create(null);t.href=e,t.search&&t.search.replace(/^\?/,"").splitOrEmpty(/(?:&(?:amp;)?|;)/).forEach(function(e){var t=e.split("="),r=_slicedToArray(t,2),n=r[0],a=r[1];i[n]=a});var r=t.host&&"/"!==t.pathname[0]?"/"+t.pathname:t.pathname;return{href:t.href,protocol:t.protocol,host:t.host,hostname:t.hostname,port:t.port,path:""+r+t.search,pathname:r,query:t.search,search:t.search,queries:i,searches:i,hash:t.hash}}},newExceptionFrom:{value:function(e,t,r){if("object"!==(void 0===e?"undefined":_typeof(e))||null===e)throw new Error("Util.newExceptionFrom original parameter must be an object");if("function"!=typeof t)throw new Error("Util.newExceptionFrom exceptionType parameter must be an error type constructor");var n=new t(e.message);void 0!==e.name&&(n.name=e.name),void 0!==e.code&&(n.code=e.code),void 0!==e.columnNumber&&(n.columnNumber=e.columnNumber),void 0!==e.description&&(n.description=e.description),void 0!==e.fileName&&(n.fileName=e.fileName),void 0!==e.lineNumber&&(n.lineNumber=e.lineNumber),void 0!==e.number&&(n.number=e.number),void 0!==e.stack&&(n.stack=e.stack);var a=void 0===r?"undefined":_typeof(r);if("undefined"!==a)if("object"===a&&null!==r)Object.assign(n,r);else{if("string"!==a)throw new Error("Util.newExceptionFrom override parameter must be an object or string");n.message=r}return n}},now:{value:function(){return l.now()}},random:{value:Math.random},entityEncode:{value:e},entityDecode:{value:t},evalExpression:{value:function(){return Scripting.evalJavaScript.apply(Scripting,arguments)}},evalStatements:{value:function(){return Scripting.evalJavaScript.apply(Scripting,arguments)}}}))}(),SimpleStore=(vh=[],wh=null,Object.freeze(Object.defineProperties({},{adapters:{value:vh},create:{value:function(e,t){if(wh)return wh.create(e,t);for(var r=0;r<vh.length;++r)if(vh[r].init(e,t))return(wh=vh[r]).create(e,t);throw new Error("no valid storage adapters found")}}}))),vh,wh,hi,ii,ji,ki,Ch,Dh;SimpleStore.adapters.push((Ch=!1,Dh=function(){function i(e,t){_classCallCheck(this,i);var r=e+".",n=null,a=null;a=t?(n=window.localStorage,"localStorage"):(n=window.sessionStorage,"sessionStorage"),Object.defineProperties(this,{_engine:{value:n},_prefix:{value:r},_prefixRe:{value:new RegExp("^"+RegExp.escape(r))},name:{value:a},id:{value:e},persistent:{value:!!t}})}return _createClass(i,[{key:"size",value:function(){return this.keys().length}},{key:"keys",value:function(){for(var e=[],t=0;t<this._engine.length;++t){var r=this._engine.key(t);this._prefixRe.test(r)&&e.push(r.replace(this._prefixRe,""))}return e}},{key:"has",value:function(e){return!("string"!=typeof e||!e)&&this._engine.hasOwnProperty(this._prefix+e)}},{key:"get",value:function(e){if("string"!=typeof e||!e)return null;var t=this._engine.getItem(this._prefix+e);return null==t?null:i._deserialize(t)}},{key:"set",value:function(e,t){if("string"!=typeof e||!e)return!1;try{this._engine.setItem(this._prefix+e,i._serialize(t))}catch(e){if(/quota.?(?:exceeded|reached)/i.test(e.name+e.message))throw Util.newExceptionFrom(e,Error,this.name+" quota exceeded");throw e}return!0}},{key:"delete",value:function(e){return!("string"!=typeof e||!e||(this._engine.removeItem(this._prefix+e),0))}},{key:"clear",value:function(){for(var e=this.keys(),t=0,r=e.length;t<r;++t)this.delete(e[t]);return!0}},{key:"length",get:function(){return this.keys().length}}],[{key:"_serialize",value:function(e){return LZString.compressToUTF16(JSON.stringify(e))}},{key:"_deserialize",value:function(e){return JSON.parse(LZString.decompressFromUTF16(e))}}]),i}(),Object.freeze(Object.defineProperties({},{init:{value:function(){function e(e){try{var t=window[e],r="_sc_"+String(Date.now());t.setItem(r,r);var n=t.getItem(r)===r;return t.removeItem(r),n}catch(e){}return!1}return Ch=e("localStorage")&&e("sessionStorage")}},create:{value:function(e,t){if(!Ch)throw new Error("adapter not initialized");return new Dh(e,t)}}})))),SimpleStore.adapters.push((hi="Tue, 19 Jan 2038 03:14:07 GMT",ii="Thu, 01 Jan 1970 00:00:00 GMT",ji=!1,ki=function(){function n(e,t){_classCallCheck(this,n);var r=e+(t?"!":"*")+".";Object.defineProperties(this,{_prefix:{value:r},_prefixRe:{value:new RegExp("^"+RegExp.escape(r))},name:{value:"cookie"},id:{value:e},persistent:{value:!!t}})}return _createClass(n,[{key:"size",value:function(){return this.keys().length}},{key:"keys",value:function(){if(""===document.cookie)return[];for(var e=document.cookie.split(/;\s*/),t=[],r=0;r<e.length;++r){var n=e[r].split("="),a=decodeURIComponent(n[0]);this._prefixRe.test(a)&&""!==decodeURIComponent(n[1])&&t.push(a.replace(this._prefixRe,""))}return t}},{key:"has",value:function(e){return!("string"!=typeof e||!e)&&null!==n._getCookie(this._prefix+e)}},{key:"get",value:function(e){if("string"!=typeof e||!e)return null;var t=n._getCookie(this._prefix+e);return null===t?null:n._deserialize(t)}},{key:"set",value:function(e,t){if("string"!=typeof e||!e)return!1;try{if(n._setCookie(this._prefix+e,n._serialize(t),this.persistent?hi:undefined),!this.has(e))throw new Error("unknown validation error during set")}catch(e){throw Util.newExceptionFrom(e,Error,"cookie error: "+e.message)}return!0}},{key:"delete",value:function(e){if("string"!=typeof e||!e||!this.has(e))return!1;try{if(n._setCookie(this._prefix+e,undefined,ii),this.has(e))throw new Error("unknown validation error during delete")}catch(e){throw Util.newExceptionFrom(e,Error,"cookie error: "+e.message)}return!0}},{key:"clear",value:function(){for(var e=this.keys(),t=0,r=e.length;t<r;++t)this.delete(e[t]);return!0}},{key:"length",get:function(){return this.keys().length}}],[{key:"_getCookie",value:function(e){if(!e||""===document.cookie)return null;for(var t=document.cookie.split(/;\s*/),r=0;r<t.length;++r){var n=t[r].split("=");if(e===decodeURIComponent(n[0]))return decodeURIComponent(n[1])||null}return null}},{key:"_setCookie",value:function(e,t,r){if(e){var n=encodeURIComponent(e)+"=";null!=t&&(n+=encodeURIComponent(t)),null!=r&&(n+="; expires="+r),n+="; path=/",document.cookie=n}}},{key:"_serialize",value:function(e){return LZString.compressToBase64(JSON.stringify(e))}},{key:"_deserialize",value:function(e){return JSON.parse(LZString.decompressFromBase64(e))}}]),n}(),Object.freeze(Object.defineProperties({},{init:{value:function(e){try{var t="_sc_"+String(Date.now());ki._setCookie(t,ki._serialize(t),undefined),ji=ki._deserialize(ki._getCookie(t))===t,ki._setCookie(t,undefined,ii)}catch(e){ji=!1}return ji&&function(e){if(""!==document.cookie)for(var t=e+".",r=new RegExp("^"+RegExp.escape(t)),n=e+"!.",a=e+"*.",i=/\.(?:state|rcWarn)$/,o=document.cookie.split(/;\s*/),s=0;s<o.length;++s){var u=o[s].split("="),l=decodeURIComponent(u[0]);if(r.test(l)){var c=decodeURIComponent(u[1]);""!==c&&function(){var e=!i.test(l);ki._setCookie(l,undefined,ii),ki._setCookie(l.replace(r,function(){return e?n:a}),c,e?hi:undefined)}()}}}(e),ji}},create:{value:function(e,t){if(!ji)throw new Error("adapter not initialized");return new ki(e,t)}}}))));var DebugView=function(){function a(e,t,r,n){_classCallCheck(this,a),Object.defineProperties(this,{parent:{value:e},view:{value:document.createElement("span")},break:{value:document.createElement("wbr")}}),jQuery(this.view).attr({title:n,"aria-label":n,"data-type":null!=t?t:"","data-name":null!=r?r:""}).addClass("debug"),jQuery(this.break).addClass("debug hidden"),this.parent.appendChild(this.view),this.parent.appendChild(this.break)}return _createClass(a,[{key:"append",value:function(e){return jQuery(this.view).append(e),this}},{key:"modes",value:function(t){if(null==t){var r={};return this.view.className.splitOrEmpty(/\s+/).forEach(function(e){"debug"!==e&&(r[e]=!0)}),r}if("object"===(void 0===t?"undefined":_typeof(t)))return Object.keys(t).forEach(function(e){this[t[e]?"addClass":"removeClass"](e)},jQuery(this.view)),this;throw new Error("DebugView.prototype.modes options parameter must be an object or null/undefined")}},{key:"remove",value:function(){var e=jQuery(this.view);this.view.hasChildNodes()&&e.contents().appendTo(this.parent),e.remove(),jQuery(this.break).remove()}},{key:"output",get:function(){return this.view}},{key:"type",get:function(){return this.view.getAttribute("data-type")},set:function(e){this.view.setAttribute("data-type",null!=e?e:"")}},{key:"name",get:function(){return this.view.getAttribute("data-name")},set:function(e){this.view.setAttribute("data-name",null!=e?e:"")}},{key:"title",get:function(){return this.view.title},set:function(e){this.view.title=e}}],[{key:"isEnabled",value:function(){return"enabled"===jQuery(document.documentElement).attr("data-debug-view")}},{key:"enable",value:function(){jQuery(document.documentElement).attr("data-debug-view","enabled"),jQuery.event.trigger(":debugviewupdate")}},{key:"disable",value:function(){jQuery(document.documentElement).removeAttr("data-debug-view"),jQuery.event.trigger(":debugviewupdate")}},{key:"toggle",value:function(){"enabled"===jQuery(document.documentElement).attr("data-debug-view")?a.disable():a.enable()}}]),a}(),PRNGWrapper=function(){function n(e,t){_classCallCheck(this,n),Object.defineProperties(this,new Math.seedrandom(e,t,function(e,t){return{_prng:{value:e},seed:{writable:!0,value:t},pull:{writable:!0,value:0},random:{value:function(){return++this.pull,this._prng()}}}}))}return _createClass(n,null,[{key:"marshal",value:function(e){if(!e||!e.hasOwnProperty("seed")||!e.hasOwnProperty("pull"))throw new Error("PRNG is missing required data");return{seed:e.seed,pull:e.pull}}},{key:"unmarshal",value:function(e){if(!e||!e.hasOwnProperty("seed")||!e.hasOwnProperty("pull"))throw new Error("PRNG object is missing required data");for(var t=new n(e.seed,!1),r=e.pull;0<r;--r)t.random();return t}}]),n}(),StyleWrapper=(Aj=new RegExp(Patterns.cssImage,"g"),Bj=new RegExp(Patterns.cssImage),function(){function t(e){if(_classCallCheck(this,t),null==e)throw new TypeError("StyleWrapper style parameter must be an HTMLStyleElement object");Object.defineProperties(this,{style:{value:e}})}return _createClass(t,[{key:"isEmpty",value:function(){return 0===this.style.cssRules.length}},{key:"set",value:function(e){this.clear(),this.add(e)}},{key:"add",value:function(e){var t=e;Bj.test(t)&&(Aj.lastIndex=0,t=t.replace(Aj,function(e){var t=Wikifier.helpers.parseSquareBracketedMarkup({source:e,matchStart:0});if(t.hasOwnProperty("error")||t.pos<e.length)return e;var r=t.source;if("data:"!==r.slice(0,5)&&Story.has(r)){var n=Story.get(r);n.tags.includes("Twine.image")&&(r=n.text.trim())}return'url("'+r.replace(/"/g,"%22")+'")'})),this.style.styleSheet?this.style.styleSheet.cssText+=t:this.style.appendChild(document.createTextNode(t))}},{key:"clear",value:function(){this.style.styleSheet?this.style.styleSheet.cssText="":jQuery(this.style).empty()}}]),t}()),Diff=(Nj=Util.toEnum({Delete:0,SpliceArray:1,Copy:2,CopyDate:3}),Object.freeze(Object.defineProperties({},{Op:{value:Nj},diff:{value:function e(t,r){for(var n=Object.prototype.toString,a=t instanceof Array,i=[].concat(Object.keys(t),Object.keys(r)).sort().filter(function(e,t,r){return 0===t||r[t-1]!==e}),o={},s=void 0,u=function(e){return e===s},l=0,c=i.length;l<c;++l){var d=i[l],p=t[d],f=r[d];if(t.hasOwnProperty(d))if(r.hasOwnProperty(d)){if(p===f)continue;if((void 0===p?"undefined":_typeof(p))===(void 0===f?"undefined":_typeof(f)))if("function"==typeof p)p.toString()!==f.toString()&&(o[d]=[Nj.Copy,f]);else if("object"!==(void 0===p?"undefined":_typeof(p))||null===p)o[d]=[Nj.Copy,f];else{var h=n.call(p);if(h===n.call(f))if(p instanceof Date)Number(p)!==Number(f)&&(o[d]=[Nj.Copy,clone(f)]);else if(p instanceof Map)o[d]=[Nj.Copy,clone(f)];else if(p instanceof RegExp)p.toString()!==f.toString()&&(o[d]=[Nj.Copy,clone(f)]);else if(p instanceof Set)o[d]=[Nj.Copy,clone(f)];else if("[object Object]"!==h)o[d]=[Nj.Copy,clone(f)];else{var g=e(p,f);null!==g&&(o[d]=g)}else o[d]=[Nj.Copy,clone(f)]}else o[d]=[Nj.Copy,"object"!==(void 0===f?"undefined":_typeof(f))||null===f?f:clone(f)]}else if(a&&Util.isNumeric(d)){var m=Number(d);if(!s){for(s="";s+="~",i.some(u););o[s]=[Nj.SpliceArray,m,m]}m<o[s][1]&&(o[s][1]=m),m>o[s][2]&&(o[s][2]=m)}else o[d]=Nj.Delete;else o[d]=[Nj.Copy,"object"!==(void 0===f?"undefined":_typeof(f))||null===f?f:clone(f)]}return 0<Object.keys(o).length?o:null}},patch:{value:function e(t,r){for(var n=Object.keys(r||{}),a=clone(t),i=0,o=n.length;i<o;++i){var s=n[i],u=r[s];if(u===Nj.Delete)delete a[s];else if(u instanceof Array)switch(u[0]){case Nj.SpliceArray:a.splice(u[1],u[2]-u[1]+1);break;case Nj.Copy:a[s]=clone(u[1]);break;case Nj.CopyDate:a[s]=new Date(u[1])}else a[s]=e(a[s],u)}return a}}}))),L10n=(sk=/\{\w+\}/g,tk=new RegExp(sk.source),Object.freeze(Object.defineProperties({},{init:{value:function(){strings&&0<Object.keys(strings).length&&Object.keys(l10nStrings).forEach(function(e){try{var t=void 0;switch(e){case"identity":t=strings.identity;break;case"aborting":t=strings.aborting;break;case"cancel":t=strings.cancel;break;case"close":t=strings.close;break;case"ok":t=strings.ok;break;case"errorTitle":t=strings.errors.title;break;case"errorNonexistentPassage":t=strings.errors.nonexistentPassage;break;case"errorSaveMissingData":t=strings.errors.saveMissingData;break;case"errorSaveIdMismatch":t=strings.errors.saveIdMismatch;break;case"warningDegraded":t=strings.warnings.degraded;break;case"debugViewTitle":t=strings.debugView.title;break;case"debugViewToggle":t=strings.debugView.toggle;break;case"uiBarToggle":t=strings.uiBar.toggle;break;case"uiBarBackward":t=strings.uiBar.backward;break;case"uiBarForward":t=strings.uiBar.forward;break;case"uiBarJumpto":t=strings.uiBar.jumpto;break;case"jumptoTitle":t=strings.jumpto.title;break;case"jumptoTurn":t=strings.jumpto.turn;break;case"jumptoUnavailable":t=strings.jumpto.unavailable;break;case"savesTitle":t=strings.saves.title;break;case"savesDisallowed":t=strings.saves.disallowed;break;case"savesIncapable":t=strings.saves.incapable;break;case"savesLabelAuto":t=strings.saves.labelAuto;break;case"savesLabelDelete":t=strings.saves.labelDelete;break;case"savesLabelExport":t=strings.saves.labelExport;break;case"savesLabelImport":t=strings.saves.labelImport;break;case"savesLabelLoad":t=strings.saves.labelLoad;break;case"savesLabelClear":t=strings.saves.labelClear;break;case"savesLabelSave":t=strings.saves.labelSave;break;case"savesLabelSlot":t=strings.saves.labelSlot;break;case"savesUnavailable":t=strings.saves.unavailable;break;case"savesUnknownDate":t=strings.saves.unknownDate;break;case"settingsTitle":t=strings.settings.title;break;case"settingsOff":t=strings.settings.off;break;case"settingsOn":t=strings.settings.on;break;case"settingsReset":t=strings.settings.reset;break;case"restartTitle":t=strings.restart.title;break;case"restartPrompt":t=strings.restart.prompt;break;case"shareTitle":t=strings.share.title;break;case"autoloadTitle":t=strings.autoload.title;break;case"autoloadCancel":t=strings.autoload.cancel;break;case"autoloadOk":t=strings.autoload.ok;break;case"autoloadPrompt":t=strings.autoload.prompt;break;case"macroBackText":t=strings.macros.back.text;break;case"macroReturnText":t=strings.macros.return.text}t&&(l10nStrings[e]=t.replace(/%\w+%/g,function(e){return"{"+e.slice(1,-1)+"}"}))}catch(e){}})}},get:{value:function(e,r){if(!e)return"";var t,n,a=(t=Array.isArray(e)?e:[e],n=void 0,t.some(function(e){return!!l10nStrings.hasOwnProperty(e)&&(n=e,!0)}),n);if(!a)return"";for(var i=l10nStrings[a],o=0;tk.test(i);){if(50<++o)throw new Error("L10n.get exceeded maximum replacement iterations, probable infinite loop");sk.lastIndex=0,i=i.replace(sk,function(e){var t=e.slice(1,-1);return r&&r.hasOwnProperty(t)?r[t]:l10nStrings.hasOwnProperty(t)?l10nStrings[t]:void 0})}return i}}}))),strings={errors:{},warnings:{},debugView:{},uiBar:{},jumpto:{},saves:{},settings:{},restart:{},share:{},autoload:{},macros:{back:{},return:{}}},l10nStrings={identity:"game",aborting:"Aborting",cancel:"Cancel",close:"Close",ok:"OK",errorTitle:"Error",errorToggle:"Toggle the error view",errorNonexistentPassage:'the passage "{passage}" does not exist',errorSaveMissingData:"save is missing required data. Either the loaded file is not a save or the save has become corrupted",errorSaveIdMismatch:"save is from the wrong {identity}",_warningIntroLacking:"Your browser either lacks or has disabled",_warningOutroDegraded:", so this {identity} is running in a degraded mode. You may be able to continue, however, some parts may not work properly.",warningNoWebStorage:"{_warningIntroLacking} the Web Storage API{_warningOutroDegraded}",warningDegraded:"{_warningIntroLacking} some of the capabilities required by this {identity}{_warningOutroDegraded}",debugBarToggle:"Toggle the debug bar",debugBarNoWatches:"— no watches set —",debugBarAddWatch:"Add watch",debugBarDeleteWatch:"Delete watch",debugBarWatchAll:"Watch all",debugBarWatchNone:"Delete all",debugBarLabelAdd:"Add",debugBarLabelWatch:"Watch",debugBarLabelTurn:"Turn",debugBarLabelViews:"Views",debugBarViewsToggle:"Toggle the debug views",debugBarWatchToggle:"Toggle the watch panel",uiBarToggle:"Toggle the UI bar",uiBarBackward:"Go backward within the {identity} history",uiBarForward:"Go forward within the {identity} history",uiBarJumpto:"Jump to a specific point within the {identity} history",jumptoTitle:"Jump To",jumptoTurn:"Turn",jumptoUnavailable:"No jump points currently available…",savesTitle:"Saves",savesDisallowed:"Saving has been disallowed on this passage.",savesIncapable:"{_warningIntroLacking} the capabilities required to support saves, so saves have been disabled for this session.",savesLabelAuto:"Autosave",savesLabelDelete:"Delete",savesLabelExport:"Save to Disk…",savesLabelImport:"Load from Disk…",savesLabelLoad:"Load",savesLabelClear:"Delete All",savesLabelSave:"Save",savesLabelSlot:"Slot",savesUnavailable:"No save slots found…",savesUnknownDate:"unknown",settingsTitle:"Settings",settingsOff:"Off",settingsOn:"On",settingsReset:"Reset to Defaults",restartTitle:"Restart",restartPrompt:"Are you sure that you want to restart? Unsaved progress will be lost.",shareTitle:"Share",autoloadTitle:"Autoload",autoloadCancel:"Go to start",autoloadOk:"Load autosave",autoloadPrompt:"An autosave exists. Load it now or go to the start?",macroBackText:"Back",macroReturnText:"Return"},Config=function(){function t(){throw new Error("Config.history.mode has been deprecated and is no longer used by SugarCube, please remove it from your code")}function r(){throw new Error("Config.history.tracking has been deprecated, use Config.history.maxStates instead")}var n=!1,a=!1,i=!1,o=0,s=!0,u=!0,l=!0,c=100,d=!0,p=1e3,f=void 0,h=void 0,g=!1,m=!1,y=void 0,v=void 0,b=void 0,w=void 0,k="untitled-story",S=void 0,E=void 0,x=void 0,j=8,_=void 0,O=800,T=!0;return Object.freeze({get debug(){return n},set debug(e){n=Boolean(e)},get addVisitedLinkClass(){return a},set addVisitedLinkClass(e){a=Boolean(e)},get cleanupWikifierOutput(){return i},set cleanupWikifierOutput(e){i=Boolean(e)},get loadDelay(){return o},set loadDelay(e){if(!Number.isSafeInteger(e)||e<0)throw new RangeError("Config.loadDelay must be a non-negative integer");o=e},audio:Object.freeze({get pauseOnFadeToZero(){return s},set pauseOnFadeToZero(e){s=Boolean(e)},get preloadMetadata(){return u},set preloadMetadata(e){u=Boolean(e)}}),history:Object.freeze({get controls(){return l},set controls(e){if((l=Boolean(e))&&1===c)throw l=!1,new Error("Config.history.controls must be false when Config.history.maxStates is 1")},get maxStates(){return c},set maxStates(e){if(!Number.isSafeInteger(e)||e<0)throw new RangeError("Config.history.maxStates must be a non-negative integer");c=e,l&&1===e&&(l=!1)},get mode(){t()},set mode(e){t()},get tracking(){r()},set tracking(e){r()}}),macros:Object.freeze({get ifAssignmentError(){return d},set ifAssignmentError(e){d=Boolean(e)},get maxLoopIterations(){return p},set maxLoopIterations(e){if(!Number.isSafeInteger(e)||e<0)throw new RangeError("Config.macros.maxLoopIterations must be a non-negative integer");p=e}}),navigation:Object.freeze({get override(){return f},set override(e){if(!(null==e||e instanceof Function))throw new TypeError("Config.navigation.override must be a function or null/undefined (received: "+Util.getType(e)+")");f=e}}),passages:Object.freeze({get descriptions(){return h},set descriptions(e){if(null!=e){var t=Util.getType(e);if("boolean"!==t&&"Object"!==t&&"function"!==t)throw new TypeError("Config.passages.descriptions must be a boolean, object, function, or null/undefined (received: "+t+")")}h=e},get displayTitles(){return g},set displayTitles(e){g=Boolean(e)},get nobr(){return m},set nobr(e){m=Boolean(e)},get start(){return y},set start(e){if(null!=e){var t=Util.getType(e);if("string"!==t)throw new TypeError("Config.passages.start must be a string or null/undefined (received: "+t+")")}y=e},get transitionOut(){return v},set transitionOut(e){if(null!=e){var t=Util.getType(e);if("string"!==t&&("number"!==t||!Number.isSafeInteger(e)||e<0))throw new TypeError("Config.passages.transitionOut must be a string, non-negative integer, or null/undefined (received: "+t+")")}v=e}}),saves:Object.freeze({get autoload(){return b},set autoload(e){if(null!=e){var t=Util.getType(e);if("boolean"!==t&&"string"!==t&&"function"!==t)throw new TypeError("Config.saves.autoload must be a boolean, string, function, or null/undefined (received: "+t+")")}b=e},get autosave(){return w},set autosave(e){if(null!=e){var t=Util.getType(e);if("boolean"!==t&&"string"!==t&&("Array"!==t||!e.every(function(e){return"string"==typeof e})))throw new TypeError("Config.saves.autosave must be a boolean, string, Array of strings, or null/undefined (received: "+t+("Array"===t?" of mixed":"")+")")}w=e},get id(){return k},set id(e){if("string"!=typeof e||""===e)throw new TypeError("Config.saves.id must be a non-empty string (received: "+Util.getType(e)+")");k=e},get isAllowed(){return S},set isAllowed(e){if(!(null==e||e instanceof Function))throw new TypeError("Config.saves.isAllowed must be a function or null/undefined (received: "+Util.getType(e)+")");S=e},get onLoad(){return E},set onLoad(e){if(!(null==e||e instanceof Function))throw new TypeError("Config.saves.onLoad must be a function or null/undefined (received: "+Util.getType(e)+")");E=e},get onSave(){return x},set onSave(e){if(!(null==e||e instanceof Function))throw new TypeError("Config.saves.onSave must be a function or null/undefined (received: "+Util.getType(e)+")");x=e},get slots(){return j},set slots(e){if(!Number.isSafeInteger(e)||e<0)throw new RangeError("Config.saves.slots must be a non-negative integer");j=e},get version(){return _},set version(e){_=e}}),ui:Object.freeze({get stowBarInitially(){return O},set stowBarInitially(e){var t=Util.getType(e);if("boolean"!==t&&("number"!==t||!Number.isSafeInteger(e)||e<0))throw new TypeError("Config.passages.transitionOut must be a boolean or non-negative integer (received: "+t+")");O=e},get updateStoryElements(){return T},set updateStoryElements(e){T=Boolean(e)}})})}(),SimpleAudio=function(){function r(e){if(null==e)return g;t("mute",g=!!e)}function i(e){p.delete(e)}function t(t,r){p.forEach(function(e){return e(t,r)})}function o(e){return new y(e.map(function(e){if("data:"!==e.slice(0,5)&&Story.has(e)){var t=Story.get(e);if(t.tags.includes("Twine.audio"))return t.text.trim()}var r=a.exec(e);return null===r?e:{format:r[1],src:r[2]}}))}var n=Object.freeze(["click","contextmenu","dblclick","keyup","mouseup","pointerup","touchend"]),s=Object.freeze([":not",":all",":looped",":muted",":paused",":playing"]),a=/^([\w-]+)\s*\|\s*(\S.*)$/,u=/[:\s]/,l=new Map,c=new Map,d=new Map,p=new Map,f=1,h=1,g=!1,m=!1,y=function(){function a(e){if(_classCallCheck(this,a),e instanceof Array)this._create(e);else{if(!(e instanceof a))throw new Error("sources parameter must be either an array, of URIs or source objects, or an AudioTrack instance");this._copy(e)}}return _createClass(a,[{key:"_create",value:function(e){var o=/^data:\s*audio\/([^;,]+)\s*[;,]/i,s=/\.([^.\/\\]+)$/,u=a.getType,l=[],c=document.createElement("audio");c.preload="none",e.forEach(function(e){var t=null;switch(void 0===e?"undefined":_typeof(e)){case"string":var r=void 0;if("data:"===e.slice(0,5)){if(null===(r=o.exec(e)))throw new Error("source data URI missing media type")}else if(null===(r=s.exec(Util.parseUrl(e).pathname)))throw new Error("source URL missing file extension");var n=u(r[1]);null!==n&&(t={src:e,type:n});break;case"object":if(null===e)throw new Error("source object cannot be null");if(!e.hasOwnProperty("src"))throw new Error('source object missing required "src" property');if(!e.hasOwnProperty("format"))throw new Error('source object missing required "format" property');var a=u(e.format);null!==a&&(t={src:e.src,type:a});break;default:throw new Error("invalid source value (type: "+(void 0===e?"undefined":_typeof(e))+")")}if(null!==t){Browser.isOpera&&(t.type=t.type.replace(/;.*$/,""));var i=document.createElement("source");i.src=t.src,i.type=t.type,c.appendChild(i),l.push(t)}}),c.hasChildNodes()&&Config.audio.preloadMetadata&&(c.preload="metadata"),this._finalize(c,l,clone(e))}},{key:"_copy",value:function(e){this._finalize(e.audio.cloneNode(!0),clone(e.sources),clone(e.originals))}},{key:"_finalize",value:function(e,t,r){var n=this;Object.defineProperties(this,{audio:{configurable:!0,value:e},sources:{value:Object.freeze(t)},originals:{value:Object.freeze(r)},_error:{writable:!0,value:!1},_faderId:{writable:!0,value:null},_mute:{writable:!0,value:!1},_rate:{writable:!0,value:1},_volume:{writable:!0,value:1}}),jQuery(this.audio).on("loadstart.AudioTrack",function(){return n._error=!1}).on("error.AudioTrack",function(){return n._error=!0}).find("source:last-of-type").on("error.AudioTrack",function(){return n._trigger("error")}),function(e,t){if("function"!=typeof t)throw new Error("callback parameter must be a function");p.set(e,t)}(this,function(e){if(n.audio)switch(e){case"loadwithscreen":if(n.hasSource()){var t=LoadScreen.lock();n.one("canplaythrough.AudioTrack_loadwithscreen error.AudioTrack_loadwithscreen",function(){jQuery(this).off(".AudioTrack_loadwithscreen"),LoadScreen.unlock(t)}).load()}break;case"load":n.load();break;case"mute":n._updateAudioMute();break;case"rate":n._updateAudioRate();break;case"stop":n.stop();break;case"volume":n._updateAudioVolume();break;case"unload":n.unload()}else i(n)}),this._updateAudioMute(),this._updateAudioRate(),this._updateAudioVolume()}},{key:"_trigger",value:function(e){jQuery(this.audio).triggerHandler(e)}},{key:"_destroy",value:function(){i(this),this.audio&&(jQuery(this.audio).off(),this.unload(),this._error=!0,delete this.audio)}},{key:"clone",value:function(){return new a(this)}},{key:"load",value:function(){var r=this;if(this.fadeStop(),this.audio.pause(),!this.audio.hasChildNodes()){if(0===this.sources.length)return;this.sources.forEach(function(e){var t=document.createElement("source");t.src=e.src,t.type=e.type,r.audio.appendChild(t)})}"auto"!==this.audio.preload&&(this.audio.preload="auto"),this.isLoading()||this.audio.load()}},{key:"unload",value:function(){this.fadeStop(),this.stop();var e=this.audio;for(e.preload="none";e.hasChildNodes();)e.removeChild(e.firstChild);e.load()}},{key:"play",value:function(){var n=this;return this.hasSource()?this.isUnloaded()?Promise.reject(new Error("no sources are loaded")):this.isFailed()?Promise.reject(new Error("failed to load any of the sources")):("auto"!==this.audio.preload&&(this.audio.preload="auto"),Has.audioPromise?this.audio.play():new Promise(function(t,r){jQuery(n.audio).off(".AudioTrack_play").one("error.AudioTrack_play playing.AudioTrack_play",function(e){jQuery(n).off(".AudioTrack_play"),"error"===e.type?r(new Error("unknown error")):t()}),n.audio.play()})):Promise.reject(new Error("none of the candidate sources were acceptable"))}},{key:"playWhenAllowed",value:function(){var t=this;this.play().catch(function(){var e=n.map(function(e){return e+".AudioTrack_playWhenAllowed"}).join(" ");jQuery(document).one(e,function(){jQuery(document).off(".AudioTrack_playWhenAllowed"),t.audio.play()})})}},{key:"pause",value:function(){this.audio.pause()}},{key:"stop",value:function(){this.audio.pause(),this.time(0),this._trigger(":stopped")}},{key:"fade",value:function(a,e,t){var i=this;if("number"!=typeof a)throw new TypeError("duration parameter must be a number");if("number"!=typeof e)throw new TypeError("toVolume parameter must be a number");if(null!=t&&"number"!=typeof t)throw new TypeError("fromVolume parameter must be a number");if(!this.hasSource())return Promise.reject(new Error("none of the candidate sources were acceptable"));if(this.isUnloaded())return Promise.reject(new Error("no sources are loaded"));if(this.isFailed())return Promise.reject(new Error("failed to load any of the sources"));this.fadeStop();var o=Math.clamp(null==t?this.volume():t,0,1),s=Math.clamp(e,0,1);return o!==s?(this.volume(o),jQuery(this.audio).off("timeupdate.AudioTrack_fade").one("timeupdate.AudioTrack_fade",function(){var e=void 0,t=void 0;t=o<s?(e=o,s):(e=s,o);var r=Math.max(a,1),n=(s-o)/(r/.025);i._trigger(":fading"),i._faderId=setInterval(function(){i.isPlaying()?(i.volume(Math.clamp(i.volume()+n,e,t)),Config.audio.pauseOnFadeToZero&&0===i.volume()&&i.pause(),i.volume()===s&&(i.fadeStop(),i._trigger(":faded"))):i.fadeStop()},25)}),this.play()):void 0}},{key:"fadeIn",value:function(e,t){return this.fade(e,1,t)}},{key:"fadeOut",value:function(e,t){return this.fade(e,0,t)}},{key:"fadeStop",value:function(){null!==this._faderId&&(clearInterval(this._faderId),this._faderId=null)}},{key:"loop",value:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(e){return null==e?this.audio.loop:(this.audio.loop=!!e,this)})},{key:"mute",value:function(e){return null==e?this._mute:(this._mute=!!e,this._updateAudioMute(),this)}},{key:"_updateAudioMute",value:function(){this.audio.muted=this._mute||g}},{key:"rate",value:function(e){if(null==e)return this._rate;if("number"!=typeof e)throw new TypeError("rate parameter must be a number");return this._rate=Math.clamp(e,.2,5),this._updateAudioRate(),this}},{key:"_updateAudioRate",value:function(){this.audio.playbackRate=Math.clamp(this._rate*f,.2,5)}},{key:"time",value:function(e){var t=this;if(null==e)return this.audio.currentTime;if("number"!=typeof e)throw new TypeError("time parameter must be a number");return this.hasMetadata()?this.audio.currentTime=e:jQuery(this.audio).off("loadedmetadata.AudioTrack_time").one("loadedmetadata.AudioTrack_time",function(){return t.audio.currentTime=e}),this}},{key:"volume",value:function(e){if(null==e)return this._volume;if("number"!=typeof e)throw new TypeError("volume parameter must be a number");return this._volume=Math.clamp(e,0,1),this._updateAudioVolume(),this}},{key:"_updateAudioVolume",value:function(){this.audio.volume=Math.clamp(this._volume*h,0,1)}},{key:"duration",value:function(){return this.audio.duration}},{key:"remaining",value:function(){return this.audio.duration-this.audio.currentTime}},{key:"isFailed",value:function(){return this._error}},{key:"isLoading",value:function(){return this.audio.networkState===HTMLMediaElement.NETWORK_LOADING}},{key:"isUnloaded",value:function(){return!this.audio.hasChildNodes()}},{key:"isUnavailable",value:function(){return!this.hasSource()||this.isUnloaded()||this.isFailed()}},{key:"isPlaying",value:function(){return!this.audio.paused&&this.hasSomeData()}},{key:"isPaused",value:function(){return this.audio.paused&&(this.audio.duration===1/0||0<this.audio.currentTime)&&!this.audio.ended}},{key:"isStopped",value:function(){return this.audio.paused&&0===this.audio.currentTime}},{key:"isEnded",value:function(){return this.audio.ended}},{key:"isFading",value:function(){return null!==this._faderId}},{key:"isSeeking",value:function(){return this.audio.seeking}},{key:"hasSource",value:function(){return 0<this.sources.length}},{key:"hasNoData",value:function(){return this.audio.readyState===HTMLMediaElement.HAVE_NOTHING}},{key:"hasMetadata",value:function(){return this.audio.readyState>=HTMLMediaElement.HAVE_METADATA}},{key:"hasSomeData",value:function(){return this.audio.readyState>=HTMLMediaElement.HAVE_CURRENT_DATA}},{key:"hasData",value:function(){return this.audio.readyState===HTMLMediaElement.HAVE_ENOUGH_DATA}},{key:"on",value:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return jQuery.fn.on.apply(jQuery(this.audio),t),this}},{key:"one",value:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return jQuery.fn.one.apply(jQuery(this.audio),t),this}},{key:"off",value:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return jQuery.fn.off.apply(jQuery(this.audio),t),this}}],[{key:"_verifyType",value:function(e){if(!e||!Has.audio)return null;var t=a._types;if(!t.hasOwnProperty(e)){var r=document.createElement("audio");t[e]=""!==r.canPlayType(e).replace(/^no$/i,"")}return t[e]?e:null}},{key:"getType",value:function(e){if(!e||!Has.audio)return null;var t=a.formats,r=e.toLowerCase(),n=t.hasOwnProperty(r)?t[r]:"audio/"+r;return a._verifyType(n)}},{key:"canPlayFormat",value:function(e){return null!==a.getType(e)}},{key:"canPlayType",value:function(e){return null!==a._verifyType(e)}}]),a}();Object.defineProperties(y,{formats:{value:{aac:"audio/aac",caf:"audio/x-caf","x-caf":"audio/x-caf",mp3:'audio/mpeg; codecs="mp3"',mpeg:'audio/mpeg; codecs="mp3"',m4a:"audio/mp4",mp4:"audio/mp4","x-m4a":"audio/mp4","x-mp4":"audio/mp4",oga:"audio/ogg",ogg:"audio/ogg",opus:'audio/ogg; codecs="opus"',wav:"audio/wav",wave:"audio/wav",weba:"audio/webm",webm:"audio/webm"}},_types:{value:{}}});var v=function(){function t(e){if(_classCallCheck(this,t),e instanceof Array)this._create(e);else{if(!(e instanceof t))throw new Error("tracks parameter must be either an array, of track objects, or an AudioTrack instance");this._copy(e)}}return _createClass(t,[{key:"_create",value:function(e){var i=this;this._finalize(e.map(function(e){if("object"!==(void 0===e?"undefined":_typeof(e)))throw new Error("tracks parameter array members must be objects");var t=void 0,r=void 0,n=void 0,a=void 0;if(e instanceof y)t=!0,r=e.rate(),n=e.clone(),a=e.volume();else{if(!e.hasOwnProperty("track"))throw new Error('track object missing required "track" property');if(!(e.track instanceof y))throw new Error('track object\'s "track" property must be an AudioTrack object');t=e.hasOwnProperty("own")&&e.own,r=e.hasOwnProperty("rate")?e.rate:e.track.rate(),n=e.track,a=e.hasOwnProperty("volume")?e.volume:e.track.volume()}return n.stop(),n.loop(!1),n.mute(!1),n.rate(r),n.volume(a),n.on("ended.AudioList",function(){return i._onEnd()}),{own:t,track:n,volume:a,rate:r}}))}},{key:"_copy",value:function(e){this._finalize(clone(e.tracks))}},{key:"_finalize",value:function(e){Object.defineProperties(this,{tracks:{configurable:!0,value:Object.freeze(e)},queue:{configurable:!0,value:[]},current:{writable:!0,value:null},_rate:{writable:!0,value:1},_volume:{writable:!0,value:1},_mute:{writable:!0,value:!1},_loop:{writable:!0,value:!1},_shuffle:{writable:!0,value:!1}})}},{key:"_destroy",value:function(){this.stop(),this.tracks.filter(function(e){return e.own}).forEach(function(e){return e.track._destroy()}),delete this.tracks,delete this.queue}},{key:"load",value:function(){this.tracks.forEach(function(e){return e.track.load()})}},{key:"unload",value:function(){this.stop(),this.tracks.forEach(function(e){return e.track.unload()})}},{key:"play",value:function(){return null!==this.current&&!this.current.track.isUnavailable()&&!this.current.track.isEnded()||(0===this.queue.length&&this._fillQueue(),this._next())?this.current.track.play():Promise.reject(new Error("no tracks were available"))}},{key:"playWhenAllowed",value:function(){var t=this;this.play().catch(function(){var e=n.map(function(e){return e+".AudioList_playWhenAllowed"}).join(" ");jQuery(document).one(e,function(){jQuery(document).off(".AudioList_playWhenAllowed"),t.play()})})}},{key:"pause",value:function(){null!==this.current&&this.current.track.pause()}},{key:"stop",value:function(){null!==this.current&&(this.current.track.stop(),this.current=null),this._drainQueue()}},{key:"skip",value:function(){this._next()?this.current.track.play():this._loop&&this.play()}},{key:"fade",value:function(e,t,r){if("number"!=typeof e)throw new TypeError("duration parameter must be a number");if("number"!=typeof t)throw new TypeError("toVolume parameter must be a number");if(null!=r&&"number"!=typeof r)throw new TypeError("fromVolume parameter must be a number");if(0===this.queue.length&&this._fillQueue(),null!==this.current&&!this.current.track.isUnavailable()&&!this.current.track.isEnded()||this._next()){var n=Math.clamp(t,0,1)*this.current.volume,a=void 0;return null!=r&&(a=Math.clamp(r,0,1)*this.current.volume),this._volume=t,this.current.track.fade(e,n,a)}}},{key:"fadeIn",value:function(e,t){return this.fade(e,1,t)}},{key:"fadeOut",value:function(e,t){return this.fade(e,0,t)}},{key:"fadeStop",value:function(){null!==this.current&&this.current.track.fadeStop()}},{key:"loop",value:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(e){return null==e?this._loop:(this._loop=!!e,this)})},{key:"mute",value:function(e){return null==e?this._mute:(this._mute=!!e,null!==this.current&&this.current.track.mute(this._mute),this)}},{key:"rate",value:function(e){if(null==e)return this._rate;if("number"!=typeof e)throw new TypeError("rate parameter must be a number");return this._rate=Math.clamp(e,.2,5),null!==this.current&&this.current.track.rate(this._rate*this.current.rate),this}},{key:"shuffle",value:function(e){var t=this;if(null==e)return this._shuffle;if(this._shuffle=!!e,0<this.queue.length&&(this._fillQueue(),!this._shuffle&&null!==this.current&&1<this.queue.length)){var r,n=this.queue.findIndex(function(e){return e===t.current});if(-1!==n)(r=this.queue).push.apply(r,_toConsumableArray(this.queue.splice(0,n+1)))}return this}},{key:"volume",value:function(e){if(null==e)return this._volume;if("number"!=typeof e)throw new TypeError("volume parameter must be a number");return this._volume=Math.clamp(e,0,1),null!==this.current&&this.current.track.volume(this._volume*this.current.volume),this}},{key:"duration",value:function(){if(0<arguments.length)throw new Error("duration takes no parameters");return this.tracks.map(function(e){return e.track.duration()}).reduce(function(e,t){return e+t},0)}},{key:"remaining",value:function(){if(0<arguments.length)throw new Error("remaining takes no parameters");var e=this.queue.map(function(e){return e.track.duration()}).reduce(function(e,t){return e+t},0);return null!==this.current&&(e+=this.current.track.remaining()),e}},{key:"time",value:function(){if(0<arguments.length)throw new Error("time takes no parameters");return this.duration()-this.remaining()}},{key:"isPlaying",value:function(){return null!==this.current&&this.current.track.isPlaying()}},{key:"isPaused",value:function(){return null===this.current||this.current.track.isPaused()}},{key:"isStopped",value:function(){return 0===this.queue.length&&null===this.current}},{key:"isEnded",value:function(){return 0===this.queue.length&&(null===this.current||this.current.track.isEnded())}},{key:"isFading",value:function(){return null!==this.current&&this.current.track.isFading()}},{key:"_next",value:function(){null!==this.current&&(this.current.track.stop(),this.current=null);for(var e=void 0;e=this.queue.shift();)if(!e.track.isUnavailable()){this.current=e;break}return null!==this.current&&(this.current.track.mute(this._mute),this.current.track.rate(this._rate*this.current.rate),this.current.track.volume(this._volume*this.current.volume),this.current.track.loop(!1),!0)}},{key:"_onEnd",value:function(){if(0===this.queue.length){if(!this._loop)return;this._fillQueue()}this._next()&&this.current.track.play()}},{key:"_drainQueue",value:function(){this.queue.splice(0)}},{key:"_fillQueue",value:function(){var e;this._drainQueue(),(e=this.queue).push.apply(e,_toConsumableArray(this.tracks.filter(function(e){return!e.track.isUnavailable()}))),0!==this.queue.length&&this._shuffle&&(this.queue.shuffle(),1<this.queue.length&&this.queue[0]===this.current&&this.queue.push(this.queue.shift()))}}]),t}(),b=function(){function n(e){if(_classCallCheck(this,n),!(e instanceof Set||e instanceof n))throw new TypeError("list parameter must be a Set or a AudioRunner instance");Object.defineProperties(this,{trackIds:{value:new Set(e instanceof n?e.trackIds:e)}})}return _createClass(n,[{key:"load",value:function(){n._run(this.trackIds,y.prototype.load)}},{key:"unload",value:function(){n._run(this.trackIds,y.prototype.unload)}},{key:"play",value:function(){n._run(this.trackIds,y.prototype.play)}},{key:"playWhenAllowed",value:function(){n._run(this.trackIds,y.prototype.playWhenAllowed)}},{key:"pause",value:function(){n._run(this.trackIds,y.prototype.pause)}},{key:"stop",value:function(){n._run(this.trackIds,y.prototype.stop)}},{key:"fade",value:function(e,t,r){if(null==e||null==t)throw new Error("fade requires parameters");n._run(this.trackIds,y.prototype.fade,e,t,r)}},{key:"fadeIn",value:function(e,t){if(null==e)throw new Error("fadeIn requires a parameter");n._run(this.trackIds,y.prototype.fadeIn,e,1,t)}},{key:"fadeOut",value:function(e,t){if(null==e)throw new Error("fadeOut requires a parameter");n._run(this.trackIds,y.prototype.fadeOut,e,0,t)}},{key:"fadeStop",value:function(){n._run(this.trackIds,y.prototype.fadeStop)}},{key:"loop",value:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(e){if(null==e)throw new Error("loop requires a parameter");return n._run(this.trackIds,y.prototype.loop,e),this})},{key:"mute",value:function(e){if(null==e)throw new Error("mute requires a parameter");return n._run(this.trackIds,y.prototype.mute,e),this}},{key:"rate",value:function(e){if(null==e)throw new Error("rate requires a parameter");return n._run(this.trackIds,y.prototype.rate,e),this}},{key:"time",value:function(e){if(null==e)throw new Error("time requires a parameter");return n._run(this.trackIds,y.prototype.time,e),this}},{key:"volume",value:function(e){if(null==e)throw new Error("volume requires a parameter");return n._run(this.trackIds,y.prototype.volume,e),this}},{key:"on",value:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return n._run.apply(n,[this.trackIds,y.prototype.on].concat(t)),this}},{key:"one",value:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return n._run.apply(n,[this.trackIds,y.prototype.one].concat(t)),this}},{key:"off",value:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return n._run.apply(n,[this.trackIds,y.prototype.off].concat(t)),this}}],[{key:"_run",value:function(e,r){for(var t=arguments.length,n=Array(2<t?t-2:0),a=2;a<t;a++)n[a-2]=arguments[a];e.forEach(function(e){var t=l.get(e);t&&r.apply(t,n)})}}]),n}(),w=function(){function u(e,t){var r=void 0;if(o.lastIndex=t,null===(r=o.exec(e))||"("!==r[0])throw new Error('invalid ":not()" syntax: missing parentheticals');s.lastIndex=o.lastIndex;for(var n=o.lastIndex,a={str:"",nextMatch:-1},i=1;null!==(r=s.exec(e));)if("("===r[0]?++i:--i,i<1){a.nextMatch=s.lastIndex,a.str=e.slice(n,a.nextMatch-1);break}return a}var o=/\S/g,s=/[()]/g;return function e(t){for(var r=[],n=/:?[^\s:()]+/g,a=void 0;null!==(a=n.exec(t));){var i=a[0];if(":not"===i){if(0===r.length)throw new Error('invalid negation: no group ID preceded ":not()"');var o=r[r.length-1];if(":"!==o.id[0])throw new Error('invalid negation of track "'+o.id+'": only groups may be negated with ":not()"');var s=u(t,n.lastIndex);if(-1===s.nextMatch)throw new Error('unknown error parsing ":not()"');n.lastIndex=s.nextMatch,o.not=e(s.str)}else r.push({id:i})}return r}}();return Object.freeze(Object.defineProperties({},{tracks:{value:Object.freeze(Object.defineProperties({},{add:{value:function(){if(arguments.length<2){var e=[];throw arguments.length<1&&e.push("track ID"),arguments.length<2&&e.push("sources"),new Error("no "+e.join(" or ")+" specified")}var t=String(arguments[0]).trim(),r='track ID "'+t+'"';if(u.test(t))throw new Error("invalid "+r+": track IDs must not contain colons or whitespace");var n=Array.isArray(arguments[1])?Array.from(arguments[1]):Array.from(arguments).slice(1),a=void 0;try{a=o(n)}catch(e){throw new Error(r+": error during track initialization: "+e.message)}if(Config.debug&&!a.hasSource())throw new Error(r+": no supported audio sources found");l.has(t)&&l.get(t)._destroy(),l.set(t,a)}},delete:{value:function(e){return l.has(e)&&l.get(e)._destroy(),l.delete(e)}},clear:{value:function(){l.forEach(function(e){return e._destroy()}),l.clear()}},has:{value:function(e){return l.has(e)}},get:{value:function(e){return l.get(e)||null}}}))},groups:{value:Object.freeze(Object.defineProperties({},{add:{value:function(){if(arguments.length<2){var e=[];throw arguments.length<1&&e.push("group ID"),arguments.length<2&&e.push("track IDs"),new Error("no "+e.join(" or ")+" specified")}var t=String(arguments[0]).trim(),r='group ID "'+t+'"';if(":"!==t[0]||u.test(t.slice(1)))throw new Error("invalid "+r+": group IDs must start with a colon and must not contain colons or whitespace");if(s.includes(t))throw new Error("cannot clobber special "+r);var n=Array.isArray(arguments[1])?Array.from(arguments[1]):Array.from(arguments).slice(1),a=void 0;try{a=new Set(n.map(function(e){if(!l.has(e))throw new Error('track "'+e+'" does not exist');return e}))}catch(e){throw new Error(r+": error during group initialization: "+e.message)}c.set(t,Object.freeze(Array.from(a)))}},delete:{value:function(e){return c.delete(e)}},clear:{value:function(){c.clear()}},has:{value:function(e){return c.has(e)}},get:{value:function(e){return c.get(e)||null}}}))},lists:{value:Object.freeze(Object.defineProperties({},{add:{value:function(){if(arguments.length<2){var e=[];throw arguments.length<1&&e.push("list ID"),arguments.length<2&&e.push("track IDs"),new Error("no "+e.join(" or ")+" specified")}var t=String(arguments[0]).trim(),r='list ID "'+t+'"';if(u.test(t))return this.error("invalid "+r+": list IDs must not contain colons or whitespace");var n=Array.isArray(arguments[1])?Array.from(arguments[1]):Array.from(arguments).slice(1),a=void 0;try{a=new v(n.map(function(e){if(null===e)throw new Error("track descriptor must be a string or object (type: null)");switch(void 0===e?"undefined":_typeof(e)){case"string":e={id:e};break;case"object":if(!e.hasOwnProperty("id")&&!e.hasOwnProperty("sources"))throw new Error('track descriptor must contain one of either an "id" or a "sources" property');if(e.hasOwnProperty("id")&&e.hasOwnProperty("sources"))throw new Error('track descriptor must contain either an "id" or a "sources" property, not both');break;default:throw new Error("track descriptor must be a string or object (type: "+(void 0===e?"undefined":_typeof(e))+")")}var t=void 0,r=void 0,n=void 0;if(e.hasOwnProperty("id")){if("string"!=typeof e.id)throw new Error('"id" property must be a string');if(!l.has(e.id))throw new Error('track "'+e.id+'" does not exist');r=l.get(e.id)}else if(e.hasOwnProperty("sources")){if(!Array.isArray(e.sources)||0===e.sources.length)throw new Error('"sources" property must be a non-empty array');if(e.hasOwnProperty("own"))throw new Error('"own" property is not allowed with the "sources" property');try{r=o(e.sources),t=!0}catch(e){throw new Error("error during track initialization: "+e.message)}if(Config.debug&&!r.hasSource())throw new Error("no supported audio sources found")}if(e.hasOwnProperty("own")){if("boolean"!=typeof e.own)throw new Error('"own" property must be a boolean');(t=e.own)&&(r=r.clone())}if(e.hasOwnProperty("volume")){if("number"!=typeof e.volume||Number.isNaN(e.volume)||!Number.isFinite(e.volume)||e.volume<0)throw new Error('"volume" property must be a non-negative finite number');n=e.volume}return{own:null!=t&&t,track:r,volume:null!=n?n:r.volume()}}))}catch(e){throw new Error(r+": error during playlist initialization: "+e.message)}d.has(t)&&d.get(t)._destroy(),d.set(t,a)}},delete:{value:function(e){return d.has(e)&&d.get(e)._destroy(),d.delete(e)}},clear:{value:function(){d.forEach(function(e){return e._destroy()}),d.clear()}},has:{value:function(e){return d.has(e)}},get:{value:function(e){return d.get(e)||null}}}))},select:{value:function(){if(0===arguments.length)throw new Error("no track selector specified");var e=String(arguments[0]).trim(),t=new Set;try{var i=Array.from(l.keys());w(e).forEach(function(e){return function t(e){var r=e.id,n=void 0;switch(r){case":all":n=i;break;case":looped":n=i.filter(function(e){return l.get(e).loop()});break;case":muted":n=i.filter(function(e){return l.get(e).mute()});break;case":paused":n=i.filter(function(e){return l.get(e).isPaused()});break;case":playing":n=i.filter(function(e){return l.get(e).isPlaying()});break;default:n=":"===r[0]?c.get(r):[r]}if(e.hasOwnProperty("not")){var a=e.not.map(function(e){return t(e)}).flat(1/0);n=n.filter(function(e){return!a.includes(e)})}return n}(e).forEach(function(e){if(!l.has(e))throw new Error('track "'+e+'" does not exist');t.add(e)})})}catch(e){throw new Error("error during runner initialization: "+e.message)}return new b(t)}},load:{value:function(){t("load")}},loadWithScreen:{value:function(){t("loadwithscreen")}},mute:{value:r},muteOnHidden:{value:function(e){if(null==e)return m;if(m=!!e){var t=Visibility.changeEvent+".SimpleAudio_masterMuteOnHidden";jQuery(document).off(t).on(t,function(){return r(Visibility.isHidden())}),Visibility.isHidden()&&r(!0)}else jQuery(document).off(".SimpleAudio_masterMuteOnHidden")}},rate:{value:function(e){if(null==e)return f;if("number"!=typeof e||Number.isNaN(e)||!Number.isFinite(e))throw new Error("rate must be a finite number");t("rate",f=Math.clamp(e,.2,5))}},stop:{value:function(){t("stop")}},unload:{value:function(){t("unload")}},volume:{value:function(e){if(null==e)return h;if("number"!=typeof e||Number.isNaN(e)||!Number.isFinite(e))throw new Error("volume must be a finite number");t("volume",h=Math.clamp(e,0,1))}}}))}(),State=function(){function t(e){var t={index:y};return e?t.history=clone(g):t.delta=c(g),0<v.length&&(t.expired=[].concat(_toConsumableArray(v))),null!==b&&(t.seed=b.seed),t}function r(e,t){if(null==e)throw new Error("state object is null or undefined");if(!e.hasOwnProperty(t?"history":"delta")||0===e[t?"history":"delta"].length)throw new Error("state object has no history or history is empty");if(!e.hasOwnProperty("index"))throw new Error("state object has no index");if(null!==b&&!e.hasOwnProperty("seed"))throw new Error("state object has no seed, but PRNG is enabled");if(null===b&&e.hasOwnProperty("seed"))throw new Error("state object has seed, but PRNG is disabled");g=t?clone(e.history):d(e.delta),y=e.index,v=e.hasOwnProperty("expired")?[].concat(_toConsumableArray(e.expired)):[],e.hasOwnProperty("seed")&&(b.seed=e.seed),a(y)}function n(e,t){return{title:null==e?"":String(e),__getUpperName__:null==t?{}:clone(t)}}function a(e){if(null==e)throw new Error("moment activation attempted with null or undefined");switch(void 0===e?"undefined":_typeof(e)){case"object":m=clone(e);break;case"number":if(s())throw new Error("moment activation attempted with index on empty history");if(e<0||e>=o())throw new RangeError("moment activation attempted with out-of-bounds index; need [0, "+(o()-1)+"], got "+e);m=clone(g[e]);break;default:throw new TypeError('moment activation attempted with a "'+(void 0===e?"undefined":_typeof(e))+'"; must be an object or valid history stack index')}return null!==b&&(b=PRNGWrapper.unmarshal({seed:b.seed,pull:m.pull})),session.set("state",t()),jQuery.event.trigger(":historyupdate"),m}function i(){return y+1}function o(){return g.length}function s(){return 0===g.length}function u(){return 0<g.length?g[g.length-1]:null}function l(e){return!(null==e||e<0||e>=o()||e===y||(a(y=e),0))}function c(e){if(!Array.isArray(e))return null;if(0===e.length)return[];for(var t=[clone(e[0])],r=1,n=e.length;r<n;++r)t.push(Diff.diff(e[r-1],e[r]));return t}function d(e){if(!Array.isArray(e))return null;if(0===e.length)return[];for(var t=[clone(e[0])],r=1,n=e.length;r<n;++r)t.push(Diff.patch(t[r-1],e[r]));return t}function e(e,t){if(!s()){throw"the Story JavaScript",new Error("State.initPRNG must be called during initialization, within either the Story JavaScript or the VRT-1-2-5 special passage")}b=new PRNGWrapper(e,t),m.pull=b.pull}function p(e){var t=f(e);if(null!==t){for(var r=t.names,n=t.store,a=0,i=r.length;a<i;++a){if(void 0===n[r[a]])return;n=n[r[a]]}return n}}function f(e){for(var t={store:"$"===e[0]?State.__getUpperName__:State.temporary,names:[]},r=e,n=void 0;null!==(n=k.exec(r));)r=r.slice(n[0].length),n[1]?t.names.push(n[1]):n[2]?t.names.push(n[2]):n[3]?t.names.push(n[3]):n[4]?t.names.push(n[4]):n[5]?t.names.push(p(n[5])):n[6]&&t.names.push(Number(n[6]));return""===r?t:null}function h(e){if("string"!=typeof e)throw new TypeError("State.metadata.delete key parameter must be a string (received: "+(void 0===e?"undefined":_typeof(e))+")");var t=storage.get(S);t&&t.hasOwnProperty(e)&&(1===Object.keys(t).length?storage.delete(S):(delete t[e],storage.set(S,t)))}var g=[],m=n(),y=-1,v=[],b=null,w={},k=new RegExp("^(?:"+Patterns.variableSigil+"("+Patterns.identifier+")|\\.("+Patterns.identifier+")|\\[(?:(?:\"((?:\\\\.|[^\"\\\\])+)\")|(?:'((?:\\\\.|[^'\\\\])+)')|("+Patterns.variableSigil+Patterns.identifierFirstChar+".*)|(\\d+))\\])"),S="metadata";return Object.freeze(Object.defineProperties({},{reset:{value:function(){session.delete("state"),g=[],m=n(),y=-1,v=[],b=null===b?null:new PRNGWrapper(b.seed,!1)}},restore:{value:function(){if(session.has("state")){var e=session.get("state");return null!=e&&(r(e),!0)}return!1}},marshalForSave:{value:function(){return t(!0)}},unmarshalForSave:{value:function(e){return r(e,!0)}},expired:{get:function(){return v}},turns:{get:function(){return v.length+i()}},passages:{get:function(){return v.concat(g.slice(0,i()).map(function(e){return e.title}))}},hasPlayed:{value:function(t){return!(null==t||""===t||!v.includes(t)&&!g.slice(0,i()).some(function(e){return e.title===t}))}},active:{get:function(){return m}},activeIndex:{get:function(){return y}},passage:{get:function(){return m.title}},__getUpperName__:{get:function(){return m.__getUpperName__}},history:{get:function(){return g}},length:{get:i},size:{get:o},isEmpty:{value:s},current:{get:function(){return 0<g.length?g[y]:null}},top:{get:u},bottom:{get:function(){return 0<g.length?g[0]:null}},index:{value:function(e){return s()||e<0||y<e?null:g[e]}},peek:{value:function(e){if(s())return null;var t=1+(e?Math.abs(e):0);return t>i()?null:g[i()-t]}},has:{value:function(e){if(s()||null==e||""===e)return!1;for(var t=y;0<=t;--t)if(g[t].title===e)return!0;return!1}},create:{value:function(e){if(i()<o()&&g.splice(i(),o()-i()),g.push(n(e,m.__getUpperName__)),b&&(u().pull=b.pull),0<Config.history.maxStates)for(;o()>Config.history.maxStates;)v.push(g.shift().title);return a(y=o()-1),i()}},goTo:{value:l},go:{value:function(e){return null!=e&&0!==e&&l(y+e)}},deltaEncode:{value:c},deltaDecode:{value:d},prng:{value:Object.freeze(Object.defineProperties({},{init:{value:e},isEnabled:{value:function(){return null!==b}},pull:{get:function(){return b?b.pull:NaN}},seed:{get:function(){return b?b.seed:null}}}))},random:{value:function(){return b?b.random():Math.random()}},clearTemporary:{value:function(){TempVariables=w={}}},temporary:{get:function(){return w}},getVar:{value:p},setVar:{value:function(e,t){var r=f(e);if(null===r)return!1;for(var n=r.names,a=n.pop(),i=r.store,o=0,s=n.length;o<s;++o){if(void 0===i[n[o]])return!1;i=i[n[o]]}return i[a]=t,!0}},metadata:{value:Object.freeze(Object.defineProperties({},{clear:{value:function(){storage.delete(S)}},delete:{value:h},get:{value:function(e){if("string"!=typeof e)throw new TypeError("State.metadata.get key parameter must be a string (received: "+(void 0===e?"undefined":_typeof(e))+")");var t=storage.get(S);return t&&t.hasOwnProperty(e)?t[e]:undefined}},has:{value:function(e){if("string"!=typeof e)throw new TypeError("State.metadata.has key parameter must be a string (received: "+(void 0===e?"undefined":_typeof(e))+")");var t=storage.get(S);return t&&t.hasOwnProperty(e)}},set:{value:function(e,t){if("string"!=typeof e)throw new TypeError("State.metadata.set key parameter must be a string (received: "+(void 0===e?"undefined":_typeof(e))+")");if(void 0===t)h(e);else{var r=storage.get(S)||{};r[e]=t,storage.set(S,r)}}}}))},initPRNG:{value:e},restart:{value:function(){return Engine.restart()}},backward:{value:function(){return Engine.backward()}},forward:{value:function(){return Engine.forward()}},display:{value:function(){return Engine.display.apply(Engine,arguments)}},show:{value:function(){return Engine.show.apply(Engine,arguments)}},play:{value:function(){return Engine.play.apply(Engine,arguments)}}}))}(),Scripting=function(){function addAccessibleClickHandler(e,t,r,n,a){if(arguments.length<2)throw new Error("addAccessibleClickHandler insufficient number of parameters");var i=void 0,o=void 0;if(o="function"==typeof t?(i=t,{namespace:n,one:!!r}):(i=r,{namespace:a,one:!!n,selector:t}),"function"!=typeof i)throw new TypeError("addAccessibleClickHandler handler parameter must be a function");return jQuery(e).ariaClick(o,i)}function insertElement(e,t,r,n,a,i){var o=jQuery(document.createElement(t));return r&&o.attr("id",r),n&&o.addClass(n),i&&o.attr("title",i),a&&o.text(a),e&&o.appendTo(e),o[0]}function insertText(e,t){jQuery(e).append(document.createTextNode(t))}function removeChildren(e){jQuery(e).empty()}function removeElement(e){jQuery(e).remove()}function fade(e,t){function r(e,t){e.style.zoom=1,e.style.filter="alpha(opacity="+Math.floor(100*t)+")",e.style.opacity=t}var n="in"===t.fade?1:-1,a=void 0,i=e.cloneNode(!0),o=void 0;e.parentNode.replaceChild(i,e),"in"===t.fade?(a=0,i.style.visibility="visible"):a=1,r(i,a),o=window.setInterval(function(){a+=.05*n,r(i,Math.easeInOut(a)),(1==n&&1<=a||-1==n&&a<=0)&&(e.style.visibility="in"===t.fade?"visible":"hidden",i.parentNode.replaceChild(e,i),i=null,window.clearInterval(o),t.onComplete&&t.onComplete())},25)}function scrollWindowTo(e,t){var r=null!=t?Number(t):.1;Number.isNaN(r)||!Number.isFinite(r)||r<0?r=.1:1<r&&(r=1);var n,a,i,o,s,u=window.scrollY?window.scrollY:document.body.scrollTop,l=(a=function(e){for(var t=0;e.offsetParent;)t+=e.offsetTop,e=e.offsetParent;return t}(n=e),i=a+n.offsetHeight,o=window.scrollY?window.scrollY:document.body.scrollTop,s=window.innerHeight?window.innerHeight:document.body.clientHeight,o<=a&&o+s<i&&n.offsetHeight<s?a-(s-n.offsetHeight)+20:a),c=Math.abs(u-l),d=l<u?-1:1,p=0,f=void 0;f=window.setInterval(function(){p+=r,window.scroll(0,u+d*(c*Math.easeInOut(p))),1<=p&&window.clearInterval(f)},25)}function either(){if(0!==arguments.length)return Array.prototype.concat.apply([],arguments).random()}function forget(e){if("string"!=typeof e)throw new TypeError("forget key parameter must be a string (received: "+Util.getType(e)+")");State.metadata.delete(e)}function hasVisited(){if(0===arguments.length)throw new Error("hasVisited called with insufficient parameters");if(State.isEmpty())return!1;for(var e=Array.prototype.concat.apply([],arguments),t=State.passages,r=0,n=e.length;r<n;++r)if(!t.includes(e[r]))return!1;return!0}function lastVisited(){if(0===arguments.length)throw new Error("lastVisited called with insufficient parameters");if(State.isEmpty())return-1;for(var e=Array.prototype.concat.apply([],arguments),t=State.passages,r=t.length-1,n=State.turns,a=0,i=e.length;a<i&&-1<n;++a){var o=t.lastIndexOf(e[a]);n=Math.min(n,-1===o?-1:r-o)}return n}function memorize(e,t){if("string"!=typeof e)throw new TypeError("memorize key parameter must be a string (received: "+Util.getType(e)+")");State.metadata.set(e,t)}function passage(){return State.passage}function previous(){var e=State.passages;if(0<arguments.length){var t=Number(arguments[0]);if(!Number.isSafeInteger(t)||t<1)throw new RangeError("previous offset parameter must be a positive integer greater than zero");return e.length>t?e[e.length-1-t]:""}for(var r=e.length-2;0<=r;--r)if(e[r]!==State.passage)return e[r];return""}function random(){var e=void 0,t=void 0;switch(arguments.length){case 0:throw new Error("random called with insufficient parameters");case 1:e=0,t=Math.trunc(arguments[0]);break;default:e=Math.trunc(arguments[0]),t=Math.trunc(arguments[1])}if(!Number.isInteger(e))throw new Error("random min parameter must be an integer");if(!Number.isInteger(t))throw new Error("random max parameter must be an integer");if(t<e){var r=[t,e];e=r[0],t=r[1]}return Math.floor(State.random()*(t-e+1))+e}function randomFloat(){var e=void 0,t=void 0;switch(arguments.length){case 0:throw new Error("randomFloat called with insufficient parameters");case 1:e=0,t=Number(arguments[0]);break;default:e=Number(arguments[0]),t=Number(arguments[1])}if(Number.isNaN(e)||!Number.isFinite(e))throw new Error("randomFloat min parameter must be a number");if(Number.isNaN(t)||!Number.isFinite(t))throw new Error("randomFloat max parameter must be a number");if(t<e){var r=[t,e];e=r[0],t=r[1]}return State.random()*(t-e)+e}function recall(e,t){if("string"!=typeof e)throw new TypeError("recall key parameter must be a string (received: "+Util.getType(e)+")");return State.metadata.has(e)?State.metadata.get(e):t}function tags(){if(0===arguments.length)return Story.get(State.passage).tags.slice(0);for(var e=Array.prototype.concat.apply([],arguments),t=[],r=0,n=e.length;r<n;++r)t=t.concat(Story.get(e[r]).tags);return t}function temporary(){return State.temporary}function time(){return null===Engine.lastPlay?0:Util.now()-Engine.lastPlay}function turns(){return State.turns}function __getUpperName__(){return State.__getUpperName__}function visited(){if(State.isEmpty())return 0;for(var e=Array.prototype.concat.apply([],0===arguments.length?[State.passage]:arguments),t=State.passages,r=State.turns,n=0,a=e.length;n<a&&0<r;++n)r=Math.min(r,t.count(e[n]));return r}function visitedTags(){if(0===arguments.length)throw new Error("visitedTags called with insufficient parameters");if(State.isEmpty())return 0;for(var e=Array.prototype.concat.apply([],arguments),t=e.length,r=State.passages,n=new Map,a=0,i=0,o=r.length;i<o;++i){var s=r[i];if(n.has(s))n.get(s)&&++a;else{var u=Story.get(s).tags;if(0<u.length){for(var l=0,c=0;c<t;++c)u.includes(e[c])&&++l;l===t?(++a,n.set(s,!0)):n.set(s,!1)}}}return a}function evalJavaScript(code,output){return function(code,output){return eval(code)}.call(output?{output:output}:null,String(code),output)}function evalTwineScript(code,output){return function(code,output){return eval(code)}.call(output?{output:output}:null,parse(String(code)),output)}var _ref8=function(){function e(e){return Util.parseUrl(e).path.replace(/^[^\w]+|[^\w]+$/g,"").replace(/[^\w]+/g,"-").toLocaleLowerCase()}function n(n){return new Promise(function(t,r){jQuery(document.createElement("script")).one("load abort error",function(e){jQuery(e.target).off(),"load"===e.type?t(e.target):r(new Error('importScripts failed to load the script "'+n+'".'))}).appendTo(document.head).attr({id:"script-imported-"+e(n),type:"text/javascript",src:n})})}function a(n){return new Promise(function(t,r){jQuery(document.createElement("link")).one("load abort error",function(e){jQuery(e.target).off(),"load"===e.type?t(e.target):r(new Error('importStyles failed to load the stylesheet "'+n+'".'))}).appendTo(document.head).attr({id:"style-imported-"+e(n),rel:"stylesheet",href:n})})}function i(e){return e.reduce(function(e,t){return e.then(t)},Promise.resolve())}return{importScripts:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return Promise.all(t.map(function(e){return Array.isArray(e)?i(e.map(function(e){return function(){return n(e)}})):n(e)}))},importStyles:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return Promise.all(t.map(function(e){return Array.isArray(e)?i(e.map(function(e){return function(){return a(e)}})):a(e)}))}}}(),importScripts=_ref8.importScripts,importStyles=_ref8.importStyles,parse=(rv=Object.freeze({$:"State.__getUpperName__.",_:"State.temporary.",to:"=",eq:"==",neq:"!=",is:"===",isnot:"!==",gt:">",gte:">=",lt:"<",lte:"<=",and:"&&",or:"||",not:"!",def:'"undefined" !== typeof',ndef:'"undefined" === typeof'}),sv=new RegExp(["(\"\"|'')",'("(?:\\\\.|[^"\\\\])+")',"('(?:\\\\.|[^'\\\\])+')","([=+\\-*\\/%<>&\\|\\^~!?:,;\\(\\)\\[\\]{}]+)","([^\"'=+\\-*\\/%<>&\\|\\^~!?:,;\\(\\)\\[\\]{}\\s]+)"].join("|"),"g"),tv=new RegExp("^"+Patterns.variable),function(e){if(0!==sv.lastIndex)throw new RangeError("Scripting.parse last index is non-zero at start");for(var t=e,r=void 0;null!==(r=sv.exec(t));)if(r[5]){var n=r[5];if("$"===n||"_"===n)continue;if(tv.test(n))n=n[0];else if("is"===n){var a=sv.lastIndex,i=t.slice(a);/^\s+not\b/.test(i)&&(t=t.splice(a,i.search(/\S/)),n="isnot")}rv.hasOwnProperty(n)&&(t=t.splice(r.index,n.length,rv[n]),sv.lastIndex+=rv[n].length-n.length)}return t}),rv,sv,tv;return Object.freeze(Object.defineProperties({},{parse:{value:parse},evalJavaScript:{value:evalJavaScript},evalTwineScript:{value:evalTwineScript}}))}(),_ref9={EOF:-1,Lexer:function(){function r(e,t){if(_classCallCheck(this,r),arguments.length<2)throw new Error("Lexer constructor called with too few parameters (source:string , initialState:function)");Object.defineProperties(this,{source:{value:e},initial:{value:t},state:{writable:!0,value:t},start:{writable:!0,value:0},pos:{writable:!0,value:0},depth:{writable:!0,value:0},items:{writable:!0,value:[]},data:{writable:!0,value:{}}})}return _createClass(r,[{key:"reset",value:function(){this.state=this.initial,this.start=0,this.pos=0,this.depth=0,this.items=[],this.data={}}},{key:"run",value:function(){for(;null!==this.state;)this.state=this.state(this);return this.items}},{key:"nextItem",value:function(){for(;0===this.items.length&&null!==this.state;)this.state=this.state(this);return this.items.shift()}},{key:"next",value:function(){return this.pos>=this.source.length?-1:this.source[this.pos++]}},{key:"peek",value:function(){return this.pos>=this.source.length?-1:this.source[this.pos]}},{key:"backup",value:function(e){this.pos-=e||1}},{key:"forward",value:function(e){this.pos+=e||1}},{key:"ignore",value:function(){this.start=this.pos}},{key:"accept",value:function(e){var t=this.next();return!(-1===t||!e.includes(t)&&(this.backup(),1))}},{key:"acceptRe",value:function(e){var t=this.next();return!(-1===t||!e.test(t)&&(this.backup(),1))}},{key:"acceptRun",value:function(e){for(;;){var t=this.next();if(-1===t)return;if(!e.includes(t))break}this.backup()}},{key:"acceptRunRe",value:function(e){for(;;){var t=this.next();if(-1===t)return;if(!e.test(t))break}this.backup()}},{key:"emit",value:function(e){this.items.push({type:e,text:this.source.slice(this.start,this.pos),start:this.start,pos:this.pos}),this.start=this.pos}},{key:"error",value:function(e,t){if(arguments.length<2)throw new Error("Lexer.prototype.error called with too few parameters (type:number , message:string)");return this.items.push({type:e,message:t,text:this.source.slice(this.start,this.pos),start:this.start,pos:this.pos}),null}}],[{key:"enumFromNames",value:function(e){var t=e.reduce(function(e,t,r){return e[t]=r,e},{});return Object.freeze(Object.assign(Object.create(null),t))}}]),r}()},EOF=_ref9.EOF,Lexer=_ref9.Lexer,Wikifier=(Vv=0,Wv=function(){function p(e,t,r){_classCallCheck(this,p),p.Parser.Profile.isEmpty()&&p.Parser.Profile.compile(),Object.defineProperties(this,{source:{value:String(t)},options:{writable:!0,value:Object.assign({profile:"all"},r)},nextMatch:{writable:!0,value:0},output:{writable:!0,value:null},_rawArgs:{writable:!0,value:""}}),null==e?this.output=document.createDocumentFragment():e.jquery?this.output=e[0]:this.output=e;try{++Vv,this.subWikify(this.output),1===Vv&&Config.cleanupWikifierOutput&&convertBreaks(this.output)}finally{--Vv}}return _createClass(p,[{key:"subWikify",value:function(e,t,r){var n=this.output,a=void 0;this.output=e,null!=r&&"object"===(void 0===r?"undefined":_typeof(r))&&(a=this.options,this.options=Object.assign({},this.options,r));var i=p.Parser.Profile.get(this.options.profile),o=t?new RegExp("(?:"+t+")",this.options.ignoreTerminatorCase?"gim":"gm"):null,s=void 0,u=void 0;do{if(i.parserRegExp.lastIndex=this.nextMatch,o&&(o.lastIndex=this.nextMatch),u=i.parserRegExp.exec(this.source),(s=o?o.exec(this.source):null)&&(!u||s.index<=u.index))return s.index>this.nextMatch&&this.outputText(this.output,this.nextMatch,s.index),this.matchStart=s.index,this.matchLength=s[0].length,this.matchText=s[0],this.nextMatch=o.lastIndex,this.output=n,void(a&&(this.options=a));if(u){u.index>this.nextMatch&&this.outputText(this.output,this.nextMatch,u.index),this.matchStart=u.index,this.matchLength=u[0].length,this.matchText=u[0],this.nextMatch=i.parserRegExp.lastIndex;for(var l=void 0,c=1,d=u.length;c<d;++c)if(u[c]){l=c-1;break}if(i.parsers[l].handler(this),null!=TempState.break)break}}while(s||u);null==TempState.break?this.nextMatch<this.source.length&&(this.outputText(this.output,this.nextMatch,this.source.length),this.nextMatch=this.source.length):this.output.lastChild&&this.output.lastChild.nodeType===Node.ELEMENT_NODE&&"BR"===this.output.lastChild.nodeName.toUpperCase()&&jQuery(this.output.lastChild).remove(),this.output=n,a&&(this.options=a)}},{key:"outputText",value:function(e,t,r){jQuery(e).append(document.createTextNode(this.source.substring(t,r)))}},{key:"rawArgs",value:function(){return this._rawArgs}},{key:"fullArgs",value:function(){return Scripting.parse(this._rawArgs)}}],[{key:"wikifyEval",value:function(e){var t=document.createDocumentFragment();new p(t,e);var r=t.querySelector(".error");if(null!==r)throw new Error(r.textContent.replace(errorPrologRegExp,""));return t}},{key:"createInternalLink",value:function(e,t,r,n){var a=jQuery(document.createElement("a"));return null!=t&&(a.attr("data-passage",t),Story.has(t)?(a.addClass("link-internal"),Config.addVisitedLinkClass&&State.hasPlayed(t)&&a.addClass("link-visited")):a.addClass("link-broken"),a.ariaClick({one:!0},function(){"function"==typeof n&&n(),Engine.play(t)})),r&&a.append(document.createTextNode(r)),e&&a.appendTo(e),a[0]}},{key:"createExternalLink",value:function(e,t,r){var n=jQuery(document.createElement("a")).attr("target","_blank").addClass("link-external").text(r).appendTo(e);return null!=t&&n.attr({href:t,tabindex:0}),n[0]}},{key:"isExternalLink",value:function(e){return!Story.has(e)&&(new RegExp("^"+Patterns.url,"gim").test(e)||/[\/.?#]/.test(e))}}]),p}(),Object.defineProperty(Wv,"Parser",{value:function(){function t(t){return!!r.find(function(e){return e.name===t})}var r=[],n=void 0;return Object.freeze(Object.defineProperties({},{parsers:{get:function(){return r}},add:{value:function(e){if("object"!==(void 0===e?"undefined":_typeof(e)))throw new Error("Wikifier.Parser.add parser parameter must be an object");if(!e.hasOwnProperty("name"))throw new Error('parser object missing required "name" property');if("string"!=typeof e.name)throw new Error('parser object "name" property must be a string');if(!e.hasOwnProperty("match"))throw new Error('parser object missing required "match" property');if("string"!=typeof e.match)throw new Error('parser object "match" property must be a string');if(!e.hasOwnProperty("handler"))throw new Error('parser object missing required "handler" property');if("function"!=typeof e.handler)throw new Error('parser object "handler" property must be a function');if(e.hasOwnProperty("profiles")&&!Array.isArray(e.profiles))throw new Error('parser object "profiles" property must be an array');if(t(e.name))throw new Error('cannot clobber existing parser "'+e.name+'"');r.push(e)}},delete:{value:function(t){var e=r.find(function(e){return e.name===t});e&&r.delete(e)}},isEmpty:{value:function(){return 0===r.length}},has:{value:t},get:{value:function(t){return r.find(function(e){return e.name===t})||null}},Profile:{value:Object.freeze(Object.defineProperties({},{profiles:{get:function(){return n}},compile:{value:function(){var e=r,t=e.filter(function(e){return!Array.isArray(e.profiles)||e.profiles.includes("core")});return n=Object.freeze({all:{parsers:e,parserRegExp:new RegExp(e.map(function(e){return"("+e.match+")"}).join("|"),"gm")},core:{parsers:t,parserRegExp:new RegExp(t.map(function(e){return"("+e.match+")"}).join("|"),"gm")}})}},isEmpty:{value:function(){return"object"!==(void 0===n?"undefined":_typeof(n))||0===Object.keys(n).length}},has:{value:function(e){return"object"===(void 0===n?"undefined":_typeof(n))&&n.hasOwnProperty(e)}},get:{value:function(e){if("object"!==(void 0===n?"undefined":_typeof(n))||!n.hasOwnProperty(e))throw new Error('nonexistent parser profile "'+e+'"');return n[e]}}}))}}))}()}),Object.defineProperties(Wv,{helpers:{value:{}},getValue:{value:State.getVar},setValue:{value:State.setVar},parse:{value:Scripting.parse},evalExpression:{value:Scripting.evalTwineScript},evalStatements:{value:Scripting.evalTwineScript},textPrimitives:{value:Patterns}}),Object.defineProperties(Wv.helpers,{inlineCss:{value:(cx=new RegExp(Patterns.inlineCss,"gm"),function(e){var t={classes:[],id:"",styles:{}},r=void 0;do{cx.lastIndex=e.nextMatch;var n=cx.exec(e.source);(r=n&&n.index===e.nextMatch)&&(n[1]?t.styles[Util.fromCssProperty(n[1])]=n[2].trim():n[3]?t.styles[Util.fromCssProperty(n[3])]=n[4].trim():n[5]?t.classes=t.classes.concat(n[5].slice(1).split(/\./)):n[6]&&(t.id=n[6].slice(1).split(/#/).pop()),e.nextMatch=cx.lastIndex)}while(r);return t})},evalText:{value:function(t){var r=void 0;try{switch(void 0===(r=Scripting.evalTwineScript(t))?"undefined":_typeof(r)){case"string":""===r.trim()&&(r=t);break;case"number":r=String(r);break;default:r=t}}catch(e){r=t}return r}},evalPassageId:{value:function(e){return null==e||Story.has(e)?e:Wv.helpers.evalText(e)}},hasBlockContext:{value:function(e){for(var t="function"==typeof window.getComputedStyle,r=e.length-1;0<=r;--r){var n=e[r];switch(n.nodeType){case Node.ELEMENT_NODE:var a=n.nodeName.toUpperCase();if("BR"===a)return!0;var i=t?window.getComputedStyle(n,null):n.currentStyle;if(i&&i.display){if("none"===i.display)continue;return"block"===i.display}switch(a){case"ADDRESS":case"ARTICLE":case"ASIDE":case"BLOCKQUOTE":case"CENTER":case"DIV":case"DL":case"FIGURE":case"FOOTER":case"FORM":case"H1":case"H2":case"H3":case"H4":case"H5":case"H6":case"HEADER":case"HR":case"MAIN":case"NAV":case"OL":case"P":case"PRE":case"SECTION":case"TABLE":case"UL":return!0}return!1;case Node.COMMENT_NODE:continue;default:return!1}}return!0}},createShadowSetterCallback:{value:function(){function e(){for(var e=n||function(){if(!n&&!(n=Wv.Parser.get("macro")))throw new Error('cannot find "macro" parser');return n}(),t=new Set,r=e.context;null!==r;r=r.parent)r._shadows&&r._shadows.forEach(function(e){return t.add(e)});return[].concat(_toConsumableArray(t))}var n=null;return function(t){var a={};return e().forEach(function(e){var t=e.slice(1),r="$"===e[0]?State.__getUpperName__:State.temporary;a[e]=r[t]}),function(){var e=Object.keys(a),n=0<e.length?{}:null;try{return e.forEach(function(e){var t=e.slice(1),r="$"===e[0]?State.__getUpperName__:State.temporary;r.hasOwnProperty(t)&&(n[t]=r[t]),r[t]=a[e]}),Scripting.evalJavaScript(t)}finally{e.forEach(function(e){var t=e.slice(1),r="$"===e[0]?State.__getUpperName__:State.temporary;a[e]=r[t],n.hasOwnProperty(t)?r[t]=n[t]:delete r[t]})}}}}()},parseSquareBracketedMarkup:{value:function(){function n(e,t){e:for(;;)switch(e.next()){case"\\":var r=e.next();if(r!==EOF&&"\n"!==r)break;case EOF:case"\n":return EOF;case t:break e}return e.pos}function i(e){if(!e.accept("["))return e.error(s.Error,"malformed square-bracketed markup");if(e.accept("["))e.data.isLink=!0,e.emit(s.LinkMeta);else{if(e.accept("<>"),!(e.accept("Ii")&&e.accept("Mm")&&e.accept("Gg")&&e.accept("[")))return e.error(s.Error,"malformed square-bracketed markup");e.data.isLink=!1,e.emit(s.ImageMeta)}return e.depth=2,t}function t(e){for(var t=e.data.isLink?"link":"image",r=u.None;;)switch(e.next()){case EOF:case"\n":return e.error(s.Error,"unterminated "+t+" markup");case'"':if(n(e,'"')===EOF)return e.error(s.Error,"unterminated double quoted string in "+t+" markup");break;case"|":r===u.None&&(r=u.LTR,e.backup(),e.emit(s.Text),e.forward(),e.emit(s.DelimLTR));break;case"-":r===u.None&&">"===e.peek()&&(r=u.LTR,e.backup(),e.emit(s.Text),e.forward(2),e.emit(s.DelimLTR));break;case"<":r===u.None&&"-"===e.peek()&&(r=u.RTL,e.backup(),e.emit(e.data.isLink?s.Link:s.Source),e.forward(2),e.emit(s.DelimRTL));break;case"[":++e.depth;break;case"]":if(1==--e.depth)switch(e.peek()){case"[":return++e.depth,e.backup(),r===u.RTL?e.emit(s.Text):e.emit(e.data.isLink?s.Link:s.Source),e.forward(2),e.emit(s.InnerMeta),e.data.isLink?o:a;case"]":return--e.depth,e.backup(),r===u.RTL?e.emit(s.Text):e.emit(e.data.isLink?s.Link:s.Source),e.forward(2),e.emit(s.RightMeta),null;default:return e.error(s.Error,"malformed "+t+" markup")}}}function a(e){for(var t=e.data.isLink?"link":"image";;)switch(e.next()){case EOF:case"\n":return e.error(s.Error,"unterminated "+t+" markup");case'"':if(n(e,'"')===EOF)return e.error(s.Error,"unterminated double quoted string in "+t+" markup link component");break;case"[":++e.depth;break;case"]":if(1==--e.depth)switch(e.peek()){case"[":return++e.depth,e.backup(),e.emit(s.Link),e.forward(2),e.emit(s.InnerMeta),o;case"]":return--e.depth,e.backup(),e.emit(s.Link),e.forward(2),e.emit(s.RightMeta),null;default:return e.error(s.Error,"malformed "+t+" markup")}}}function o(e){for(var t=e.data.isLink?"link":"image";;)switch(e.next()){case EOF:case"\n":return e.error(s.Error,"unterminated "+t+" markup");case'"':if(n(e,'"')===EOF)return e.error(s.Error,"unterminated double quoted string in "+t+" markup setter component");break;case"'":if(n(e,"'")===EOF)return e.error(s.Error,"unterminated single quoted string in "+t+" markup setter component");break;case"[":++e.depth;break;case"]":if(1==--e.depth)return"]"!==e.peek()?e.error(s.Error,"malformed "+t+" markup"):(--e.depth,e.backup(),e.emit(s.Setter),e.forward(2),e.emit(s.RightMeta),null)}}var s=Lexer.enumFromNames(["Error","DelimLTR","DelimRTL","InnerMeta","ImageMeta","LinkMeta","Link","RightMeta","Setter","Source","Text"]),u=Lexer.enumFromNames(["None","LTR","RTL"]);return function(e){var t=new Lexer(e.source,i);t.start=t.pos=e.matchStart;var r={},n=t.run(),a=n.last();return a&&a.type===s.Error?r.error=a.message:n.forEach(function(e){var t=e.text.trim();switch(e.type){case s.ImageMeta:r.isImage=!0,"<"===t[1]?r.align="left":">"===t[1]&&(r.align="right");break;case s.LinkMeta:r.isLink=!0;break;case s.Link:"~"===t[0]?(r.forceInternal=!0,r.link=t.slice(1)):r.link=t;break;case s.Setter:r.setter=t;break;case s.Source:r.source=t;break;case s.Text:r.text=t}}),r.pos=t.pos,r}}()}}),Wv),cx,Vv,Wv,sk,tk,Nj,Aj,Bj;!function(){function e(e){this.lookahead.lastIndex=e.matchStart;var t=this.lookahead.exec(e.source);t&&t.index===e.matchStart&&(e.nextMatch=this.lookahead.lastIndex,jQuery(document.createDocumentFragment()).append(t[1]).appendTo(e.output))}Wikifier.Parser.add({name:"quoteByBlock",profiles:["block"],match:"^<<<\\n",terminator:"^<<<\\n",handler:function(e){Wikifier.helpers.hasBlockContext(e.output.childNodes)?e.subWikify(jQuery(document.createElement("blockquote")).appendTo(e.output).get(0),this.terminator):jQuery(e.output).append(document.createTextNode(e.matchText))}}),Wikifier.Parser.add({name:"quoteByLine",profiles:["block"],match:"^>+",lookahead:/^>+/gm,terminator:"\\n",handler:function(e){if(Wikifier.helpers.hasBlockContext(e.output.childNodes)){var t=[e.output],r=0,n=e.matchLength,a=void 0,i=void 0;do{if(r<n)for(i=r;i<n;++i)t.push(jQuery(document.createElement("blockquote")).appendTo(t[t.length-1]).get(0));else if(n<r)for(i=r;n<i;--i)t.pop();r=n,e.subWikify(t[t.length-1],this.terminator),jQuery(document.createElement("br")).appendTo(t[t.length-1]),this.lookahead.lastIndex=e.nextMatch;var o=this.lookahead.exec(e.source);(a=o&&o.index===e.nextMatch)&&(n=o[0].length,e.nextMatch+=o[0].length)}while(a)}else jQuery(e.output).append(document.createTextNode(e.matchText))}}),Wikifier.Parser.add({name:"macro",profiles:["core"],match:"<<",lookahead:new RegExp("<<(/?"+Patterns.macroName+")(?:\\s*)((?:(?:`(?:\\\\.|[^`\\\\])*`)|(?:\"(?:\\\\.|[^\"\\\\])*\")|(?:'(?:\\\\.|[^'\\\\])*')|(?:\\[(?:[<>]?[Ii][Mm][Gg])?\\[[^\\r\\n]*?\\]\\]+)|[^>]|(?:>(?!>)))*)>>","gm"),working:{source:"",name:"",arguments:"",index:0},context:null,handler:function(e){var t=this.lookahead.lastIndex=e.matchStart;if(this.parseTag(e)){var r=e.nextMatch,n=this.working.name,a=this.working.arguments,i=void 0;try{if(!(i=Macro.get(n))){if(Macro.tags.has(n)){var o=Macro.tags.get(n);return throwError(e.output,"child tag <<"+n+">> was found outside of a call to its parent macro"+(1===o.length?"":"s")+" <<"+o.join(">>, <<")+">>",e.source.slice(t,e.nextMatch))}return throwError(e.output,"macro <<"+n+">> does not exist",e.source.slice(t,e.nextMatch))}var s=null;if(i.hasOwnProperty("tags")&&!(s=this.parseBody(e,i)))return e.nextMatch=r,throwError(e.output,"cannot find a closing tag for macro <<"+n+">>",e.source.slice(t,e.nextMatch)+"…");if("function"!=typeof i.handler)return throwError(e.output,"macro <<"+n+">> handler function "+(i.hasOwnProperty("handler")?"is not a function":"does not exist"),e.source.slice(t,e.nextMatch));var u=s?s[0].args:this.createArgs(a,this.skipArgs(i,i.name));if(i.hasOwnProperty("_MACRO_API")){this.context=new MacroContext({macro:i,name:n,args:u,payload:s,source:e.source.slice(t,e.nextMatch),parent:this.context,parser:e});try{i.handler.call(this.context)}finally{this.context=this.context.parent}}else{var l=e._rawArgs;e._rawArgs=a;try{i.handler(e.output,n,u,e,s)}finally{e._rawArgs=l}}}catch(r){return throwError(e.output,"cannot execute "+(i&&i.isWidget?"widget":"macro")+" <<"+n+">>: "+r.message,e.source.slice(t,e.nextMatch))}finally{this.working.source="",this.working.name="",this.working.arguments="",this.working.index=0}}else e.outputText(e.output,e.matchStart,e.nextMatch)},parseTag:function(e){var t=this.lookahead.exec(e.source);return!(!t||t.index!==e.matchStart||!t[1]||(e.nextMatch=this.lookahead.lastIndex,this.working.source=e.source.slice(t.index,this.lookahead.lastIndex),this.working.name=t[1],this.working.arguments=t[2],this.working.index=t.index,0))},parseBody:function(e,t){for(var r=this.working.name,n="/"+r,a="end"+r,i=!!Array.isArray(t.tags)&&t.tags,o=[],s=-1,u=1,l=this.working.source,c=this.working.name,d=this.working.arguments,p=e.nextMatch;-1!==(e.matchStart=e.source.indexOf(this.match,e.nextMatch));)if(this.parseTag(e)){var f=this.working.source,h=this.working.name,g=this.working.arguments,m=this.working.index,y=e.nextMatch;switch(h){case r:++u;break;case a:case n:--u;break;default:if(1===u&&i)for(var v=0,b=i.length;v<b;++v)h===i[v]&&(o.push({source:l,name:c,arguments:d,args:this.createArgs(d,this.skipArgs(t,c)),contents:e.source.slice(p,m)}),l=f,c=h,d=g,p=y)}if(0===u){o.push({source:l,name:c,arguments:d,args:this.createArgs(d,this.skipArgs(t,c)),contents:e.source.slice(p,m)}),s=y;break}}else this.lookahead.lastIndex=e.nextMatch=e.matchStart+this.match.length;return-1!==s?(e.nextMatch=s,o):null},createArgs:function(e,t){var r=t?[]:this.parseArgs(e);return Object.defineProperties(r,{raw:{value:e},full:{value:Scripting.parse(e)}}),r},skipArgs:function(e,t){if(e.hasOwnProperty("skipArgs")){var r=e.skipArgs;return"boolean"==typeof r&&r||Array.isArray(r)&&r.includes(t)}return!!e.hasOwnProperty("skipArg0")&&e.skipArg0&&e.name===t},parseArgs:function(){function t(e,t){e:for(;;)switch(e.next()){case"\\":var r=e.next();if(r!==EOF&&"\n"!==r)break;case EOF:case"\n":return EOF;case t:break e}return e.pos}function n(e){var t=e.source.slice(e.pos).search(c);if(t===EOF)return null;switch(0!==t&&(e.pos+=t,e.ignore()),e.next()){case"`":return r;case'"':return a;case"'":return i;case"[":return o;default:return s}}function r(e){return t(e,"`")===EOF?e.error(u.Error,"unterminated backquote expression"):(e.emit(u.Expression),n)}function a(e){return t(e,'"')===EOF?e.error(u.Error,"unterminated double quoted string"):(e.emit(u.String),n)}function i(e){return t(e,"'")===EOF?e.error(u.Error,"unterminated single quoted string"):(e.emit(u.String),n)}function o(e){var t=void 0;if(e.accept("<>IiMmGg")?(t="image",e.acceptRun("<>IiMmGg")):t="link",!e.accept("["))return e.error(u.Error,"malformed "+t+" markup");e.depth=2;e:for(;;)switch(e.next()){case"\\":var r=e.next();if(r!==EOF&&"\n"!==r)break;case EOF:case"\n":return e.error(u.Error,"unterminated "+t+" markup");case"[":++e.depth;break;case"]":if(--e.depth<0)return e.error(u.Error,"unexpected right square bracket ']'");if(1===e.depth){if("]"===e.next()){--e.depth;break e}e.backup()}}return e.emit(u.SquareBracket),n}function s(e){var t=e.source.slice(e.pos).search(l);return e.pos=t===EOF?e.source.length:e.pos+t,e.emit(u.Bareword),t===EOF?null:n}var u=Lexer.enumFromNames(["Error","Bareword","Expression","String","SquareBracket"]),l=new RegExp(Patterns.space),c=new RegExp(Patterns.notSpace),d=new RegExp("^"+Patterns.variable);return function(e){var t=new Lexer(e,n),a=[];return t.run().forEach(function(e){var t=e.text;switch(e.type){case u.Error:throw new Error('unable to parse macro argument "'+t+'": '+e.message);case u.Bareword:if(d.test(t))t=State.getVar(t);else if(/^(?:settings|setup)[.[]/.test(t))try{t=Scripting.evalTwineScript(t)}catch(e){throw new Error('unable to parse macro argument "'+t+'": '+e.message)}else if("null"===t)t=null;else if("undefined"===t)t=undefined;else if("true"===t)t=!0;else if("false"===t)t=!1;else if("NaN"===t)t=NaN;else{var r=Number(t);Number.isNaN(r)||(t=r)}break;case u.Expression:if(""===(t=t.slice(1,-1).trim()))t=undefined;else try{t=Scripting.evalTwineScript("("+t+")")}catch(e){throw new Error('unable to parse macro argument expression "'+t+'": '+e.message)}break;case u.String:try{t=Scripting.evalJavaScript(t)}catch(e){throw new Error('unable to parse macro argument string "'+t+'": '+e.message)}break;case u.SquareBracket:var n=Wikifier.helpers.parseSquareBracketedMarkup({source:t,matchStart:0});if(n.hasOwnProperty("error"))throw new Error('unable to parse macro argument "'+t+'": '+n.error);if(n.pos<t.length)throw new Error('unable to parse macro argument "'+t+'": unexpected character(s) "'+t.slice(n.pos)+'" (pos: '+n.pos+")");n.isLink?((t={isLink:!0}).count=n.hasOwnProperty("text")?2:1,t.link=Wikifier.helpers.evalPassageId(n.link),t.text=n.hasOwnProperty("text")?Wikifier.helpers.evalText(n.text):t.link,t.external=!n.forceInternal&&Wikifier.isExternalLink(t.link),t.setFn=n.hasOwnProperty("setter")?Wikifier.helpers.createShadowSetterCallback(Scripting.parse(n.setter)):null):n.isImage&&(t=function(e){var t={source:e,isImage:!0};if("data:"!==e.slice(0,5)&&Story.has(e)){var r=Story.get(e);r.tags.includes("Twine.image")&&(t.source=r.text,t.passage=r.title)}return t}(Wikifier.helpers.evalPassageId(n.source)),n.hasOwnProperty("align")&&(t.align=n.align),n.hasOwnProperty("text")&&(t.title=Wikifier.helpers.evalText(n.text)),n.hasOwnProperty("link")&&(t.link=Wikifier.helpers.evalPassageId(n.link),t.external=!n.forceInternal&&Wikifier.isExternalLink(t.link)),t.setFn=n.hasOwnProperty("setter")?Wikifier.helpers.createShadowSetterCallback(Scripting.parse(n.setter)):null)}a.push(t)}),a}}()}),Wikifier.Parser.add({name:"link",profiles:["core"],match:"\\[\\[[^[]",handler:function(e){var t=Wikifier.helpers.parseSquareBracketedMarkup(e);if(t.hasOwnProperty("error"))e.outputText(e.output,e.matchStart,e.nextMatch);else{e.nextMatch=t.pos;var r=Wikifier.helpers.evalPassageId(t.link),n=t.hasOwnProperty("text")?Wikifier.helpers.evalText(t.text):r,a=t.hasOwnProperty("setter")?Wikifier.helpers.createShadowSetterCallback(Scripting.parse(t.setter)):null,i=(Config.debug?new DebugView(e.output,"link-markup","[[link]]",e.source.slice(e.matchStart,e.nextMatch)):e).output;t.forceInternal||!Wikifier.isExternalLink(r)?Wikifier.createInternalLink(i,r,n,a):Wikifier.createExternalLink(i,r,n)}}}),Wikifier.Parser.add({name:"urlLink",profiles:["core"],match:Patterns.url,handler:function(e){e.outputText(Wikifier.createExternalLink(e.output,e.matchText),e.matchStart,e.nextMatch)}}),Wikifier.Parser.add({name:"image",profiles:["core"],match:"\\[[<>]?[Ii][Mm][Gg]\\[",handler:function(e){var t=Wikifier.helpers.parseSquareBracketedMarkup(e);if(t.hasOwnProperty("error"))e.outputText(e.output,e.matchStart,e.nextMatch);else{e.nextMatch=t.pos;var r=void 0;Config.debug&&(r=new DebugView(e.output,"image-markup",t.hasOwnProperty("link")?"[img[][link]]":"[img[]]",e.source.slice(e.matchStart,e.nextMatch))).modes({block:!0});var n=t.hasOwnProperty("setter")?Wikifier.helpers.createShadowSetterCallback(Scripting.parse(t.setter)):null,a=(Config.debug?r:e).output,i=void 0;if(t.hasOwnProperty("link")){var o=Wikifier.helpers.evalPassageId(t.link);(a=t.forceInternal||!Wikifier.isExternalLink(o)?Wikifier.createInternalLink(a,o,null,n):Wikifier.createExternalLink(a,o)).classList.add("link-image")}if(a=jQuery(document.createElement("img")).appendTo(a).get(0),"data:"!==(i=Wikifier.helpers.evalPassageId(t.source)).slice(0,5)&&Story.has(i)){var s=Story.get(i);s.tags.includes("Twine.image")&&(a.setAttribute("data-passage",s.title),i=s.text.trim())}a.src=i,t.hasOwnProperty("text")&&(a.title=Wikifier.helpers.evalText(t.text)),t.hasOwnProperty("align")&&(a.align=t.align)}}}),Wikifier.Parser.add({name:"monospacedByBlock",profiles:["block"],match:"^\\{\\{\\{\\n",lookahead:/^\{\{\{\n((?:^[^\n]*\n)+?)(^\}\}\}$\n?)/gm,handler:function(e){this.lookahead.lastIndex=e.matchStart;var t=this.lookahead.exec(e.source);if(t&&t.index===e.matchStart){var r=jQuery(document.createElement("pre"));jQuery(document.createElement("code")).text(t[1]).appendTo(r),r.appendTo(e.output),e.nextMatch=this.lookahead.lastIndex}}}),Wikifier.Parser.add({name:"formatByChar",profiles:["core"],match:"''|//|__|\\^\\^|~~|==|\\{\\{\\{",handler:function(e){switch(e.matchText){case"''":e.subWikify(jQuery(document.createElement("strong")).appendTo(e.output).get(0),"''");break;case"//":e.subWikify(jQuery(document.createElement("em")).appendTo(e.output).get(0),"//");break;case"__":e.subWikify(jQuery(document.createElement("u")).appendTo(e.output).get(0),"__");break;case"^^":e.subWikify(jQuery(document.createElement("sup")).appendTo(e.output).get(0),"\\^\\^");break;case"~~":e.subWikify(jQuery(document.createElement("sub")).appendTo(e.output).get(0),"~~");break;case"==":e.subWikify(jQuery(document.createElement("s")).appendTo(e.output).get(0),"==");break;case"{{{":var t=/\{\{\{((?:.|\n)*?)\}\}\}/gm;t.lastIndex=e.matchStart;var r=t.exec(e.source);r&&r.index===e.matchStart&&(jQuery(document.createElement("code")).text(r[1]).appendTo(e.output),e.nextMatch=t.lastIndex)}}}),Wikifier.Parser.add({name:"customStyle",profiles:["core"],match:"@@",terminator:"@@",blockRe:/\s*\n/gm,handler:function(e){var t=Wikifier.helpers.inlineCss(e);this.blockRe.lastIndex=e.nextMatch;var r=this.blockRe.exec(e.source),n=r&&r.index===e.nextMatch,a=jQuery(document.createElement(n?"div":"span")).appendTo(e.output);0===t.classes.length&&""===t.id&&0===Object.keys(t.styles).length?a.addClass("marked"):(t.classes.forEach(function(e){return a.addClass(e)}),""!==t.id&&a.attr("id",t.id),a.css(t.styles)),n?(e.nextMatch+=r[0].length,e.subWikify(a[0],"\\n?"+this.terminator)):e.subWikify(a[0],this.terminator)}}),Wikifier.Parser.add({name:"verbatimText",profiles:["core"],match:'"{3}|<[Nn][Oo][Ww][Ii][Kk][Ii]>',lookahead:/(?:"{3}((?:.|\n)*?)"{3})|(?:<[Nn][Oo][Ww][Ii][Kk][Ii]>((?:.|\n)*?)<\/[Nn][Oo][Ww][Ii][Kk][Ii]>)/gm,handler:function(e){this.lookahead.lastIndex=e.matchStart;var t=this.lookahead.exec(e.source);t&&t.index===e.matchStart&&(e.nextMatch=this.lookahead.lastIndex,jQuery(document.createElement("span")).addClass("verbatim").text(t[1]||t[2]).appendTo(e.output))}}),Wikifier.Parser.add({name:"horizontalRule",profiles:["core"],match:"^----+$\\n?|<[Hh][Rr]\\s*/?>\\n?",handler:function(e){jQuery(document.createElement("hr")).appendTo(e.output)}}),Wikifier.Parser.add({name:"emdash",profiles:["core"],match:"--",handler:function(e){jQuery(document.createTextNode("—")).appendTo(e.output)}}),Wikifier.Parser.add({name:"doubleDollarSign",profiles:["core"],match:"\\${2}",handler:function(e){jQuery(document.createTextNode("$")).appendTo(e.output)}}),Wikifier.Parser.add({name:"nakedVariable",profiles:["core"],match:Patterns.variable+"(?:(?:\\."+Patterns.identifier+")|(?:\\[\\d+\\])|(?:\\[\"(?:\\\\.|[^\"\\\\])+\"\\])|(?:\\['(?:\\\\.|[^'\\\\])+'\\])|(?:\\["+Patterns.variable+"\\]))*",handler:function(e){var t=toStringOrDefault(State.getVar(e.matchText),null);null===t?jQuery(document.createTextNode(e.matchText)).appendTo(e.output):new Wikifier((Config.debug?new DebugView(e.output,"variable",e.matchText,e.matchText):e).output,t)}}),Wikifier.Parser.add({name:"template",profiles:["core"],match:"\\?"+Patterns.templateName,handler:function(e){var t=e.matchText.slice(1),r=Template.get(t),n=null;switch(r instanceof Array&&(r=r.random()),void 0===r?"undefined":_typeof(r)){case"function":try{n=toStringOrDefault(r.call({name:t}),null)}catch(r){return throwError(e.output,"cannot execute function template ?"+t+": "+r.message,e.source.slice(e.matchStart,e.nextMatch))}break;case"string":n=r}null===n?jQuery(document.createTextNode(e.matchText)).appendTo(e.output):new Wikifier((Config.debug?new DebugView(e.output,"template",e.matchText,e.matchText):e).output,n)}}),Wikifier.Parser.add({name:"heading",profiles:["block"],match:"^!{1,6}",terminator:"\\n",handler:function(e){Wikifier.helpers.hasBlockContext(e.output.childNodes)?e.subWikify(jQuery(document.createElement("h"+e.matchLength)).appendTo(e.output).get(0),this.terminator):jQuery(e.output).append(document.createTextNode(e.matchText))}}),Wikifier.Parser.add({name:"table",profiles:["block"],match:"^\\|(?:[^\\n]*)\\|(?:[fhck]?)$",lookahead:/^\|([^\n]*)\|([fhck]?)$/gm,rowTerminator:"\\|(?:[cfhk]?)$\\n?",cellPattern:"(?:\\|([^\\n\\|]*)\\|)|(\\|[cfhk]?$\\n?)",cellTerminator:"(?:\\u0020*)\\|",rowTypes:{c:"caption",f:"tfoot",h:"thead","":"tbody"},handler:function(e){if(Wikifier.helpers.hasBlockContext(e.output.childNodes)){var t=jQuery(document.createElement("table")).appendTo(e.output).get(0),r=[],n=null,a=null,i=0,o=void 0;e.nextMatch=e.matchStart;do{this.lookahead.lastIndex=e.nextMatch;var s=this.lookahead.exec(e.source);if(o=s&&s.index===e.nextMatch){var u=s[2];"k"===u?(t.className=s[1],e.nextMatch+=s[0].length+1):(u!==n&&(n=u,a=jQuery(document.createElement(this.rowTypes[u])).appendTo(t)),"c"===n?(a.css("caption-side",0===i?"top":"bottom"),e.nextMatch+=1,e.subWikify(a[0],this.rowTerminator)):this.rowHandler(e,jQuery(document.createElement("tr")).appendTo(a).get(0),r),++i)}}while(o)}else jQuery(e.output).append(document.createTextNode(e.matchText))},rowHandler:function(a,i,o){var s=this,e=new RegExp(this.cellPattern,"gm"),u=0,l=1,t=void 0;do{e.lastIndex=a.nextMatch;var r=e.exec(a.source);if(t=r&&r.index===a.nextMatch){if("~"===r[1]){var n=o[u];n&&(++n.rowCount,n.$element.attr("rowspan",n.rowCount).css("vertical-align","middle")),a.nextMatch=r.index+r[0].length-1}else if(">"===r[1])++l,a.nextMatch=r.index+r[0].length-1;else{if(r[2]){a.nextMatch=r.index+r[0].length;break}!function(){++a.nextMatch;for(var e=Wikifier.helpers.inlineCss(a),t=!1,r=!1,n=void 0;" "===a.source.substr(a.nextMatch,1);)t=!0,++a.nextMatch;"!"===a.source.substr(a.nextMatch,1)?(n=jQuery(document.createElement("th")).appendTo(i),++a.nextMatch):n=jQuery(document.createElement("td")).appendTo(i),o[u]={rowCount:1,$element:n},1<l&&(n.attr("colspan",l),l=1),a.subWikify(n[0],s.cellTerminator)," "===a.matchText.substr(a.matchText.length-2,1)&&(r=!0),e.classes.forEach(function(e){return n.addClass(e)}),""!==e.id&&n.attr("id",e.id),t&&r?e.styles["text-align"]="center":t?e.styles["text-align"]="right":r&&(e.styles["text-align"]="left"),n.css(e.styles),a.nextMatch=a.nextMatch-1}()}++u}}while(t)}}),Wikifier.Parser.add({name:"list",profiles:["block"],match:"^(?:(?:\\*+)|(?:#+))",lookahead:/^(?:(\*+)|(#+))/gm,terminator:"\\n",handler:function(e){if(Wikifier.helpers.hasBlockContext(e.output.childNodes)){e.nextMatch=e.matchStart;var t=[e.output],r=null,n=0,a=void 0,i=void 0;do{this.lookahead.lastIndex=e.nextMatch;var o=this.lookahead.exec(e.source);if(a=o&&o.index===e.nextMatch){var s=o[2]?"ol":"ul",u=o[0].length;if(e.nextMatch+=o[0].length,n<u)for(i=n;i<u;++i)t.push(jQuery(document.createElement(s)).appendTo(t[t.length-1]).get(0));else if(u<n)for(i=n;u<i;--i)t.pop();else u===n&&s!==r&&(t.pop(),t.push(jQuery(document.createElement(s)).appendTo(t[t.length-1]).get(0)));n=u,r=s,e.subWikify(jQuery(document.createElement("li")).appendTo(t[t.length-1]).get(0),this.terminator)}}while(a)}else jQuery(e.output).append(document.createTextNode(e.matchText))}}),Wikifier.Parser.add({name:"commentByBlock",profiles:["core"],match:"(?:/(?:%|\\*))|(?:\x3c!--)",lookahead:/(?:\/(%|\*)(?:(?:.|\n)*?)\1\/)|(?:<!--(?:(?:.|\n)*?)-->)/gm,handler:function(e){this.lookahead.lastIndex=e.matchStart;var t=this.lookahead.exec(e.source);t&&t.index===e.matchStart&&(e.nextMatch=this.lookahead.lastIndex)}}),Wikifier.Parser.add({name:"lineContinuation",profiles:["core"],match:"\\\\"+Patterns.spaceNoTerminator+"*\\n|\\n"+Patterns.spaceNoTerminator+"*\\\\|\\n?\\\\"+Patterns.spaceNoTerminator+"*$|^"+Patterns.spaceNoTerminator+"*\\\\\\n?",handler:function(e){e.nextMatch=e.matchStart+e.matchLength}}),Wikifier.Parser.add({name:"lineBreak",profiles:["core"],match:"\\n|<[Bb][Rr]\\s*/?>",handler:function(e){e.options.nobr||jQuery(document.createElement("br")).appendTo(e.output)}}),Wikifier.Parser.add({name:"htmlCharacterReference",profiles:["core"],match:"(?:(?:&#?[0-9A-Za-z]{2,8};|.)(?:&#?(?:x0*(?:3[0-6][0-9A-Fa-f]|1D[C-Fc-f][0-9A-Fa-f]|20[D-Fd-f][0-9A-Fa-f]|FE2[0-9A-Fa-f])|0*(?:76[89]|7[7-9][0-9]|8[0-7][0-9]|761[6-9]|76[2-7][0-9]|84[0-3][0-9]|844[0-7]|6505[6-9]|6506[0-9]|6507[0-1]));)+|&#?[0-9A-Za-z]{2,8};)",handler:function(e){jQuery(document.createDocumentFragment()).append(e.matchText).appendTo(e.output)}}),Wikifier.Parser.add({name:"xmlProlog",profiles:["core"],match:"<\\?[Xx][Mm][Ll][^>]*\\?>",handler:function(e){e.nextMatch=e.matchStart+e.matchLength}}),Wikifier.Parser.add({name:"verbatimHtml",profiles:["core"],match:"<[Hh][Tt][Mm][Ll]>",lookahead:/<[Hh][Tt][Mm][Ll]>((?:.|\n)*?)<\/[Hh][Tt][Mm][Ll]>/gm,handler:e}),Wikifier.Parser.add({name:"verbatimSvgTag",profiles:["core"],match:"<[Ss][Vv][Gg][^>]*>",lookahead:/(<[Ss][Vv][Gg][^>]*>(?:.|\n)*?<\/[Ss][Vv][Gg]>)/gm,handler:e}),Wikifier.Parser.add({name:"verbatimScriptTag",profiles:["core"],match:"<[Ss][Cc][Rr][Ii][Pp][Tt][^>]*>",lookahead:/(<[Ss][Cc][Rr][Ii][Pp][Tt]*>(?:.|\n)*?<\/[Ss][Cc][Rr][Ii][Pp][Tt]>)/gm,handler:e}),Wikifier.Parser.add({name:"styleTag",profiles:["core"],match:"<[Ss][Tt][Yy][Ll][Ee][^>]*>",lookahead:/(<[Ss][Tt][Yy][Ll][Ee]*>)((?:.|\n)*?)(<\/[Ss][Tt][Yy][Ll][Ee]>)/gm,imageMarkup:new RegExp(Patterns.cssImage,"g"),hasImageMarkup:new RegExp(Patterns.cssImage),handler:function(e){this.lookahead.lastIndex=e.matchStart;var t=this.lookahead.exec(e.source);if(t&&t.index===e.matchStart){e.nextMatch=this.lookahead.lastIndex;var r=t[2];this.hasImageMarkup.test(r)&&(this.imageMarkup.lastIndex=0,r=r.replace(this.imageMarkup,function(e){var t=Wikifier.helpers.parseSquareBracketedMarkup({source:e,matchStart:0});if(t.hasOwnProperty("error")||t.pos<e.length)return e;var r=t.source;if("data:"!==r.slice(0,5)&&Story.has(r)){var n=Story.get(r);n.tags.includes("Twine.image")&&(r=n.text)}return'url("'+r.replace(/"/g,"%22")+'")'})),jQuery(document.createDocumentFragment()).append(t[1]+r+t[3]).appendTo(e.output)}}}),Wikifier.Parser.add({name:"htmlTag",profiles:["core"],match:"<\\w+(?:\\s+[^\\u0000-\\u001F\\u007F-\\u009F\\s\"'>\\/=]+(?:\\s*=\\s*(?:\"[^\"]*?\"|'[^']*?'|[^\\s\"'=<>`]+))?)*\\s*\\/?>",tagRe:/^<(\w+)/,mediaElements:["audio","img","source","track","video"],nobrElements:["audio","colgroup","datalist","dl","figure","ol","optgroup","picture","select","table","tbody","tfoot","thead","tr","ul","video"],voidElements:["area","base","br","col","embed","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr"],handler:function(e){var t=this.tagRe.exec(e.matchText),r=t&&t[1],n=r&&r.toLowerCase();if(n){var a=this.voidElements.includes(n)||e.matchText.endsWith("/>"),i=this.nobrElements.includes(n),o=void 0,s=void 0;if(!a){o="<\\/"+n+"\\s*>";var u=new RegExp(o,"gim");u.lastIndex=e.matchStart,s=u.exec(e.source)}if(!a&&!s)return throwError(e.output,"cannot find a closing tag for HTML <"+r+">",e.matchText+"…");var l=e.output,c=document.createElement(e.output.tagName),d=void 0;for(c.innerHTML=e.matchText;c.firstChild;)c=c.firstChild;try{this.processAttributeDirectives(c)}catch(t){return throwError(e.output,"<"+n+">: "+t.message,e.matchText+"…")}c.hasAttribute("data-passage")&&(this.processDataAttributes(c,n),Config.debug&&((d=new DebugView(e.output,"html-"+n,n,e.matchText)).modes({block:"img"===n,nonvoid:s}),l=d.output)),s&&(e.subWikify(c,o,{ignoreTerminatorCase:!0,nobr:i}),d&&0<jQuery(c).find(".debug.block").length&&d.modes({block:!0})),l.appendChild("track"===n?c.cloneNode(!0):c)}},processAttributeDirectives:function(o){[].concat(_toConsumableArray(o.attributes)).forEach(function(e){var t=e.name,r=e.value,n="@"===t[0];if(n||t.startsWith("sc-eval:")){var a=t.slice(n?1:8),i=void 0;try{i=Scripting.evalTwineScript(r)}catch(e){throw new Error('bad evaluation from attribute directive "'+t+'": '+e.message)}try{o.setAttribute(a,i),o.removeAttribute(t)}catch(e){throw new Error('cannot transform attribute directive "'+t+'" into attribute "'+a+'"')}}})},processDataAttributes:function(e,t){var r=e.getAttribute("data-passage");if(null!=r){var n=Wikifier.helpers.evalPassageId(r);if(n!==r&&(r=n,e.setAttribute("data-passage",n)),""!==r)if(this.mediaElements.includes(t)){if("data:"!==r.slice(0,5)&&Story.has(r)){r=Story.get(r);var a=void 0,i=void 0;switch(t){case"audio":case"video":i="Twine."+t;break;case"img":i="Twine.image";break;case"track":i="Twine.vtt";break;case"source":var o=$(e).closest("audio,picture,video");o.length&&(i="Twine."+("picture"===(a=o.get(0).tagName.toLowerCase())?"image":a))}r.tags.includes(i)&&(e["picture"===a?"srcset":"src"]=r.text.trim())}}else{var s=e.getAttribute("data-setter"),u=void 0;null!=s&&""!==(s=String(s).trim())&&(u=Wikifier.helpers.createShadowSetterCallback(Scripting.parse(s))),Story.has(r)?(e.classList.add("link-internal"),Config.addVisitedLinkClass&&State.hasPlayed(r)&&e.classList.add("link-visited")):e.classList.add("link-broken"),jQuery(e).ariaClick({one:!0},function(){"function"==typeof u&&u.call(this),Engine.play(r)})}}}})}();var Template=($B=new Map,_B=new RegExp("^(?:"+Patterns.templateName+")$"),aC=function(e){var t=void 0===e?"undefined":_typeof(e);return"function"===t||"string"===t},Object.freeze(Object.defineProperties({},{add:{value:function(e,t){if(!(aC(t)||t instanceof Array&&0<t.length&&t.every(aC)))throw new Error("invalid template type ("+e+"); templates must be: functions, strings, or an array of either");(e instanceof Array?e:[e]).forEach(function(e){if($B.has(e))throw new Error("cannot clobber existing template ?"+e);if(!_B.test(e))throw new Error('invalid template name "'+e+'"');$B.set(e,t)})}},delete:{value:function(e){(e instanceof Array?e:[e]).forEach(function(e){return $B.delete(e)})}},get:{value:function(e){return $B.has(e)?$B.get(e):null}},has:{value:function(e){return $B.has(e)}},size:{get:function(){return $B.size}}}))),Macro=function(){function i(e){return s.hasOwnProperty(e)}function e(e,t){if(!e)throw new Error("no parent specified");for(var r=[].concat(["/"+e,"end"+e],Array.isArray(t)?t:[]),n=0;n<r.length;++n){var a=r[n];if(i(a))throw new Error("cannot register tag for an existing macro");o(a)?u[a].includes(e)||(u[a].push(e),u[a].sort()):u[a]=[e]}}function n(r){if(!r)throw new Error("no parent specified");Object.keys(u).forEach(function(e){var t=u[e].indexOf(r);-1!==t&&(1===u[e].length?delete u[e]:u[e].splice(t,1))})}function o(e){return u.hasOwnProperty(e)}var s={},u={},l=new RegExp("^(?:"+Patterns.macroName+")$");return Object.freeze(Object.defineProperties({},{add:{value:function t(r,n,a){if(Array.isArray(r))r.forEach(function(e){return t(e,n,a)});else{if(!l.test(r))throw new Error('invalid macro name "'+r+'"');if(i(r))throw new Error("cannot clobber existing macro <<"+r+">>");if(o(r))throw new Error("cannot clobber child tag <<"+r+">> of parent macro"+(1===u[r].length?"":"s")+" <<"+u[r].join(">>, <<")+">>");try{if("object"===(void 0===n?"undefined":_typeof(n)))s[r]=a?clone(n):n;else{if(!i(n))throw new Error("cannot create alias of nonexistent macro <<"+n+">>");s[r]=a?clone(s[n]):s[n]}Object.defineProperty(s,r,{writable:!1}),s[r]._MACRO_API=!0}catch(e){throw"TypeError"===e.name?new Error("cannot clobber protected macro <<"+r+">>"):new Error("unknown error when attempting to add macro <<"+r+">>: ["+e.name+"] "+e.message)}if(s[r].hasOwnProperty("tags"))if(null==s[r].tags)e(r);else{if(!Array.isArray(s[r].tags))throw new Error('bad value for "tags" property of macro <<'+r+">>");e(r,s[r].tags)}}}},delete:{value:function t(r){if(Array.isArray(r))r.forEach(function(e){return t(e)});else if(i(r)){s[r].hasOwnProperty("tags")&&n(r);try{Object.defineProperty(s,r,{writable:!0}),delete s[r]}catch(e){throw new Error("unknown error removing macro <<"+r+">>: "+e.message)}}else if(o(r))throw new Error("cannot remove child tag <<"+r+">> of parent macro <<"+u[r]+">>")}},isEmpty:{value:function(){return 0===Object.keys(s).length}},has:{value:i},get:{value:function(e){var t=null;return i(e)&&"function"==typeof s[e].handler?t=s[e]:macros.hasOwnProperty(e)&&"function"==typeof macros[e].handler&&(t=macros[e]),t}},init:{value:function(){var t=0<arguments.length&&arguments[0]!==undefined?arguments[0]:"init";Object.keys(s).forEach(function(e){"function"==typeof s[e][t]&&s[e][t](e)}),Object.keys(macros).forEach(function(e){"function"==typeof macros[e][t]&&macros[e][t](e)})}},tags:{value:Object.freeze(Object.defineProperties({},{register:{value:e},unregister:{value:n},has:{value:o},get:{value:function(e){return o(e)?u[e]:null}}}))},evalStatements:{value:function(){return Scripting.evalJavaScript.apply(Scripting,arguments)}}}))}(),MacroContext=function(){function r(e){_classCallCheck(this,r);var t=Object.assign({parent:null,macro:null,name:"",args:null,payload:null,parser:null,source:""},e);if(null===t.macro||""===t.name||null===t.parser)throw new TypeError("context object missing required properties");Object.defineProperties(this,{self:{value:t.macro},name:{value:t.name},args:{value:t.args},payload:{value:t.payload},source:{value:t.source},parent:{value:t.parent},parser:{value:t.parser},_output:{value:t.parser.output},_shadows:{writable:!0,value:null},_debugView:{writable:!0,value:null},_debugViewEnabled:{writable:!0,value:Config.debug}})}return _createClass(r,[{key:"contextHas",value:function(e){for(var t=this;null!==(t=t.parent);)if(e(t))return!0;return!1}},{key:"contextSelect",value:function(e){for(var t=this;null!==(t=t.parent);)if(e(t))return t;return null}},{key:"contextSelectAll",value:function(e){for(var t=[],r=this;null!==(r=r.parent);)e(r)&&t.push(r);return t}},{key:"addShadow",value:function(){var t=this;this._shadows||(this._shadows=new Set);for(var r=new RegExp("^"+Patterns.variable+"$"),e=arguments.length,n=Array(e),a=0;a<e;a++)n[a]=arguments[a];n.flat(1/0).forEach(function(e){if("string"!=typeof e)throw new TypeError("variable name must be a string; type: "+(void 0===e?"undefined":_typeof(e)));if(!r.test(e))throw new Error('invalid variable name "'+e+'"');t._shadows.add(e)})}},{key:"createShadowWrapper",value:function(s,u,l){var c=this,d=void 0;return"function"==typeof s&&(d={},this.shadowView.forEach(function(e){var t=e.slice(1),r="$"===e[0]?State.__getUpperName__:State.temporary;d[e]=r[t]})),function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];if("function"==typeof l&&l.apply(this,t),"function"==typeof s){var n=Object.keys(d),a=0<n.length?{}:null,i=Wikifier.Parser.get("macro"),o=void 0;try{n.forEach(function(e){var t=e.slice(1),r="$"===e[0]?State.__getUpperName__:State.temporary;r.hasOwnProperty(t)&&(a[t]=r[t]),r[t]=d[e]}),o=i.context,i.context=c,s.apply(this,t)}finally{o!==undefined&&(i.context=o),n.forEach(function(e){var t=e.slice(1),r="$"===e[0]?State.__getUpperName__:State.temporary;d[e]=r[t],a.hasOwnProperty(t)?r[t]=a[t]:delete r[t]})}}"function"==typeof u&&u.apply(this,t)}}},{key:"createDebugView",value:function(e,t){return this._debugView=new DebugView(this._output,"macro",e||this.name,t||this.source),null!==this.payload&&0<this.payload.length&&this._debugView.modes({nonvoid:!0}),this._debugViewEnabled=!0,this._debugView}},{key:"removeDebugView",value:function(){null!==this._debugView&&(this._debugView.remove(),this._debugView=null),this._debugViewEnabled=!1}},{key:"error",value:function(e,t){return throwError(this._output,"<<"+this.name+">>: "+e,t||this.source)}},{key:"output",get:function(){return this._debugViewEnabled?this.debugView.output:this._output}},{key:"shadows",get:function(){return[].concat(_toConsumableArray(this._shadows))}},{key:"shadowView",get:function(){var t=new Set;return this.contextSelectAll(function(e){return e._shadows}).forEach(function(e){return e._shadows.forEach(function(e){return t.add(e)})}),[].concat(_toConsumableArray(t))}},{key:"debugView",get:function(){return this._debugViewEnabled?null!==this._debugView?this._debugView:this.createDebugView():null}}]),r}(),$B,_B,aC;!function(){if(Macro.add("capture",{skipArgs:!0,tags:null,handler:function(){if(0===this.args.raw.length)return this.error("no story/temporary variable list specified");var n={};try{for(var e=new RegExp("("+Patterns.variable+")","g"),t=void 0;null!==(t=e.exec(this.args.raw));){var r=t[1],a=r.slice(1),i="$"===r[0]?State.__getUpperName__:State.temporary;i.hasOwnProperty(a)&&(n[a]=i[a]),this.addShadow(r)}new Wikifier(this.output,this.payload[0].contents)}finally{this.shadows.forEach(function(e){var t=e.slice(1),r="$"===e[0]?State.__getUpperName__:State.temporary;n.hasOwnProperty(t)?r[t]=n[t]:delete r[t]})}}}),Macro.add("set",{skipArgs:!0,handler:function(){if(0===this.args.full.length)return this.error("no expression specified");try{Scripting.evalJavaScript(this.args.full)}catch(e){return this.error("bad evaluation: "+("object"===(void 0===e?"undefined":_typeof(e))?e.message:e))}Config.debug&&this.debugView.modes({hidden:!0})}}),Macro.add("unset",{skipArgs:!0,handler:function(){if(0===this.args.full.length)return this.error("no story/temporary variable list specified");for(var e=new RegExp("State\\.(__getUpperName__|temporary)\\.("+Patterns.identifier+")","g"),t=void 0;null!==(t=e.exec(this.args.full));){var r=State[t[1]],n=t[2];r.hasOwnProperty(n)&&delete r[n]}Config.debug&&this.debugView.modes({hidden:!0})}}),Macro.add("remember",{skipArgs:!0,handler:function(){if(0===this.args.full.length)return this.error("no expression specified");try{Scripting.evalJavaScript(this.args.full)}catch(e){return this.error("bad evaluation: "+("object"===(void 0===e?"undefined":_typeof(e))?e.message:e))}for(var e=storage.get("remember")||{},t=new RegExp("State\\.__getUpperName__\\.("+Patterns.identifier+")","g"),r=void 0;null!==(r=t.exec(this.args.full));){var n=r[1];e[n]=State.__getUpperName__[n]}if(!storage.set("remember",e))return this.error("unknown error, cannot remember: "+this.args.raw);Config.debug&&this.debugView.modes({hidden:!0})},init:function(){var t=storage.get("remember");t&&Object.keys(t).forEach(function(e){return State.__getUpperName__[e]=t[e]})}}),Macro.add("forget",{skipArgs:!0,handler:function(){if(0===this.args.full.length)return this.error("no story variable list specified");for(var e=storage.get("remember"),t=new RegExp("State\\.__getUpperName__\\.("+Patterns.identifier+")","g"),r=void 0,n=!1;null!==(r=t.exec(this.args.full));){var a=r[1];State.__getUpperName__.hasOwnProperty(a)&&delete State.__getUpperName__[a],e&&e.hasOwnProperty(a)&&(n=!0,delete e[a])}if(n)if(0===Object.keys(e).length){if(!storage.delete("remember"))return this.error("unknown error, cannot update remember store")}else if(!storage.set("remember",e))return this.error("unknown error, cannot update remember store");Config.debug&&this.debugView.modes({hidden:!0})}}),Macro.add("run","set"),Macro.add("script",{skipArgs:!0,tags:null,handler:function(){var e=document.createDocumentFragment();try{Scripting.evalJavaScript(this.payload[0].contents,e)}catch(e){return this.error("bad evaluation: "+("object"===(void 0===e?"undefined":_typeof(e))?e.message:e),this.source+this.payload[0].contents+"<</"+this.name+">>")}Config.debug&&this.createDebugView(),e.hasChildNodes()&&this.output.appendChild(e)}}),Macro.add("include",{handler:function(){if(0===this.args.length)return this.error("no passage specified");var e=void 0;if(e="object"===_typeof(this.args[0])?this.args[0].link:this.args[0],!Story.has(e))return this.error('passage "'+e+'" does not exist');Config.debug&&this.debugView.modes({block:!0}),e=Story.get(e);(this.args[1]?jQuery(document.createElement(this.args[1])).addClass(e.domId+" macro-"+this.name).attr("data-passage",e.title).appendTo(this.output):jQuery(this.output)).wiki(e.processText())}}),Macro.add("nobr",{skipArgs:!0,tags:null,handler:function(){new Wikifier(this.output,this.payload[0].contents.replace(/^\n+|\n+$/g,"").replace(/\n+/g," "))}}),Macro.add(["print","=","-"],{skipArgs:!0,handler:function(){if(0===this.args.full.length)return this.error("no expression specified");try{var e=toStringOrDefault(Scripting.evalJavaScript(this.args.full),null);null!==e&&new Wikifier(this.output,"-"===this.name?Util.escape(e):e)}catch(e){return this.error("bad evaluation: "+("object"===(void 0===e?"undefined":_typeof(e))?e.message:e))}}}),Macro.add("silently",{skipArgs:!0,tags:null,handler:function(){var e=document.createDocumentFragment();if(new Wikifier(e,this.payload[0].contents.trim()),Config.debug)this.debugView.modes({hidden:!0}),this.output.appendChild(e);else{var t=[].concat(_toConsumableArray(e.querySelectorAll(".error"))).map(function(e){return e.textContent});if(0<t.length)return this.error("error"+(1===t.length?"":"s")+" within contents ("+t.join("; ")+")",this.source+this.payload[0].contents+"<</"+this.name+">>")}}}),Macro.add("display","include"),Macro.add("if",{skipArgs:!0,tags:["elseif","else"],handler:function(){var e=void 0;try{var t=this.payload.length;for(e=0;e<t;++e)switch(this.payload[e].name){case"else":if(0<this.payload[e].args.raw.length)return/^\s*if\b/i.test(this.payload[e].args.raw)?this.error('whitespace is not allowed between the "else" and "if" in <<elseif>> clause'+(0<e?" (#"+e+")":"")):this.error("<<else>> does not accept a conditional expression (perhaps you meant to use <<elseif>>), invalid: "+this.payload[e].args.raw);if(e+1!==t)return this.error("<<else>> must be the final clause");break;default:if(0===this.payload[e].args.full.length)return this.error("no conditional expression specified for <<"+this.payload[e].name+">> clause"+(0<e?" (#"+e+")":""));if(Config.macros.ifAssignmentError&&/[^!=&^|<>*\/%+-]=[^=]/.test(this.payload[e].args.full))return this.error("assignment operator found within <<"+this.payload[e].name+">> clause"+(0<e?" (#"+e+")":"")+" (perhaps you meant to use an equality operator: ==, ===, eq, is), invalid: "+this.payload[e].args.raw)}var r=Scripting.evalJavaScript,n=!1;for(e=0;e<t;++e){if(Config.debug&&this.createDebugView(this.payload[e].name,this.payload[e].source).modes({nonvoid:!1}),"else"===this.payload[e].name||r(this.payload[e].args.full)){n=!0,new Wikifier(this.output,this.payload[e].contents);break}Config.debug&&this.debugView.modes({hidden:!0,invalid:!0})}if(Config.debug){for(++e;e<t;++e)this.createDebugView(this.payload[e].name,this.payload[e].source).modes({nonvoid:!1,hidden:!0,invalid:!0});this.createDebugView("/"+this.name,"<</"+this.name+">>").modes({nonvoid:!1,hidden:!n,invalid:!n})}}catch(t){return this.error("bad conditional expression in <<"+(0===e?"if":"elseif")+">> clause"+(0<e?" (#"+e+")":"")+": "+("object"===(void 0===t?"undefined":_typeof(t))?t.message:t))}}}),Macro.add("switch",{skipArgs:["switch"],tags:["case","default"],handler:function(){if(0===this.args.full.length)return this.error("no expression specified");var e=this.payload.length;if(1===e)return this.error("no cases specified");var t=void 0;for(t=1;t<e;++t)switch(this.payload[t].name){case"default":if(0<this.payload[t].args.length)return this.error("<<default>> does not accept values, invalid: "+this.payload[t].args.raw);if(t+1!==e)return this.error("<<default>> must be the final case");break;default:if(0===this.payload[t].args.length)return this.error("no value(s) specified for <<"+this.payload[t].name+">> (#"+t+")")}var r=void 0;try{r=Scripting.evalJavaScript(this.args.full)}catch(e){return this.error("bad evaluation: "+("object"===(void 0===e?"undefined":_typeof(e))?e.message:e))}var n=this.debugView,a=!1;for(Config.debug&&n.modes({nonvoid:!1,hidden:!0}),t=1;t<e;++t){if(Config.debug&&this.createDebugView(this.payload[t].name,this.payload[t].source).modes({nonvoid:!1}),"default"===this.payload[t].name||this.payload[t].args.some(function(e){return e===r})){a=!0,new Wikifier(this.output,this.payload[t].contents);break}Config.debug&&this.debugView.modes({hidden:!0,invalid:!0})}if(Config.debug){for(++t;t<e;++t)this.createDebugView(this.payload[t].name,this.payload[t].source).modes({nonvoid:!1,hidden:!0,invalid:!0});n.modes({nonvoid:!1,hidden:!0,invalid:!a}),this.createDebugView("/"+this.name,"<</"+this.name+">>").modes({nonvoid:!1,hidden:!0,invalid:!a})}}}),Macro.add("for",{skipArgs:!0,tags:null,_hasRangeRe:new RegExp("^\\S"+Patterns.anyChar+"*?\\s+range\\s+\\S"+Patterns.anyChar+"*?$"),_rangeRe:new RegExp("^(?:State\\.(__getUpperName__|temporary)\\.("+Patterns.identifier+")\\s*,\\s*)?State\\.(__getUpperName__|temporary)\\.("+Patterns.identifier+")\\s+range\\s+(\\S"+Patterns.anyChar+"*?)$"),_3PartRe:/^([^;]*?)\s*;\s*([^;]*?)\s*;\s*([^;]*?)$/,handler:function(){var e=this.args.full.trim(),t=this.payload[0].contents.replace(/\n$/,"");if(0===e.length)this.self._handleFor.call(this,t,null,!0,null);else if(this.self._hasRangeRe.test(e)){var r=e.match(this.self._rangeRe);if(null===r)return this.error("invalid range form syntax, format: [index ,] value range collection");this.self._handleForRange.call(this,t,{type:r[1],name:r[2]},{type:r[3],name:r[4]},r[5])}else{var n=void 0,a=void 0,i=void 0;if(-1===e.indexOf(";")){if(/^\S+\s+in\s+\S+/i.test(e))return this.error("invalid syntax, for…in is not supported; see: for…range");if(/^\S+\s+of\s+\S+/i.test(e))return this.error("invalid syntax, for…of is not supported; see: for…range");a=e}else{var o=e.match(this.self._3PartRe);if(null===o)return this.error("invalid 3-part conditional form syntax, format: [init] ; [condition] ; [post]");n=o[1],a=o[2].trim(),i=o[3],0===a.length&&(a=!0)}this.self._handleFor.call(this,t,n,a,i)}},_handleFor:function(e,t,r,n){var a=Scripting.evalJavaScript,i=!0,o=Config.macros.maxLoopIterations;Config.debug&&this.debugView.modes({block:!0});try{if(TempState.break=null,t)try{a(t)}catch(e){return this.error("bad init expression: "+("object"===(void 0===e?"undefined":_typeof(e))?e.message:e))}for(;a(r);){if(--o<0)return this.error("exceeded configured maximum loop iterations ("+Config.macros.maxLoopIterations+")");if(new Wikifier(this.output,i?e.replace(/^\n/,""):e),i&&(i=!1),null!=TempState.break)if(1===TempState.break)TempState.break=null;else if(2===TempState.break){TempState.break=null;break}if(n)try{a(n)}catch(e){return this.error("bad post expression: "+("object"===(void 0===e?"undefined":_typeof(e))?e.message:e))}}}catch(e){return this.error("bad conditional expression: "+("object"===(void 0===e?"undefined":_typeof(e))?e.message:e))}finally{TempState.break=null}},_handleForRange:function(e,t,r,n){var a=!0,i=void 0;try{i=this.self._toRangeList(n)}catch(e){return this.error(e.message)}Config.debug&&this.debugView.modes({block:!0});try{TempState.break=null;for(var o=0;o<i.length;++o)if(t.name&&(State[t.type][t.name]=i[o][0]),State[r.type][r.name]=i[o][1],new Wikifier(this.output,a?e.replace(/^\n/,""):e),a&&(a=!1),null!=TempState.break)if(1===TempState.break)TempState.break=null;else if(2===TempState.break){TempState.break=null;break}}catch(e){return this.error("object"===(void 0===e?"undefined":_typeof(e))?e.message:e)}finally{TempState.break=null}},_toRangeList:function(e){var t=Scripting.evalJavaScript,r=void 0;try{r=t("{"===e[0]?"("+e+")":e)}catch(e){if("object"!==(void 0===e?"undefined":_typeof(e)))throw new Error("bad range expression: "+e);throw e.message="bad range expression: "+e.message,e}var n=void 0;switch(void 0===r?"undefined":_typeof(r)){case"string":n=[];for(var a=0;a<r.length;){var i=Util.charAndPosAt(r,a);n.push([a,i.char]),a=1+i.end}break;case"object":if(Array.isArray(r))n=r.map(function(e,t){return[t,e]});else if(r instanceof Set)n=[].concat(_toConsumableArray(r)).map(function(e,t){return[t,e]});else if(r instanceof Map)n=[].concat(_toConsumableArray(r.entries()));else{if("Object"!==Util.toStringTag(r))throw new Error("unsupported range expression type: "+Util.toStringTag(r));n=Object.keys(r).map(function(e){return[e,r[e]]})}break;default:throw new Error("unsupported range expression type: "+(void 0===r?"undefined":_typeof(r)))}return n}}),Macro.add(["break","continue"],{skipArgs:!0,handler:function(){if(!this.contextHas(function(e){return"for"===e.name}))return this.error("must only be used in conjunction with its parent macro <<for>>");TempState.break="continue"===this.name?1:2,Config.debug&&this.debugView.modes({hidden:!0})}}),Macro.add(["button","link"],{isAsync:!0,tags:null,handler:function(){var e=this;if(0===this.args.length)return this.error("no "+("button"===this.name?"button":"link")+" text specified");var t=jQuery(document.createElement("button"===this.name?"button":"a")),r=void 0;if("object"===_typeof(this.args[0]))if(this.args[0].isImage){var n=jQuery(document.createElement("img")).attr("src",this.args[0].source).appendTo(t);this.args[0].hasOwnProperty("passage")&&n.attr("data-passage",this.args[0].passage),this.args[0].hasOwnProperty("title")&&n.attr("title",this.args[0].title),this.args[0].hasOwnProperty("align")&&n.attr("align",this.args[0].align),this.args[0].hasOwnProperty("link")&&(r=this.args[0].link),r=this.args[0].link}else t.append(document.createTextNode(this.args[0].text)),r=this.args[0].link;else t.wikiWithOptions({profile:"core"},this.args[0]),r=1<this.args.length?this.args[1]:undefined;null!=r?(t.attr("data-passage",r),Story.has(r)?(t.addClass("link-internal"),Config.addVisitedLinkClass&&State.hasPlayed(r)&&t.addClass("link-visited")):t.addClass("link-broken")):t.addClass("link-internal"),t.addClass("macro-"+this.name).ariaClick({namespace:".macros",one:null!=r},this.createShadowWrapper(""!==this.payload[0].contents?function(){return Wikifier.wikifyEval(e.payload[0].contents.trim())}:null,null!=r?function(){return Engine.play(r)}:null)).appendTo(this.output)}}),Macro.add("checkbox",{isAsync:!0,handler:function(){if(this.args.length<3){var e=[];return this.args.length<1&&e.push("variable name"),this.args.length<2&&e.push("unchecked value"),this.args.length<3&&e.push("checked value"),this.error("no "+e.join(" or ")+" specified")}if("string"!=typeof this.args[0])return this.error("variable name argument is not a string");var t=this.args[0].trim();if("$"!==t[0]&&"_"!==t[0])return this.error('variable name "'+this.args[0]+'" is missing its sigil ($ or _)');var r=Util.slugify(t),n=this.args[1],a=this.args[2],i=document.createElement("input");jQuery(i).attr({id:this.name+"-"+r,name:this.name+"-"+r,type:"checkbox",tabindex:0}).addClass("macro-"+this.name).on("change.macros",this.createShadowWrapper(function(){State.setVar(t,this.checked?a:n)})).appendTo(this.output),3<this.args.length&&"checked"===this.args[3]?(i.checked=!0,State.setVar(t,a)):State.setVar(t,n)}}),Macro.add(["cycle","listbox"],{isAsync:!0,skipArgs:["optionsfrom"],tags:["option","optionsfrom"],handler:function(){var n=this;if(0===this.args.length)return this.error("no variable name specified");if("string"!=typeof this.args[0])return this.error("variable name argument is not a string");var e=this.args[0].trim();if("$"!==e[0]&&"_"!==e[0])return this.error('variable name "'+this.args[0]+'" is missing its sigil ($ or _)');var t=Util.slugify(e),r=this.payload.length;if(1===r)return this.error("no options specified");for(var a=1<this.args.length&&"autoselect"===this.args[1],i=[],o={option:0,optionsfrom:0},s=-1,u=1;u<r;++u){var l=this.payload[u];if("option"===l.name){if(++o.option,0===l.args.length)return this.error("no arguments specified for <<"+l.name+">> (#"+o.option+")");if(i.push({label:String(l.args[0]),value:1===l.args.length?l.args[0]:l.args[1]}),2<l.args.length&&"selected"===l.args[2]){if(a)return this.error("cannot specify both the autoselect and selected keywords");if(-1!==s)return this.error("multiple selected keywords specified for <<"+l.name+">> (#"+(s+1)+" & #"+o.option+")");s=i.length-1}}else{var c=function(){if(++o.optionsfrom,0===l.args.full.length)return{v:n.error("no expression specified for <<"+l.name+">> (#"+o.optionsfrom+")")};var t=void 0;try{var e=l.args.full;t=Scripting.evalJavaScript("{"===e[0]?"("+e+")":e)}catch(t){return{v:n.error("bad evaluation: "+("object"===(void 0===t?"undefined":_typeof(t))?t.message:t))}}if("object"!==(void 0===t?"undefined":_typeof(t))||null===t)return{v:n.error("expression must yield a supported collection or generic object (type: "+(null===t?"null":void 0===t?"undefined":_typeof(t))+")")};if(t instanceof Array||t instanceof Set)t.forEach(function(e){return i.push({label:String(e),value:e})});else if(t instanceof Map)t.forEach(function(e,t){return i.push({label:String(t),value:e})});else{var r=Util.toStringTag(t);if("Object"!==r)return{v:n.error("expression must yield a supported collection or generic object (object type: "+r+")")};Object.keys(t).forEach(function(e){return i.push({label:e,value:t[e]})})}}();if("object"===(void 0===c?"undefined":_typeof(c)))return c.v}}if(-1===s)if(a){var d=Util.sameValueZero,p=State.getVar(e),f=i.findIndex(function(e){return d(e.value,p)});s=-1===f?0:f}else s=0;if("cycle"===this.name){var h=s;jQuery(document.createElement("a")).wikiWithOptions({profile:"core"},i[s].label).addClass("macro-"+this.name).ariaClick({namespace:".macros"},this.createShadowWrapper(function(){h=(h+1)%i.length,$(this).empty().wikiWithOptions({profile:"core"},i[h].label),State.setVar(e,i[h].value)})).appendTo(this.output)}else{var g=jQuery(document.createElement("select"));i.forEach(function(e,t){jQuery(document.createElement("option")).val(t).text(e.label).appendTo(g)}),g.attr({id:this.name+"-"+t,name:this.name+"-"+t,tabindex:0}).addClass("macro-"+this.name).val(s).on("change.macros",this.createShadowWrapper(function(){State.setVar(e,i[Number(this.value)].value)})).appendTo(this.output)}State.setVar(e,i[s].value)}}),Macro.add(["linkappend","linkprepend","linkreplace"],{isAsync:!0,tags:null,handler:function(){var t=this;if(0===this.args.length)return this.error("no link text specified");var r=jQuery(document.createElement("a")),n=jQuery(document.createElement("span")),a=1<this.args.length&&/^(?:transition|t8n)$/.test(this.args[1]);r.wikiWithOptions({profile:"core"},this.args[0]).addClass("link-internal macro-"+this.name).ariaClick({namespace:".macros",one:!0},this.createShadowWrapper(function(){if("linkreplace"===t.name?r.remove():r.wrap('<span class="macro-'+t.name+'"></span>').replaceWith(function(){return r.html()}),""!==t.payload[0].contents){var e=document.createDocumentFragment();new Wikifier(e,t.payload[0].contents),n.append(e)}a&&setTimeout(function(){return n.removeClass("macro-"+t.name+"-in")},Engine.minDomActionDelay)})).appendTo(this.output),n.addClass("macro-"+this.name+"-insert"),a&&n.addClass("macro-"+this.name+"-in"),"linkprepend"===this.name?n.insertBefore(r):n.insertAfter(r)}}),Macro.add("radiobutton",{isAsync:!0,handler:function(){if(this.args.length<2){var e=[];return this.args.length<1&&e.push("variable name"),this.args.length<2&&e.push("checked value"),this.error("no "+e.join(" or ")+" specified")}if("string"!=typeof this.args[0])return this.error("variable name argument is not a string");var t=this.args[0].trim();if("$"!==t[0]&&"_"!==t[0])return this.error('variable name "'+this.args[0]+'" is missing its sigil ($ or _)');var r=Util.slugify(t),n=this.args[1],a=document.createElement("input");TempState.hasOwnProperty(this.name)||(TempState[this.name]={}),TempState[this.name].hasOwnProperty(r)||(TempState[this.name][r]=0),jQuery(a).attr({id:this.name+"-"+r+"-"+TempState[this.name][r]++,name:this.name+"-"+r,type:"radio",tabindex:0}).addClass("macro-"+this.name).on("change.macros",this.createShadowWrapper(function(){this.checked&&State.setVar(t,n)})).appendTo(this.output),2<this.args.length&&"checked"===this.args[2]&&(a.checked=!0,State.setVar(t,n))}}),Macro.add("textarea",{isAsync:!0,handler:function(){if(this.args.length<2){var e=[];return this.args.length<1&&e.push("variable name"),this.args.length<2&&e.push("default value"),this.error("no "+e.join(" or ")+" specified")}if("string"!=typeof this.args[0])return this.error("variable name argument is not a string");var t=this.args[0].trim();if("$"!==t[0]&&"_"!==t[0])return this.error('variable name "'+this.args[0]+'" is missing its sigil ($ or _)');Config.debug&&this.debugView.modes({block:!0});var r=Util.slugify(t),n=this.args[1],a="autofocus"===this.args[2],i=document.createElement("textarea");jQuery(i).attr({id:this.name+"-"+r,name:this.name+"-"+r,rows:4,tabindex:0}).addClass("macro-"+this.name).on("change.macros",this.createShadowWrapper(function(){State.setVar(t,this.value)})).appendTo(this.output),State.setVar(t,n),i.textContent=n,a&&(i.setAttribute("autofocus","autofocus"),postdisplay["#autofocus:"+i.id]=function(e){delete postdisplay[e],setTimeout(function(){return i.focus()},Engine.minDomActionDelay)})}}),Macro.add("textbox",{isAsync:!0,handler:function(){if(this.args.length<2){var e=[];return this.args.length<1&&e.push("variable name"),this.args.length<2&&e.push("default value"),this.error("no "+e.join(" or ")+" specified")}if("string"!=typeof this.args[0])return this.error("variable name argument is not a string");var t=this.args[0].trim();if("$"!==t[0]&&"_"!==t[0])return this.error('variable name "'+this.args[0]+'" is missing its sigil ($ or _)');Config.debug&&this.debugView.modes({block:!0});var r=Util.slugify(t),n=this.args[1],a=document.createElement("input"),i=!1,o=void 0;3<this.args.length?(o=this.args[2],i="autofocus"===this.args[3]):2<this.args.length&&("autofocus"===this.args[2]?i=!0:o=this.args[2]),"object"===(void 0===o?"undefined":_typeof(o))&&(o=o.link),jQuery(a).attr({id:this.name+"-"+r,name:this.name+"-"+r,type:"text",tabindex:0}).addClass("macro-"+this.name).on("change.macros",this.createShadowWrapper(function(){State.setVar(t,this.value)})).on("keypress.macros",this.createShadowWrapper(function(e){13===e.which&&(e.preventDefault(),State.setVar(t,this.value),null!=o&&Engine.play(o))})).appendTo(this.output),State.setVar(t,n),a.value=n,i&&(a.setAttribute("autofocus","autofocus"),postdisplay["#autofocus:"+a.id]=function(e){delete postdisplay[e],setTimeout(function(){return a.focus()},Engine.minDomActionDelay)})}}),Macro.add("click","link"),Macro.add("actions",{handler:function(){for(var e=jQuery(document.createElement("ul")).addClass(this.name).appendTo(this.output),t=0;t<this.args.length;++t){var r=void 0,n=void 0,a=void 0,i=void 0;"object"===_typeof(this.args[t])?i=(r=(this.args[t].isImage?(a=jQuery(document.createElement("img")).attr("src",this.args[t].source),this.args[t].hasOwnProperty("passage")&&a.attr("data-passage",this.args[t].passage),this.args[t].hasOwnProperty("title")&&a.attr("title",this.args[t].title),this.args[t].hasOwnProperty("align")&&a.attr("align",this.args[t].align)):n=this.args[t].text,this.args[t].link),this.args[t].setFn):n=r=this.args[t],State.__getUpperName__.hasOwnProperty("#actions")&&State.__getUpperName__["#actions"].hasOwnProperty(r)&&State.__getUpperName__["#actions"][r]||jQuery(Wikifier.createInternalLink(jQuery(document.createElement("li")).appendTo(e),r,null,function(e,t){return function(){State.__getUpperName__.hasOwnProperty("#actions")||(State.__getUpperName__["#actions"]={}),State.__getUpperName__["#actions"][e]=!0,"function"==typeof t&&t()}}(r,i))).addClass("macro-"+this.name).append(a||document.createTextNode(n))}}}),Macro.add(["back","return"],{handler:function(){if(1<this.args.length)return this.error("too many arguments specified, check the documentation for details");var e=-1,t=void 0,r=void 0,n=void 0;if(1===this.args.length&&("object"===_typeof(this.args[0])?this.args[0].isImage?(n=jQuery(document.createElement("img")).attr("src",this.args[0].source),this.args[0].hasOwnProperty("passage")&&n.attr("data-passage",this.args[0].passage),this.args[0].hasOwnProperty("title")&&n.attr("title",this.args[0].title),this.args[0].hasOwnProperty("align")&&n.attr("align",this.args[0].align),this.args[0].hasOwnProperty("link")&&(t=this.args[0].link)):t=(1===this.args[0].count||(r=this.args[0].text),this.args[0].link):1===this.args.length&&(r=this.args[0])),null==t){for(var a=State.length-2;0<=a;--a)if(State.history[a].title!==State.passage){e=a,t=State.history[a].title;break}if(null==t&&"return"===this.name)for(var i=State.expired.length-1;0<=i;--i)if(State.expired[i]!==State.passage){t=State.expired[i];break}}else{if(!Story.has(t))return this.error('passage "'+t+'" does not exist');if("back"===this.name){for(var o=State.length-2;0<=o;--o)if(State.history[o].title===t){e=o;break}if(-1===e)return this.error('cannot find passage "'+t+'" in the current story history')}}if(null==t)return this.error("cannot find passage");("back"!==this.name||-1!==e?jQuery(document.createElement("a")).addClass("link-internal").ariaClick({one:!0},"return"===this.name?function(){return Engine.play(t)}:function(){return Engine.goTo(e)}):jQuery(document.createElement("span")).addClass("link-disabled")).addClass("macro-"+this.name).append(n||document.createTextNode(r||L10n.get("macro"+this.name.toUpperFirst()+"Text"))).appendTo(this.output)}}),Macro.add("choice",{handler:function(){if(0===this.args.length)return this.error("no passage specified");var e=State.passage,t=void 0,r=void 0,n=void 0,a=void 0;1===this.args.length?"object"===_typeof(this.args[0])?a=(t=(this.args[0].isImage?(n=jQuery(document.createElement("img")).attr("src",this.args[0].source),this.args[0].hasOwnProperty("passage")&&n.attr("data-passage",this.args[0].passage),this.args[0].hasOwnProperty("title")&&n.attr("title",this.args[0].title),this.args[0].hasOwnProperty("align")&&n.attr("align",this.args[0].align)):r=this.args[0].text,this.args[0].link),this.args[0].setFn):r=t=this.args[0]:(t=this.args[0],r=this.args[1]),State.__getUpperName__.hasOwnProperty("#choice")&&State.__getUpperName__["#choice"].hasOwnProperty(e)&&State.__getUpperName__["#choice"][e]?jQuery(document.createElement("span")).addClass("link-disabled macro-"+this.name).attr("tabindex",-1).append(n||document.createTextNode(r)).appendTo(this.output):jQuery(Wikifier.createInternalLink(this.output,t,null,function(){State.__getUpperName__.hasOwnProperty("#choice")||(State.__getUpperName__["#choice"]={}),State.__getUpperName__["#choice"][e]=!0,"function"==typeof a&&a()})).addClass("macro-"+this.name).append(n||document.createTextNode(r))}}),Macro.add(["addclass","toggleclass"],{handler:function(){if(this.args.length<2){var e=[];return this.args.length<1&&e.push("selector"),this.args.length<2&&e.push("class names"),this.error("no "+e.join(" or ")+" specified")}var t=jQuery(this.args[0]);if(0===t.length)return this.error('no elements matched the selector "'+this.args[0]+'"');switch(this.name){case"addclass":t.addClass(this.args[1].trim());break;case"toggleclass":t.toggleClass(this.args[1].trim())}Config.debug&&this.debugView.modes({hidden:!0})}}),Macro.add("removeclass",{handler:function(){if(0===this.args.length)return this.error("no selector specified");var e=jQuery(this.args[0]);if(0===e.length)return this.error('no elements matched the selector "'+this.args[0]+'"');1<this.args.length?e.removeClass(this.args[1].trim()):e.removeClass(),Config.debug&&this.debugView.modes({hidden:!0})}}),Macro.add("copy",{handler:function(){if(0===this.args.length)return this.error("no selector specified");var e=jQuery(this.args[0]);if(0===e.length)return this.error('no elements matched the selector "'+this.args[0]+'"');jQuery(this.output).append(e.html()),Config.debug&&this.debugView.modes({hidden:!0})}}),Macro.add(["append","prepend","replace"],{tags:null,handler:function(){var e=this;if(0===this.args.length)return this.error("no selector specified");var t=jQuery(this.args[0]);if(0===t.length)return this.error('no elements matched the selector "'+this.args[0]+'"');if(""!==this.payload[0].contents){var r=1<this.args.length&&/^(?:transition|t8n)$/.test(this.args[1]),n=void 0;switch(r?((n=jQuery(document.createElement("span"))).addClass("macro-"+this.name+"-insert macro-"+this.name+"-in"),setTimeout(function(){return n.removeClass("macro-"+e.name+"-in")},Engine.minDomActionDelay)):n=jQuery(document.createDocumentFragment()),n.wiki(this.payload[0].contents),this.name){case"replace":t.empty();case"append":t.append(n);break;case"prepend":t.prepend(n)}}else"replace"===this.name&&t.empty();Config.debug&&this.debugView.modes({hidden:!0})}}),Macro.add("remove",{handler:function(){if(0===this.args.length)return this.error("no selector specified");var e=jQuery(this.args[0]);if(0===e.length)return this.error('no elements matched the selector "'+this.args[0]+'"');e.remove(),Config.debug&&this.debugView.modes({hidden:!0})}}),Has.audio){var g=function(e,t){return'only one playback action allowed per invocation, "'+e+'" cannot be combined with "'+t+'"'};Macro.add("audio",{handler:function(){if(this.args.length<2){var e=[];return this.args.length<1&&e.push("track and/or group IDs"),this.args.length<2&&e.push("actions"),this.error("no "+e.join(" or ")+" specified")}var t=void 0;try{t=SimpleAudio.select(this.args[0])}catch(e){return this.error(e.message)}for(var r=this.args.slice(1),n=void 0,a=5,i=void 0,o=void 0,s=void 0,u=void 0,l=void 0,c=void 0;0<r.length;){var d=r.shift(),p=void 0;switch(d){case"load":case"pause":case"play":case"stop":case"unload":if(n)return this.error(g(d,n));n=d;break;case"fadein":if(n)return this.error(g(d,n));n="fade",i=1;break;case"fadeout":if(n)return this.error(g(d,n));n="fade",i=0;break;case"fadeto":if(n)return this.error(g(d,n));if(0===r.length)return this.error("fadeto missing required level value");if(n="fade",p=r.shift(),i=Number.parseFloat(p),Number.isNaN(i)||!Number.isFinite(i))return this.error("cannot parse fadeto: "+p);break;case"fadeoverto":if(n)return this.error(g(d,n));if(r.length<2){var f=[];return r.length<1&&f.push("seconds"),r.length<2&&f.push("level"),this.error("fadeoverto missing required "+f.join(" and ")+" value"+(1<f.length?"s":""))}if(n="fade",p=r.shift(),a=Number.parseFloat(p),Number.isNaN(a)||!Number.isFinite(a))return this.error("cannot parse fadeoverto: "+p);if(p=r.shift(),i=Number.parseFloat(p),Number.isNaN(i)||!Number.isFinite(i))return this.error("cannot parse fadeoverto: "+p);break;case"volume":if(0===r.length)return this.error("volume missing required level value");if(p=r.shift(),c=Number.parseFloat(p),Number.isNaN(c)||!Number.isFinite(c))return this.error("cannot parse volume: "+p);break;case"mute":case"unmute":s="mute"===d;break;case"time":if(0===r.length)return this.error("time missing required seconds value");if(p=r.shift(),l=Number.parseFloat(p),Number.isNaN(l)||!Number.isFinite(l))return this.error("cannot parse time: "+p);break;case"loop":case"unloop":o="loop"===d;break;case"goto":if(0===r.length)return this.error("goto missing required passage title");if(p=r.shift(),u="object"===(void 0===p?"undefined":_typeof(p))?p.link:p,!Story.has(u))return this.error('passage "'+u+'" does not exist');break;default:return this.error("unknown action: "+d)}}try{if(null!=c&&t.volume(c),null!=l&&t.time(l),null!=s&&t.mute(s),null!=o&&t.loop(o),null!=u){var h="ended.macros.macro-"+this.name+"_goto";t.off(h).one(h,function(){t.off(h),Engine.play(u)})}switch(n){case"fade":t.fade(a,i);break;case"load":t.load();break;case"pause":t.pause();break;case"play":t.play();break;case"stop":t.stop();break;case"unload":t.unload()}Config.debug&&this.debugView.modes({hidden:!0})}catch(e){return this.error("error executing action: "+e.message)}}}),Macro.add("cacheaudio",{handler:function(){var t=this;if(this.args.length<2){var e=[];return this.args.length<1&&e.push("track ID"),this.args.length<2&&e.push("sources"),this.error("no "+e.join(" or ")+" specified")}var r=String(this.args[0]).trim(),n=/^format:\s*([\w-]+)\s*;\s*/i;try{SimpleAudio.tracks.add(r,this.args.slice(1).map(function(e){if(n.test(e)){if(Config.debug)return t.error('track ID "'+r+'": format specifier migration required, "format:formatId;" → "formatId|"');e=e.replace(n,"$1|")}return e}))}catch(t){return this.error(t.message)}if(Config.debug&&!SimpleAudio.tracks.get(r).hasSource())return this.error('track ID "'+r+'": no supported audio sources found');Config.debug&&this.debugView.modes({hidden:!0})}}),Macro.add("createaudiogroup",{tags:["track"],handler:function(){if(0===this.args.length)return this.error("no group ID specified");if(1===this.payload.length)return this.error("no tracks defined via <<track>>");Config.debug&&this.debugView.modes({nonvoid:!1,hidden:!0});for(var e=String(this.args[0]).trim(),t=[],r=1,n=this.payload.length;r<n;++r){if(this.payload[r].args.length<1)return this.error("no track ID specified");t.push(String(this.payload[r].args[0]).trim()),Config.debug&&this.createDebugView(this.payload[r].name,this.payload[r].source).modes({nonvoid:!1,hidden:!0})}try{SimpleAudio.groups.add(e,t)}catch(e){return this.error(e.message)}Config.debug&&this.createDebugView("/"+this.name,"<</"+this.name+">>").modes({nonvoid:!1,hidden:!0})}}),Macro.add("createplaylist",{tags:["track"],handler:function(){if(0===this.args.length)return this.error("no list ID specified");if(1===this.payload.length)return this.error("no tracks defined via <<track>>");var e=Macro.get("playlist");if(null!==e.from&&"createplaylist"!==e.from)return this.error("a playlist has already been defined with <<setplaylist>>");Config.debug&&this.debugView.modes({nonvoid:!1,hidden:!0});for(var t=String(this.args[0]).trim(),r=[],n=1,a=this.payload.length;n<a;++n){if(0===this.payload[n].args.length)return this.error("no track ID specified");for(var i={id:String(this.payload[n].args[0]).trim()},o=this.payload[n].args.slice(1);0<o.length;){var s=o.shift(),u=void 0,l=void 0;switch(s){case"copy":case"own":i.own=!0;break;case"rate":0<o.length&&o.shift();break;case"volume":if(0===o.length)return this.error("volume missing required level value");if(u=o.shift(),l=Number.parseFloat(u),Number.isNaN(l)||!Number.isFinite(l))return this.error("cannot parse volume: "+u);i.volume=l;break;default:return this.error("unknown action: "+s)}}r.push(i),Config.debug&&this.createDebugView(this.payload[n].name,this.payload[n].source).modes({nonvoid:!1,hidden:!0})}try{SimpleAudio.lists.add(t,r)}catch(e){return this.error(e.message)}null===e.from&&(e.from="createplaylist"),Config.debug&&this.createDebugView("/"+this.name,"<</"+this.name+">>").modes({nonvoid:!1,hidden:!0})}}),Macro.add("masteraudio",{handler:function(){if(0===this.args.length)return this.error("no actions specified");for(var e=this.args.slice(0),t=void 0,r=void 0,n=void 0,a=void 0;0<e.length;){var i=e.shift(),o=void 0;switch(i){case"load":case"stop":case"unload":if(t)return this.error(g(i,t));t=i;break;case"mute":case"unmute":r="mute"===i;break;case"muteonhide":case"nomuteonhide":n="muteonhide"===i;break;case"volume":if(0===e.length)return this.error("volume missing required level value");if(o=e.shift(),a=Number.parseFloat(o),Number.isNaN(a)||!Number.isFinite(a))return this.error("cannot parse volume: "+o);break;default:return this.error("unknown action: "+i)}}try{switch(null!=r&&SimpleAudio.mute(r),null!=n&&SimpleAudio.muteOnHidden(n),null!=a&&SimpleAudio.volume(a),t){case"load":SimpleAudio.load();break;case"stop":SimpleAudio.stop();break;case"unload":SimpleAudio.unload()}Config.debug&&this.debugView.modes({hidden:!0})}catch(e){return this.error("error executing action: "+e.message)}}}),Macro.add("playlist",{from:null,handler:function(){var e=this.self.from;if(null===e)return this.error("no playlists have been created");var t=void 0,r=void 0;if("createplaylist"===e){if(this.args.length<2){var n=[];return this.args.length<1&&n.push("list ID"),this.args.length<2&&n.push("actions"),this.error("no "+n.join(" or ")+" specified")}var a=String(this.args[0]).trim();if(!SimpleAudio.lists.has(a))return this.error('playlist "'+a+'" does not exist');t=SimpleAudio.lists.get(a),r=this.args.slice(1)}else{if(0===this.args.length)return this.error("no actions specified");t=SimpleAudio.lists.get("setplaylist"),r=this.args.slice(0)}for(var i=void 0,o=5,s=void 0,u=void 0,l=void 0,c=void 0,d=void 0;0<r.length;){var p=r.shift(),f=void 0;switch(p){case"load":case"pause":case"play":case"skip":case"stop":case"unload":if(i)return this.error(g(p,i));i=p;break;case"fadein":if(i)return this.error(g(p,i));i="fade",s=1;break;case"fadeout":if(i)return this.error(g(p,i));i="fade",s=0;break;case"fadeto":if(i)return this.error(g(p,i));if(0===r.length)return this.error("fadeto missing required level value");if(i="fade",f=r.shift(),s=Number.parseFloat(f),Number.isNaN(s)||!Number.isFinite(s))return this.error("cannot parse fadeto: "+f);break;case"fadeoverto":if(i)return this.error(g(p,i));if(r.length<2){var h=[];return r.length<1&&h.push("seconds"),r.length<2&&h.push("level"),this.error("fadeoverto missing required "+h.join(" and ")+" value"+(1<h.length?"s":""))}if(i="fade",f=r.shift(),o=Number.parseFloat(f),Number.isNaN(o)||!Number.isFinite(o))return this.error("cannot parse fadeoverto: "+f);if(f=r.shift(),s=Number.parseFloat(f),Number.isNaN(s)||!Number.isFinite(s))return this.error("cannot parse fadeoverto: "+f);break;case"volume":if(0===r.length)return this.error("volume missing required level value");if(f=r.shift(),d=Number.parseFloat(f),Number.isNaN(d)||!Number.isFinite(d))return this.error("cannot parse volume: "+f);break;case"mute":case"unmute":l="mute"===p;break;case"loop":case"unloop":u="loop"===p;break;case"shuffle":case"unshuffle":c="shuffle"===p;break;default:return this.error("unknown action: "+p)}}try{switch(null!=d&&t.volume(d),null!=l&&t.mute(l),null!=u&&t.loop(u),null!=c&&t.shuffle(c),i){case"fade":t.fade(o,s);break;case"load":t.load();break;case"pause":t.pause();break;case"play":t.play();break;case"skip":t.skip();break;case"stop":t.stop();break;case"unload":t.unload()}Config.debug&&this.debugView.modes({hidden:!0})}catch(e){return this.error("error executing action: "+e.message)}}}),Macro.add("removeaudiogroup",{handler:function(){if(0===this.args.length)return this.error("no group ID specified");var e=String(this.args[0]).trim();if(!SimpleAudio.groups.has(e))return this.error('group "'+e+'" does not exist');SimpleAudio.groups.delete(e),Config.debug&&this.debugView.modes({hidden:!0})}}),Macro.add("removeplaylist",{handler:function(){if(0===this.args.length)return this.error("no list ID specified");var e=String(this.args[0]).trim();if(!SimpleAudio.lists.has(e))return this.error('playlist "'+e+'" does not exist');SimpleAudio.lists.delete(e),Config.debug&&this.debugView.modes({hidden:!0})}}),Macro.add("waitforaudio",{skipArgs:!0,handler:function(){SimpleAudio.loadWithScreen()}}),Macro.add("setplaylist",{handler:function(){if(0===this.args.length)return this.error("no track ID(s) specified");var e=Macro.get("playlist");if(null!==e.from&&"setplaylist"!==e.from)return this.error("playlists have already been defined with <<createplaylist>>");try{SimpleAudio.lists.add("setplaylist",this.args.slice(0))}catch(e){return this.error(e.message)}null===e.from&&(e.from="setplaylist"),Config.debug&&this.debugView.modes({hidden:!0})}}),Macro.add("stopallaudio",{skipArgs:!0,handler:function(){SimpleAudio.select(":all").stop(),Config.debug&&this.debugView.modes({hidden:!0})}})}else Macro.add(["audio","cacheaudio","createaudiogroup","createplaylist","masteraudio","playlist","removeaudiogroup","removeplaylist","waitforaudio","setplaylist","stopallaudio"],{skipArgs:!0,handler:function(){Config.debug&&this.debugView.modes({hidden:!0})}});Macro.add("goto",{handler:function(){if(0===this.args.length)return this.error("no passage specified");var e;if(e="object"===_typeof(this.args[0])?this.args[0].link:this.args[0],!Story.has(e))return this.error('passage "'+e+'" does not exist');setTimeout(function(){return Engine.play(e)},Engine.minDomActionDelay)}}),Macro.add("repeat",{isAsync:!0,tags:null,timers:new Set,handler:function(){var r=this;if(0===this.args.length)return this.error("no time value specified");var e=void 0;try{e=Math.max(Engine.minDomActionDelay,Util.fromCssTime(this.args[0]))}catch(r){return this.error(r.message)}Config.debug&&this.debugView.modes({block:!0});var n=1<this.args.length&&/^(?:transition|t8n)$/.test(this.args[1]),a=jQuery(document.createElement("span")).addClass("macro-"+this.name).appendTo(this.output);this.self.registerInterval(this.createShadowWrapper(function(){var e=document.createDocumentFragment();new Wikifier(e,r.payload[0].contents);var t=a;n&&(t=jQuery(document.createElement("span")).addClass("macro-repeat-insert macro-repeat-in").appendTo(t)),t.append(e),n&&setTimeout(function(){return t.removeClass("macro-repeat-in")},Engine.minDomActionDelay)}),e)},registerInterval:function(t,e){var r=this;if("function"!=typeof t)throw new TypeError("callback parameter must be a function");var n=State.turns,a=this.timers,i=null;i=setInterval(function(){if(n!==State.turns)return clearInterval(i),void a.delete(i);var e=void 0;try{TempState.break=null,TempState.hasOwnProperty("repeatTimerId")&&(e=TempState.repeatTimerId),TempState.repeatTimerId=i,t.call(r)}finally{void 0!==e?TempState.repeatTimerId=e:delete TempState.repeatTimerId,TempState.break=null}},e),a.add(i),prehistory.hasOwnProperty("#repeat-timers-cleanup")||(prehistory["#repeat-timers-cleanup"]=function(e){delete prehistory[e],a.forEach(function(e){return clearInterval(e)}),a.clear()})}}),Macro.add("stop",{skipArgs:!0,handler:function(){if(!TempState.hasOwnProperty("repeatTimerId"))return this.error("must only be used in conjunction with its parent macro <<repeat>>");var e=Macro.get("repeat").timers,t=TempState.repeatTimerId;clearInterval(t),e.delete(t),TempState.break=2,Config.debug&&this.debugView.modes({hidden:!0})}}),Macro.add("timed",{isAsync:!0,tags:["next"],timers:new Set,handler:function(){if(0===this.args.length)return this.error("no time value specified in <<timed>>");var e=[];try{e.push({name:this.name,source:this.source,delay:Math.max(Engine.minDomActionDelay,Util.fromCssTime(this.args[0])),content:this.payload[0].contents})}catch(e){return this.error(e.message+" in <<timed>>")}if(1<this.payload.length){var t=void 0;try{var r;for(t=1,r=this.payload.length;t<r;++t)e.push({name:this.payload[t].name,source:this.payload[t].source,delay:0===this.payload[t].args.length?e[e.length-1].delay:Math.max(Engine.minDomActionDelay,Util.fromCssTime(this.payload[t].args[0])),content:this.payload[t].contents})}catch(e){return this.error(e.message+" in <<next>> (#"+t+")")}}Config.debug&&this.debugView.modes({block:!0});var n=1<this.args.length&&/^(?:transition|t8n)$/.test(this.args[1]),a=jQuery(document.createElement("span")).addClass("macro-"+this.name).appendTo(this.output);this.self.registerTimeout(this.createShadowWrapper(function(e){var t=document.createDocumentFragment();new Wikifier(t,e.content);var r=a;Config.debug&&"next"===e.name&&(r=jQuery(new DebugView(r[0],"macro",e.name,e.source).output)),n&&(r=jQuery(document.createElement("span")).addClass("macro-timed-insert macro-timed-in").appendTo(r)),r.append(t),n&&setTimeout(function(){return r.removeClass("macro-timed-in")},Engine.minDomActionDelay)}),e)},registerTimeout:function(r,n){if("function"!=typeof r)throw new TypeError("callback parameter must be a function");var a=State.turns,i=this.timers,o=null,s=n.shift();o=setTimeout(function e(){if(i.delete(o),a===State.turns){var t=s;null!=(s=n.shift())&&(o=setTimeout(e,s.delay),i.add(o)),r.call(this,t)}},s.delay),i.add(o),prehistory.hasOwnProperty("#timed-timers-cleanup")||(prehistory["#timed-timers-cleanup"]=function(e){delete prehistory[e],i.forEach(function(e){return clearTimeout(e)}),i.clear()})}}),Macro.add("widget",{tags:null,handler:function(){if(0===this.args.length)return this.error("no widget name specified");var n,t=this.args[0];if(Macro.has(t)){if(!Macro.get(t).isWidget)return this.error('cannot clobber existing macro "'+t+'"');Macro.delete(t)}try{Macro.add(t,{isWidget:!0,handler:(n=this.payload[0].contents,function(){var e=void 0;try{State.__getUpperName__.hasOwnProperty("args")&&(e=State.__getUpperName__.args),State.__getUpperName__.args=[].concat(_toConsumableArray(this.args)),State.__getUpperName__.args.raw=this.args.raw,State.__getUpperName__.args.full=this.args.full,this.addShadow("$args");var t=document.createDocumentFragment(),r=[];if(new Wikifier(t,n),Array.from(t.querySelectorAll(".error")).forEach(function(e){r.push(e.textContent)}),0!==r.length)return this.error("error"+(1<r.length?"s":"")+" within widget contents ("+r.join("; ")+")");this.output.appendChild(t)}catch(e){return this.error("cannot execute widget: "+e.message)}finally{void 0!==e?State.__getUpperName__.args=e:delete State.__getUpperName__.args}})}),Config.debug&&this.debugView.modes({hidden:!0})}catch(e){return this.error('cannot create widget macro "'+t+'": '+e.message)}}})}();var Dialog=function(){function n(e){return c.trigger(":dialogclosing"),jQuery(document).off(".dialog-close"),f?(f.disconnect(),f=null):c.off(".dialog-resize"),jQuery(window).off(".dialog-resize"),l.removeClass("open").css({left:"",right:"",top:"",bottom:""}),jQuery("#ui-bar,#story").find("[tabindex=-2]").removeAttr("aria-hidden").attr("tabindex",0),jQuery("body>[tabindex=-3]").removeAttr("aria-hidden").removeAttr("tabindex"),u.removeClass("open"),jQuery(document.documentElement).removeAttr("data-dialog"),r.empty(),c.empty().removeClass(),null!==d&&(jQuery(d).focus(),d=null),e&&e.data&&"function"==typeof e.data.closeFn&&e.data.closeFn(e),c.trigger(":dialogclose"),c.trigger(":dialogclosed"),Dialog}function a(e){return l.hasClass("open")&&(!e||e.splitOrEmpty(/\s+/).every(function(e){return c.hasClass(e)}))}function i(e,t){c.trigger(":dialogopening");var r=jQuery.extend({top:50},e).top;return a()||(d=safeActiveElement()),jQuery(document.documentElement).attr("data-dialog","open"),u.addClass("open"),null!==c[0].querySelector("img")&&c.imagesLoaded().always(function(){return s({data:{top:r}})}),jQuery("body>:not(script,#store-area,tw-storydata,#ui-bar,#ui-overlay,#ui-dialog)").attr("tabindex",-3).attr("aria-hidden",!0),jQuery("#ui-bar,#story").find("[tabindex]:not([tabindex^=-])").attr("tabindex",-2).attr("aria-hidden",!0),l.css(o(r)).addClass("open").focus(),jQuery(window).on("resize.dialog-resize",null,{top:r},jQuery.throttle(40,s)),Has.mutationObserver?(f=new MutationObserver(function(e){for(var t=0;t<e.length;++t)if("childList"===e[t].type){s({data:{top:r}});break}})).observe(c[0],{childList:!0,subtree:!0}):c.on("DOMNodeInserted.dialog-resize DOMNodeRemoved.dialog-resize",null,{top:r},jQuery.throttle(40,s)),jQuery(document).on("click.dialog-close",".ui-close",{closeFn:t},n).on("keypress.dialog-close",".ui-close",function(e){13!==e.which&&32!==e.which||jQuery(this).trigger("click")}),c.trigger(":dialogopen"),c.trigger(":dialogopened"),Dialog}function o(e){var t=null!=e?e:50,r=jQuery(window),n={left:"",right:"",top:"",bottom:""};l.css(n);var a=r.width()-l.outerWidth(!0)-1,i=r.height()-l.outerHeight(!0)-1;return a<=32+p&&(i-=p),i<=32+p&&(a-=p),n.left=n.right=a<=32?16:a/2>>0,n.top=i<=32?n.bottom=16:t<i/2?t:n.bottom=i/2>>0,Object.keys(n).forEach(function(e){""!==n[e]&&(n[e]+="px")}),n}function s(e){var t=e&&e.data&&void 0!==e.data.top?e.data.top:50;"block"===l.css("display")&&(l.css({display:"none"}),l.css(jQuery.extend({display:""},o(t))))}var u=null,l=null,r=null,c=null,d=null,p=0,f=null;return Object.freeze(Object.defineProperties({},{append:{value:function(){var e;return(e=c).append.apply(e,arguments),Dialog}},body:{value:function(){return c.get(0)}},close:{value:n},init:{value:function(){if(!document.getElementById("ui-dialog")){p=function(){var e=void 0;try{var t=document.createElement("p"),r=document.createElement("div");t.style.width="100%",t.style.height="200px",r.style.position="absolute",r.style.left="0px",r.style.top="0px",r.style.width="100px",r.style.height="100px",r.style.visibility="hidden",r.style.overflow="hidden",r.appendChild(t),document.body.appendChild(r);var n=t.offsetWidth;r.style.overflow="auto";var a=t.offsetWidth;n===a&&(a=r.clientWidth),document.body.removeChild(r),e=n-a}catch(e){}return e||17}();var e=jQuery(document.createDocumentFragment()).append('<div id="ui-overlay" class="ui-close"></div><div id="ui-dialog" tabindex="0" role="dialog" aria-labelledby="ui-dialog-title"><div id="ui-dialog-titlebar"><h1 id="ui-dialog-title"></h1><button id="ui-dialog-close" class="ui-close" tabindex="0" aria-label="'+L10n.get("close")+'"></button></div><div id="ui-dialog-body"></div></div>');u=jQuery(e.find("#ui-overlay").get(0)),l=jQuery(e.find("#ui-dialog").get(0)),r=jQuery(e.find("#ui-dialog-title").get(0)),c=jQuery(e.find("#ui-dialog-body").get(0)),e.insertBefore("body>script#script-sugarcube")}}},isOpen:{value:a},open:{value:i},resize:{value:function(e){return s("object"===(void 0===e?"undefined":_typeof(e))?{data:e}:undefined)}},setup:{value:function(e,t){return c.empty().removeClass(),null!=t&&c.addClass(t),r.empty().append((null!=e?String(e):"")||" "),c.get(0)}},wiki:{value:function(){var e;return(e=c).wiki.apply(e,arguments),Dialog}},addClickHandler:{value:function(e,t,r,n,a){return jQuery(e).ariaClick(function(e){e.preventDefault(),"function"==typeof r&&r(e),i(t,a),"function"==typeof n&&n(e)})}}}))}(),Engine=function(){function e(e){var t=State.go(e);return t&&n(),t}function n(){return a(State.passage,!0)}function a(e,t){var r=e;f=d.Playing,TempState={},State.clearTemporary();var n=void 0,a=void 0;if("function"==typeof Config.navigation.override)try{var i=Config.navigation.override(r);i&&(r=i)}catch(e){}var o=Story.get(r);if(jQuery.event.trigger({type:":passageinit",passage:o}),Object.keys(prehistory).forEach(function(e){"function"==typeof prehistory[e]&&prehistory[e].call(this,e)},o),t||State.create(o.title),h=Util.now(),document.body.className&&(document.body.className=""),Object.keys(predisplay).forEach(function(e){"function"==typeof predisplay[e]&&predisplay[e].call(this,e)},o),Story.has("PassageReady"))try{n=Wikifier.wikifyEval(Story.get("PassageReady").text)}catch(e){console.error(e),Alert.error("PassageReady",e.message)}f=d.Rendering;var s=jQuery(o.render()),u=document.getElementById("passages");if(u.hasChildNodes()&&("number"==typeof Config.passages.transitionOut||"string"==typeof Config.passages.transitionOut&&""!==Config.passages.transitionOut&&Has.transitionEndEvent?[].concat(_toConsumableArray(u.childNodes)).forEach(function(e){var t=jQuery(e);if(e.nodeType===Node.ELEMENT_NODE&&t.hasClass("passage")){if(t.hasClass("passage-out"))return;t.attr("id","out-"+t.attr("id")).addClass("passage-out"),"string"==typeof Config.passages.transitionOut?t.on(Has.transitionEndEvent,function(e){e.originalEvent.propertyName===Config.passages.transitionOut&&t.remove()}):setTimeout(function(){return t.remove()},Math.max(p,Config.passages.transitionOut))}else t.remove()}):jQuery(u).empty()),s.addClass("passage-in").appendTo(u),setTimeout(function(){return s.removeClass("passage-in")},p),Config.passages.displayTitles&&o.title!==Config.passages.start&&(document.title=o.title+" | "+Story.title),window.scroll(0,0),f=d.Playing,Story.has("PassageDone"))try{a=Wikifier.wikifyEval(Story.get("PassageDone").text)}catch(e){console.error(e),Alert.error("PassageDone",e.message)}if(jQuery.event.trigger({type:":passagedisplay",passage:o}),Object.keys(postdisplay).forEach(function(e){"function"==typeof postdisplay[e]&&postdisplay[e].call(this,e)},o),null!==m?m.forEach(function(e){jQuery(e.element).empty(),new Wikifier(e.element,Story.get(e.passage).processText().trim())}):Config.ui.updateStoryElements&&UIBar.update(),Config.debug){var l=void 0;null!=n&&((l=new DebugView(document.createDocumentFragment(),"special","PassageReady","PassageReady")).modes({hidden:!0}),l.append(n),s.prepend(l.output)),null!=a&&((l=new DebugView(document.createDocumentFragment(),"special","PassageDone","PassageDone")).modes({hidden:!0}),l.append(a),s.append(l.output)),1===State.turns&&null!=g&&s.prepend(g)}switch(c(),jQuery("#story").find("a[href]:not(.link-external)").addClass("link-external").end().find("a,link,button,input,select,textarea").not("[tabindex]").attr("tabindex",0),_typeof(Config.saves.autosave)){case"boolean":Config.saves.autosave&&Save.autosave.save();break;case"string":o.tags.includes(Config.saves.autosave)&&Save.autosave.save();break;case"object":Array.isArray(Config.saves.autosave)&&o.tags.some(function(e){return Config.saves.autosave.includes(e)})&&Save.autosave.save()}return jQuery.event.trigger({type:":passageend",passage:o}),f=d.Idle,h=Util.now(),s[0]}function c(){t.set("*:focus{outline:none}")}var d=Util.toEnum({Idle:"idle",Playing:"playing",Rendering:"rendering"}),p=40,f=d.Idle,h=null,g=null,t=null,m=null;return Object.freeze(Object.defineProperties({},{States:{value:d},minDomActionDelay:{value:p},init:{value:function(){jQuery("#init-no-js,#init-lacking").remove(),function(){var e=jQuery(document.createDocumentFragment()),t=Story.has("StoryInterface")&&Story.get("StoryInterface").text.trim();if(t){if(UIBar.destroy(),jQuery(document.head).find("#style-core-display").remove(),e.append(t),0===e.find("#passages").length)throw new Error('no element with ID "passages" found within "StoryInterface" special passage');var n=[];e.find("[data-passage]").each(function(e,t){if("passages"===t.id)throw new Error('"StoryInterface" element <'+t.nodeName.toLowerCase()+' id="passages"> must not contain a "data-passage" content attribute');var r=t.getAttribute("data-passage").trim();if(null!==t.firstElementChild)throw new Error('"StoryInterface" element <'+t.nodeName.toLowerCase()+' data-passage="'+r+'"> contains child elements');Story.has(r)&&n.push({passage:r,element:t})}),0<n.length&&(m=n),Config.ui.updateStoryElements=!1}else e.append('<div id="story" role="main"><div id="passages"></div></div>');e.insertBefore("body>script#script-sugarcube")}(),t=new StyleWrapper(jQuery(document.createElement("style")).attr({id:"style-aria-outlines",type:"text/css"}).appendTo(document.head).get(0)),jQuery(document).on("mousedown.aria-outlines keydown.aria-outlines",function(e){return"keydown"===e.type?void t.clear():c()})}},start:{value:function(){if(Story.has("VRT-1-2-5"))try{var e=Wikifier.wikifyEval(Story.get("VRT-1-2-5").text);if(Config.debug){var t=new DebugView(document.createDocumentFragment(),"special","VRT-1-2-5","VRT-1-2-5");t.modes({hidden:!0}),t.append(e),g=t.output}}catch(e){console.error(e),Alert.error("VRT-1-2-5",e.message)}if(null==Config.passages.start)throw new Error("starting passage not selected");if(!Story.has(Config.passages.start))throw new Error('starting passage ("'+Config.passages.start+'") not found');if(jQuery(document.documentElement).focus(),State.restore())n();else{var r=!0;switch(_typeof(Config.saves.autoload)){case"boolean":Config.saves.autoload&&Save.autosave.ok()&&Save.autosave.has()&&(r=!Save.autosave.load());break;case"string":"prompt"===Config.saves.autoload&&Save.autosave.ok()&&Save.autosave.has()&&(r=!1,UI.buildAutoload(),Dialog.open());break;case"function":Save.autosave.ok()&&Save.autosave.has()&&Config.saves.autoload()&&(r=!Save.autosave.load())}r&&a(Config.passages.start)}}},restart:{value:function(){LoadScreen.show(),window.scroll(0,0),State.reset(),jQuery.event.trigger(":enginerestart"),window.location.reload()}},state:{get:function(){return f}},isIdle:{value:function(){return f===d.Idle}},isPlaying:{value:function(){return f!==d.Idle}},isRendering:{value:function(){return f===d.Rendering}},lastPlay:{get:function(){return h}},goTo:{value:function(e){var t=State.goTo(e);return t&&n(),t}},go:{value:e},backward:{value:function(){return e(-1)}},forward:{value:function(){return e(1)}},show:{value:n},play:{value:a},display:{value:function(e,t,r){var n=!1;switch(r){case undefined:break;case"replace":case"back":n=!0;break;default:throw new Error('Engine.display option parameter called with obsolete value "'+r+'"; please notify the developer')}a(e,n)}}}))}(),Passage=(bL=void 0,bL=/^(?:debug|nobr|passage|widget|twine\..*)$/i,function(){function n(e,t){var r=this;_classCallCheck(this,n),Object.defineProperties(this,{title:{value:Util.unescape(e)},element:{value:t||null},tags:{value:Object.freeze(t&&t.hasAttribute("tags")?t.getAttribute("tags").trim().splitOrEmpty(/\s+/).sort().filter(function(e,t,r){return 0===t||r[t-1]!==e}):[])},_excerpt:{writable:!0,value:null}}),Object.defineProperties(this,{domId:{value:"passage-"+Util.slugify(this.title)},classes:{value:Object.freeze(0===this.tags.length?[]:r.tags.filter(function(e){return!bL.test(e)}).map(function(e){return Util.slugify(e)}))}})}return _createClass(n,[{key:"description",value:function(){var e=Config.passages.descriptions;if(null!=e)switch(void 0===e?"undefined":_typeof(e)){case"boolean":if(e)return this.title;break;case"object":if(e instanceof Map&&e.has(this.title))return e.get(this.title);if(e.hasOwnProperty(this.title))return e[this.title];break;case"function":var t=e.call(this);if(t)return t;break;default:throw new TypeError("Config.passages.descriptions must be a boolean, object, or function")}return null===this._excerpt&&(this._excerpt=n.getExcerptFromText(this.text)),this._excerpt}},{key:"processText",value:function(){if(null==this.element)return this.text;var e=this.text;return this.tags.includes("Twine.image")?e="[img["+e+"]]":(Config.passages.nobr||this.tags.includes("nobr"))&&(e=e.replace(/^\n+|\n+$/g,"").replace(/\n+/g," ")),e}},{key:"render",value:function(){var t=this,e=0<this.tags.length?this.tags.join(" "):null,r=document.createElement("div");return jQuery(r).attr({id:this.domId,"data-passage":this.title,"data-tags":e}).addClass("passage "+this.className),jQuery(document.body).attr("data-tags",e).addClass(this.className),jQuery(document.documentElement).attr("data-tags",e),jQuery.event.trigger({type:":passagestart",content:r,passage:this}),Object.keys(prerender).forEach(function(e){"function"==typeof prerender[e]&&prerender[e].call(t,r,e)}),Story.has("SUB-0-4-5")&&new Wikifier(r,Story.get("SUB-0-4-5").processText()),new Wikifier(r,this.processText()),Story.has("PMS-1-5-4")&&new Wikifier(r,Story.get("PMS-1-5-4").processText()),jQuery.event.trigger({type:":passagerender",content:r,passage:this}),Object.keys(postrender).forEach(function(e){"function"==typeof postrender[e]&&postrender[e].call(t,r,e)}),this._excerpt=n.getExcerptFromNode(r),r}},{key:"className",get:function(){return this.classes.join(" ")}},{key:"text",get:function(){if(null!=this.element)return this.element.textContent.replace(/\r/g,"");var e=Util.escape(this.title);return'<div class="error-view"><span class="error">'+L10n.get("errorTitle")+": "+L10n.get("errorNonexistentPassage",{passage:e})+"</span></div>"}}],[{key:"getExcerptFromNode",value:function(e,t){if(!e.hasChildNodes())return"";var r=e.textContent.trim();if(""!==r){var n=new RegExp("(\\S+(?:\\s+\\S+){0,"+(0<t?t-1:7)+"})");r=r.replace(/\s+/g," ").match(n)}return r?r[1]+"…":"…"}},{key:"getExcerptFromText",value:function(e,t){if(""===e)return"";var r=new RegExp("(\\S+(?:\\s+\\S+){0,"+(0<t?t-1:7)+"})"),n=e.replace(/<<.*?>>/g," ").replace(/<.*?>/g," ").trim().replace(/^\s*\|.*\|.*?$/gm,"").replace(/\[[<>]?img\[[^\]]*\]\]/g,"").replace(/\[\[([^|\]]*?)(?:(?:\||->|<-)[^\]]*)?\]\]/g,"$1").replace(/^\s*!+(.*?)$/gm,"$1").replace(/'{2}|\/{2}|_{2}|@{2}/g,"").trim().replace(/\s+/g," ").match(r);return n?n[1]+"…":"…"}}]),n}()),Save=function(){function i(){var e=storage.get("saves");return null===e?{autosave:null,slots:o([],Config.saves.slots)}:e}function n(){return storage.delete("saves"),!0}function e(){return"cookie"!==storage.name&&void 0!==Config.saves.autosave}function a(){return"cookie"!==storage.name&&-1!==p}function t(){if(!a())return 0;for(var e=i(),t=0,r=0,n=e.slots.length;r<n;++r)null!==e.slots[r]&&++t;return t}function o(e,t){for(var r=0;r<t;++r)e.push(null);return e}function s(e){for(var t=e.slots,r=!0,n=0,a=t.length;n<a;++n)if(null!==t[n]){r=!1;break}return null===e.autosave&&r}function u(e){return s(e)?(storage.delete("saves"),!0):storage.set("saves",e)}function l(e){if(null==e||"object"!==(void 0===e?"undefined":_typeof(e)))return!1;var t=!1;return e.hasOwnProperty("state")&&e.state.hasOwnProperty("delta")&&e.state.hasOwnProperty("index")||(e.hasOwnProperty("data")?(delete e.mode,e.state={delta:State.deltaEncode(e.data)},delete e.data):e.state.hasOwnProperty("delta")?e.state.hasOwnProperty("index")||delete e.state.mode:(delete e.state.mode,e.state.delta=State.deltaEncode(e.state.history),delete e.state.history),e.state.index=e.state.delta.length-1,t=!0),e.state.hasOwnProperty("rseed")&&(e.state.seed=e.state.rseed,delete e.state.rseed,e.state.delta.forEach(function(e,t,r){r[t].hasOwnProperty("rcount")&&(r[t].pull=r[t].rcount,delete r[t].rcount)}),t=!0),(e.state.hasOwnProperty("expired")&&"number"==typeof e.state.expired||e.state.hasOwnProperty("unique")||e.state.hasOwnProperty("last"))&&(e.state.hasOwnProperty("expired")&&"number"==typeof e.state.expired&&delete e.state.expired,(e.state.hasOwnProperty("unique")||e.state.hasOwnProperty("last"))&&(e.state.expired=[],e.state.hasOwnProperty("unique")&&(e.state.expired.push(e.state.unique),delete e.state.unique),e.state.hasOwnProperty("last")&&(e.state.expired.push(e.state.last),delete e.state.last)),t=!0),t}function d(e){if(null!=e&&"object"!==(void 0===e?"undefined":_typeof(e)))throw new Error("supplemental parameter must be an object");var t=Object.assign({},e,{id:Config.saves.id,state:State.marshalForSave()});return Config.saves.version&&(t.version=Config.saves.version),"function"==typeof Config.saves.onSave&&Config.saves.onSave(t),t.state.delta=State.deltaEncode(t.state.history),delete t.state.history,t}function c(e){try{if(l(e),!e||!e.hasOwnProperty("id")||!e.hasOwnProperty("state"))throw new Error(L10n.get("errorSaveMissingData"));if(e.state.history=State.deltaDecode(e.state.delta),delete e.state.delta,"function"==typeof Config.saves.onLoad&&Config.saves.onLoad(e),e.id!==Config.saves.id)throw new Error(L10n.get("errorSaveIdMismatch"));State.unmarshalForSave(e.state),Engine.show()}catch(e){return UI.alert(e.message.toUpperFirst()+".</p><p>"+L10n.get("aborting")+"."),!1}return!0}var p=-1;return Object.freeze(Object.defineProperties({},{init:{value:function(){if("cookie"===storage.name)return n(),Config.saves.autoload=undefined,Config.saves.autosave=undefined,Config.saves.isAllowed=undefined,Config.saves.onLoad=undefined,Config.saves.onSave=undefined,Config.saves.slots=0,!1;var e=i(),t=!1;Array.isArray(e)&&(e={autosave:null,slots:e},t=!0),Config.saves.slots!==e.slots.length&&(Config.saves.slots<e.slots.length?(e.slots.reverse(),e.slots=e.slots.filter(function(e){return!(null===e&&0<this.count&&(--this.count,1))},{count:e.slots.length-Config.saves.slots}),e.slots.reverse()):Config.saves.slots>e.slots.length&&o(e.slots,Config.saves.slots-e.slots.length),t=!0),l(e.autosave)&&(t=!0);for(var r=0;r<e.slots.length;++r)l(e.slots[r])&&(t=!0);return s(e)&&(storage.delete("saves"),t=!1),t&&u(e),p=e.slots.length-1,!0}},get:{value:i},clear:{value:n},ok:{value:function(){return e()||a()}},autosave:{value:Object.freeze(Object.defineProperties({},{ok:{value:e},has:{value:function(){return null!==i().autosave}},get:{value:function(){return i().autosave}},load:{value:function(){var e=i();return null!==e.autosave&&c(e.autosave)}},save:{value:function(e,t){if("function"==typeof Config.saves.isAllowed&&!Config.saves.isAllowed())return!1;var r=i(),n={title:e||Story.get(State.passage).description(),date:Date.now()};return null!=t&&(n.metadata=t),r.autosave=d(n),u(r)}},delete:{value:function(){var e=i();return e.autosave=null,u(e)}}}))},slots:{value:Object.freeze(Object.defineProperties({},{ok:{value:a},length:{get:function(){return p+1}},isEmpty:{value:function(){return 0===t()}},count:{value:t},has:{value:function(e){if(e<0||p<e)return!1;var t=i();return!(e>=t.slots.length||null===t.slots[e])}},get:{value:function(e){if(e<0||p<e)return null;var t=i();return e>=t.slots.length?null:t.slots[e]}},load:{value:function(e){if(e<0||p<e)return!1;var t=i();return!(e>=t.slots.length||null===t.slots[e])&&c(t.slots[e])}},save:{value:function(e,t,r){if("function"==typeof Config.saves.isAllowed&&!Config.saves.isAllowed())return Dialog.isOpen()?$(document).one(":dialogclosed",function(){return UI.alert(L10n.get("savesDisallowed"))}):UI.alert(L10n.get("savesDisallowed")),!1;if(e<0||p<e)return!1;var n=i();if(e>=n.slots.length)return!1;var a={title:t||Story.get(State.passage).description(),date:Date.now()};return null!=r&&(a.metadata=r),n.slots[e]=d(a),u(n)}},delete:{value:function(e){if(e<0||p<e)return!1;var t=i();return!(e>=t.slots.length)&&(t.slots[e]=null,u(t))}}}))},export:{value:function(e,t){if("function"!=typeof Config.saves.isAllowed||Config.saves.isAllowed()){var r,n,a,i,o,s,u=(null==e?Story.domId:Util.slugify(e))+"-"+(r=new Date,n=r.getMonth()+1,a=r.getDate(),i=r.getHours(),o=r.getMinutes(),s=r.getSeconds(),n<10&&(n="0"+n),a<10&&(a="0"+a),i<10&&(i="0"+i),o<10&&(o="0"+o),s<10&&(s="0"+s),""+r.getFullYear()+n+a+"-"+i+o+s)+".save",l=null==t?{}:{metadata:t},c=LZString.compressToBase64(JSON.stringify(d(l)));saveAs(new Blob([c],{type:"text/plain;charset=UTF-8"}),u)}else Dialog.isOpen()?$(document).one(":dialogclosed",function(){return UI.alert(L10n.get("savesDisallowed"))}):UI.alert(L10n.get("savesDisallowed"))}},import:{value:function(e){var n=e.target.files[0],t=new FileReader;jQuery(t).on("load",function(e){var t=e.currentTarget;if(t.result){var r=void 0;try{r=JSON.parse(/\.json$/i.test(n.name)||/^\{/.test(t.result)?t.result:LZString.decompressFromBase64(t.result))}catch(e){}c(r)}}),t.readAsText(n)}},serialize:{value:function(e){if("function"==typeof Config.saves.isAllowed&&!Config.saves.isAllowed())return Dialog.isOpen()?$(document).one(":dialogclosed",function(){return UI.alert(L10n.get("savesDisallowed"))}):UI.alert(L10n.get("savesDisallowed")),null;var t=null==e?{}:{metadata:e};return LZString.compressToBase64(JSON.stringify(d(t)))}},deserialize:{value:function(e){var t=void 0;try{t=JSON.parse(LZString.decompressFromBase64(e))}catch(e){}return c(t)?t.metadata:null}}}))}(),Setting=function(){function r(){return Object.create(null)}function n(){var t=r();return 0<Object.keys(settings).length&&d.filter(function(e){return e.type!==p.Header&&settings[e.name]!==e.default}).forEach(function(e){return t[e.name]=settings[e.name]}),0===Object.keys(t).length?(storage.delete("settings"),!0):storage.set("settings",t)}function a(){var t=r(),e=storage.get("settings")||r();d.filter(function(e){return e.type!==p.Header}).forEach(function(e){return t[e.name]=e.default}),window.SugarCube.settings=settings=Object.assign(t,e)}function i(){return window.SugarCube.settings=settings=r(),storage.delete("settings"),!0}function o(e,t,i){if(arguments.length<3){var r=[];throw arguments.length<1&&r.push("type"),arguments.length<2&&r.push("name"),arguments.length<3&&r.push("definition"),new Error("missing parameters, no "+r.join(" or ")+" specified")}if("object"!==(void 0===i?"undefined":_typeof(i)))throw new TypeError("definition parameter must be an object");if(c(t))throw new Error('cannot clobber existing setting "'+t+'"');var n,a,o={type:e,name:t,label:"string"==typeof i.label?i.label.trim():""};if("string"==typeof i.desc){var s=i.desc.trim();""!==s&&(o.desc=s)}switch(e){case p.Header:break;case p.Toggle:o.default=!!i.default;break;case p.List:if(!i.hasOwnProperty("list"))throw new Error("no list specified");if(!Array.isArray(i.list))throw new TypeError("list must be an array");if(0===i.list.length)throw new Error("list must not be empty");if(o.list=Object.freeze(i.list),null==i.default)o.default=i.list[0];else{var u=i.list.indexOf(i.default);if(-1===u)throw new Error("list does not contain default");o.default=i.list[u]}break;case p.Range:if(!i.hasOwnProperty("min"))throw new Error("no min specified");if("number"!=typeof i.min||Number.isNaN(i.min)||!Number.isFinite(i.min))throw new TypeError("min must be a finite number");if(!i.hasOwnProperty("max"))throw new Error("no max specified");if("number"!=typeof i.max||Number.isNaN(i.max)||!Number.isFinite(i.max))throw new TypeError("max must be a finite number");if(!i.hasOwnProperty("step"))throw new Error("no step specified");if("number"!=typeof i.step||Number.isNaN(i.step)||!Number.isFinite(i.step)||i.step<=0)throw new TypeError("step must be a finite number greater than zero");var l=(n=String(i.step),-1===(a=n.lastIndexOf("."))?0:n.length-a-1);if(function(e){if(0<l){var t=Number(i.min+"e"+l),r=Number(i.step+"e"+l),n=Number(e+"e"+l)-t;return Number(n-n%r+t+"e-"+l)}var a=e-i.min;return a-a%i.step+i.min}(i.max)!==i.max)throw new RangeError("max ("+i.max+") is not a multiple of the step ("+i.step+") plus the min ("+i.min+")");if(o.max=i.max,o.min=i.min,o.step=i.step,null==i.default)o.default=i.max;else{if("number"!=typeof i.default||Number.isNaN(i.default)||!Number.isFinite(i.default))throw new TypeError("default must be a finite number");if(i.default<i.min)throw new RangeError("default ("+i.default+") is less than min ("+i.min+")");if(i.default>i.max)throw new RangeError("default ("+i.default+") is greater than max ("+i.max+")");o.default=i.default}break;default:throw new Error("unknown Setting type: "+e)}"function"==typeof i.onInit&&(o.onInit=Object.freeze(i.onInit)),"function"==typeof i.onChange&&(o.onChange=Object.freeze(i.onChange)),d.push(Object.freeze(o))}function c(t){return d.some(function(e){return e.name===t})}function s(t){return d.find(function(e){return e.name===t})}var d=[],p=Util.toEnum({Header:0,Toggle:1,List:2,Range:3});return Object.freeze(Object.defineProperties({},{Types:{value:p},init:{value:function(){if(storage.has("options")){var e=storage.get("options");null!==e&&(window.SugarCube.settings=settings=Object.assign(r(),e)),n(),storage.delete("options")}a(),d.forEach(function(e){if(e.hasOwnProperty("onInit")){var t={name:e.name,value:settings[e.name],default:e.default};e.hasOwnProperty("list")&&(t.list=e.list),e.onInit.call(t)}})}},create:{value:r},save:{value:n},load:{value:a},clear:{value:i},reset:{value:function(e){if(0===arguments.length)i(),a();else{if(null==e||!c(e))throw new Error('nonexistent setting "'+e+'"');var t=s(e);t.type!==p.Header&&(settings[e]=t.default)}return n()}},forEach:{value:function(e,t){d.forEach(e,t)}},add:{value:o},addHeader:{value:function(e,t){o(p.Header,e,{desc:t})}},addToggle:{value:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];o.apply(undefined,[p.Toggle].concat(t))}},addList:{value:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];o.apply(undefined,[p.List].concat(t))}},addRange:{value:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];o.apply(undefined,[p.Range].concat(t))}},isEmpty:{value:function(){return 0===d.length}},has:{value:c},get:{value:s},delete:{value:function e(t){c(t)&&delete settings[t];for(var r=0;r<d.length;++r)if(d[r].name===t){d.splice(r,1),e(t);break}}}}))}(),Story=(MO={},NO=[],OO=[],PO=[],QO="",RO="",SO="",Object.freeze(Object.defineProperties({},{passages:{value:MO},styles:{value:NO},scripts:{value:OO},widgets:{value:PO},load:{value:function(){var n=["widget"],a=["PassageDone","PMS-1-5-4","SUB-0-4-5","PassageReady","StoryAuthor","StoryBanner","END-2-4-5","VRT-1-2-5","StoryMenu","StoryShare","StorySubtitle"],e=jQuery("tw-storydata"),i=e.attr("startnode")||"";Config.passages.start=null,Config.debug=/\bdebug\b/.test(e.attr("options")),e.children("style").each(function(e){NO.push(new Passage("tw-user-style-"+e,this))}),e.children("script").each(function(e){OO.push(new Passage("tw-user-script-"+e,this))}),e.children('tw-passagedata:not([tags~="Twine.private"],[tags~="annotation"])').each(function(){var e=jQuery(this),t=e.attr("pid")||"",r=new Passage(e.attr("name"),this);t===i&&""!==i?(Config.passages.start=r.title,function(e){if(e.tags.includesAny(n))throw new Error('starting passage "'+e.title+'" contains illegal tags; invalid: "'+e.tags.filter(function(e){return n.includes(e)}).sort().join('", "')+'"')}(r),MO[r.title]=r):r.tags.includes("widget")?PO.push(r):(function(e){if(a.includes(e.title)&&e.tags.includesAny(n))throw new Error('special passage "'+e.title+'" contains illegal tags; invalid: "'+e.tags.filter(function(e){return n.includes(e)}).sort().join('", "')+'"')}(r),MO[r.title]=r)}),RO=e.attr("ifid"),function(e){if(null==e||""===e)throw new Error("story title cannot be null or empty");if(document.title=QO=Util.unescape(e),SO=Util.slugify(QO),""===QO||""===SO)throw new Error("story title must include characters from the basic Latin alphabet")}(Util.unescape("Blacked and Whited")),Config.saves.id=Story.domId}},init:{value:function(){var e;e=document.createElement("style"),new StyleWrapper(e).add(NO.map(function(e){return e.text.trim()}).join("\n")),jQuery(e).appendTo(document.head).attr({id:"style-story",type:"text/css"});for(var t=0;t<OO.length;++t)try{Scripting.evalJavaScript(OO[t].text)}catch(r){console.error(r),Alert.error(OO[t].title,"object"===(void 0===r?"undefined":_typeof(r))?r.message:r)}for(var r=0;r<PO.length;++r)try{Wikifier.wikifyEval(PO[r].processText())}catch(t){console.error(t),Alert.error(PO[r].title,"object"===(void 0===t?"undefined":_typeof(t))?t.message:t)}}},title:{get:function(){return QO}},domId:{get:function(){return SO}},ifId:{get:function(){return RO}},has:{value:function(e){var t=void 0===e?"undefined":_typeof(e);switch(t){case"number":case"string":return MO.hasOwnProperty(String(e));case"boolean":case"function":t="a "+t;break;case"undefined":break;default:t=null===e?"null":"an "+t}throw new TypeError("Story.has title parameter cannot be "+t)}},get:{value:function(e){var t=void 0===e?"undefined":_typeof(e);switch(t){case"number":case"string":var r=String(e);return MO.hasOwnProperty(r)?MO[r]:new Passage(r||"(unknown)");case"boolean":case"function":t="a "+t;break;case"undefined":break;default:t=null===e?"null":"an "+t}throw new TypeError("Story.get title parameter cannot be "+t)}},lookup:{value:function(e,t){for(var r=2<arguments.length&&arguments[2]!==undefined?arguments[2]:"title",n=Object.keys(MO),a=[],i=0;i<n.length;++i){var o=MO[n[i]];if(o.hasOwnProperty(e))switch(_typeof(o[e])){case"undefined":break;case"object":o[e]instanceof Array&&o[e].some(function(e){return e==t})&&a.push(o);break;default:o[e]==t&&a.push(o)}}return a.sort(function(e,t){return e[r]==t[r]?0:e[r]<t[r]?-1:1}),a}},lookupWith:{value:function(e){var r=1<arguments.length&&arguments[1]!==undefined?arguments[1]:"title";if("function"!=typeof e)throw new Error("Story.lookupWith filter parameter must be a function");for(var t=Object.keys(MO),n=[],a=0;a<t.length;++a){var i=MO[t[a]];e(i)&&n.push(i)}return n.sort(function(e,t){return e[r]==t[r]?0:e[r]<t[r]?-1:1}),n}}}))),UI=function(){function e(e,t){var r=t,n=Config.debug,a=Config.cleanupWikifierOutput;Config.debug=!1,Config.cleanupWikifierOutput=!1;try{null==r&&(r=document.createElement("ul"));var i=document.createDocumentFragment();new Wikifier(i,Story.get(e).processText().trim());var o=[].concat(_toConsumableArray(i.querySelectorAll(".error"))).map(function(e){return e.textContent.replace(errorPrologRegExp,"")});if(0<o.length)throw new Error(o.join("; "));for(;i.hasChildNodes();){var s=i.firstChild;if(s.nodeType===Node.ELEMENT_NODE&&"A"===s.nodeName.toUpperCase()){var u=document.createElement("li");r.appendChild(u),u.appendChild(s)}else i.removeChild(s)}}finally{Config.cleanupWikifierOutput=a,Config.debug=n}return r}function a(e){jQuery(Dialog.setup("Alert","alert")).append("<p>"+e+'</p><ul class="buttons"><li><button id="alert-ok" class="ui-close">'+L10n.get(["alertOk","ok"])+"</button></li></ul>");for(var t=arguments.length,r=Array(1<t?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];Dialog.open.apply(Dialog,r)}function t(){return jQuery(Dialog.setup(L10n.get("autoloadTitle"),"autoload")).append("<p>"+L10n.get("autoloadPrompt")+'</p><ul class="buttons"><li><button id="autoload-ok" class="ui-close">'+L10n.get(["autoloadOk","ok"])+'</button></li><li><button id="autoload-cancel" class="ui-close">'+L10n.get(["autoloadCancel","cancel"])+"</button></li></ul>"),jQuery(document).one("click.autoload",".ui-close",function(e){var t="autoload-ok"===e.target.id;jQuery(document).one(":dialogclosed",function(){t&&Save.autosave.load()||Engine.play(Config.passages.start)})}),!0}function r(){var e=document.createElement("ul");jQuery(Dialog.setup(L10n.get("jumptoTitle"),"jumpto list")).append(e);for(var t=State.expired.length,r=State.size-1;0<=r;--r)if(r!==State.activeIndex){var n=Story.get(State.history[r].title);n&&n.tags.includes("bookmark")&&jQuery(document.createElement("li")).append(jQuery(document.createElement("a")).ariaClick({one:!0},function(e){return function(){return jQuery(document).one(":dialogclosed",function(){return Engine.goTo(e)})}}(r)).addClass("ui-close").text(L10n.get("jumptoTurn")+" "+(t+r+1)+": "+n.description())).appendTo(e)}e.hasChildNodes()||jQuery(e).append("<li><a><em>"+L10n.get("jumptoUnavailable")+"</em></a></li>")}function n(){return jQuery(Dialog.setup(L10n.get("restartTitle"),"restart")).append("<p>"+L10n.get("restartPrompt")+'</p><ul class="buttons"><li><button id="restart-ok">'+L10n.get(["restartOk","ok"])+'</button></li><li><button id="restart-cancel" class="ui-close">'+L10n.get(["restartCancel","cancel"])+"</button></li></ul>").find("#restart-ok").ariaClick({one:!0},function(){jQuery(document).one(":dialogclosed",function(){return Engine.restart()}),Dialog.close()}),!0}function f(){function e(e,t,r,n){var a=jQuery(document.createElement("button")).attr("id","saves-"+e).html(r);return t&&a.addClass(t),n?a.ariaClick(n):a.ariaDisabled(!0),jQuery(document.createElement("li")).append(a)}var t=jQuery(Dialog.setup(L10n.get("savesTitle"),"saves")),r=Save.ok();if(r&&t.append(function(){function e(e,t,r,n,a){var i=jQuery(document.createElement("button")).attr("id","saves-"+e+"-"+n).addClass(e).html(r);return t&&i.addClass(t),a?"auto"===n?i.ariaClick({label:r+" "+L10n.get("savesLabelAuto")},function(){return a()}):i.ariaClick({label:r+" "+L10n.get("savesLabelSlot")+" "+(n+1)},function(){return a(n)}):i.ariaDisabled(!0),i}var t=Save.get(),r=jQuery(document.createElement("tbody"));if(Save.autosave.ok()){var n=jQuery(document.createElement("td")),a=jQuery(document.createElement("td")),i=jQuery(document.createElement("td")),o=jQuery(document.createElement("td"));jQuery(document.createElement("b")).attr({title:L10n.get("savesLabelAuto"),"aria-label":L10n.get("savesLabelAuto")}).text("A").appendTo(n),t.autosave?(a.append(e("load","ui-close",L10n.get("savesLabelLoad"),"auto",function(){jQuery(document).one(":dialogclosed",function(){return Save.autosave.load()})})),jQuery(document.createElement("div")).text(t.autosave.title).appendTo(i),jQuery(document.createElement("div")).addClass("datestamp").html(t.autosave.date?""+new Date(t.autosave.date).toLocaleString():"<em>"+L10n.get("savesUnknownDate")+"</em>").appendTo(i),o.append(e("delete",null,L10n.get("savesLabelDelete"),"auto",function(){Save.autosave.delete(),f()}))):(a.append(e("load",null,L10n.get("savesLabelLoad"),"auto")),i.addClass("empty").text("•  •  •"),o.append(e("delete",null,L10n.get("savesLabelDelete"),"auto"))),jQuery(document.createElement("tr")).append(n).append(a).append(i).append(o).appendTo(r)}for(var s=0,u=t.slots.length;s<u;++s){var l=jQuery(document.createElement("td")),c=jQuery(document.createElement("td")),d=jQuery(document.createElement("td")),p=jQuery(document.createElement("td"));l.append(document.createTextNode(s+1)),t.slots[s]?(c.append(e("load","ui-close",L10n.get("savesLabelLoad"),s,function(e){jQuery(document).one(":dialogclosed",function(){return Save.slots.load(e)})})),jQuery(document.createElement("div")).text(t.slots[s].title).appendTo(d),jQuery(document.createElement("div")).addClass("datestamp").html(t.slots[s].date?""+new Date(t.slots[s].date).toLocaleString():"<em>"+L10n.get("savesUnknownDate")+"</em>").appendTo(d),p.append(e("delete",null,L10n.get("savesLabelDelete"),s,function(e){Save.slots.delete(e),f()}))):(c.append(e("save","ui-close",L10n.get("savesLabelSave"),s,Save.slots.save)),d.addClass("empty").text("•  •  •"),p.append(e("delete",null,L10n.get("savesLabelDelete"),s))),jQuery(document.createElement("tr")).append(l).append(c).append(d).append(p).appendTo(r)}return jQuery(document.createElement("table")).attr("id","saves-list").append(r)}()),r||Has.fileAPI){var n=jQuery(document.createElement("ul")).addClass("buttons").appendTo(t);return Has.fileAPI&&(n.append(e("export","ui-close",L10n.get("savesLabelExport"),function(){return Save.export()})),n.append(e("import",null,L10n.get("savesLabelImport"),function(){return t.find("#saves-import-file").trigger("click")})),jQuery(document.createElement("input")).css({display:"block",visibility:"hidden",position:"fixed",left:"-9999px",top:"-9999px",width:"1px",height:"1px"}).attr({type:"file",id:"saves-import-file",tabindex:-1,"aria-hidden":!0}).on("change",function(e){jQuery(document).one(":dialogclosed",function(){return Save.import(e)}),Dialog.close()}).appendTo(t)),r&&n.append(e("clear",null,L10n.get("savesLabelClear"),Save.autosave.has()||!Save.slots.isEmpty()?function(){Save.clear(),f()}:null)),!0}return a(L10n.get("savesIncapable")),!1}function i(){var f=jQuery(Dialog.setup(L10n.get("settingsTitle"),"settings"));return Setting.forEach(function(e){if(e.type===Setting.Types.Header){var t=e.name,r=Util.slugify(t),n=jQuery(document.createElement("div")),a=jQuery(document.createElement("h2"));return n.attr("id","header-body-"+r).append(a).appendTo(f),a.attr("id","header-heading-"+r).wiki(t),void(e.desc&&jQuery(document.createElement("p")).attr("id","header-desc-"+r).wiki(e.desc).appendTo(n))}var i=e.name,o=Util.slugify(i),s=jQuery(document.createElement("div")),u=jQuery(document.createElement("label")),l=jQuery(document.createElement("div")),c=void 0;switch(jQuery(document.createElement("div")).append(u).append(l).appendTo(s),e.desc&&jQuery(document.createElement("p")).attr("id","setting-desc-"+o).wiki(e.desc).appendTo(s),u.attr({id:"setting-label-"+o,for:"setting-control-"+o}).wiki(e.label),null==settings[i]&&(settings[i]=e.default),e.type){case Setting.Types.Toggle:c=jQuery(document.createElement("button")),settings[i]?c.addClass("enabled").text(L10n.get("settingsOn")):c.text(L10n.get("settingsOff")),c.ariaClick(function(){settings[i]?(jQuery(this).removeClass("enabled").text(L10n.get("settingsOff")),settings[i]=!1):(jQuery(this).addClass("enabled").text(L10n.get("settingsOn")),settings[i]=!0),Setting.save(),e.hasOwnProperty("onChange")&&e.onChange.call({name:i,value:settings[i],default:e.default})});break;case Setting.Types.List:c=jQuery(document.createElement("select"));for(var d=0,p=e.list.length;d<p;++d)jQuery(document.createElement("option")).val(d).text(e.list[d]).appendTo(c);c.val(e.list.indexOf(settings[i])).attr("tabindex",0).on("change",function(){settings[i]=e.list[Number(this.value)],Setting.save(),e.hasOwnProperty("onChange")&&e.onChange.call({name:i,value:settings[i],default:e.default,list:e.list})});break;case Setting.Types.Range:(c=jQuery(document.createElement("input"))).attr({type:"range",min:e.min,max:e.max,step:e.step,value:settings[i],tabindex:0}).on("change input",function(){settings[i]=Number(this.value),Setting.save(),e.hasOwnProperty("onChange")&&e.onChange.call({name:i,value:settings[i],default:e.default,min:e.min,max:e.max,step:e.step})}).on("keypress",function(e){13===e.which&&(e.preventDefault(),c.trigger("change"))})}c.attr("id","setting-control-"+o).appendTo(l),s.attr("id","setting-body-"+o).appendTo(f)}),f.append('<ul class="buttons"><li><button id="settings-ok" class="ui-close">'+L10n.get(["settingsOk","ok"])+'</button></li><li><button id="settings-reset">'+L10n.get("settingsReset")+"</button></li></ul>").find("#settings-reset").ariaClick({one:!0},function(){jQuery(document).one(":dialogclosed",function(){Setting.reset(),window.location.reload()}),Dialog.close()}),!0}function o(){try{jQuery(Dialog.setup(L10n.get("shareTitle"),"share list")).append(e("StoryShare"))}catch(e){return console.error(e),Alert.error("StoryShare",e.message),!1}return!0}return Object.freeze(Object.defineProperties({},{assembleLinkList:{value:e},alert:{value:a},jumpto:{value:function(){r(),Dialog.open.apply(Dialog,arguments)}},restart:{value:function(){n(),Dialog.open.apply(Dialog,arguments)}},saves:{value:function(){f(),Dialog.open.apply(Dialog,arguments)}},settings:{value:function(){i(),Dialog.open.apply(Dialog,arguments)}},share:{value:function(){o(),Dialog.open.apply(Dialog,arguments)}},buildAutoload:{value:t},buildJumpto:{value:r},buildRestart:{value:n},buildSaves:{value:f},buildSettings:{value:i},buildShare:{value:o},stow:{value:function(){return UIBar.stow()}},unstow:{value:function(){return UIBar.unstow()}},setStoryElements:{value:function(){return UIBar.update()}},isOpen:{value:function(){return Dialog.isOpen.apply(Dialog,arguments)}},body:{value:function(){return Dialog.body()}},setup:{value:function(){return Dialog.setup.apply(Dialog,arguments)}},addClickHandler:{value:function(){return Dialog.addClickHandler.apply(Dialog,arguments)}},open:{value:function(){return Dialog.open.apply(Dialog,arguments)}},close:{value:function(){return Dialog.close.apply(Dialog,arguments)}},resize:{value:function(){return Dialog.resize()}},buildDialogAutoload:{value:t},buildDialogJumpto:{value:r},buildDialogRestart:{value:n},buildDialogSaves:{value:f},buildDialogSettings:{value:i},buildDialogShare:{value:o},buildLinkListFromPassage:{value:e}}))}(),UIBar=function(){function t(){if(s){setPageElement("story-banner","StoryBanner"),setPageElement("story-subtitle","StorySubtitle"),setPageElement("story-author","StoryAuthor"),setPageElement("story-caption","END-2-4-5");var e=document.getElementById("menu-story");if(null!==e&&(jQuery(e).empty(),Story.has("StoryMenu")))try{UI.assembleLinkList("StoryMenu",e)}catch(e){console.error(e),Alert.error("StoryMenu",e.message)}}}var s=null;return Object.freeze(Object.defineProperties({},{destroy:{value:function(){s&&(s.hide(),jQuery(document).off(".ui-bar"),jQuery(document.head).find("#style-ui-bar").remove(),s.remove(),s=null)}},hide:{value:function(){return s&&s.hide(),this}},init:{value:function(){if(!document.getElementById("ui-bar")){var e=(n=L10n.get("uiBarToggle"),a=L10n.get("uiBarBackward"),i=L10n.get("uiBarJumpto"),o=L10n.get("uiBarForward"),jQuery(document.createDocumentFragment()).append('<div id="ui-bar"><div id="ui-bar-tray"><button id="ui-bar-toggle" tabindex="0" title="'+n+'" aria-label="'+n+'"></button><div id="ui-bar-history"><button id="history-backward" tabindex="0" title="'+a+'" aria-label="'+a+'"></button><button id="history-jumpto" tabindex="0" title="'+i+'" aria-label="'+i+'"></button><button id="history-forward" tabindex="0" title="'+o+'" aria-label="'+o+'"></button></div></div><div id="ui-bar-body"><header id="title" role="banner"><div id="story-banner"></div><h1 id="story-title"></h1><div id="story-subtitle"></div><div id="story-title-separator"></div><p id="story-author"></p></header><div id="story-caption"></div><nav id="menu" role="navigation"><ul id="menu-story"></ul><ul id="menu-core"><li id="menu-item-saves"><a tabindex="0">'+L10n.get("savesTitle")+'</a></li><li id="menu-item-settings"><a tabindex="0">'+L10n.get("settingsTitle")+'</a></li><li id="menu-item-restart"><a tabindex="0">'+L10n.get("restartTitle")+'</a></li><li id="menu-item-share"><a tabindex="0">'+L10n.get("shareTitle")+"</a></li></ul></nav></div></div>"));s=jQuery(e.find("#ui-bar").get(0)),e.insertBefore("body>script#script-sugarcube"),jQuery(document).on(":historyupdate.ui-bar",(t=jQuery("#history-backward"),r=jQuery("#history-forward"),function(){t.ariaDisabled(State.length<2),r.ariaDisabled(State.length===State.size)}))}var t,r,n,a,i,o}},isHidden:{value:function(){return s&&"none"===s.css("display")}},isStowed:{value:function(){return s&&s.hasClass("stowed")}},show:{value:function(){return s&&s.show(),this}},start:{value:function(){var e;s&&(("boolean"==typeof Config.ui.stowBarInitially?Config.ui.stowBarInitially:jQuery(window).width()<=Config.ui.stowBarInitially)&&((e=jQuery(s).add("#story")).addClass("no-transition"),s.addClass("stowed"),setTimeout(function(){return e.removeClass("no-transition")},Engine.minDomActionDelay)),jQuery("#ui-bar-toggle").ariaClick({label:L10n.get("uiBarToggle")},function(){return s.toggleClass("stowed")}),Config.history.controls?(jQuery("#history-backward").ariaDisabled(State.length<2).ariaClick({label:L10n.get("uiBarBackward")},function(){return Engine.backward()}),0<Story.lookup("tags","bookmark").length?jQuery("#history-jumpto").ariaClick({label:L10n.get("uiBarJumpto")},function(){return UI.jumpto()}):jQuery("#history-jumpto").remove(),jQuery("#history-forward").ariaDisabled(State.length===State.size).ariaClick({label:L10n.get("uiBarForward")},function(){return Engine.forward()})):jQuery("#ui-bar-history").remove(),jQuery("#story-title").text(Story.title),Story.has("END-2-4-5")||jQuery("#story-caption").remove(),Story.has("StoryMenu")||jQuery("#menu-story").remove(),Config.ui.updateStoryElements||t(),jQuery("#menu-item-saves a").ariaClick(function(e){e.preventDefault(),UI.buildSaves(),Dialog.open()}).text(L10n.get("savesTitle")),Setting.isEmpty()?jQuery("#menu-item-settings").remove():jQuery("#menu-item-settings a").ariaClick(function(e){e.preventDefault(),UI.buildSettings(),Dialog.open()}).text(L10n.get("settingsTitle")),jQuery("#menu-item-restart a").ariaClick(function(e){e.preventDefault(),UI.buildRestart(),Dialog.open()}).text(L10n.get("restartTitle")),Story.has("StoryShare")?jQuery("#menu-item-share a").ariaClick(function(e){e.preventDefault(),UI.buildShare(),Dialog.open()}).text(L10n.get("shareTitle")):jQuery("#menu-item-share").remove())}},stow:{value:function(e){if(s&&!s.hasClass("stowed")){var t=void 0;e&&((t=jQuery("#story")).addClass("no-transition"),s.addClass("no-transition")),s.addClass("stowed"),e&&setTimeout(function(){t.removeClass("no-transition"),s.removeClass("no-transition")},Engine.minDomActionDelay)}return this}},unstow:{value:function(e){if(s&&s.hasClass("stowed")){var t=void 0;e&&((t=jQuery("#story")).addClass("no-transition"),s.addClass("no-transition")),s.removeClass("stowed"),e&&setTimeout(function(){t.removeClass("no-transition"),s.removeClass("no-transition")},Engine.minDomActionDelay)}return this}},update:{value:t},setStoryElements:{value:t}}))}(),DebugBar=function(){function f(){E.css("right","-"+E.outerWidth()+"px"),v()}function h(){E.css("right",0),v()}function g(e){t.test(e)&&(S.pushUnique(e),S.sort(),b(),w(),v())}function m(){Object.keys(State.__getUpperName__).map(function(e){return S.pushUnique("$"+e)}),Object.keys(State.temporary).map(function(e){return S.pushUnique("_"+e)}),S.sort(),b(),w(),v()}function d(e){S.delete(e),b(),w(),v()}function y(){for(var e=S.length-1;0<=e;--e)S.pop();b(),w(),v()}function v(){session.set("debugState",{stowed:O,watchList:S,watchEnabled:!x.attr("hidden"),viewsEnabled:DebugView.isEnabled()})}function b(){if(0!==S.length){for(var u=L10n.get("debugBarDeleteWatch"),e=jQuery(document.createElement("table")),l=jQuery(document.createElement("tbody")),c=0,t=S.length;c<t;++c)!function(e,t){var r=S[c],n=r.slice(1),a="$"===r[0]?State.__getUpperName__:State.temporary,i=jQuery(document.createElement("tr")),o=jQuery(document.createElement("button")),s=jQuery(document.createElement("code"));o.addClass("watch-delete").attr("data-name",r).ariaClick({one:!0,label:u},function(){return d(r)}),s.text(p(a[n])),jQuery(document.createElement("td")).append(o).appendTo(i),jQuery(document.createElement("td")).text(r).appendTo(i),jQuery(document.createElement("td")).append(s).appendTo(i),i.appendTo(l)}();e.append(l),x.empty().append(e)}else x.empty().append("<div>"+L10n.get("debugBarNoWatches")+"</div>")}function w(){var e=Object.keys(State.__getUpperName__),t=Object.keys(State.temporary);if(0!==e.length||0!==t.length){var r=[].concat(_toConsumableArray(e.map(function(e){return"$"+e})),_toConsumableArray(t.map(function(e){return"_"+e}))).sort(),n=document.createDocumentFragment();r.delete(S);for(var a=0,i=r.length;a<i;++a)jQuery(document.createElement("option")).val(r[a]).appendTo(n);j.empty().append(n)}else j.empty()}function k(){for(var e=State.size,t=State.expired.length,r=document.createDocumentFragment(),n=0;n<e;++n)jQuery(document.createElement("option")).val(n).text(t+n+1+". "+Util.escape(State.history[n].title)).appendTo(r);_.empty().ariaDisabled(e<2).append(r).val(State.activeIndex)}function p(t){if(null===t)return"null";switch(void 0===t?"undefined":_typeof(t)){case"number":if(Number.isNaN(t))return"NaN";if(!Number.isFinite(t))return"Infinity";case"boolean":case"symbol":case"undefined":return String(t);case"string":return JSON.stringify(t);case"function":return"Function"}var e=Util.toStringTag(t);if("Date"===e)return"Date {"+t.toLocaleString()+"}";if("RegExp"===e)return"RegExp "+t.toString();var r=[];if(t instanceof Array||t instanceof Set){for(var n=t instanceof Array?t:Array.from(t),a=0,i=n.length;a<i;++a)r.push(n.hasOwnProperty(a)?p(n[a]):"<empty>");return Object.keys(n).filter(function(e){return!o.test(e)}).forEach(function(e){return r.push(p(e)+": "+p(n[e]))}),e+"("+n.length+") ["+r.join(", ")+"]"}return t instanceof Map?(t.forEach(function(e,t){return r.push(p(t)+" → "+p(e))}),e+"("+t.size+") {"+r.join(", ")+"}"):(Object.keys(t).forEach(function(e){return r.push(p(e)+": "+p(t[e]))}),e+" {"+r.join(", ")+"}")}var t=new RegExp("^"+Patterns.variable+"$"),o=/^\d+$/,S=[],E=null,x=null,j=null,_=null,O=!0;return Object.freeze(Object.defineProperties({},{init:{value:function(){var e=L10n.get("debugBarToggle"),t=L10n.get("debugBarAddWatch"),r=L10n.get("debugBarWatchAll"),n=L10n.get("debugBarWatchNone"),a=L10n.get("debugBarWatchToggle"),i=L10n.get("debugBarViewsToggle");jQuery(document.createDocumentFragment()).append('<div id="debug-bar"><div id="debug-bar-watch" aria-hidden="true" hidden="hidden"><div>'+L10n.get("debugBarNoWatches")+'</div>></div><div><button id="debug-bar-watch-toggle" tabindex="0" title="'+a+'" aria-label="'+a+'">'+L10n.get("debugBarLabelWatch")+'</button><label id="debug-bar-watch-label" for="debug-bar-watch-input">'+L10n.get("debugBarLabelAdd")+'</label><input id="debug-bar-watch-input" name="debug-bar-watch-input" type="text" list="debug-bar-watch-list" tabindex="0"><datalist id="debug-bar-watch-list" aria-hidden="true" hidden="hidden"></datalist><button id="debug-bar-watch-add" tabindex="0" title="'+t+'" aria-label="'+t+'"></button><button id="debug-bar-watch-all" tabindex="0" title="'+r+'" aria-label="'+r+'"></button><button id="debug-bar-watch-none" tabindex="0" title="'+n+'" aria-label="'+n+'"></button></div><div><button id="debug-bar-views-toggle" tabindex="0" title="'+i+'" aria-label="'+i+'">'+L10n.get("debugBarLabelViews")+'</button><label id="debug-bar-turn-label" for="debug-bar-turn-select">'+L10n.get("debugBarLabelTurn")+'</label><select id="debug-bar-turn-select" tabindex="0"></select></div><button id="debug-bar-toggle" tabindex="0" title="'+e+'" aria-label="'+e+'"></button></div><div id="debug-bar-hint"></div>').appendTo("body"),E=jQuery("#debug-bar"),x=jQuery(E.find("#debug-bar-watch").get(0)),j=jQuery(E.find("#debug-bar-watch-list").get(0)),_=jQuery(E.find("#debug-bar-turn-select").get(0));var o=jQuery(E.find("#debug-bar-toggle").get(0)),s=jQuery(E.find("#debug-bar-watch-toggle").get(0)),u=jQuery(E.find("#debug-bar-watch-input").get(0)),l=jQuery(E.find("#debug-bar-watch-add").get(0)),c=jQuery(E.find("#debug-bar-watch-all").get(0)),d=jQuery(E.find("#debug-bar-watch-none").get(0)),p=jQuery(E.find("#debug-bar-views-toggle").get(0));o.ariaClick(function(){O?h():f(),O=!O,v()}),s.ariaClick(function(){x.attr("hidden")?x.removeAttr("aria-hidden hidden"):x.attr({"aria-hidden":!0,hidden:"hidden"}),v()}),u.on(":addwatch",function(){g(this.value.trim()),this.value=""}).on("keypress",function(e){13===e.which&&(e.preventDefault(),u.trigger(":addwatch"))}),l.ariaClick(function(){return u.trigger(":addwatch")}),c.ariaClick(m),d.ariaClick(y),_.on("change",function(){Engine.goTo(Number(this.value))}),p.ariaClick(function(){DebugView.toggle(),v()}),jQuery(document).on(":historyupdate.debug-bar",k).on(":passageend.debug-bar",function(){b(),w()}).on(":enginerestart.debug-bar",function(){session.delete("debugState")})}},start:{value:function(){(function(){if(session.has("debugState")){var e=session.get("debugState");O=e.stowed,S.push.apply(S,_toConsumableArray(e.watchList)),e.watchEnabled?x.removeAttr("aria-hidden hidden"):x.attr({"aria-hidden":!0,hidden:"hidden"}),e.viewsEnabled?DebugView.enable():DebugView.disable()}})(),O?f():h(),k(),b(),w()}},stow:{value:f},unstow:{value:h},watch:{value:g},watchAll:{value:m},unwatch:{value:d},unwatchAll:{value:y}}))}(),LoadScreen=function(){function e(){jQuery(document.documentElement).removeAttr("data-init")}function t(){jQuery(document.documentElement).attr("data-init","loading")}var r=new Set,n=0;return Object.freeze(Object.defineProperties({},{init:{value:function(){jQuery(document).on("readystatechange.SugarCube",function(){0<r.size||("complete"===document.readyState?"loading"===jQuery(document.documentElement).attr("data-init")&&(0<Config.loadDelay?setTimeout(function(){0===r.size&&e()},Math.max(Engine.minDomActionDelay,Config.loadDelay)):e()):t())})}},clear:{value:function(){jQuery(document).off("readystatechange.SugarCube"),r.clear(),e()}},hide:{value:e},show:{value:t},lock:{value:function(){return++n,r.add(n),t(),n}},unlock:{value:function(e){if(null==e)throw new Error("LoadScreen.unlock called with a null or undefined ID");r.has(e)&&r.delete(e),0===r.size&&jQuery(document).trigger("readystatechange")}}}))}(),version=Object.freeze({title:"SugarCube",major:2,minor:29,patch:0,prerelease:null,build:9056,date:new Date("2019-06-27T21:06:22.013Z"),extensions:{},toString:function(){var e=this.prerelease?"-"+this.prerelease:"";return this.major+"."+this.minor+"."+this.patch+e+"+"+this.build},short:function(){var e=this.prerelease?"-"+this.prerelease:"";return this.title+" (v"+this.major+"."+this.minor+"."+this.patch+e+")"},long:function(){return this.title+" v"+this.toString()+" ("+this.date.toUTCString()+")"}}),TempState={},macros={},postdisplay={},postrender={},predisplay={},prehistory={},prerender={},session=null,settings={},setup={},storage=null,browser=Browser,config=Config,has=Has,History=State,state=State,tale=Story,TempVariables=State.temporary,MO,NO,OO,PO,QO,RO,SO,bL;window.SugarCube={},jQuery(function(){try{var e=LoadScreen.lock();LoadScreen.init(),document.normalize&&document.normalize(),Story.load(),storage=SimpleStore.create(Story.domId,!0),session=SimpleStore.create(Story.domId,!1),Dialog.init(),UIBar.init(),Engine.init(),Story.init(),L10n.init(),session.has("rcWarn")||"cookie"!==storage.name||(session.set("rcWarn",1),window.alert(L10n.get("warningNoWebStorage"))),Save.init(),Setting.init(),Macro.init(),Engine.start(),Config.debug&&DebugBar.init();var t=$(window),r=setInterval(function(){t.width()&&(clearInterval(r),setTimeout(function(){UIBar.start(),Config.debug&&DebugBar.start(),LoadScreen.unlock(e)},Engine.minDomActionDelay))},Engine.minDomActionDelay);window.SugarCube={Browser:Browser,Config:Config,Dialog:Dialog,Engine:Engine,Has:Has,L10n:L10n,Macro:Macro,Passage:Passage,Save:Save,Scripting:Scripting,Setting:Setting,SimpleAudio:SimpleAudio,State:State,Story:Story,UI:UI,UIBar:UIBar,DebugBar:DebugBar,Util:Util,Visibility:Visibility,Wikifier:Wikifier,session:session,settings:settings,setup:setup,storage:storage,version:version}}catch(e){return console.error(e),LoadScreen.clear(),Alert.fatal(null,e.message,e)}})}(window,window.document,jQuery)</script>
